/*
    ChickenPaint Be
    https://github.com/satopian/ChickenPaint_Be
    by satopian
    Customized from ChickenPaint by Nicholas Sherlock.
    GNU GENERAL PUBLIC LICENSE
    Version 3, 29 June 2007
    <http://www.gnu.org/licenses/>
*/
/*
    ChickenPaint

    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.

    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/
/*
 Bootstrap v5.3.3 (https://getbootstrap.com/)
 Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 jQuery throttle / debounce - v1.1 - 3/7/2010
 http://benalman.com/projects/jquery-throttle-debounce-plugin/

 Copyright (c) 2010 "Cowboy" Ben Alman
 Dual licensed under the MIT and GPL licenses.
 http://benalman.com/about/license/
 jQuery JavaScript Library v3.7.1
 https://jquery.com/

 Copyright OpenJS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2023-08-28T13:37Z
 PEP v0.4.3 | https://github.com/jquery/PEP
 Copyright jQuery Foundation and other contributors | http://jquery.org/license
 EventEmitter v5.2.9 - git.io/ee
 Unlicense - http://unlicense.org/
 Oliver Caldwell - https://oli.me.uk/
 @preserve
*/
!function(g,L){"object"==typeof exports&&"undefined"!=typeof module?module.exports=L():"function"==typeof define&&define.amd?define(L):(g="undefined"!=typeof globalThis?globalThis:g||self).bootstrap=L()}(this,function(){function g(t,K){return K&&`${K}::${Ab++}`||t.uidEvent||Ab++}function L(t){const K=g(t);return t.uidEvent=K,ob[K]=ob[K]||{},ob[K]}function D(t,K,W=null){return Object.values(t).find(ma=>ma.callable===K&&ma.delegationSelector===W)}function z(t,K,W){const ma="string"==typeof K;K=ma?W:
K||W;W=E(t);return Qa.has(W)||(W=t),[ma,K,W]}function h(t,K,W,ma,m){if("string"==typeof K&&t){var [x,F,M]=z(K,W,ma);K in Pa&&(F=(V=>function(X){if(!X.relatedTarget||X.relatedTarget!==X.delegateTarget&&!X.delegateTarget.contains(X.relatedTarget))return V.call(this,X)})(F));ma=L(t);ma=ma[M]||(ma[M]={});var S=D(ma,F,x?W:null);if(S)return void(S.oneOff=S.oneOff&&m);K=g(F,K.replace(La,""));S=x?function(V,X,la){return function Ga(da){const Ma=V.querySelectorAll(X);for(let {target:Sa}=da;Sa&&Sa!==this;Sa=
Sa.parentNode)for(const gb of Ma)if(gb===Sa)return b(da,{delegateTarget:Sa}),Ga.oneOff&&Ja.off(V,da.type,X,la),la.apply(Sa,[da])}}(t,W,F):function(V,X){return function da(ca){return b(ca,{delegateTarget:V}),da.oneOff&&Ja.off(V,ca.type,X),X.apply(V,[ca])}}(t,F);S.delegationSelector=x?W:null;S.callable=F;S.oneOff=m;S.uidEvent=K;ma[K]=S;t.addEventListener(M,S,x)}}function v(t,K,W,ma,m){(ma=D(K[W],ma,m))&&(t.removeEventListener(W,ma,!!m),delete K[W][ma.uidEvent])}function E(t){return t=t.replace(Ua,""),
Pa[t]||t}function b(t,K={}){for(const [W,ma]of Object.entries(K))try{t[W]=ma}catch(m){Object.defineProperty(t,W,{configurable:!0,get:()=>ma})}return t}function d(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(K){return t}}function w(t){return t.replace(/[A-Z]/g,K=>`-${K.toLowerCase()}`)}function a(t){return t?(t.nodeName||"").toLowerCase():
null}function l(t){return null==t?window:"[object Window]"!==t.toString()?(t=t.ownerDocument)&&t.defaultView||window:t}function q(t){return t instanceof l(t).Element||t instanceof Element}function r(t){return t instanceof l(t).HTMLElement||t instanceof HTMLElement}function k(t){return"undefined"!=typeof ShadowRoot&&(t instanceof l(t).ShadowRoot||t instanceof ShadowRoot)}function c(t){return t.split("-")[0]}function f(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?
t.brands.map(function(K){return K.brand+"/"+K.version}).join(" "):navigator.userAgent}function p(){return!/^((?!chrome|android).)*safari/i.test(f())}function e(t,K,W){void 0===K&&(K=!1);void 0===W&&(W=!1);var ma=t.getBoundingClientRect(),m=1,x=1;K&&r(t)&&(m=0<t.offsetWidth&&ib(ma.width)/t.offsetWidth||1,x=0<t.offsetHeight&&ib(ma.height)/t.offsetHeight||1);t=(q(t)?l(t):window).visualViewport;K=!p()&&W;W=(ma.left+(K&&t?t.offsetLeft:0))/m;t=(ma.top+(K&&t?t.offsetTop:0))/x;m=ma.width/m;ma=ma.height/x;
return{width:m,height:ma,top:t,right:W+m,bottom:t+ma,left:W,x:W,y:t}}function n(t){var K=e(t),W=t.offsetWidth,ma=t.offsetHeight;return 1>=Math.abs(K.width-W)&&(W=K.width),1>=Math.abs(K.height-ma)&&(ma=K.height),{x:t.offsetLeft,y:t.offsetTop,width:W,height:ma}}function u(t,K){var W=K.getRootNode&&K.getRootNode();if(t.contains(K))return!0;if(W&&k(W)){do{if(K&&t.isSameNode(K))return!0;K=K.parentNode||K.host}while(K)}return!1}function A(t){return l(t).getComputedStyle(t)}function C(t){return((q(t)?t.ownerDocument:
t.document)||window.document).documentElement}function B(t){return"html"===a(t)?t:t.assignedSlot||t.parentNode||(k(t)?t.host:null)||C(t)}function I(t){return r(t)&&"fixed"!==A(t).position?t.offsetParent:null}function N(t){for(var K=l(t),W=I(t);W&&0<=["table","td","th"].indexOf(a(W))&&"static"===A(W).position;)W=I(W);if(!W||"html"!==a(W)&&("body"!==a(W)||"static"!==A(W).position)){if(!W)a:{W=/firefox/i.test(f());if(!/Trident/i.test(f())||!r(t)||"fixed"!==A(t).position)for(t=B(t),k(t)&&(t=t.host);r(t)&&
0>["html","body"].indexOf(a(t));){var ma=A(t);if("none"!==ma.transform||"none"!==ma.perspective||"paint"===ma.contain||-1!==["transform","perspective"].indexOf(ma.willChange)||W&&"filter"===ma.willChange||W&&ma.filter&&"none"!==ma.filter){W=t;break a}t=t.parentNode}W=null}K=W||K}return K}function y(t){return 0<=["top","bottom"].indexOf(t)?"x":"y"}function G(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function H(t,K){return K.reduce(function(W,ma){return W[ma]=t,W},{})}function O(t){return t.split("-")[1]}
function J(t){var K,W=t.popper,ma=t.popperRect,m=t.placement,x=t.variation,F=t.offsets,M=t.position,S=t.gpuAcceleration,V=t.adaptive,X=t.roundOffsets,la=t.isFixed;t=F.x;t=void 0===t?0:t;var ca=F.y;ca=void 0===ca?0:ca;ca="function"==typeof X?X({x:t,y:ca}):{x:t,y:ca};t=ca.x;ca=ca.y;var da=F.hasOwnProperty("x");F=F.hasOwnProperty("y");var Ga="left",Ma="top",Sa=window;if(V){var gb=N(W),hb="clientHeight",Bb="clientWidth";gb===l(W)&&"static"!==A(gb=C(W)).position&&"absolute"===M&&(hb="scrollHeight",Bb=
"scrollWidth");("top"===m||("left"===m||"right"===m)&&"end"===x)&&(Ma="bottom",ca-=(la&&gb===Sa&&Sa.visualViewport?Sa.visualViewport.height:gb[hb])-ma.height,ca*=S?1:-1);"left"!==m&&("top"!==m&&"bottom"!==m||"end"!==x)||(Ga="right",t-=(la&&gb===Sa&&Sa.visualViewport?Sa.visualViewport.width:gb[Bb])-ma.width,t*=S?1:-1)}var Cb;ma=Object.assign({position:M},V&&vc);!0===X?(X=t,m=ca,W=l(W).devicePixelRatio||1,W={x:ib(X*W)/W||0,y:ib(m*W)/W||0}):W={x:t,y:ca};return t=W.x,ca=W.y,S?Object.assign({},ma,((Cb=
{})[Ma]=F?"0":"",Cb[Ga]=da?"0":"",Cb.transform=1>=(Sa.devicePixelRatio||1)?"translate("+t+"px, "+ca+"px)":"translate3d("+t+"px, "+ca+"px, 0)",Cb)):Object.assign({},ma,((K={})[Ma]=F?ca+"px":"",K[Ga]=da?t+"px":"",K.transform="",K))}function R(t){return t.replace(/left|right|bottom|top/g,function(K){return fc[K]})}function ea(t){return t.replace(/start|end/g,function(K){return nc[K]})}function Y(t){t=l(t);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function pa(t){return e(C(t)).left+Y(t).scrollLeft}
function ka(t){t=A(t);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function Q(t){return 0<=["html","body","#document"].indexOf(a(t))?t.ownerDocument.body:r(t)&&ka(t)?t:Q(B(t))}function ja(t,K){var W;void 0===K&&(K=[]);var ma=Q(t);t=ma===(null==(W=t.ownerDocument)?void 0:W.body);W=l(ma);ma=t?[W].concat(W.visualViewport||[],ka(ma)?ma:[]):ma;K=K.concat(ma);return t?K:K.concat(ja(B(ma)))}function na(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+
t.height})}function za(t,K,W){return"viewport"===K?na(function(ma,m){var x=l(ma),F=C(ma);x=x.visualViewport;var M=F.clientWidth;F=F.clientHeight;var S=0,V=0;if(x){M=x.width;F=x.height;var X=p();(X||!X&&"fixed"===m)&&(S=x.offsetLeft,V=x.offsetTop)}return{width:M,height:F,x:S+pa(ma),y:V}}(t,W)):q(K)?function(ma,m){m=e(ma,!1,"fixed"===m);return m.top+=ma.clientTop,m.left+=ma.clientLeft,m.bottom=m.top+ma.clientHeight,m.right=m.left+ma.clientWidth,m.width=ma.clientWidth,m.height=ma.clientHeight,m.x=m.left,
m.y=m.top,m}(K,W):na(function(ma){var m,x=C(ma),F=Y(ma),M=null==(m=ma.ownerDocument)?void 0:m.body;m=pb(x.scrollWidth,x.clientWidth,M?M.scrollWidth:0,M?M.clientWidth:0);var S=pb(x.scrollHeight,x.clientHeight,M?M.scrollHeight:0,M?M.clientHeight:0);ma=-F.scrollLeft+pa(ma);F=-F.scrollTop;return"rtl"===A(M||x).direction&&(ma+=pb(x.clientWidth,M?M.clientWidth:0)-m),{width:m,height:S,x:ma,y:F}}(C(t)))}function ia(t){var K=t.reference,W=t.element,ma=(t=t.placement)?c(t):null;t=t?O(t):null;var m=K.x+K.width/
2-W.width/2;var x=K.y+K.height/2-W.height/2;switch(ma){case "top":m={x:m,y:K.y-W.height};break;case "bottom":m={x:m,y:K.y+K.height};break;case "right":m={x:K.x+K.width,y:x};break;case "left":m={x:K.x-W.width,y:x};break;default:m={x:K.x,y:K.y}}ma=ma?y(ma):null;if(null!=ma)switch(x="y"===ma?"height":"width",t){case "start":m[ma]-=K[x]/2-W[x]/2;break;case "end":m[ma]+=K[x]/2-W[x]/2}return m}function va(t,K){void 0===K&&(K={});var W=K;K=W.placement;K=void 0===K?t.placement:K;var ma=W.strategy,m=void 0===
ma?t.strategy:ma;ma=W.boundary;var x=void 0===ma?"clippingParents":ma;ma=W.rootBoundary;var F=void 0===ma?"viewport":ma;ma=W.elementContext;ma=void 0===ma?"popper":ma;var M=W.altBoundary,S=void 0!==M&&M;W=W.padding;W=void 0===W?0:W;W=G("number"!=typeof W?W:H(W,Fb));M=t.rects.popper;S=t.elements[S?"popper"===ma?"reference":"popper":ma];m=function(la,ca,da,Ga){ca="clippingParents"===ca?function(Ma){var Sa=ja(B(Ma)),gb=0<=["absolute","fixed"].indexOf(A(Ma).position)&&r(Ma)?N(Ma):Ma;return q(gb)?Sa.filter(function(hb){return q(hb)&&
u(hb,gb)&&"body"!==a(hb)}):[]}(la):[].concat(ca);da=[].concat(ca,[da]);da=da.reduce(function(Ma,Sa){Sa=za(la,Sa,Ga);return Ma.top=pb(Sa.top,Ma.top),Ma.right=Vb(Sa.right,Ma.right),Ma.bottom=Vb(Sa.bottom,Ma.bottom),Ma.left=pb(Sa.left,Ma.left),Ma},za(la,da[0],Ga));return da.width=da.right-da.left,da.height=da.bottom-da.top,da.x=da.left,da.y=da.top,da}(q(S)?S:S.contextElement||C(t.elements.popper),x,F,m);x=e(t.elements.reference);F=ia({reference:x,element:M,strategy:"absolute",placement:K});F=na(Object.assign({},
M,F));x="popper"===ma?F:x;var V={top:m.top-x.top+W.top,bottom:x.bottom-m.bottom+W.bottom,left:m.left-x.left+W.left,right:x.right-m.right+W.right};t=t.modifiersData.offset;if("popper"===ma&&t){var X=t[K];Object.keys(V).forEach(function(la){var ca=0<=["right","bottom"].indexOf(la)?1:-1,da=0<=["top","bottom"].indexOf(la)?"y":"x";V[la]+=X[da]*ca})}return V}function ta(t,K){void 0===K&&(K={});var W=K.boundary,ma=K.rootBoundary,m=K.padding,x=K.flipVariations,F=K.allowedAutoPlacements,M=void 0===F?Ob:F,
S=O(K.placement);K=S?x?Sb:Sb.filter(function(X){return O(X)===S}):Fb;x=K.filter(function(X){return 0<=M.indexOf(X)});0===x.length&&(x=K);var V=x.reduce(function(X,la){return X[la]=va(t,{placement:la,boundary:W,rootBoundary:ma,padding:m})[c(la)],X},{});return Object.keys(V).sort(function(X,la){return V[X]-V[la]})}function ua(t,K,W){return void 0===W&&(W={x:0,y:0}),{top:t.top-K.height-W.y,right:t.right-K.width+W.x,bottom:t.bottom-K.height+W.y,left:t.left-K.width-W.x}}function Ya(t){return["top","right",
"bottom","left"].some(function(K){return 0<=t[K]})}function Xa(t,K,W){void 0===W&&(W=!1);var ma=r(K),m;if(m=r(K)){var x=K.getBoundingClientRect();m=ib(x.width)/K.offsetWidth||1;x=ib(x.height)/K.offsetHeight||1;m=1!==m||1!==x}x=m;m=C(K);t=e(t,x,W);x={scrollLeft:0,scrollTop:0};var F={x:0,y:0};return(ma||!ma&&!W)&&(("body"!==a(K)||ka(m))&&(x=K!==l(K)&&r(K)?{scrollLeft:K.scrollLeft,scrollTop:K.scrollTop}:Y(K)),r(K)?((F=e(K,!0)).x+=K.clientLeft,F.y+=K.clientTop):m&&(F.x=pa(m))),{x:t.left+x.scrollLeft-
F.x,y:t.top+x.scrollTop-F.y,width:t.width,height:t.height}}function T(t){function K(x){ma.add(x.name);[].concat(x.requires||[],x.requiresIfExists||[]).forEach(function(F){ma.has(F)||(F=W.get(F))&&K(F)});m.push(x)}var W=new Map,ma=new Set,m=[];return t.forEach(function(x){W.set(x.name,x)}),t.forEach(function(x){ma.has(x.name)||K(x)}),m}function Z(){for(var t=arguments.length,K=Array(t),W=0;W<t;W++)K[W]=arguments[W];return!K.some(function(ma){return!(ma&&"function"==typeof ma.getBoundingClientRect)})}
function sa(t){void 0===t&&(t={});var K=t.defaultModifiers,W=void 0===K?[]:K;t=t.defaultOptions;var ma=void 0===t?Cc:t;return function(m,x,F){function M(){la.forEach(function(Ga){return Ga()});la=[]}void 0===F&&(F=ma);var S,V,X={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cc,ma),modifiersData:{},elements:{reference:m,popper:x},attributes:{},styles:{}},la=[],ca=!1,da={state:X,setOptions:function(Ga){Ga="function"==typeof Ga?Ga(X.options):Ga;M();X.options=Object.assign({},ma,X.options,
Ga);X.scrollParents={reference:q(m)?ja(m):m.contextElement?ja(m.contextElement):[],popper:ja(x)};var Ma,Sa;Ga=function(gb){var hb=T(gb);return Tb.reduce(function(Bb,Cb){return Bb.concat(hb.filter(function($b){return $b.phase===Cb}))},[])}((Ma=[].concat(W,X.options.modifiers),Sa=Ma.reduce(function(gb,hb){var Bb=gb[hb.name];return gb[hb.name]=Bb?Object.assign({},Bb,hb,{options:Object.assign({},Bb.options,hb.options),data:Object.assign({},Bb.data,hb.data)}):hb,gb},{}),Object.keys(Sa).map(function(gb){return Sa[gb]})));
return X.orderedModifiers=Ga.filter(function(gb){return gb.enabled}),X.orderedModifiers.forEach(function(gb){var hb=gb.name,Bb=gb.options;Bb=void 0===Bb?{}:Bb;gb=gb.effect;"function"==typeof gb&&(hb=gb({state:X,name:hb,instance:da,options:Bb}),la.push(hb||function(){}))}),da.update()},forceUpdate:function(){if(!ca){var Ga=X.elements,Ma=Ga.reference;Ga=Ga.popper;if(Z(Ma,Ga))for(X.rects={reference:Xa(Ma,N(Ga),"fixed"===X.options.strategy),popper:n(Ga)},X.reset=!1,X.placement=X.options.placement,X.orderedModifiers.forEach(function(hb){return X.modifiersData[hb.name]=
Object.assign({},hb.data)}),Ma=0;Ma<X.orderedModifiers.length;Ma++)if(!0!==X.reset){var Sa=X.orderedModifiers[Ma];Ga=Sa.fn;var gb=Sa.options;gb=void 0===gb?{}:gb;Sa=Sa.name;"function"==typeof Ga&&(X=Ga({state:X,options:gb,name:Sa,instance:da})||X)}else X.reset=!1,Ma=-1}},update:(S=function(){return new Promise(function(Ga){da.forceUpdate();Ga(X)})},function(){return V||=new Promise(function(Ga){Promise.resolve().then(function(){V=void 0;Ga(S())})}),V}),destroy:function(){M();ca=!0}};return Z(m,x)?
(da.setOptions(F).then(function(Ga){!ca&&F.onFirstUpdate&&F.onFirstUpdate(Ga)}),da):da}}const Fa=new Map,Ra={set(t,K,W){Fa.has(t)||Fa.set(t,new Map);t=Fa.get(t);t.has(K)||0===t.size?t.set(K,W):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(t.keys())[0]}.`)},get:(t,K)=>Fa.has(t)&&Fa.get(t).get(K)||null,remove(t,K){if(Fa.has(t)){var W=Fa.get(t);W.delete(K);0===W.size&&Fa.delete(t)}}},wb=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,
(K,W)=>`#${CSS.escape(W)}`)),t),Ib=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),qa=t=>Ib(t)?t.jquery?t[0]:t:"string"==typeof t&&0<t.length?document.querySelector(wb(t)):null,Aa=t=>{if(!Ib(t)||0===t.getClientRects().length)return!1;const K="visible"===getComputedStyle(t).getPropertyValue("visibility"),W=t.closest("details:not([open])");return W?W!==t&&((t=t.closest("summary"))&&t.parentNode!==W||null===t)?!1:K:K},Ea=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||
(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),Ha=t=>document.documentElement.attachShadow?"function"==typeof t.getRootNode?(t=t.getRootNode(),t instanceof ShadowRoot?t:null):t instanceof ShadowRoot?t:t.parentNode?Ha(t.parentNode):null:null,db=()=>{},tb=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,qb=[],Oa=t=>{var K=()=>{const W=tb();if(W){const ma=t.NAME,m=W.fn[ma];W.fn[ma]=t.jQueryInterface;W.fn[ma].Constructor=
t;W.fn[ma].noConflict=()=>(W.fn[ma]=m,t.jQueryInterface)}};"loading"===document.readyState?(qb.length||document.addEventListener("DOMContentLoaded",()=>{for(const W of qb)W()}),qb.push(K)):K()},ra=(t,K=[],W=t)=>"function"==typeof t?t(...K):W,oa=(t,K,W=!0)=>{if(!W)return void ra(t);W=(x=>{if(!x)return 0;let {transitionDuration:F,transitionDelay:M}=window.getComputedStyle(x);x=Number.parseFloat(F);const S=Number.parseFloat(M);return x||S?(F=F.split(",")[0],M=M.split(",")[0],1E3*(Number.parseFloat(F)+
Number.parseFloat(M))):0})(K)+5;let ma=!1;const m=({target:x})=>{x===K&&(ma=!0,K.removeEventListener("transitionend",m),ra(t))};K.addEventListener("transitionend",m);setTimeout(()=>{ma||K.dispatchEvent(new Event("transitionend"))},W)},Da=(t,K,W,ma)=>{const m=t.length;K=t.indexOf(K);return-1===K?!W&&ma?t[m-1]:t[0]:(K+=W?1:-1,ma&&(K=(K+m)%m),t[Math.max(0,Math.min(K,m-1))])},La=/[^.]*(?=\..*)\.|.*/,Ua=/\..*/,lb=/::\d+$/,ob={};let Ab=1;const Pa={mouseenter:"mouseover",mouseleave:"mouseout"},Qa=new Set("click dblclick mouseup mousedown contextmenu mousewheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange touchstart touchmove touchend touchcancel pointerdown pointermove pointerup pointerleave pointercancel gesturestart gesturechange gestureend focus blur change reset select submit focusin focusout load unload beforeunload resize move DOMContentLoaded readystatechange error abort scroll".split(" ")),
Ja={on(t,K,W,ma){h(t,K,W,ma,!1)},one(t,K,W,ma){h(t,K,W,ma,!0)},off(t,K,W,ma){if("string"==typeof K&&t){var [m,x,F]=z(K,W,ma);ma=F!==K;var M=L(t),S=M[F]||{},V=K.startsWith(".");if(void 0===x){if(V)for(var X of Object.keys(M)){W=t;V=M;var la=X,ca=K.slice(1);const da=V[la]||{};for(const [Ga,Ma]of Object.entries(da))Ga.includes(ca)&&v(W,V,la,Ma.callable,Ma.delegationSelector)}for(const [da,Ga]of Object.entries(S))X=da.replace(lb,""),ma&&!K.includes(X)||v(t,M,F,Ga.callable,Ga.delegationSelector)}else Object.keys(S).length&&
v(t,M,F,x,m?W:null)}},trigger(t,K,W){if("string"!=typeof K||!t)return null;const ma=tb();let m=null,x=!0,F=!0,M=!1;K!==E(K)&&ma&&(m=ma.Event(K,W),ma(t).trigger(m),x=!m.isPropagationStopped(),F=!m.isImmediatePropagationStopped(),M=m.isDefaultPrevented());K=b(new Event(K,{bubbles:x,cancelable:!0}),W);return M&&K.preventDefault(),F&&t.dispatchEvent(K),K.defaultPrevented&&m&&m.preventDefault(),K}},sb={setDataAttribute(t,K,W){t.setAttribute(`data-bs-${w(K)}`,W)},removeDataAttribute(t,K){t.removeAttribute(`data-bs-${w(K)}`)},
getDataAttributes(t){if(!t)return{};const K={};var W=Object.keys(t.dataset).filter(ma=>ma.startsWith("bs")&&!ma.startsWith("bsConfig"));for(const ma of W)W=ma.replace(/^bs/,""),W=W.charAt(0).toLowerCase()+W.slice(1,W.length),K[W]=d(t.dataset[ma]);return K},getDataAttribute:(t,K)=>d(t.getAttribute(`data-bs-${w(K)}`))};class ic{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!');}_getConfig(t){return t=
this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,K){const W=Ib(K)?sb.getDataAttribute(K,"config"):{};return{...this.constructor.Default,...("object"==typeof W?W:{}),...(Ib(K)?sb.getDataAttributes(K):{}),...("object"==typeof t?t:{})}}_typeCheckConfig(t,K=this.constructor.DefaultType){for(const [ma,m]of Object.entries(K))if(K=t[ma],K=Ib(K)?"element":null==(W=K)?`${W}`:Object.prototype.toString.call(W).match(/\s([a-z]+)/i)[1].toLowerCase(),
!(new RegExp(m)).test(K))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${ma}" provided type "${K}" but expected type "${m}".`);var W}}class ub extends ic{constructor(t,K){super();(t=qa(t))&&(this._element=t,this._config=this._getConfig(K),Ra.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ra.remove(this._element,this.constructor.DATA_KEY);Ja.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,
K,W=!0){oa(t,K,W)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Ra.get(qa(t),this.DATA_KEY)}static getOrCreateInstance(t,K={}){return this.getInstance(t)||new this(t,"object"==typeof K?K:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const P=t=>{let K=t.getAttribute("data-bs-target");
if(!K||"#"===K){t=t.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`);K=t&&"#"!==t?t.trim():null}return K?K.split(",").map(W=>wb(W)).join(","):null},kb={find:(t,K=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(K,t)),findOne:(t,K=document.documentElement)=>Element.prototype.querySelector.call(K,t),children:(t,K)=>[].concat(...t.children).filter(W=>W.matches(K)),parents(t,K){const W=
[];for(t=t.parentNode.closest(K);t;)W.push(t),t=t.parentNode.closest(K);return W},prev(t,K){for(t=t.previousElementSibling;t;){if(t.matches(K))return[t];t=t.previousElementSibling}return[]},next(t,K){for(t=t.nextElementSibling;t;){if(t.matches(K))return[t];t=t.nextElementSibling}return[]},focusableChildren(t){const K='a button input textarea select details [tabindex] [contenteditable="true"]'.split(" ").map(W=>`${W}:not([tabindex^="-"])`).join(",");return this.find(K,t).filter(W=>!Ea(W)&&Aa(W))},
getSelectorFromElement(t){return(t=P(t))&&kb.findOne(t)?t:null},getElementFromSelector(t){return(t=P(t))?kb.findOne(t):null},getMultipleElementsFromSelector(t){return(t=P(t))?kb.find(t):[]}},qc=(t,K="hide")=>{const W=t.NAME;Ja.on(document,`click.dismiss${t.EVENT_KEY}`,`[data-bs-dismiss="${W}"]`,function(ma){(["A","AREA"].includes(this.tagName)&&ma.preventDefault(),Ea(this))||(ma=kb.getElementFromSelector(this)||this.closest(`.${W}`),t.getOrCreateInstance(ma)[K]())})};class jc extends ub{static get NAME(){return"alert"}close(){if(!Ja.trigger(this._element,
"close.bs.alert").defaultPrevented){this._element.classList.remove("show");var t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}}_destroyElement(){this._element.remove();Ja.trigger(this._element,"closed.bs.alert");this.dispose()}static jQueryInterface(t){return this.each(function(){const K=jc.getOrCreateInstance(this);if("string"==typeof t){if(void 0===K[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);
K[t](this)}})}}qc(jc,"close");Oa(jc);class Qb extends ub{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const K=Qb.getOrCreateInstance(this);"toggle"===t&&K[t]()})}}Ja.on(document,"click.bs.button.data-api",'[data-bs-toggle="button"]',t=>{t.preventDefault();t=t.target.closest('[data-bs-toggle="button"]');Qb.getOrCreateInstance(t).toggle()});Oa(Qb);const eb={endCallback:null,
leftCallback:null,rightCallback:null},bc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Va extends ic{constructor(t,K){super();(this._element=t)&&Va.isSupported()&&(this._config=this._getConfig(K),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return eb}static get DefaultType(){return bc}static get NAME(){return"swipe"}dispose(){Ja.off(this._element,".bs.swipe")}_start(t){this._supportPointerEvents?
this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX);this._handleSwipe();ra(this._config.endCallback)}_move(t){this._deltaX=t.touches&&1<t.touches.length?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){var t=Math.abs(this._deltaX);40>=t||(t/=this._deltaX,this._deltaX=0,t&&ra(0<t?this._config.rightCallback:this._config.leftCallback))}_initEvents(){this._supportPointerEvents?(Ja.on(this._element,
"pointerdown.bs.swipe",t=>this._start(t)),Ja.on(this._element,"pointerup.bs.swipe",t=>this._end(t)),this._element.classList.add("pointer-event")):(Ja.on(this._element,"touchstart.bs.swipe",t=>this._start(t)),Ja.on(this._element,"touchmove.bs.swipe",t=>this._move(t)),Ja.on(this._element,"touchend.bs.swipe",t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||
0<navigator.maxTouchPoints}}const rb={ArrowLeft:"right",ArrowRight:"left"},Hb={interval:5E3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},cc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Mb extends ub{constructor(t,K){super(t,K);this._activeElement=this._interval=null;this._isSliding=!1;this._swipeHelper=this.touchTimeout=null;this._indicatorsElement=kb.findOne(".carousel-indicators",this._element);this._addEventListeners();
"carousel"===this._config.ride&&this.cycle()}static get Default(){return Hb}static get DefaultType(){return cc}static get NAME(){return"carousel"}next(){this._slide("next")}nextWhenVisible(){!document.hidden&&Aa(this._element)&&this.next()}prev(){this._slide("prev")}pause(){this._isSliding&&this._element.dispatchEvent(new Event("transitionend"));this._clearInterval()}cycle(){this._clearInterval();this._updateInterval();this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&
(this._isSliding?Ja.one(this._element,"slid.bs.carousel",()=>this.cycle()):this.cycle())}to(t){const K=this._getItems();if(!(t>K.length-1||0>t)){if(this._isSliding)return void Ja.one(this._element,"slid.bs.carousel",()=>this.to(t));var W=this._getItemIndex(this._getActive());W!==t&&this._slide(t>W?"next":"prev",K[t])}}dispose(){this._swipeHelper&&this._swipeHelper.dispose();super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Ja.on(this._element,
"keydown.bs.carousel",t=>this._keydown(t));"hover"===this._config.pause&&(Ja.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),Ja.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle()));this._config.touch&&Va.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of kb.find(".carousel-item img",this._element))Ja.on(t,"dragstart.bs.carousel",K=>K.preventDefault());this._swipeHelper=new Va(this._element,{leftCallback:()=>this._slide(this._directionToOrder("left")),
rightCallback:()=>this._slide(this._directionToOrder("right")),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(!/input|textarea/i.test(t.target.tagName)){var K=rb[t.key];K&&(t.preventDefault(),this._slide(this._directionToOrder(K)))}}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(this._indicatorsElement){var K=
kb.findOne(".active",this._indicatorsElement);K.classList.remove("active");K.removeAttribute("aria-current");(t=kb.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement))&&(t.classList.add("active"),t.setAttribute("aria-current","true"))}}_updateInterval(){var t=this._activeElement||this._getActive();t&&(t=Number.parseInt(t.getAttribute("data-bs-interval"),10),this._config.interval=t||this._config.defaultInterval)}_slide(t,K=null){if(!this._isSliding){var W=this._getActive(),ma="next"===t,m=
K||Da(this._getItems(),W,ma,this._config.wrap);if(m!==W){var x=this._getItemIndex(m),F=V=>Ja.trigger(this._element,V,{relatedTarget:m,direction:this._orderToDirection(t),from:this._getItemIndex(W),to:x});if(!F("slide.bs.carousel").defaultPrevented&&W&&m){K=!!this._interval;this.pause();this._isSliding=!0;this._setActiveIndicatorElement(x);this._activeElement=m;var M=ma?"carousel-item-start":"carousel-item-end",S=ma?"carousel-item-next":"carousel-item-prev";m.classList.add(S);m.offsetHeight;W.classList.add(M);
m.classList.add(M);this._queueCallback(()=>{m.classList.remove(M,S);m.classList.add("active");W.classList.remove("active",S,M);this._isSliding=!1;F("slid.bs.carousel")},W,this._isAnimated());K&&this.cycle()}}}}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return kb.findOne(".active.carousel-item",this._element)}_getItems(){return kb.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return"rtl"===
document.documentElement.dir?"left"===t?"prev":"next":"left"===t?"next":"prev"}_orderToDirection(t){return"rtl"===document.documentElement.dir?"prev"===t?"left":"right":"prev"===t?"right":"left"}static jQueryInterface(t){return this.each(function(){const K=Mb.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===K[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);K[t]()}}else K.to(t)})}}Ja.on(document,"click.bs.carousel.data-api",
"[data-bs-slide], [data-bs-slide-to]",function(t){var K=kb.getElementFromSelector(this);if(K&&K.classList.contains("carousel"))return t.preventDefault(),t=Mb.getOrCreateInstance(K),(K=this.getAttribute("data-bs-slide-to"))?(t.to(K),void t._maybeEnableCycle()):"next"===sb.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())});Ja.on(window,"load.bs.carousel.data-api",()=>{const t=kb.find('[data-bs-ride="carousel"]');for(const K of t)Mb.getOrCreateInstance(K)});
Oa(Mb);const tc={parent:null,toggle:!0},rc={parent:"(null|element)",toggle:"boolean"};class wc extends ub{constructor(t,K){super(t,K);this._isTransitioning=!1;this._triggerArray=[];t=kb.find('[data-bs-toggle="collapse"]');for(const W of t)t=kb.getSelectorFromElement(W),K=kb.find(t).filter(ma=>ma===this._element),null!==t&&K.length&&this._triggerArray.push(W);this._initializeChildren();this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown());this._config.toggle&&this.toggle()}static get Default(){return tc}static get DefaultType(){return rc}static get NAME(){return"collapse"}toggle(){this._isShown()?
this.hide():this.show()}show(){if(!this._isTransitioning&&!this._isShown()){var t=[];if((this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(W=>W!==this._element).map(W=>wc.getOrCreateInstance(W,{toggle:!1}))),!t.length||!t[0]._isTransitioning)&&!Ja.trigger(this._element,"show.bs.collapse").defaultPrevented){for(const W of t)W.hide();var K=this._getDimension();this._element.classList.remove("collapse");this._element.classList.add("collapsing");this._element.style[K]=
0;this._addAriaAndCollapsedClass(this._triggerArray,!0);this._isTransitioning=!0;t=`scroll${K[0].toUpperCase()+K.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1;this._element.classList.remove("collapsing");this._element.classList.add("collapse","show");this._element.style[K]="";Ja.trigger(this._element,"shown.bs.collapse")},this._element,!0);this._element.style[K]=`${this._element[t]}px`}}}hide(){if(!this._isTransitioning&&this._isShown()&&!Ja.trigger(this._element,"hide.bs.collapse").defaultPrevented){var t=
this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`;this._element.offsetHeight;this._element.classList.add("collapsing");this._element.classList.remove("collapse","show");for(const K of this._triggerArray){const W=kb.getElementFromSelector(K);W&&!this._isShown(W)&&this._addAriaAndCollapsedClass([K],!1)}this._isTransitioning=!0;this._element.style[t]="";this._queueCallback(()=>{this._isTransitioning=!1;this._element.classList.remove("collapsing");this._element.classList.add("collapse");
Ja.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}}_isShown(t=this._element){return t.classList.contains("show")}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=qa(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent){var t=this._getFirstLevelChildren('[data-bs-toggle="collapse"]');for(const K of t)(t=kb.getElementFromSelector(K))&&this._addAriaAndCollapsedClass([K],this._isShown(t))}}_getFirstLevelChildren(t){const K=
kb.find(":scope .collapse .collapse",this._config.parent);return kb.find(t,this._config.parent).filter(W=>!K.includes(W))}_addAriaAndCollapsedClass(t,K){if(t.length)for(const W of t)W.classList.toggle("collapsed",!K),W.setAttribute("aria-expanded",K)}static jQueryInterface(t){const K={};return"string"==typeof t&&/show|hide/.test(t)&&(K.toggle=!1),this.each(function(){const W=wc.getOrCreateInstance(this,K);if("string"==typeof t){if(void 0===W[t])throw new TypeError(`No method named "${t}"`);W[t]()}})}}
Ja.on(document,"click.bs.collapse.data-api",'[data-bs-toggle="collapse"]',function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const K of kb.getMultipleElementsFromSelector(this))wc.getOrCreateInstance(K,{toggle:!1}).toggle()});Oa(wc);var Fb=["top","bottom","right","left"],Sb=Fb.reduce(function(t,K){return t.concat([K+"-start",K+"-end"])},[]),Ob=[].concat(Fb,["auto"]).reduce(function(t,K){return t.concat([K,K+"-start",K+"-end"])},[]),Tb="beforeRead read afterRead beforeMain main afterMain beforeWrite write afterWrite".split(" ");
const Rb={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var K=t.state;Object.keys(K.elements).forEach(function(W){var ma=K.styles[W]||{},m=K.attributes[W]||{},x=K.elements[W];r(x)&&a(x)&&(Object.assign(x.style,ma),Object.keys(m).forEach(function(F){var M=m[F];!1===M?x.removeAttribute(F):x.setAttribute(F,!0===M?"":M)}))})},effect:function(t){var K=t.state,W={popper:{position:K.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(K.elements.popper.style,
W.popper),K.styles=W,K.elements.arrow&&Object.assign(K.elements.arrow.style,W.arrow),function(){Object.keys(K.elements).forEach(function(ma){var m=K.elements[ma],x=K.attributes[ma]||{};ma=Object.keys(K.styles.hasOwnProperty(ma)?K.styles[ma]:W[ma]).reduce(function(F,M){return F[M]="",F},{});r(m)&&a(m)&&(Object.assign(m.style,ma),Object.keys(x).forEach(function(F){m.removeAttribute(F)}))})}},requires:["computeStyles"]};var pb=Math.max,Vb=Math.min,ib=Math.round;const ac={name:"arrow",enabled:!0,phase:"main",
fn:function(t){var K,W=t.state,ma=t.name,m=t.options,x=W.elements.arrow,F=W.modifiersData.popperOffsets,M=c(W.placement);t=y(M);M=0<=["left","right"].indexOf(M)?"height":"width";if(x&&F){var S=m.padding;m=G("number"!=typeof(S="function"==typeof S?S(Object.assign({},W.rects,{placement:W.placement})):S)?S:H(S,Fb));S=n(x);var V="y"===t?"top":"left",X="y"===t?"bottom":"right",la=W.rects.reference[M]+W.rects.reference[t]-F[t]-W.rects.popper[M];F=F[t]-W.rects.reference[t];x=(x=N(x))?"y"===t?x.clientHeight||
0:x.clientWidth||0:0;F=x/2-S[M]/2+(la/2-F/2);M=pb(m[V],Vb(F,x-S[M]-m[X]));W.modifiersData[ma]=((K={})[t]=M,K.centerOffset=M-F,K)}},effect:function(t){var K=t.state;t=t.options.element;t=void 0===t?"[data-popper-arrow]":t;null!=t&&("string"!=typeof t||(t=K.elements.popper.querySelector(t)))&&u(K.elements.popper,t)&&(K.elements.arrow=t)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};var vc={top:"auto",right:"auto",bottom:"auto",left:"auto"};const kc={name:"computeStyles",enabled:!0,
phase:"beforeWrite",fn:function(t){var K=t.state,W=t.options;t=W.gpuAcceleration;t=void 0===t||t;var ma=W.adaptive;ma=void 0===ma||ma;W=W.roundOffsets;W=void 0===W||W;t={placement:c(K.placement),variation:O(K.placement),popper:K.elements.popper,popperRect:K.rects.popper,gpuAcceleration:t,isFixed:"fixed"===K.options.strategy};null!=K.modifiersData.popperOffsets&&(K.styles.popper=Object.assign({},K.styles.popper,J(Object.assign({},t,{offsets:K.modifiersData.popperOffsets,position:K.options.strategy,
adaptive:ma,roundOffsets:W}))));null!=K.modifiersData.arrow&&(K.styles.arrow=Object.assign({},K.styles.arrow,J(Object.assign({},t,{offsets:K.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:W}))));K.attributes.popper=Object.assign({},K.attributes.popper,{"data-popper-placement":K.placement})},data:{}};var lc={passive:!0};const gc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var K=t.state,W=t.instance;t=t.options;var ma=t.scroll,m=void 0===ma||
ma;t=t.resize;var x=void 0===t||t,F=l(K.elements.popper),M=[].concat(K.scrollParents.reference,K.scrollParents.popper);return m&&M.forEach(function(S){S.addEventListener("scroll",W.update,lc)}),x&&F.addEventListener("resize",W.update,lc),function(){m&&M.forEach(function(S){S.removeEventListener("scroll",W.update,lc)});x&&F.removeEventListener("resize",W.update,lc)}},data:{}};var fc={left:"right",right:"left",bottom:"top",top:"bottom"},nc={start:"end",end:"start"};const xc={name:"flip",enabled:!0,
phase:"main",fn:function(t){var K=t.state,W=t.options;t=t.name;if(!K.modifiersData[t]._skip){var ma=W.mainAxis;ma=void 0===ma||ma;var m=W.altAxis;m=void 0===m||m;var x=W.fallbackPlacements,F=W.padding,M=W.boundary,S=W.rootBoundary,V=W.altBoundary,X=W.flipVariations,la=void 0===X||X,ca=W.allowedAutoPlacements;W=K.options.placement;X=c(W);x=x||(X!==W&&la?function(Kb){if("auto"===c(Kb))return[];var Ub=R(Kb);return[ea(Kb),Ub,ea(Ub)]}(W):[R(W)]);var da=[W].concat(x).reduce(function(Kb,Ub){return Kb.concat("auto"===
c(Ub)?ta(K,{placement:Ub,boundary:M,rootBoundary:S,padding:F,flipVariations:la,allowedAutoPlacements:ca}):Ub)},[]);W=K.rects.reference;x=K.rects.popper;var Ga=new Map;X=!0;for(var Ma=da[0],Sa=0;Sa<da.length;Sa++){var gb=da[Sa],hb=c(gb),Bb="start"===O(gb),Cb=0<=["top","bottom"].indexOf(hb),$b=Cb?"width":"height",yb=va(K,{placement:gb,boundary:M,rootBoundary:S,altBoundary:V,padding:F});Bb=Cb?Bb?"right":"left":Bb?"bottom":"top";W[$b]>x[$b]&&(Bb=R(Bb));$b=R(Bb);Cb=[];if(ma&&Cb.push(0>=yb[hb]),m&&Cb.push(0>=
yb[Bb],0>=yb[$b]),Cb.every(function(Kb){return Kb})){Ma=gb;X=!1;break}Ga.set(gb,Cb)}if(X)for(ma=function(Kb){var Ub=da.find(function(xb){if(xb=Ga.get(xb))return xb.slice(0,Kb).every(function(Wb){return Wb})});if(Ub)return Ma=Ub,"break"},m=la?3:1;0<m&&"break"!==ma(m);m--);K.placement!==Ma&&(K.modifiersData[t]._skip=!0,K.placement=Ma,K.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Mc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var K=t.state;t=
t.name;var W=K.rects.reference,ma=K.rects.popper,m=K.modifiersData.preventOverflow,x=va(K,{elementContext:"reference"}),F=va(K,{altBoundary:!0});W=ua(x,W);ma=ua(F,ma,m);m=Ya(W);F=Ya(ma);K.modifiersData[t]={referenceClippingOffsets:W,popperEscapeOffsets:ma,isReferenceHidden:m,hasPopperEscaped:F};K.attributes.popper=Object.assign({},K.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":F})}},yc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var K=
t.state,W=t.name;t=t.options.offset;var ma=void 0===t?[0,0]:t;t=Ob.reduce(function(F,M){var S=K.rects,V=c(M),X=0<=["left","top"].indexOf(V)?-1:1;var la="function"==typeof ma?ma(Object.assign({},S,{placement:M})):ma;S=la[0];var ca=la[1];la=(S=S||0,ca=(ca||0)*X,0<=["left","right"].indexOf(V)?{x:ca,y:S}:{x:S,y:ca});return F[M]=la,F},{});var m=t[K.placement],x=m.x;m=m.y;null!=K.modifiersData.popperOffsets&&(K.modifiersData.popperOffsets.x+=x,K.modifiersData.popperOffsets.y+=m);K.modifiersData[W]=t}},
Dc={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var K=t.state;K.modifiersData[t.name]=ia({reference:K.rects.reference,element:K.rects.popper,strategy:"absolute",placement:K.placement})},data:{}},zc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var K=t.state,W=t.options;t=t.name;var ma=W.mainAxis,m=void 0===ma||ma;ma=W.altAxis;var x=void 0!==ma&&ma;ma=W.tether;var F=void 0===ma||ma;ma=W.tetherOffset;var M=void 0===ma?0:ma,S=va(K,{boundary:W.boundary,rootBoundary:W.rootBoundary,
padding:W.padding,altBoundary:W.altBoundary}),V=c(K.placement),X=O(K.placement),la=!X,ca=y(V);W="x"===ca?"y":"x";ma=K.modifiersData.popperOffsets;var da=K.rects.reference,Ga=K.rects.popper;M="function"==typeof M?M(Object.assign({},K.rects,{placement:K.placement})):M;var Ma="number"==typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),Sa=K.modifiersData.offset?K.modifiersData.offset[K.placement]:null;M={x:0,y:0};if(ma){if(m){var gb,hb="y"===ca?"top":"left",Bb="y"===ca?"bottom":
"right",Cb="y"===ca?"height":"width";m=ma[ca];var $b=m+S[hb],yb=m-S[Bb],Kb=F?-Ga[Cb]/2:0,Ub="start"===X?da[Cb]:Ga[Cb];X="start"===X?-Ga[Cb]:-da[Cb];var xb=K.elements.arrow;xb=F&&xb?n(xb):{width:0,height:0};var Wb=K.modifiersData["arrow#persistent"]?K.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0};hb=Wb[hb];Bb=Wb[Bb];xb=pb(0,Vb(da[Cb],xb[Cb]));Ub=la?da[Cb]/2-Kb-xb-hb-Ma.mainAxis:Ub-xb-hb-Ma.mainAxis;la=la?-da[Cb]/2+Kb+xb+Bb+Ma.mainAxis:X+xb+Bb+Ma.mainAxis;Cb=(Cb=K.elements.arrow&&
N(K.elements.arrow))?"y"===ca?Cb.clientTop||0:Cb.clientLeft||0:0;Kb=null!=(gb=null==Sa?void 0:Sa[ca])?gb:0;gb=m+la-Kb;$b=F?Vb($b,m+Ub-Kb-Cb):$b;gb=F?pb(yb,gb):yb;gb=pb($b,Vb(m,gb));ma[ca]=gb;M[ca]=gb-m}if(x){var Zb;x=ma[W];m="y"===W?"height":"width";gb=x+S["x"===ca?"top":"left"];S=x-S["x"===ca?"bottom":"right"];V=-1!==["top","left"].indexOf(V);ca=null!=(Zb=null==Sa?void 0:Sa[W])?Zb:0;Zb=V?gb:x-da[m]-Ga[m]-ca+Ma.altAxis;da=V?x+da[m]+Ga[m]-ca-Ma.altAxis:S;F&&V?(Zb=pb(Zb,Vb(x,da)),Zb=Zb>da?da:Zb):Zb=
pb(F?Zb:gb,Vb(x,F?da:S));ma[W]=Zb;M[W]=Zb-x}K.modifiersData[t]=M}},requiresIfExists:["offset"]};var Cc={placement:"bottom",modifiers:[],strategy:"absolute"},aa=sa(),Ba=sa({defaultModifiers:[gc,Dc,kc,Rb]}),Na=sa({defaultModifiers:[gc,Dc,kc,Rb,yc,xc,zc,ac,Mc]});const ab=Object.freeze(Object.defineProperty({__proto__:null,afterMain:"afterMain",afterRead:"afterRead",afterWrite:"afterWrite",applyStyles:Rb,arrow:ac,auto:"auto",basePlacements:Fb,beforeMain:"beforeMain",beforeRead:"beforeRead",beforeWrite:"beforeWrite",
bottom:"bottom",clippingParents:"clippingParents",computeStyles:kc,createPopper:Na,createPopperBase:aa,createPopperLite:Ba,detectOverflow:va,end:"end",eventListeners:gc,flip:xc,hide:Mc,left:"left",main:"main",modifierPhases:Tb,offset:yc,placements:Ob,popper:"popper",popperGenerator:sa,popperOffsets:Dc,preventOverflow:zc,read:"read",reference:"reference",right:"right",start:"start",top:"top",variationPlacements:Sb,viewport:"viewport",write:"write"},Symbol.toStringTag,{value:"Module"})),mb="rtl"===
document.documentElement.dir?"top-end":"top-start",U="rtl"===document.documentElement.dir?"top-start":"top-end",ha="rtl"===document.documentElement.dir?"bottom-end":"bottom-start",Ca="rtl"===document.documentElement.dir?"bottom-start":"bottom-end",ba="rtl"===document.documentElement.dir?"left-start":"right-start",wa="rtl"===document.documentElement.dir?"right-start":"left-start",Ia={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Wa={autoClose:"(boolean|string)",
boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ka extends ub{constructor(t,K){super(t,K);this._popper=null;this._parent=this._element.parentNode;this._menu=kb.next(this._element,".dropdown-menu")[0]||kb.prev(this._element,".dropdown-menu")[0]||kb.findOne(".dropdown-menu",this._parent);this._inNavbar=this._detectNavbar()}static get Default(){return Ia}static get DefaultType(){return Wa}static get NAME(){return"dropdown"}toggle(){return this._isShown()?
this.hide():this.show()}show(){if(!Ea(this._element)&&!this._isShown()){var t={relatedTarget:this._element};if(!Ja.trigger(this._element,"show.bs.dropdown",t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const K of[].concat(...document.body.children))Ja.on(K,"mouseover",db);this._element.focus();this._element.setAttribute("aria-expanded",!0);this._menu.classList.add("show");this._element.classList.add("show");Ja.trigger(this._element,
"shown.bs.dropdown",t)}}}hide(){!Ea(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy();super.dispose()}update(){this._inNavbar=this._detectNavbar();this._popper&&this._popper.update()}_completeHide(t){if(!Ja.trigger(this._element,"hide.bs.dropdown",t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const K of[].concat(...document.body.children))Ja.off(K,"mouseover",db);this._popper&&this._popper.destroy();
this._menu.classList.remove("show");this._element.classList.remove("show");this._element.setAttribute("aria-expanded","false");sb.removeDataAttribute(this._menu,"popper");Ja.trigger(this._element,"hidden.bs.dropdown",t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Ib(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError('DROPDOWN: Option "reference" provided type "object" without a required "getBoundingClientRect" method.');return t}_createPopper(){if(void 0===
ab)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Ib(this._config.reference)?t=qa(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const K=this._getPopperConfig();this._popper=Na(t,this._menu,K)}_isShown(){return this._menu.classList.contains("show")}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return ba;if(t.classList.contains("dropstart"))return wa;
if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const K="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?K?U:mb:K?Ca:ha}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const {offset:t}=this._config;return"string"==typeof t?t.split(",").map(K=>Number.parseInt(K,10)):"function"==typeof t?K=>t(K,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),
modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(sb.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...ra(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:K}){const W=kb.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(ma=>Aa(ma));W.length&&Da(W,K,"ArrowDown"===
t,!W.includes(K)).focus()}static jQueryInterface(t){return this.each(function(){const K=Ka.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===K[t])throw new TypeError(`No method named "${t}"`);K[t]()}})}static clearMenus(t){if(2!==t.button&&("keyup"!==t.type||"Tab"===t.key)){var K=kb.find('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled).show');for(const ma of K){K=Ka.getInstance(ma);if(!K||!1===K._config.autoClose)continue;var W=t.composedPath();const m=W.includes(K._menu);W.includes(K._element)||
"inside"===K._config.autoClose&&!m||"outside"===K._config.autoClose&&m||K._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName))||(W={relatedTarget:K._element},"click"===t.type&&(W.clickEvent=t),K._completeHide(W))}}}static dataApiKeydownHandler(t){var K=/input|textarea/i.test(t.target.tagName),W="Escape"===t.key;const ma=["ArrowUp","ArrowDown"].includes(t.key);if(ma||W)if(!K||W){t.preventDefault();K=this.matches('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')?
this:kb.prev(this,'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')[0]||kb.next(this,'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)')[0]||kb.findOne('[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',t.delegateTarget.parentNode);W=Ka.getOrCreateInstance(K);if(ma)return t.stopPropagation(),W.show(),void W._selectMenuItem(t);W._isShown()&&(t.stopPropagation(),W.hide(),K.focus())}}}Ja.on(document,"keydown.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',
Ka.dataApiKeydownHandler);Ja.on(document,"keydown.bs.dropdown.data-api",".dropdown-menu",Ka.dataApiKeydownHandler);Ja.on(document,"click.bs.dropdown.data-api",Ka.clearMenus);Ja.on(document,"keyup.bs.dropdown.data-api",Ka.clearMenus);Ja.on(document,"click.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',function(t){t.preventDefault();Ka.getOrCreateInstance(this).toggle()});Oa(Ka);const $a={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},
bb={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class jb extends ic{constructor(t){super();this._config=this._getConfig(t);this._isAppended=!1;this._element=null}static get Default(){return $a}static get DefaultType(){return bb}static get NAME(){return"backdrop"}show(t){if(!this._config.isVisible)return void ra(t);this._append();const K=this._getElement();this._config.isAnimated&&K.offsetHeight;K.classList.add("show");
this._emulateAnimation(()=>{ra(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose();ra(t)})):ra(t)}dispose(){this._isAppended&&(Ja.off(this._element,"mousedown.bs.backdrop"),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className;this._config.isAnimated&&t.classList.add("fade");this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=
qa(t.rootElement),t}_append(){if(!this._isAppended){var t=this._getElement();this._config.rootElement.append(t);Ja.on(t,"mousedown.bs.backdrop",()=>{ra(this._config.clickCallback)});this._isAppended=!0}}_emulateAnimation(t){oa(t,this._getElement(),this._config.isAnimated)}}const Lb={autofocus:!0,trapElement:null},Db={autofocus:"boolean",trapElement:"element"};class Nb extends ic{constructor(t){super();this._config=this._getConfig(t);this._isActive=!1;this._lastTabNavDirection=null}static get Default(){return Lb}static get DefaultType(){return Db}static get NAME(){return"focustrap"}activate(){this._isActive||
(this._config.autofocus&&this._config.trapElement.focus(),Ja.off(document,".bs.focustrap"),Ja.on(document,"focusin.bs.focustrap",t=>this._handleFocusin(t)),Ja.on(document,"keydown.tab.bs.focustrap",t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ja.off(document,".bs.focustrap"))}_handleFocusin(t){const {trapElement:K}=this._config;t.target===document||t.target===K||K.contains(t.target)||(t=kb.focusableChildren(K),0===t.length?K.focus():"backward"===this._lastTabNavDirection?
t[t.length-1].focus():t[0].focus())}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?"backward":"forward")}}class oc{constructor(){this._element=document.body}getWidth(){return Math.abs(window.innerWidth-document.documentElement.clientWidth)}hide(){const t=this.getWidth();this._disableOverFlow();this._setElementAttributes(this._element,"padding-right",K=>K+t);this._setElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","padding-right",K=>K+t);this._setElementAttributes(".sticky-top",
"margin-right",K=>K-t)}reset(){this._resetElementAttributes(this._element,"overflow");this._resetElementAttributes(this._element,"padding-right");this._resetElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","padding-right");this._resetElementAttributes(".sticky-top","margin-right")}isOverflowing(){return 0<this.getWidth()}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow");this._element.style.overflow="hidden"}_setElementAttributes(t,K,W){const ma=this.getWidth();
this._applyManipulationCallback(t,m=>{if(!(m!==this._element&&window.innerWidth>m.clientWidth+ma)){this._saveInitialAttribute(m,K);var x=window.getComputedStyle(m).getPropertyValue(K);m.style.setProperty(K,`${W(Number.parseFloat(x))}px`)}})}_saveInitialAttribute(t,K){const W=t.style.getPropertyValue(K);W&&sb.setDataAttribute(t,K,W)}_resetElementAttributes(t,K){this._applyManipulationCallback(t,W=>{const ma=sb.getDataAttribute(W,K);null!==ma?(sb.removeDataAttribute(W,K),W.style.setProperty(K,ma)):
W.style.removeProperty(K)})}_applyManipulationCallback(t,K){if(Ib(t))K(t);else for(const W of kb.find(t,this._element))K(W)}}const dd={backdrop:!0,focus:!0,keyboard:!0},ed={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ac extends ub{constructor(t,K){super(t,K);this._dialog=kb.findOne(".modal-dialog",this._element);this._backdrop=this._initializeBackDrop();this._focustrap=this._initializeFocusTrap();this._isTransitioning=this._isShown=!1;this._scrollBar=new oc;this._addEventListeners()}static get Default(){return dd}static get DefaultType(){return ed}static get NAME(){return"modal"}toggle(t){return this._isShown?
this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Ja.trigger(this._element,"show.bs.modal",{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add("modal-open"),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){this._isShown&&!this._isTransitioning&&(Ja.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),
this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Ja.off(window,".bs.modal");Ja.off(this._dialog,".bs.modal");this._backdrop.dispose();this._focustrap.deactivate();super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new jb({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Nb({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||
document.body.append(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.setAttribute("aria-modal",!0);this._element.setAttribute("role","dialog");this._element.scrollTop=0;const K=kb.findOne(".modal-body",this._dialog);K&&(K.scrollTop=0);this._element.offsetHeight;this._element.classList.add("show");this._queueCallback(()=>{this._config.focus&&this._focustrap.activate();this._isTransitioning=!1;Ja.trigger(this._element,"shown.bs.modal",{relatedTarget:t})},
this._dialog,this._isAnimated())}_addEventListeners(){Ja.on(this._element,"keydown.dismiss.bs.modal",t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())});Ja.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()});Ja.on(this._element,"mousedown.dismiss.bs.modal",t=>{Ja.one(this._element,"click.dismiss.bs.modal",K=>{this._element===t.target&&this._element===K.target&&("static"!==this._config.backdrop?this._config.backdrop&&
this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");this._isTransitioning=!1;this._backdrop.hide(()=>{document.body.classList.remove("modal-open");this._resetAdjustments();this._scrollBar.reset();Ja.trigger(this._element,"hidden.bs.modal")})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(!Ja.trigger(this._element,
"hidePrevented.bs.modal").defaultPrevented){var t=this._element.scrollHeight>document.documentElement.clientHeight,K=this._element.style.overflowY;"hidden"===K||this._element.classList.contains("modal-static")||(t||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static"),this._queueCallback(()=>{this._element.classList.remove("modal-static");this._queueCallback(()=>{this._element.style.overflowY=K},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){const t=
this._element.scrollHeight>document.documentElement.clientHeight,K=this._scrollBar.getWidth(),W=0<K;W&&!t&&(this._element.style["rtl"===document.documentElement.dir?"paddingLeft":"paddingRight"]=`${K}px`);!W&&t&&(this._element.style["rtl"===document.documentElement.dir?"paddingRight":"paddingLeft"]=`${K}px`)}_resetAdjustments(){this._element.style.paddingLeft="";this._element.style.paddingRight=""}static jQueryInterface(t,K){return this.each(function(){const W=Ac.getOrCreateInstance(this,t);if("string"==
typeof t){if(void 0===W[t])throw new TypeError(`No method named "${t}"`);W[t](K)}})}}Ja.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(t){const K=kb.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault();Ja.one(K,"show.bs.modal",W=>{W.defaultPrevented||Ja.one(K,"hidden.bs.modal",()=>{Aa(this)&&this.focus()})});(t=kb.findOne(".modal.show"))&&Ac.getInstance(t).hide();Ac.getOrCreateInstance(K).toggle(this)});qc(Ac);Oa(Ac);const fd={backdrop:!0,
keyboard:!0,scroll:!1},gd={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Gc extends ub{constructor(t,K){super(t,K);this._isShown=!1;this._backdrop=this._initializeBackDrop();this._focustrap=this._initializeFocusTrap();this._addEventListeners()}static get Default(){return fd}static get DefaultType(){return gd}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||Ja.trigger(this._element,"show.bs.offcanvas",{relatedTarget:t}).defaultPrevented||
(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new oc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("showing"),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate();this._element.classList.add("show");this._element.classList.remove("showing");Ja.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&(Ja.trigger(this._element,
"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding");this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");this._config.scroll||(new oc).reset();Ja.trigger(this._element,"hidden.bs.offcanvas")},this._element,!0)))}dispose(){this._backdrop.dispose();this._focustrap.deactivate();super.dispose()}_initializeBackDrop(){const t=
!!this._config.backdrop;return new jb({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():Ja.trigger(this._element,"hidePrevented.bs.offcanvas")}:null})}_initializeFocusTrap(){return new Nb({trapElement:this._element})}_addEventListeners(){Ja.on(this._element,"keydown.dismiss.bs.offcanvas",t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():Ja.trigger(this._element,"hidePrevented.bs.offcanvas"))})}static jQueryInterface(t){return this.each(function(){const K=
Gc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===K[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);K[t](this)}})}}Ja.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(t){const K=kb.getElementFromSelector(this);(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ea(this))||(Ja.one(K,"hidden.bs.offcanvas",()=>{Aa(this)&&this.focus()}),(t=kb.findOne(".offcanvas.show"))&&t!==K&&Gc.getInstance(t).hide(),Gc.getOrCreateInstance(K).toggle(this))});
Ja.on(window,"load.bs.offcanvas.data-api",()=>{for(const t of kb.find(".offcanvas.show"))Gc.getOrCreateInstance(t).show()});Ja.on(window,"resize.bs.offcanvas",()=>{for(const t of kb.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&Gc.getOrCreateInstance(t).hide()});qc(Gc);Oa(Gc);const Vc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],
h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:"src srcset alt title width height".split(" "),li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Oc=new Set("background cite href itemtype longdesc poster src xlink:href".split(" ")),Wc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Sc=(t,K)=>{const W=t.nodeName.toLowerCase();return K.includes(W)?!Oc.has(W)||!!Wc.test(t.nodeValue):K.filter(ma=>ma instanceof RegExp).some(ma=>ma.test(W))},Xc={allowList:Vc,content:{},extraClass:"",
html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},hd={entry:"(string|element|function|null)",selector:"(string|element)"};class Zc extends ic{constructor(t){super();this._config=this._getConfig(t)}static get Default(){return Xc}static get DefaultType(){return Yc}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>
this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return 0<this.getContent().length}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){var t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const [W,ma]of Object.entries(this._config.content))this._setContent(t,ma,W);t=t.children[0];const K=this._resolvePossibleFunction(this._config.extraClass);return K&&t.classList.add(...K.split(" ")),
t}_typeCheckConfig(t){super._typeCheckConfig(t);this._checkContent(t.content)}_checkContent(t){for(const [K,W]of Object.entries(t))super._typeCheckConfig({selector:K,entry:W},hd)}_setContent(t,K,W){(t=kb.findOne(W,t))&&((K=this._resolvePossibleFunction(K))?Ib(K)?this._putElementInTemplate(qa(K),t):this._config.html?t.innerHTML=this._maybeSanitize(K):t.textContent=K:t.remove())}_maybeSanitize(t){if(this._config.sanitize){var K=this._config.allowList;var W=this._config.sanitizeFn;if(t.length)if(W&&
"function"==typeof W)K=W(t);else{t=(new window.DOMParser).parseFromString(t,"text/html");W=[].concat(...t.body.querySelectorAll("*"));for(const m of W){var ma=m.nodeName.toLowerCase();if(Object.keys(K).includes(ma)){W=[].concat(...m.attributes);ma=[].concat(K["*"]||[],K[ma]||[]);for(const x of W)Sc(x,ma)||m.removeAttribute(x.nodeName)}else m.remove()}K=t.body.innerHTML}else K=t}else K=t;return K}_resolvePossibleFunction(t){return ra(t,[this])}_putElementInTemplate(t,K){if(this._config.html)return K.innerHTML=
"",void K.append(t);K.textContent=t.textContent}}const id=new Set(["sanitize","allowList","sanitizeFn"]),jd={AUTO:"auto",TOP:"top",RIGHT:"rtl"===document.documentElement.dir?"left":"right",BOTTOM:"bottom",LEFT:"rtl"===document.documentElement.dir?"right":"left"},kd={allowList:Vc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,
template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ld={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",
selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Nc extends ub{constructor(t,K){if(void 0===ab)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,K);this._isEnabled=!0;this._timeout=0;this._isHovered=null;this._activeTrigger={};this.tip=this._newContent=this._templateFactory=this._popper=null;this._setListeners();this._config.selector||this._fixTitle()}static get Default(){return kd}static get DefaultType(){return ld}static get NAME(){return"tooltip"}enable(){this._isEnabled=
!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout);Ja.off(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler);this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title"));this._disposePopper();super.dispose()}show(){if("none"===
this._element.style.display)throw Error("Please use show on visible elements");if(this._isWithContent()&&this._isEnabled){var t=Ja.trigger(this._element,this.constructor.eventName("show")),K=(Ha(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(!t.defaultPrevented&&K){this._disposePopper();t=this._getTipElement();this._element.setAttribute("aria-describedby",t.getAttribute("id"));({container:K}=this._config);if(this._element.ownerDocument.documentElement.contains(this.tip)||
(K.append(t),Ja.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(t),t.classList.add("show"),"ontouchstart"in document.documentElement)for(const W of[].concat(...document.body.children))Ja.on(W,"mouseover",db);this._queueCallback(()=>{Ja.trigger(this._element,this.constructor.eventName("shown"));!1===this._isHovered&&this._leave();this._isHovered=!1},this.tip,this._isAnimated())}}}hide(){if(this._isShown()&&!Ja.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove("show"),
"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))Ja.off(t,"mouseover",db);this._activeTrigger.click=!1;this._activeTrigger.focus=!1;this._activeTrigger.hover=!1;this._isHovered=null;this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ja.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||
(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){t=this._getTemplateFactory(t).toHtml();if(!t)return null;t.classList.remove("fade","show");t.classList.add(`bs-${this.constructor.NAME}-auto`);var K=this.constructor.NAME;do K+=Math.floor(1E6*Math.random());while(document.getElementById(K));return t.setAttribute("id",K.toString()),this._isAnimated()&&t.classList.add("fade"),t}setContent(t){this._newContent=t;this._isShown()&&(this._disposePopper(),
this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Zc({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,
this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains("fade")}_isShown(){return this.tip&&this.tip.classList.contains("show")}_createPopper(t){var K=ra(this._config.placement,[this,t,this._element]);K=jd[K.toUpperCase()];return Na(this._element,t,this._getPopperConfig(K))}_getOffset(){const {offset:t}=this._config;return"string"==typeof t?t.split(",").map(K=>Number.parseInt(K,10)):"function"==typeof t?K=>t(K,this._element):t}_resolvePossibleFunction(t){return ra(t,
[this._element])}_getPopperConfig(t){t={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:K=>{this._getTipElement().setAttribute("data-popper-placement",K.state.placement)}}]};return{...t,...ra(this._config.popperConfig,
[t])}}_setListeners(){var t=this._config.trigger.split(" ");for(const K of t)if("click"===K)Ja.on(this._element,this.constructor.eventName("click"),this._config.selector,W=>{this._initializeOnDelegatedTarget(W).toggle()});else if("manual"!==K){t="hover"===K?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin");const W="hover"===K?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Ja.on(this._element,t,this._config.selector,ma=>{const m=this._initializeOnDelegatedTarget(ma);
m._activeTrigger["focusin"===ma.type?"focus":"hover"]=!0;m._enter()});Ja.on(this._element,W,this._config.selector,ma=>{const m=this._initializeOnDelegatedTarget(ma);m._activeTrigger["focusout"===ma.type?"focus":"hover"]=m._element.contains(ma.relatedTarget);m._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()};Ja.on(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||
this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,K){clearTimeout(this._timeout);
this._timeout=setTimeout(t,K)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const K=sb.getDataAttributes(this._element);for(const W of Object.keys(K))id.has(W)&&delete K[W];return t={...K,...("object"==typeof t&&t?t:{})},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:qa(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==
typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const [K,W]of Object.entries(this._config))this.constructor.Default[K]!==W&&(t[K]=W);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null);this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const K=Nc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===
K[t])throw new TypeError(`No method named "${t}"`);K[t]()}})}}Oa(Nc);const md={...Nc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},nd={...Nc.DefaultType,content:"(null|string|element|function)"};class Tc extends Nc{static get Default(){return md}static get DefaultType(){return nd}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||
this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const K=Tc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===K[t])throw new TypeError(`No method named "${t}"`);K[t]()}})}}Oa(Tc);const $c={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Uc={offset:"(number|null)",
rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Pc extends ub{constructor(t,K){super(t,K);this._targetLinks=new Map;this._observableSections=new Map;this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element;this._observer=this._activeTarget=null;this._previousScrollData={visibleEntryTop:0,parentScrollTop:0};this.refresh()}static get Default(){return $c}static get DefaultType(){return Uc}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables();
this._maybeEnableSmoothScroll();this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect();super.dispose()}_configAfterMerge(t){return t.target=qa(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(K=>Number.parseFloat(K))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&
(Ja.off(this._config.target,"click.bs.scrollspy"),Ja.on(this._config.target,"click.bs.scrollspy","[href]",t=>{var K=this._observableSections.get(t.target.hash);if(K){t.preventDefault();t=this._rootElement||window;K=K.offsetTop-this._element.offsetTop;if(t.scrollTo)return void t.scrollTo({top:K,behavior:"smooth"});t.scrollTop=K}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const K=
x=>this._targetLinks.get(`#${x.target.id}`),W=x=>{this._previousScrollData.visibleEntryTop=x.target.offsetTop;this._process(K(x))},ma=(this._rootElement||document.documentElement).scrollTop,m=ma>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=ma;for(const x of t)if(x.isIntersecting)if(t=x.target.offsetTop>=this._previousScrollData.visibleEntryTop,m&&t){if(W(x),!ma)break}else m||t||W(x);else this._activeTarget=null,this._clearActiveClass(K(x))}_initializeTargetsAndObservables(){this._targetLinks=
new Map;this._observableSections=new Map;var t=kb.find("[href]",this._config.target);for(const K of t)K.hash&&!Ea(K)&&(t=kb.findOne(decodeURI(K.hash),this._element),Aa(t)&&(this._targetLinks.set(decodeURI(K.hash),K),this._observableSections.set(K.hash,t)))}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add("active"),this._activateParents(t),Ja.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))kb.findOne(".dropdown-toggle",
t.closest(".dropdown")).classList.add("active");else for(const K of kb.parents(t,".nav, .list-group"))for(const W of kb.prev(K,".nav-link, .nav-item > .nav-link, .list-group-item"))W.classList.add("active")}_clearActiveClass(t){t.classList.remove("active");t=kb.find("[href].active",t);for(const K of t)K.classList.remove("active")}static jQueryInterface(t){return this.each(function(){const K=Pc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===K[t]||t.startsWith("_")||"constructor"===
t)throw new TypeError(`No method named "${t}"`);K[t]()}})}}Ja.on(window,"load.bs.scrollspy.data-api",()=>{for(const t of kb.find('[data-bs-spy="scroll"]'))Pc.getOrCreateInstance(t)});Oa(Pc);class Hc extends ub{constructor(t){super(t);(this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'))&&(this._setInitialAttributes(this._parent,this._getChildren()),Ja.on(this._element,"keydown.bs.tab",K=>this._keydown(K)))}static get NAME(){return"tab"}show(){const t=this._element;if(!this._elemIsActive(t)){var K=
this._getActiveElem(),W=K?Ja.trigger(K,"hide.bs.tab",{relatedTarget:t}):null;Ja.trigger(t,"show.bs.tab",{relatedTarget:K}).defaultPrevented||W&&W.defaultPrevented||(this._deactivate(K,t),this._activate(t,K))}}_activate(t,K){t&&(t.classList.add("active"),this._activate(kb.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Ja.trigger(t,"shown.bs.tab",{relatedTarget:K})):t.classList.add("show")},
t,t.classList.contains("fade")))}_deactivate(t,K){t&&(t.classList.remove("active"),t.blur(),this._deactivate(kb.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Ja.trigger(t,"hidden.bs.tab",{relatedTarget:K})):t.classList.remove("show")},t,t.classList.contains("fade")))}_keydown(t){if("ArrowLeft ArrowRight ArrowUp ArrowDown Home End".split(" ").includes(t.key)){t.stopPropagation();
t.preventDefault();var K=this._getChildren().filter(W=>!Ea(W));if(["Home","End"].includes(t.key))t=K["Home"===t.key?0:K.length-1];else{const W=["ArrowRight","ArrowDown"].includes(t.key);t=Da(K,t.target,W,!0)}t&&(t.focus({preventScroll:!0}),Hc.getOrCreateInstance(t).show())}}_getChildren(){return kb.find('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',this._parent)}_getActiveElem(){return this._getChildren().find(t=>
this._elemIsActive(t))||null}_setInitialAttributes(t,K){this._setAttributeIfNotExists(t,"role","tablist");for(const W of K)this._setInitialAttributesOnChild(W)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const K=this._elemIsActive(t),W=this._getOuterElement(t);t.setAttribute("aria-selected",K);W!==t&&this._setAttributeIfNotExists(W,"role","presentation");K||t.setAttribute("tabindex","-1");this._setAttributeIfNotExists(t,"role","tab");this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const K=
kb.getElementFromSelector(t);K&&(this._setAttributeIfNotExists(K,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(K,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,K){t=this._getOuterElement(t);if(t.classList.contains("dropdown")){var W=kb.findOne(".dropdown-toggle",t);W&&W.classList.toggle("active",K);(W=kb.findOne(".dropdown-menu",t))&&W.classList.toggle("show",K);t.setAttribute("aria-expanded",K)}}_setAttributeIfNotExists(t,K,W){t.hasAttribute(K)||t.setAttribute(K,W)}_elemIsActive(t){return t.classList.contains("active")}_getInnerElement(t){return t.matches('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]')?
t:kb.findOne('.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), [data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const K=Hc.getOrCreateInstance(this);if("string"==typeof t){if(void 0===K[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);K[t]()}})}}Ja.on(document,
"click.bs.tab",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault();Ea(this)||Hc.getOrCreateInstance(this).show()});Ja.on(window,"load.bs.tab",()=>{for(const t of kb.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Hc.getOrCreateInstance(t)});Oa(Hc);const od={animation:"boolean",autohide:"boolean",delay:"number"},Qc={animation:!0,autohide:!0,delay:5E3};class Rc extends ub{constructor(t,
K){super(t,K);this._timeout=null;this._hasKeyboardInteraction=this._hasMouseInteraction=!1;this._setListeners()}static get Default(){return Qc}static get DefaultType(){return od}static get NAME(){return"toast"}show(){Ja.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.offsetHeight,this._element.classList.add("show","showing"),this._queueCallback(()=>{this._element.classList.remove("showing");
Ja.trigger(this._element,"shown.bs.toast");this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Ja.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add("showing"),this._queueCallback(()=>{this._element.classList.add("hide");this._element.classList.remove("showing","show");Ja.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout();this.isShown()&&this._element.classList.remove("show");
super.dispose()}isShown(){return this._element.classList.contains("show")}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,K){switch(t.type){case "mouseover":case "mouseout":this._hasMouseInteraction=K;break;case "focusin":case "focusout":this._hasKeyboardInteraction=K}if(K)return void this._clearTimeout();t=t.relatedTarget;this._element===t||this._element.contains(t)||
this._maybeScheduleHide()}_setListeners(){Ja.on(this._element,"mouseover.bs.toast",t=>this._onInteraction(t,!0));Ja.on(this._element,"mouseout.bs.toast",t=>this._onInteraction(t,!1));Ja.on(this._element,"focusin.bs.toast",t=>this._onInteraction(t,!0));Ja.on(this._element,"focusout.bs.toast",t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout);this._timeout=null}static jQueryInterface(t){return this.each(function(){const K=Rc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===
K[t])throw new TypeError(`No method named "${t}"`);K[t](this)}})}}return qc(Rc),Oa(Rc),{Alert:jc,Button:Qb,Carousel:Mb,Collapse:wc,Dropdown:Ka,Modal:Ac,Offcanvas:Gc,Popover:Tc,ScrollSpy:Pc,Tab:Hc,Toast:Rc,Tooltip:Nc}});
(function(g){"object"===typeof exports&&"undefined"!==typeof module?module.exports=g():"function"===typeof define&&define.amd?define([],g):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).ChickenPaint=g()})(function(){return function(){function g(L,D,z){function h(b,d){if(!D[b]){if(!L[b]){var w="function"==typeof require&&require;if(!d&&w)return w(b,!0);if(v)return v(b,!0);d=Error("Cannot find module '"+b+"'");throw d.code="MODULE_NOT_FOUND",
d;}d=D[b]={exports:{}};L[b][0].call(d.exports,function(a){return h(L[b][1][a]||a)},d,d.exports,g,L,D,z)}return D[b].exports}for(var v="function"==typeof require&&require,E=0;E<z.length;E++)h(z[E]);return h}return g}()({1:[function(g,L,D){function z(O){return O&&O.__esModule?O:{default:O}}function h(O){"@babel/helpers - typeof";return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==
Symbol.prototype?"symbol":typeof J},h(O)}function v(){if(!((0,C.isCanvasSupported)()&&"Uint8Array"in window))throw new b.UnsupportedBrowserException;var O=(-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("iPod")||-1!=navigator.userAgent.indexOf("iPhone"))&&-1!=navigator.userAgent.indexOf(" OS 8_0 "),J=-1==navigator.userAgent.indexOf("CriOS")&&-1!=navigator.userAgent.indexOf("Safari");if(O&&J)throw new b.UnsupportedBrowserException("You are using Safari 8.0.0, which is unable to upload drawings. That bug was fixed in the iOS 8.0.2 update, or in Chrome for iOS.");
return!0}function E(){var O=Array(b.T_MAX);O[b.T_PENCIL]=new w.default({toolNb:b.T_PENCIL,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_OPACITY});O[b.T_ERASER]=new w.default({toolNb:b.T_ERASER,size:16,alpha:255,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!1,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_ERASE,paintMode:w.default.PAINT_MODE_OPACITY});
O[b.T_PEN]=new w.default({toolNb:b.T_PEN,size:2,alpha:128,isAA:!0,minSpacing:.5,spacing:.05,pressureSize:!0,pressureAlpha:!1,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.5});O[b.T_SOFTERASER]=new w.default({toolNb:b.T_SOFTERASER,size:16,alpha:64,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_ERASE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});
O[b.T_AIRBRUSH]=new w.default({toolNb:b.T_AIRBRUSH,size:50,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_PAINT,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});O[b.T_DODGE]=new w.default({toolNb:b.T_DODGE,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_DODGE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});
O[b.T_BURN]=new w.default({toolNb:b.T_BURN,size:30,alpha:32,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_BURN,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});O[b.T_WATER]=new w.default({toolNb:b.T_WATER,size:30,alpha:70,isAA:!1,minSpacing:.5,spacing:.02,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AA,brushMode:w.default.BRUSH_MODE_WATER,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,resat:.3,
bleed:.6});O[b.T_BLUR]=new w.default({toolNb:b.T_BLUR,size:20,alpha:255,isAA:!1,minSpacing:.5,spacing:.05,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_PIXEL,brushMode:w.default.BRUSH_MODE_BLUR,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125});O[b.T_SMUDGE]=new w.default({toolNb:b.T_SMUDGE,size:20,alpha:128,isAA:!1,minSpacing:.5,spacing:.01,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_SMUDGE,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,
resat:0,bleed:1});O[b.T_BLENDER]=new w.default({toolNb:b.T_BLENDER,size:20,alpha:60,isAA:!1,minSpacing:.5,spacing:.1,pressureSize:!1,pressureAlpha:!0,tip:w.default.TIP_ROUND_AIRBRUSH,brushMode:w.default.BRUSH_MODE_OIL,paintMode:w.default.PAINT_MODE_FLOW,alphaScale:.125,resat:0,bleed:.07});return O}function b(O){function J(ra){this.palName=ra}function R(ra){this.toolNum=ra}function ea(ra){this.modeNum=ra}function Y(ra){sa=ra==a.default.EDITING_MODE_IMAGE?b.COLOR_MODE_RGB:b.COLOR_MODE_GREYSCALE;ua.emitEvent("colorModeChange",
[ra==a.default.EDITING_MODE_IMAGE?"rgb":"greyscale"]);switch(sa){case b.COLOR_MODE_RGB:var oa=T.clone();break;case b.COLOR_MODE_GREYSCALE:oa=new B.default(B.default.greyToRGB(Z))}ua.artwork.setForegroundColor(oa.getRgb());ua.emitEvent("colorChange",[oa])}function pa(){ua.emitEvent("toolChange",[Fa,Ea[Fa]])}function ka(ra){Ra!=ra&&(ra==b.M_TRANSFORM&&(wb=Ra),Ra=ra,ua.emitEvent("modeChange",[Ra]))}function Q(ra){ka(b.M_DRAW);Fa=ra;ua.artwork.setBrush(Ea[ra]);pa()}function ja(){var ra=new q.default({artwork:ua.getArtwork(),
rotation:Ya.getRotation90(),swatches:Xa.getSwatches()});ra.on("savingComplete",function(){ua.artwork.setHasUnsavedChanges(!1)});ra.on("savingFailure",function(){alert((0,G._)("Sorry, your drawing could not be saved, please try again later."))});ra.save()}function na(){if(ua.isActionSupported("CPContinue")||confirm((0,G._)("Are you sure you want to send your drawing to the server and finish drawing now?"))){var ra=new q.default({artwork:ua.getArtwork(),rotation:Ya.getRotation90(),swatches:Xa.getSwatches(),
url:O.saveUrl}),oa=new A.default(ua,ta,ra);ra.on("savingComplete",function(){ua.artwork.setHasUnsavedChanges(!1);!ua.isActionSupported("CPContinue")&&ua.isActionSupported("CPPost")&&ua.actionPerformed({action:"CPPost"})});ra.on("savingFailure",function(){alert((0,G._)("Sorry, your drawing could not be saved, please try again later."))});oa.on("shown",function(){ra.save()});oa.show()}}function za(){if((0,C.isEventSupported)("onbeforeunload"))window.addEventListener("beforeunload",function(ra){if(ua.artwork.getHasUnsavedChanges())return ra.preventDefault(),
"Your drawing has unsaved changes!"});else(0,d.default)("a").on("click",function(ra){if("#"!=this.getAttribute("href")&&ua.artwork.getHasUnsavedChanges())return confirm("Your drawing has unsaved changes! Are you sure to want to navigate away?")})}function ia(ra,oa){ta&&(ta.addEventListener("dblclick",function(Da){Da.preventDefault();Da.stopPropagation()}),ua.artwork.on("editModeChanged",Y),Xa=new k.default(ua,ta),ua.emitEvent("fullScreen",[Aa]),ua.emitEvent("smallScreen",[qa]),Ha.load(),Q(b.T_PEN),
Xa.arrangePalettes(),ra&&Xa.setSwatches(ra),oa&&Xa.setRotation90(oa),I.default.getRef().detectTablet(),za(),ua.artwork.on("unsavedChanges",function(Da){O.allowMultipleSends&&ua.emitEvent("unsavedChanges",[Da])}))}var va=this;(0,G.guessLanguage)();O.language&&(0,G.setLanguage)(O.language);var ta=O.uiElem;document.addEventListener("keydown",function(ra){var oa="+;=-shro".split("");((ra.ctrlKey||ra.metaKey)&&oa.includes(ra.key.toLowerCase())||"Enter"===ra.key)&&ra.preventDefault()});ta.addEventListener("contextmenu",
function(ra){ra.preventDefault();ra.stopPropagation()},{passive:!1});var ua=this,Ya,Xa,T=new B.default(0),Z=255,sa=b.COLOR_MODE_RGB,Fa=b.T_PENCIL,Ra=b.M_DRAW,wb=Ra,Ib=[4278190080,4294967295],qa=!1,Aa=!1,Ea=E(),Ha=new H.default,db,tb,qb={CPFullScreen:{action:function(){ua.setFullScreen(!Aa)},isSupported:function(){return!("disable"===O.fullScreenMode||"force"===O.fullScreenMode||!1===O.allowFullScreen)},modifies:{gui:!0}},CPZoomIn:{action:function(){Ya.zoomIn()},modifies:{gui:!0}},CPZoomOut:{action:function(){Ya.zoomOut()},
modifies:{gui:!0}},CPZoom100:{action:function(){Ya.zoom100()},modifies:{gui:!0}},CPToolbarStyle:{action:function(){ua.setToolbarStyle("new"===Ha.toolbarStyle?"old":"new")},modifies:{gui:!0}},CPUndo:{action:function(){ua.artwork.undo()},modifies:{document:!0},allowed:"isUndoAllowed"},CPRedo:{action:function(){ua.artwork.redo()},modifies:{document:!0},allowed:"isRedoAllowed"},CPClearHistory:{action:function(){confirm((0,G._)("You're about to clear the current Undo/Redo history.\nThis operation cannot be undone, are you sure you want to do that?"))&&
ua.artwork.clearHistory()},modifies:{document:!0}},CPPencil:new R(b.T_PENCIL),CPPen:new R(b.T_PEN),CPEraser:new R(b.T_ERASER),CPSoftEraser:new R(b.T_SOFTERASER),CPAirbrush:new R(b.T_AIRBRUSH),CPDodge:new R(b.T_DODGE),CPBurn:new R(b.T_BURN),CPWater:new R(b.T_WATER),CPBlur:new R(b.T_BLUR),CPSmudge:new R(b.T_SMUDGE),CPBlender:new R(b.T_BLENDER),CPFloodFill:new ea(b.M_FLOODFILL),CPGradientFill:new ea(b.M_GRADIENTFILL),CPRectSelection:new ea(b.M_RECT_SELECTION),CPMoveTool:new ea(b.M_MOVE_TOOL),CPRotateCanvas:new ea(b.M_ROTATE_CANVAS),
CPPanCanvas:new ea(b.M_PAN_CANVAS),CPColorPicker:new ea(b.M_COLOR_PICKER),CPTransform:{action:function(){var ra=ua.artwork.getActiveLayer();null==ua.artwork.transformAffineBegin()?ua.showLayerNotification(ra,(0,G._)("Whoops! All of the selected pixels are transparent!"),"layer"):ka(b.M_TRANSFORM)},modifies:{mode:!0},allowed:function(){var ra=ua.artwork.getActiveLayer();if(ra.visible)if(0==ra.alpha)ua.showLayerNotification(ra,(0,G._)("Whoops! This layer's opacity is currently 0%"),"opacity");else if(null==
ua.artwork.transformAffineBegin())ua.showLayerNotification(ra,(0,G._)("Whoops! All of the selected pixels are transparent!"),"layer");else return 0!=ra.getEffectiveAlpha();else ua.showLayerNotification(ra,(0,G._)("Whoops! This layer is currently hidden"),"layer")}},CPTransformAccept:{action:function(){Ra==b.M_TRANSFORM&&(ua.artwork.transformAffineFinish(),ka(wb))},modifies:{mode:!0}},CPTransformReject:{action:function(){Ra==b.M_TRANSFORM&&(ua.artwork.transformAffineAbort(),ka(wb))},modifies:{document:!0,
mode:!0}},CPFreeHand:{action:function(){Ea[Fa].strokeMode=w.default.STROKE_MODE_FREEHAND;pa()},modifies:{tool:!0}},CPLine:{action:function(){Ea[Fa].strokeMode=w.default.STROKE_MODE_LINE;pa()},modifies:{tool:!0}},CPBezier:{action:function(){Ea[Fa].strokeMode=w.default.STROKE_MODE_BEZIER;pa()},modifies:{tool:!0}},CPAbout:{action:function(){(new c.default(ta)).show()},modifies:{}},CPShortcuts:{action:function(){(new p.default(ta)).show()},modifies:{}},CPTabletSupport:{action:function(){(new n.default(ta)).show()},
modifies:{}},CPLayerDuplicate:{action:function(){ua.artwork.duplicateLayer()},modifies:{document:!0}},CPLayerMergeDown:{action:function(){ua.artwork.mergeDown()},modifies:{document:!0},allowed:"isMergeDownAllowed"},CPGroupMerge:{action:function(){ua.artwork.mergeGroup()},modifies:{document:!0},allowed:"isMergeGroupAllowed"},CPLayerMergeAll:{action:function(){ua.artwork.mergeAllLayers()},modifies:{document:!0},allowed:"isMergeAllLayersAllowed"},CPExpandLayerGroup:{action:function(ra){ua.artwork.expandLayerGroup(ra.group,
ra.expand)},modifies:{document:!0}},CPFill:{action:function(){ua.artwork.fill(ua.getCurColor().getRgb()|4278190080)},modifies:{document:!0},requiresDrawable:!0},CPClear:{action:function(){ua.artwork.clear()},modifies:{document:!0},requiresDrawable:!0},CPSelectAll:{action:function(){ua.artwork.rectangleSelection(ua.artwork.getBounds());Ya.repaintAll()},modifies:{document:!0}},CPDeselectAll:{action:function(){ua.artwork.rectangleSelection(new N.default(0,0,0,0));Ya.repaintAll()},modifies:{document:!0}},
CPHFlip:{action:function(){ua.artwork.hFlip()},modifies:{document:!0},requiresDrawable:!0},CPVFlip:{action:function(){ua.artwork.vFlip()},modifies:{document:!0},requiresDrawable:!0},CPMNoise:{action:function(){ua.artwork.monochromaticNoise()},modifies:{document:!0},requiresDrawable:!0},CPCNoise:{action:function(){ua.artwork.colorNoise()},modifies:{document:!0},allowed:"isColorNoiseAllowed"},CPFXBoxBlur:{action:function(){db||=new e.default(ta,ua);db.show()},modifies:{document:!0},requiresDrawable:!0},
CPFXInvert:{action:function(){ua.artwork.invert()},modifies:{document:!0},requiresDrawable:!0},CPCut:{action:function(){ua.artwork.cutSelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCutSelectionAllowed"},CPCopy:{action:function(){ua.artwork.copySelection()},modifies:{document:!0},requiresDrawable:!0,allowed:"isCopySelectionAllowed"},CPCopyMerged:{action:function(){ua.artwork.copySelectionMerged()},modifies:{document:!0},allowed:"isCopySelectionMergedAllowed"},CPPaste:{action:function(){ua.artwork.pasteClipboard()},
modifies:{document:!0},allowed:"isPasteClipboardAllowed"},CPToggleGrid:{action:function(ra){Ya.showGrid(ra.selected)},modifies:{gui:!0}},CPGridOptions:{action:function(){tb||=new u.default(ta,Ya);tb.show()},modifies:{gui:!0}},CPLinearInterpolation:{action:function(ra){Ya.setInterpolation(ra.selected)},modifies:{gui:!0},isSupported:function(){return(0,C.isCanvasInterpolationSupported)()}},CPResetCanvasRotation:{action:function(){Ya.resetRotation()},modifies:{gui:!0}},CPAddLayer:{action:function(){ua.artwork.addLayer("layer")},
modifies:{document:!0}},CPAddGroup:{action:function(){ua.artwork.addLayer("group")},modifies:{document:!0}},CPAddLayerMask:{action:function(){ua.artwork.addLayerMask()},modifies:{document:!0},allowed:"isAddLayerMaskAllowed"},CPApplyLayerMask:{action:function(){ua.artwork.applyLayerMask(!0)},modifies:{document:!0},allowed:"isApplyLayerMaskAllowed"},CPRemoveLayerMask:{action:function(){ua.artwork.removeLayerMask(!1)},modifies:{document:!0},allowed:"isRemoveLayerMaskAllowed"},CPRemoveLayer:{action:function(){ua.artwork.removeLayer()||
alert((0,G._)("Sorry, you can't remove the last remaining layer in the drawing."))},modifies:{document:!0},allowed:"isRemoveLayerAllowed"},CPCreateClippingMask:{action:function(){ua.artwork.createClippingMask()},modifies:{document:!0},allowed:"isCreateClippingMaskAllowed"},CPReleaseClippingMask:{action:function(){ua.artwork.releaseClippingMask()},modifies:{document:!0},allowed:"isReleaseClippingMaskAllowed"},CPRelocateLayer:{action:function(ra){ua.artwork.relocateLayer(ra.layer,ra.toGroup,ra.toIndex)},
modifies:{document:!0}},CPSetActiveLayer:{action:function(ra){ra.mask&&ra.layer.mask&&!ra.layer.maskVisible&&ua.artwork.setLayerMaskVisible(ra.layer,!0);ua.artwork.setActiveLayer(ra.layer,ra.mask);ua.artwork.performIdleTasks()},modifies:{document:!0}},CPToggleMaskView:{action:function(){var ra=ua.artwork.toggleMaskView();ra&&ua.emitEvent("maskViewOpened",[ra])},modifies:{gui:!0}},CPSetMaskVisible:{action:function(ra){ua.artwork.setLayerMaskVisible(ra.layer,ra.visible)},modifies:{layerProp:!0}},CPSetLayerVisibility:{action:function(ra){ua.artwork.setLayerVisibility(ra.layer,
ra.visible)},modifies:{layerProp:!0}},CPSetLayerName:{action:function(ra){ua.artwork.setLayerName(ra.layer,ra.name)},modifies:{layerProp:!0}},CPSetLayerBlendMode:{action:function(ra){ua.artwork.setLayerBlendMode(ra.blendMode)},modifies:{layerProp:!0}},CPSetLayerAlpha:{action:function(ra){ua.artwork.setLayerAlpha(ra.alpha)},modifies:{layerProp:!0}},CPSetLayerLockAlpha:{action:function(ra){ua.artwork.setLayerLockAlpha(ra.lock)},modifies:{layerProp:!0}},CPPalColor:new J("color"),CPPalBrush:new J("brush"),
CPPalLayers:new J("layers"),CPPalStroke:new J("stroke"),CPPalSwatches:new J("swatches"),CPPalTool:new J("tool"),CPPalMisc:new J("misc"),CPPalTextures:new J("textures"),CPTogglePalettes:{action:function(){Xa.togglePalettes()},modifies:{gui:!0}},CPArrangePalettes:{action:function(){Xa.arrangePalettes()},modifies:{gui:!0}},CPSave:{action:function(){ja()},isSupported:function(){return!1!==O.allowDownload},modifies:{document:!0}},CPSend:{action:function(){na()},isSupported:function(){return!!O.saveUrl},
modifies:{document:!0}},CPPost:{action:function(){if("function"===typeof handleExit)return handleExit();window.location=O.postUrl},isSupported:function(){return!!O.postUrl},modifies:{document:!0}},CPContinue:{action:function(){},isSupported:function(){return!!O.allowMultipleSends}},CPExit:{action:function(){window.location=O.exitUrl},isSupported:function(){return!!O.exitUrl},modifies:{}}};J.prototype.action=function(ra){Xa.showPalette(this.palName,ra.selected)};J.prototype.modifies={gui:!0};R.prototype.action=
function(){Q(this.toolNum)};R.prototype.modifies={mode:!0,tool:!0};R.prototype.requiresDrawable=!0;ea.prototype.action=function(){ka(this.modeNum)};ea.prototype.modifies={mode:!0};this.callToolListeners=function(){pa()};this.getArtwork=function(){return this.artwork};this.setCanvas=function(ra){Ya=ra};this.setTransformInterpolation=function(ra){this.artwork.setTransformInterpolation(ra)};this.setCurColor=function(ra){switch(sa){case b.COLOR_MODE_RGB:T.isEqual(ra)||(T.copyFrom(ra),this.artwork.setForegroundColor(ra.getRgb()),
this.emitEvent("colorChange",[ra]));break;case b.COLOR_MODE_GREYSCALE:if(ra=ra.getValue(),Z!=ra){var oa=B.default.greyToRGB(ra);this.artwork.setForegroundColor(oa);Z=ra;this.emitEvent("colorChange",[new B.default(oa)])}}};this.getCurColor=function(){switch(sa){case b.COLOR_MODE_RGB:return T.clone();case b.COLOR_MODE_GREYSCALE:return new B.default(B.default.greyToRGB(Z))}};this.setCurGradient=function(ra){Ib=ra.slice(0);this.emitEvent("gradientChange",[Ib])};this.getCurGradient=function(){return Ib.slice(0)};
this.setBrushSize=function(ra){Ea[Fa].size=Math.max(1,Math.min(200,ra));pa()};this.getBrushSize=function(){return Ea[Fa].size};this.setAlpha=function(ra){Ea[Fa].alpha=ra;pa()};this.getAlpha=function(){return Ea[Fa].alpha};this.getCurMode=function(){return Ra};this.getCurTool=function(){return Fa};this.getBrushInfo=function(){return Ea[Fa]};this.isActionSupported=function(ra){if(qb[ra]){var oa=h(qb[ra].isSupported);return"function"==oa?qb[ra].isSupported():"undefined"==oa?!0:qb[ra].isSupported}return!1};
this.isActionAllowed=function(ra){return(ra=qb[ra])?"function"==typeof ra.allowed?ra.allowed():"string"==typeof ra.allowed?this.artwork[ra.allowed]():!ra.requiresDrawable||this.artwork.isActiveLayerDrawable():!1};this.showLayerNotification=function(ra,oa,Da){this.emitEvent("layerNotification",[ra,oa,Da])};this.actionPerformed=function(ra){if(null!=this.artwork&&null!=Ya){var oa=qb[ra.action];oa&&(Ra==b.M_TRANSFORM&&(oa.modifies.document||oa.modifies.mode)&&-1==["CPTransformAccept","CPTransformReject"].indexOf(ra.action)?
"CPUndo"==ra.action?qb.CPTransformReject.action():"CPTransform"!=ra.action&&(oa=new f.default(ta,this),oa.on("accept",this.actionPerformed.bind(this,ra)),oa.on("reject",this.actionPerformed.bind(this,ra)),oa.show()):oa.action(ra))}};this.setSmallScreenMode=function(ra){qa!==ra&&(qa=ra,(0,d.default)(ta).toggleClass("chickenpaint-small-screen",qa),ua.emitEvent("smallScreen",[qa]))};this.getSmallScreenMode=function(){return qa};this.setFullScreen=function(ra){Aa!==ra&&(Aa=ra,(0,d.default)("body").toggleClass("chickenpaint-full-screen",
Aa),(0,d.default)(ta).toggleClass("chickenpaint-full-screen",Aa),Aa&&0===(0,d.default)("head meta[name=viewport]").length?((0,d.default)("head").append('<meta name="viewport" content="width=device-width,user-scalable=no">'),setTimeout(function(){return ua.emitEvent("fullScreen",[Aa])},200)):ua.emitEvent("fullScreen",[Aa]))};this.isFullScreen=function(){return Aa};this.setToolbarStyle=function(ra){Ha.set("toolbarStyle",ra);Ha.save()};this.getToolbarStyle=function(){return Ha.get("toolbarStyle")};this.getResourcesRoot=
function(){return O.resourcesRoot};v();ta&&((0,C.isFlexboxSupported)()||(ta.className+=" no-flexbox"),ta.className+=" chickenpaint chickenpaint-lang-"+(0,G.currentLanguage)());O.resourcesRoot=O.resourcesRoot||"chickenpaint/";O.disableBootstrapAPI&&(0,d.default)(document).off(".data-api");this.setSmallScreenMode(450>=window.innerWidth||450>=window.innerHeight);switch(O.fullScreenMode){case "force":this.setFullScreen(!0);break;case "auto":this.setFullScreen(qa)}Ha.on("toolbarStyle",function(ra){return va.emitEvent("toolbarStyleChange",
[ra])});if(O.loadImageUrl||O.loadChibiFileUrl){var Oa=new l.default(O);new r.default(ta,Oa,O.resourcesRoot);Oa.on("loadingComplete",function(ra){ua.artwork=ra.layers||ra.flat;ia(ra.swatches,O.rotation);if(O.onLoaded)O.onLoaded(this)});Oa.load()}else if(O.artwork?this.artwork=O.artwork:(this.artwork=new a.default(O.canvasWidth||800,O.canvasHeight||600),this.artwork.addBackgroundLayer()),ia(),O.onLoaded)O.onLoaded(this)}Object.defineProperty(D,"__esModule",{value:!0});D.default=b;g("core-js/stable/symbol/index.js");
g("core-js/stable/promise/index.js");g("core-js/stable/map/index.js");g("core-js/stable/set/index.js");g("core-js/stable/typed-array/slice.js");g("core-js/stable/typed-array/fill.js");g("core-js/stable/array/iterator.js");g("core-js/stable/array/fill.js");g("core-js/stable/string/ends-with.js");var d=z(g("jquery"));g("../lib/raf.js");var w=z(g("./engine/CPBrushInfo.js")),a=z(g("./engine/CPArtwork.js")),l=z(g("./engine/CPResourceLoader.js")),q=z(g("./engine/CPResourceSaver.js")),r=z(g("./gui/CPSplashScreen.js")),
k=z(g("./gui/CPMainGUI.js")),c=z(g("./gui/CPAboutDialog.js")),f=z(g("./gui/CPConfirmTransformDialog.js")),p=z(g("./gui/CPShortcutsDialog.js")),e=z(g("./gui/CPBoxBlurDialog.js")),n=z(g("./gui/CPTabletDialog.js")),u=z(g("./gui/CPGridDialog.js")),A=z(g("./gui/CPSendDialog.js")),C=g("./util/CPPolyfill.js"),B=z(g("./util/CPColor.js")),I=z(g("./util/CPWacomTablet.js")),N=z(g("./util/CPRect.js")),y=z(g("wolfy87-eventemitter")),G=g("./languages/lang.js"),H=z(g("./gui/CPUserPreferences.js"));window.PointerEvent&&
(window.hasNativePointerEvents=!0);g("pepjs");b.prototype=Object.create(y.default.prototype);b.prototype.constructor=b;b.UnsupportedBrowserException=function(O){this.message=O};b.UnsupportedBrowserException.prototype.toString=function(){var O="Sorry, your web browser does not support ChickenPaint.";return O=this.message?O+(" "+this.message):O+" Please try a modern browser like Chrome, Safari, Firefox, or Edge."};b.M_DRAW=0;b.M_FLOODFILL=1;b.M_RECT_SELECTION=2;b.M_MOVE_TOOL=3;b.M_ROTATE_CANVAS=4;b.M_COLOR_PICKER=
5;b.M_GRADIENTFILL=6;b.M_TRANSFORM=7;b.M_PAN_CANVAS=8;b.T_PENCIL=0;b.T_ERASER=1;b.T_PEN=2;b.T_SOFTERASER=3;b.T_AIRBRUSH=4;b.T_DODGE=5;b.T_BURN=6;b.T_WATER=7;b.T_BLUR=8;b.T_SMUDGE=9;b.T_BLENDER=10;b.T_MAX=11;b.COLOR_MODE_RGB=0;b.COLOR_MODE_GREYSCALE=1;L.exports=D.default},{"../lib/raf.js":69,"./engine/CPArtwork.js":3,"./engine/CPBrushInfo.js":8,"./engine/CPResourceLoader.js":20,"./engine/CPResourceSaver.js":21,"./gui/CPAboutDialog.js":23,"./gui/CPBoxBlurDialog.js":24,"./gui/CPConfirmTransformDialog.js":32,
"./gui/CPGridDialog.js":34,"./gui/CPMainGUI.js":36,"./gui/CPSendDialog.js":42,"./gui/CPShortcutsDialog.js":43,"./gui/CPSplashScreen.js":45,"./gui/CPTabletDialog.js":48,"./gui/CPUserPreferences.js":51,"./languages/lang.js":54,"./util/CPColor.js":58,"./util/CPPolyfill.js":60,"./util/CPRect.js":63,"./util/CPWacomTablet.js":66,"core-js/stable/array/fill.js":286,"core-js/stable/array/iterator.js":287,"core-js/stable/map/index.js":288,"core-js/stable/promise/index.js":289,"core-js/stable/set/index.js":290,
"core-js/stable/string/ends-with.js":291,"core-js/stable/symbol/index.js":292,"core-js/stable/typed-array/fill.js":293,"core-js/stable/typed-array/slice.js":294,jquery:296,pepjs:313,"wolfy87-eventemitter":314}],2:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.createCanvas=function(z,h){var v=document.createElement("canvas");v.width=z;v.height=h;return v};D.createImageData=function(z,h){return document.createElement("canvas").getContext("2d").createImageData(z,h)}},{}],3:[function(g,
L,D){function z(ia){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(va){return typeof va}:function(va){return va&&"function"==typeof Symbol&&va.constructor===Symbol&&va!==Symbol.prototype?"symbol":typeof va},z(ia)}function h(ia){return ia&&ia.__esModule?ia:{default:ia}}function v(){v="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(ia,va,ta){var ua;for(ua=ia;!Object.prototype.hasOwnProperty.call(ua,va)&&(ua=r(ua),null!==
ua););if(ua)return ua=Object.getOwnPropertyDescriptor(ua,va),ua.get?ua.get.call(3>arguments.length?ia:ta):ua.value};return v.apply(this,arguments)}function E(ia,va){if(!(ia instanceof va))throw new TypeError("Cannot call a class as a function");}function b(ia,va){for(var ta=0;ta<va.length;ta++){var ua=va[ta];ua.enumerable=ua.enumerable||!1;ua.configurable=!0;"value"in ua&&(ua.writable=!0);var Ya=Object,Xa=Ya.defineProperty;a:{var T=ua.key;if("object"===z(T)&&null!==T){var Z=T[Symbol.toPrimitive];
if(void 0!==Z){T=Z.call(T,"string");if("object"!==z(T))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}T=String(T)}}T="symbol"===z(T)?T:String(T);Xa.call(Ya,ia,T,ua)}}function d(ia,va,ta){va&&b(ia.prototype,va);ta&&b(ia,ta);Object.defineProperty(ia,"prototype",{writable:!1});return ia}function w(ia,va){if("function"!==typeof va&&null!==va)throw new TypeError("Super expression must either be null or a function");ia.prototype=Object.create(va&&va.prototype,{constructor:{value:ia,
writable:!0,configurable:!0}});Object.defineProperty(ia,"prototype",{writable:!1});va&&a(ia,va)}function a(ia,va){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ta,ua){ta.__proto__=ua;return ta};return a(ia,va)}function l(ia){var va=q();return function(){var ta=r(ia);if(va){var ua=r(this).constructor;ta=Reflect.construct(ta,arguments,ua)}else ta=ta.apply(this,arguments);if(!ta||"object"!==z(ta)&&"function"!==typeof ta){if(void 0!==ta)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");ta=this}return ta}}function q(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ia){return!1}}function r(ia){r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(va){return va.__proto__||Object.getPrototypeOf(va)};return r(ia)}
function k(ia,va){var ta="undefined"!==typeof Symbol&&ia[Symbol.iterator]||ia["@@iterator"];if(!ta){if(Array.isArray(ia)||(ta=c(ia))||va&&ia&&"number"===typeof ia.length){ta&&(ia=ta);var ua=0;va=function(){};return{s:va,n:function(){return ua>=ia.length?{done:!0}:{done:!1,value:ia[ua++]}},e:function(Z){throw Z;},f:va}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var Ya=!0,Xa=!1,T;return{s:function(){ta=
ta.call(ia)},n:function(){var Z=ta.next();Ya=Z.done;return Z},e:function(Z){Xa=!0;T=Z},f:function(){try{Ya||null==ta.return||ta.return()}finally{if(Xa)throw T;}}}}function c(ia,va){if(ia){if("string"===typeof ia)return f(ia,va);var ta=Object.prototype.toString.call(ia).slice(8,-1);"Object"===ta&&ia.constructor&&(ta=ia.constructor.name);if("Map"===ta||"Set"===ta)return Array.from(ia);if("Arguments"===ta||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ta))return f(ia,va)}}function f(ia,va){if(null==
va||va>ia.length)va=ia.length;for(var ta=0,ua=Array(va);ta<va;ta++)ua[ta]=ia[ta];return ua}function p(ia){return ia.substring(0,1).toUpperCase()+ia.substring(1)}function e(ia,va){return ia+va}function n(ia){return ia?ia.width*ia.height*4:0}function u(ia,va){function ta(U){vc=!1;if(0<lc.size||0<kc.size)U?Z():gc||setTimeout(Z,1E3)}function ua(){eb.emitEvent("changeSelection",[])}function Ya(U){eb.emitEvent("updateRegion",[U])}function Xa(){eb.emitEvent("changeStructure");sb.resetTree();Ea();Ya(eb.getBounds())}
function T(U,ha,Ca){eb.emitEvent("changeLayer",[U]);Ca||(sb.layerPropertyChanged(U,ha),Ya(eb.getBounds()))}function Z(){var U=k(lc),ha;try{for(U.s();!(ha=U.n()).done;){var Ca=ha.value;Ca.rebuildImageThumbnail();eb.emitEvent("changeLayerImageThumb",[Ca])}}catch(Ia){U.e(Ia)}finally{U.f()}U=k(kc);var ba;try{for(U.s();!(ba=U.n()).done;){var wa=ba.value;wa.rebuildMaskThumbnail();eb.emitEvent("changeLayerMaskThumb",[wa])}}catch(Ia){U.e(Ia)}finally{U.f()}lc.clear();gc&&(clearTimeout(gc),gc=null)}function sa(U,
ha,Ca,ba){Array.isArray(U)||(U=[U]);U.forEach(function(Ka){return sb.invalidateLayerRect(Ka,ha)});var wa=!1;if(Ca){ub.union(ha);Ca=k(U);var Ia;try{for(Ca.s();!(Ia=Ca.n()).done;){var Wa=Ia.value;Wa instanceof A.default&&(lc.add(Wa),wa=!0)}}catch(Ka){Ca.e(Ka)}finally{Ca.f()}}ba&&(kb.union(ha),U.forEach(function(Ka){kc.add(Ka);Hb&&Hb.layer==Ka&&Hb.invalidateRect(ha)}),wa=!0);wa&&(gc&&(clearTimeout(gc),gc=null),vc||(gc=setTimeout(Z,1E3)));Ya(ha)}function Fa(U,ha){sa(U,ha,!rb,rb)}function Ra(){return rb?
Va.mask:Va.image}function wb(){if(!jc.isEmpty()){if(rb){var U=Va.mask;Rb.brushMode==O.default.BRUSH_MODE_ERASE?bc[O.default.BRUSH_MODE_PAINT].mergeOntoMask(U,P,4278190080):bc[Rb.brushMode].mergeOntoMask(U,P,fc&255)}else{U=Va.image;var ha=Va.getLockAlpha();Rb.brushMode==O.default.BRUSH_MODE_ERASE&&ha?bc[O.default.BRUSH_MODE_PAINT].mergeOntoImage(U,ic,16777215):bc[Rb.brushMode].mergeOntoImage(U,ic,fc);ha&&U.copyAlphaFrom(ic,jc)}jc.makeEmpty()}}function Ib(){Va instanceof A.default&&!ub.isEmpty()&&(ic.copyBitmapRect(Va.image,
ub.left,ub.top,ub),ub.makeEmpty())}function qa(){Va.mask&&!kb.isEmpty()&&(P.copyBitmapRect(Va.mask,kb.left,kb.top,kb),kb.makeEmpty())}function Aa(){rb?qa():Ib()}function Ea(){var U=eb.getBounds();ub.set(U);kb.set(U)}function Ha(U){eb.setHasUnsavedChanges(!0);0<Tb.length&&(Tb=[]);0!==Ob.length&&Ob[Ob.length-1].merge(U)?Ob[Ob.length-1].noChange()&&Ob.pop():(30<=Ob.length&&Ob.shift(),eb.compactUndo(),Ob.push(U))}function db(U,ha){U||ha||(U=!rb,ha=rb);var Ca=cc.clone(),ba=U?ic.copyRectXOR(Va.image,Ca):
null,wa=ha?P.copyRectXOR(Va.mask,Ca):null;this.layer=Va;cc.makeEmpty();this.redo=this.undo=function(){ba&&this.layer.image.setRectXOR(ba,Ca);wa&&this.layer.mask.setRectXOR(wa,Ca);sa(this.layer,Ca,null!=ba,null!=wa)};this.getMemoryUsed=function(Ia,Wa){return(ba?ba.length:0)+(wa?wa.length:0)}}function tb(U){var ha=U.maskLinked,Ca=U.maskVisible;this.undo=function(){U.setMask(null);U.maskLinked=ha;U.maskVisible=Ca;Xa();eb.setActiveLayer(U,!1)};this.redo=function(){var ba=new I.default(eb.width,eb.height,
8);ba.clearAll(255);U.maskLinked=!0;U.maskVisible=!0;U.setMask(ba);Xa();eb.setActiveLayer(U,!0)};this.redo()}function qb(U,ha){var Ca=U.mask,ba=!1;var wa=ha&&U instanceof A.default?U.image.clone():null;ba=Va==U&&rb;this.undo=function(){U.setMask(Ca);wa&&(U.image.copyPixelsFrom(wa),sa(U,U.image.getBounds(),!0,!1));ba&&eb.setActiveLayer(U,!0);Xa()};this.redo=function(){wa&&(B.default.multiplyAlphaByMask(U.image,100,U.mask),sa(U,eb.getBounds(),!0,!1));ba&&eb.setActiveLayer(U,!1);U.setMask(null);Xa()};
this.redo()}function Oa(U,ha,Ca){var ba=Ca instanceof A.default&&Ca.clip,wa=U.layers[ha],Ia=wa instanceof A.default&&wa.clip,Wa=rb;this.undo=function(){U.removeLayer(Ca);var Ka=U.layers[ha-1]||U.layers[0]||U;wa instanceof A.default&&(wa.clip=Ia);Ca instanceof A.default&&(Ca.clip=ba);Xa();eb.setActiveLayer(Ka,Wa)};this.redo=function(){U.insertLayer(ha,Ca);Ia&&(Ca instanceof A.default?Ca.clip=!0:wa.clip=!1);Xa();eb.setActiveLayer(Ca,!1)};this.redo()}function ra(U){var ha=U.clone(),Ca=rb;this.undo=function(){ha.parent.removeLayer(ha);
Xa();eb.setActiveLayer(U,Ca)};this.redo=function(){var ba=U.name;ba.endsWith(" Copy")||(ba+=" Copy");ha.name=ba;U.parent.insertLayer(U.parent.indexOf(U)+1,ha);Xa();eb.setActiveLayer(ha,!1)};this.redo()}function oa(U){var ha=U.parent,Ca=ha.indexOf(U),ba=rb,wa=0;if(U instanceof A.default&&!U.clip)for(var Ia=Ca+1;Ia<ha.layers.length;Ia++)if(ha.layers[Ia]instanceof A.default&&ha.layers[Ia].clip)wa++;else break;this.undo=function(){ha.insertLayer(Ca,U);for(var Wa=0;Wa<wa;Wa++)ha.layers[Wa+Ca+1].clip=!0;
Xa();eb.setActiveLayer(U,ba)};this.redo=function(){for(var Wa=0;Wa<wa;Wa++)ha.layers[Wa+Ca+1].clip=!1;ha.removeLayerAtIndex(Ca);Wa=0==ha.layers.length?U.parent:ha.layers[Math.max(Ca-1,0)];Xa();eb.setActiveLayer(Wa,!1)};this.getMemoryUsed=function(Wa,Ka){return Wa?0:U.getMemoryUsed()};this.redo()}function Da(U){var ha=U.parent.indexOf(U),Ca=rb,ba=new A.default(eb.width,eb.height,"");this.undo=function(){U.parent.setLayerAtIndex(ha,U);Xa();eb.setActiveLayer(U,Ca)};this.redo=function(){U.parent.setLayerAtIndex(ha,
ba);Xa();eb.setActiveLayer(ba,!1)};this.getMemoryUsed=function(Ia,Wa){return Ia?0:U.getMemoryUsed()};var wa=new N.default(U,eb.width,eb.height,!1);wa.buildTree();wa=wa.blendTree();ba.name=U.name;ba.alpha=wa.alpha;ba.image=wa.image;ba.blendMode=wa.blendMode;ba.mask=wa.mask;ba.blendMode==B.default.LM_PASSTHROUGH&&(ba.blendMode=B.default.LM_NORMAL);this.redo()}function La(U){var ha=U.parent,Ca=ha.layers[ha.indexOf(U)-1],ba=new A.default(eb.width,eb.height,""),wa=rb;this.undo=function(){var Ia=ha.indexOf(ba);
ha.removeLayerAtIndex(Ia);ha.insertLayer(Ia,U);ha.insertLayer(Ia,Ca);Xa();eb.setActiveLayer(U,wa)};this.redo=function(){ba.copyFrom(Ca);0<U.getEffectiveAlpha()&&(ba.mask?(B.default.multiplyAlphaByMask(ba.image,ba.alpha,ba.mask),ba.mask=null):B.default.multiplyAlphaBy(ba.image,ba.alpha),ba.alpha=100,B.default.fuseImageOntoImage(ba.image,!0,U.image,U.alpha,U.blendMode,U.getBounds(),U.mask));var Ia=ha.indexOf(Ca);ha.removeLayerAtIndex(Ia);ha.removeLayerAtIndex(Ia);ha.insertLayer(Ia,ba);Xa();eb.setActiveLayer(ba,
!1)};this.getMemoryUsed=function(Ia,Wa){return Ia?0:U.getMemoryUsed()+ba.getMemoryUsed()};this.redo()}function Ua(){var U=eb.getActiveLayer(),ha=Ja.layers.slice(0),Ca=new A.default(eb.width,eb.height,"");this.undo=function(){Ja.layers=ha.slice(0);Xa();eb.setActiveLayer(U,!1)};this.redo=function(){var ba=eb.fusionLayers();Ca.copyImageFrom(ba);Ja.clearLayers();Ca.setName(eb.getDefaultLayerName(!1));Ja.addLayer(Ca);Xa();eb.setActiveLayer(Ca,!1)};this.getMemoryUsed=function(ba,wa){return ha.map(function(Ia){return Ia.getMemoryUsed()}).reduce(e,
0)};this.redo()}function lb(U,ha,Ca){var ba=U.parent,wa=U.parent.indexOf(U),Ia=rb,Wa=ba.layers[ba.indexOf(U)+1],Ka=ha.layers[Ca],$a=U instanceof A.default&&U.clip,bb=$a?U.getClippingBase():!1,jb=0,Lb=0;if(U instanceof A.default&&!U.clip)for(var Db=wa+1;Db<ba.layers.length;Db++)if(ba.layers[Db]instanceof A.default&&ba.layers[Db].clip)jb++;else break;else if(U instanceof C.default)for(Db=Ca;Db<ha.layers.length;Db++)if(ha.layers[Db]instanceof A.default&&ha.layers[Db].clip)Lb++;else break;this.undo=function(){U.parent.removeLayer(U);
var Nb=Wa?ba.indexOf(Wa):ba.layers.length;ba.insertLayer(Nb,U);U instanceof A.default&&(U.clip=$a);for(Nb=0;Nb<jb;Nb++)ba.layers[Nb+wa+1].clip=!0;for(Nb=0;Nb<Lb;Nb++)ha.layers[Nb+Ca].clip=!0;Xa();eb.setActiveLayer(U,Ia)};this.redo=function(){for(var Nb=0;Nb<jb;Nb++)ba.layers[Nb+wa+1].clip=!1;U.parent.removeLayer(U);Nb=Ka?ha.indexOf(Ka):ha.layers.length;ha.insertLayer(Nb,U);for(var oc=0;oc<Lb;oc++)ha.layers[oc+Nb+1].clip=!1;U instanceof A.default&&(U.clip&&U.getClippingBase()!=bb&&(U.clip=!1),Ka instanceof
A.default&&Ka.clip&&(U.clip=!0));for(oc=0;oc<Lb;oc++)ha.layers[oc+Nb+1].clip=!1;Xa();eb.setActiveLayer(U,!1)};this.redo()}function ob(U,ha){var Ca=p(U),ba=function(wa,Ia){Array.isArray(wa)||(wa=[wa]);this.layers=wa;this.from=this.layers.map(function(Wa){return Wa["get"+Ca]()});this.to=Ia;this.redo()};ba.prototype=Object.create(J.default.prototype);ba.prototype.constructor=ba;ba.prototype.undo=function(){var wa=this;this.layers.forEach(function(Ia,Wa){return Ia["set"+Ca](wa.from[Wa])});this.layers.forEach(function(Ia){return T(Ia,
U,!ha)})};ba.prototype.redo=function(){var wa=this;this.layers.forEach(function(Ia){return Ia["set"+Ca](wa.to)});this.layers.forEach(function(Ia){return T(Ia,U,!ha)})};ba.prototype.merge=function(wa){var Ia;if(Ia=wa instanceof ba)a:{Ia=this.layers;var Wa=wa.layers;if(Ia.length!=Wa.length)Ia=!1;else{for(var Ka=0;Ka<Ia.length;Ka++)if(Ia[Ka]!=Wa[Ka]){Ia=!1;break a}Ia=!0}}return Ia?(this.to=wa.to,!0):!1};ba.prototype.noChange=function(){for(var wa=0;wa<this.from.length;wa++)if(this.from[wa]!=this.to)return!1;
return!0};return ba}function Ab(U,ha){U=U.clone();ha=ha.clone();this.undo=function(){eb.setSelection(U);Ya(eb.getBounds())};this.redo=function(){eb.setSelection(ha);Ya(eb.getBounds())};this.noChange=function(){return U.equals(ha)}}function Pa(U,ha,Ca){var ba=ha?U.mask:U.image,wa=ba.cloneRect(Ca);Ca=Ca.clone();this.undo=function(){ba.copyBitmapRect(wa,Ca.left,Ca.top,wa.getBounds());eb.setActiveLayer(U,ha);eb.setSelection(Ca);sa(U,Ca,!ha,ha)};this.redo=function(){ha?ba.clearRect(Ca,0):ba.clearRect(Ca,
16777215);Sb=new R.default(wa,Ca.left,Ca.top);eb.setActiveLayer(U,ha);eb.emptySelection();sa(U,Ca,!ha,ha)};this.getMemoryUsed=function(Ia,Wa){return wa==Wa?0:wa.getMemorySize()};this.redo()}function Qa(U){var ha=eb.getSelection(),Ca=rb,ba=new A.default(eb.width,eb.height,eb.getDefaultLayerName(!1)),wa=Va,Ia=wa.parent;this.undo=function(){Ia.removeLayer(ba);eb.setSelection(ha);Xa();eb.setActiveLayer(wa,Ca)};this.redo=function(){var Wa=Ia.indexOf(wa),Ka=U.bmp.getBounds();Ia.insertLayer(Wa+1,ba);if(Ka.isInside(eb.getBounds())){Wa=
U.x;var $a=U.y}else Wa=(eb.width-U.bmp.width)/2|0,$a=(eb.height-U.bmp.height)/2|0;if(U.bmp instanceof I.default){var bb=new G.default(U.bmp.width,U.bmp.height);bb.copyPixelsFromGreyscale(U.bmp);ba.image.copyBitmapRect(bb,Wa,$a,Ka)}else ba.image.copyBitmapRect(U.bmp,Wa,$a,Ka);eb.emptySelection();Xa();eb.setActiveLayer(ba,!1)};this.getMemoryUsed=function(Wa,Ka){return U.bmp==Ka?0:U.bmp.getMemorySize()};this.redo()}ia|=0;va|=0;var Ja=new C.default("Root",B.default.LM_NORMAL),sb=new N.default(Ja,ia,va,
!0),ic=new G.default(ia,va),ub=new Y.default(0,0,ia,va),P=new I.default(ia,va,8),kb=new Y.default(0,0,ia,va),qc=new I.default(ia,va,32),jc=new Y.default(0,0,0,0),Qb=new H.default,eb=this,bc=[],Va=Ja,rb=!1,Hb=null,cc=new Y.default(0,0,0,0),Mb=!1,tc=new Y.default(0,0,0,0),rc=null,wc=new pa.default,Fb=null,Sb=null,Ob=[],Tb=[],Rb=null,pb=0,Vb=0,ib=0,ac=!1,vc=!1,kc=new Set,lc=new Set,gc=null,fc=0,nc="smooth";this.getLayersRoot=function(){return Ja};this.getSelectionAutoSelect=function(){return tc.isEmpty()?
this.getBounds():this.getSelection()};this.getSelection=function(){return tc.clone()};this.setHasUnsavedChanges=function(U){U!=Mb&&(Mb=U,this.emitEvent("unsavedChanges",[U]))};this.getHasUnsavedChanges=function(){return Mb};this.isAddLayerMaskAllowed=function(){return!Va.mask};this.addLayerMask=function(){this.isAddLayerMaskAllowed()&&Ha(new tb(Va))};this.isRemoveLayerMaskAllowed=function(){return null!==Va.mask};this.removeLayerMask=function(){this.isRemoveLayerMaskAllowed()&&Ha(new qb(Va,!1))};
this.isApplyLayerMaskAllowed=function(){return null!==Va.mask&&Va instanceof A.default};this.applyLayerMask=function(U){this.isApplyLayerMaskAllowed()&&Ha(new qb(Va,!0))};this.addLayer=function(U){if(Va instanceof C.default&&Va.expanded){var ha=Va;var Ca=Va.layers.length}else ha=Va.parent,Ca=ha.layers.indexOf(Va)+1;switch(U){case "group":for(;ha.layers[Ca]instanceof A.default&&ha.layers[Ca].clip;)Ca++;U=new C.default(this.getDefaultLayerName(!0),B.default.LM_PASSTHROUGH);break;default:U=new A.default(this.width,
this.height,this.getDefaultLayerName(!1)),U.image.clearAll(16777215)}Ha(new Oa(ha,Ca,U));return U};this.addLayerObject=function(U,ha){U.addLayer(ha);U==Ja&&1==Ja.layers.length&&(Va=ha);Xa()};this.addLayerGroupObject=function(U,ha,Ca){for(var ba=[],wa=0;wa<Ca;wa++)ba.unshift(U.layers.pop());ba.forEach(function(Ia){return ha.addLayer(Ia)});this.addLayerObject(U,ha)};this.isRemoveLayerAllowed=function(){return Va instanceof A.default?Ja.getLinearizedLayerList(!1).some(function(U){return U instanceof
A.default&&U!=Va}):Va instanceof C.default?Ja.getLinearizedLayerList(!1).some(function(U){return U instanceof A.default&&!U.hasAncestor(Va)}):!1};this.removeLayer=function(){return this.isRemoveLayerAllowed()?(Ha(new oa(Va)),!0):!1};this.duplicateLayer=function(){Ha(new ra(Va))};this.isMergeDownAllowed=function(){var U=Va.parent.indexOf(Va);return 0<U&&Va instanceof A.default&&Va.parent.layers[U-1]instanceof A.default};this.mergeDown=function(){this.isMergeDownAllowed()&&Ha(new La(Va))};this.isMergeGroupAllowed=
function(){return Va instanceof C.default&&0<Va.getEffectiveAlpha()};this.mergeGroup=function(){this.isMergeGroupAllowed()&&Ha(new Da(Va))};this.isMergeAllLayersAllowed=function(){return 1<Ja.getLinearizedLayerList(!1).length};this.mergeAllLayers=function(){this.isMergeAllLayersAllowed()&&Ha(new Ua)};this.relocateLayer=function(U,ha,Ca){U&&ha&&U!=ha&&!ha.hasAncestor(U)&&Ha(new lb(U,ha,Ca))};this.setLayerVisibility=function(U,ha){var Ca=[];if(U.ancestorsAreVisible())U.visible!=ha&&Ha(new yc(U,ha));
else{for(;null!=U;U=U.parent)U.visible||Ca.push(U);Ha(new yc(Ca,!0))}};this.expandLayerGroup=function(U,ha){U.expanded!=ha&&(U.expanded=ha,!ha&&Va.hasAncestor(U)&&this.setActiveLayer(U,!1),T(U,"expanded",!0))};this.setLayerAlpha=function(U){Va.getAlpha()!=U&&Ha(new xc(Va,U))};this.setLayerMaskLinked=function(U){Va.maskLinked!=U&&Ha(new Ba(Va,U))};this.setLayerMaskVisible=function(U,ha){U.maskVisible!=ha&&Ha(new zc(U,ha))};this.setLayerBlendMode=function(U){Va.getBlendMode()!=U&&(U!=B.default.LM_PASSTHROUGH||
Va instanceof C.default)&&Ha(new Mc(Va,U))};this.setLayerName=function(U,ha){U.getName()!=ha&&Ha(new Cc(U,ha))};this.paintDab=function(U,ha,Ca){Rb.applyPressure(Ca);0<Rb.scattering&&(U+=wc.nextGaussian()*Rb.curScattering/4,ha+=wc.nextGaussian()*Rb.curScattering/4);Ca=bc[Rb.brushMode];U=Qb.getDab(U,ha,Rb);ha=new Y.default(0,0,U.width,U.height);var ba=new Y.default(0,0,U.width,U.height);ba.translate(U.x,U.y);eb.getBounds().clipSourceDest(ha,ba);if(!ba.isEmpty()){cc.union(ba);var wa=rb?Va.mask:Va.image;
Ca.paintDab(wa,ba,ac&&!rb?rc:wa,Rb,ha,U,fc);!rb&&Ca.noMergePhase&&Va.getLockAlpha()&&wa.copyAlphaFrom(ic,ba);Ca.wantsOutputAsInput&&(wb(),ac&&!rb&&eb.fusionLayers());Fa(Va,ba)}};this.getDefaultLayerName=function(U){var ha=U?"Group ":"Layer ";U=U?/^Group [0-9]+$/:/^Layer [0-9]+$/;for(var Ca=0,ba=Ja.getLinearizedLayerList(!1),wa=0;wa<ba.length;wa++){var Ia=ba[wa];U.test(Ia.name)&&(Ca=Math.max(Ca,parseInt(Ia.name.substring(ha.length),10)))}return ha+(Ca+1)};this.addBackgroundLayer=function(){var U=new A.default(eb.width,
eb.height,this.getDefaultLayerName(!1));U.image.clearAll(4294967295);this.addLayerObject(this.getLayersRoot(),U)};this.fusionLayers=function(){wb();sb.buildTree();return rc=sb.blendTree().image};this.upgradeMultiplyLayers=function(U){for(var ha=this.getLayersRoot().getLinearizedLayerList(!1,[]),Ca=-1,ba=0;ba<ha.length;ba++){var wa=ha[ba];if(!(wa instanceof A.default)||wa.mask||wa.blendMode>B.default.LM_LAST_CHIBIPAINT)throw Error("Bad layer type during multiply upgrade");wa.blendMode===B.default.LM_MULTIPLY&&
(Ca=ba)}if(-1!==Ca){ba=new G.default(this.width,this.height);var Ia=wa=!0,Wa=this.getBounds();ba.clearAll(Wa,16777215);for(var Ka=0;Ka<=Ca;Ka++){var $a=ha[Ka];Ia||(wa=wa&&ba.hasAlphaInRect(Wa));if($a.blendMode===B.default.LM_MULTIPLY)switch(U){case "bake":!wa&&0<$a.getEffectiveAlpha()&&(100===$a.alpha?B.default.upgradeMultiplyOfOpaqueLayer(ba,$a.image,100,Wa):B.default.upgradeMultiplyOfTransparentLayer(ba,$a.image,$a.alpha,Wa),$a.setBlendMode(B.default.LM_MULTIPLY2));break;default:wa&&$a.setBlendMode(B.default.LM_MULTIPLY2)}0<
$a.getEffectiveAlpha()&&(Ia=!1,B.default.fuseImageOntoImage(ba,wa,$a.image,$a.alpha,$a.blendMode,Wa,null))}}};this.isCreateClippingMaskAllowed=function(){var U=Va.parent.indexOf(Va);U=Va.parent.layers[U-1];return Va instanceof A.default&&!Va.clip&&U instanceof A.default};this.createClippingMask=function(){this.isCreateClippingMaskAllowed()&&Ha(new Dc(Va,!0))};this.isReleaseClippingMaskAllowed=function(){return Va instanceof A.default&&Va.clip};this.releaseClippingMask=function(){this.isReleaseClippingMaskAllowed()&&
Ha(new Dc(Va,!1))};this.setActiveLayer=function(U,ha){if(U){ha=U.mask&&ha;var Ca=ha!=rb;if(Va!=U||Ca){var ba=Va;Va=U;rb=ha;Ea();this.emitEvent("changeActiveLayer",[ba,U,rb]);Ca&&this.emitEvent("editModeChanged",[rb?u.EDITING_MODE_MASK:u.EDITING_MODE_IMAGE]);Hb&&Hb.layer==ba&&(ha?Hb.setLayer(U):this.closeMaskView())}}};this.closeMaskView=function(){Hb.close();Hb=null};this.toggleMaskView=function(){null!=Hb&&Hb.isOpen()?this.closeMaskView():Hb=Va.mask?new y.default(Va,wb):null;return Hb};this.selectTopmostVisibleLayer=
function(){for(var U=Ja.getLinearizedLayerList(!1),ha=U.length-1;0<=ha;ha--)if(U[ha]instanceof A.default&&0<U[ha].getEffectiveAlpha()){this.setActiveLayer(U[ha],!1);return}for(ha=U.length-1;0<=ha;ha--)if(U[ha]instanceof A.default){this.setActiveLayer(U[ha],!1);return}this.setActiveLayer(U[U.length-1],!1)};this.getActiveLayer=function(){return Va};this.isEditingMask=function(){return rb};this.isActiveLayerDrawable=function(){return rb&&Va.mask||!rb&&Va instanceof A.default};this.getUndoMemoryUsed=
function(){for(var U=0,ha=0,Ca=Tb;ha<Ca.length;ha++)U+=Ca[ha].getMemoryUsed(!0,null);ha=0;for(Ca=Ob;ha<Ca.length;ha++)U+=Ca[ha].getMemoryUsed(!1,null);return U};this.isUndoAllowed=function(){return 0<Ob.length};this.isRedoAllowed=function(){return 0<Tb.length};this.undo=function(){if(this.isUndoAllowed()){this.setHasUnsavedChanges(!0);var U=Ob.pop();U.undo();Tb.push(U)}};this.redo=function(){if(this.isRedoAllowed()){this.setHasUnsavedChanges(!0);var U=Tb.pop();U.redo();Ob.push(U)}};this.performIdleTasks=
function(){Aa();wb();sb.buildTree()};this.compactUndo=function(){0<Ob.length&&Ob[Ob.length-1].compact()};this.clearHistory=function(){Ob=[];Tb=[]};this.colorPicker=function(U,ha){return rb&&Va.mask?ea.default.greyToRGB(Va.mask.getPixel(~~U,~~ha)):rc.getPixel(~~U,~~ha)&16777215};this.setSelection=function(U){tc.set(U);tc.roundNearest();tc.clipTo(this.getBounds())};this.emptySelection=function(){tc.makeEmpty()};this.floodFill=function(U,ha){var Ca=Ra();Ca&&(Aa(),cc=this.getBounds(),Ca.floodFill(~~U,
~~ha,fc|4278190080),Ha(new db),Fa(Va,this.getBounds()))};this.gradientFill=function(U,ha,Ca,ba,wa){var Ia=this.getSelectionAutoSelect(),Wa=Ra();Wa&&(Aa(),cc=Ia.clone(),Wa.gradient(Ia,U,ha,Ca,ba,wa,!1),this.getLayerLockAlpha()&&Wa instanceof G.default&&Wa.copyAlphaFrom(ic,Ia),Ha(new db),Fa(Va,Ia))};this.fill=function(U){var ha=this.getSelectionAutoSelect(),Ca=Ra();Ca&&(Aa(),cc=ha.clone(),Ca.clearRect(ha,U),Ha(new db),Fa(Va,ha))};this.clear=function(){rb?this.fill(0):this.fill(16777215)};this.flip=
function(U){var ha=this.getSelection(),Ca=ha.isEmpty(),ba=Ca&&Va instanceof A.default&&Va.mask&&Va.maskLinked,wa=(!rb||ba)&&Va instanceof A.default;ba=(rb||ba)&&Va.mask;U=U?"copyRegionHFlip":"copyRegionVFlip";if(wa||ba)Ca&&(ha=this.getBounds()),cc=ha.clone(),wa&&(Ib(),Va.image[U](ha,ic)),ba&&(qa(),Va.mask[U](ha,P)),Ha(new db(wa,ba)),sa(Va,ha,wa,ba)};this.hFlip=function(){this.flip(!0)};this.vFlip=function(){this.flip(!1)};this.monochromaticNoise=function(){var U=this.getSelectionAutoSelect(),ha=Ra();
ha&&(Aa(),cc=U.clone(),ha.fillWithNoise(U),Ha(new db),Fa(Va,U))};this.isColorNoiseAllowed=function(){return!this.isEditingMask()&&this.isActiveLayerDrawable()};this.colorNoise=function(){if(this.isColorNoiseAllowed()){var U=this.getSelectionAutoSelect();Aa();cc=U.clone();Va.image.fillWithColorNoise(U);Ha(new db(!0,!1));sa(Va,U,!0,!1)}};this.invert=function(){var U=this.getSelectionAutoSelect(),ha=Ra();ha&&(Aa(),cc=U.clone(),ha.invert(U),Ha(new db),Fa(Va,U))};this.boxBlur=function(U,ha,Ca){var ba=
this.getSelectionAutoSelect(),wa=Ra();if(wa){Aa();cc=ba.clone();for(var Ia=0;Ia<Ca;Ia++)wa.boxBlur(ba,U,ha);Ha(new db);Fa(Va,ba)}};this.rectangleSelection=function(U){U=U.clone();U.clipTo(this.getBounds());Ha(new Ab(this.getSelection(),U));this.setSelection(U)};this.move=function(U,ha,Ca){U|=0;ha|=0;if(0!=U||0!=ha){var ba=0<Ob.length?Ob[Ob.length-1]:null;!Ca&&ba instanceof mb&&ba.layer==this.getActiveLayer()?(ba.amend(U,ha),Tb=[],this.setHasUnsavedChanges(!0)):(U=new mb(U,ha,Ca),Ha(U),U.redo())}};
this.setTransformInterpolation=function(U){nc=U;Fb instanceof ab&&Fb.setInterpolation(U)};this.transformAffineAbort=function(){Fb instanceof ab&&(Fb.undo(),Fb=null,ta(!0))};this.transformAffineBegin=function(){if(Fb instanceof ab)return{transform:Fb.getTransform(),rect:Fb.getInitialTransformRect(),selection:Fb.getInitialSelectionRect()};var U=new ka.default;var ha=new ab(U,nc);if(ha.getInitialTransformRect().isEmpty())return null;Fb=ha;vc=!0;return{transform:U,rect:ha.getInitialTransformRect(),selection:ha.getInitialSelectionRect()}};
this.transformAffineFinish=function(){Fb instanceof ab&&(Ha(Fb),Fb=null,ta(!0))};this.transformAffineAmend=function(U){Fb instanceof ab&&Fb.amend(U)};this.isCopySelectionAllowed=this.isCutSelectionAllowed=function(){return!this.getSelection().isEmpty()&&null!==Ra()};this.cutSelection=function(){this.isCutSelectionAllowed()&&Ha(new Pa(Va,rb,this.getSelection()))};this.copySelection=function(){if(this.isCopySelectionAllowed()){var U=eb.getSelection(),ha=Ra();Sb=new R.default(ha.cloneRect(U),U.left,
U.top)}};this.isCopySelectionMergedAllowed=function(){return!this.getSelection().isEmpty()};this.copySelectionMerged=function(){if(this.isCopySelectionMergedAllowed()){var U=eb.getSelection();Sb=new R.default(this.fusionLayers().cloneRect(U),U.left,U.top)}};this.isPasteClipboardAllowed=function(){return!this.isClipboardEmpty()};this.pasteClipboard=function(){this.isPasteClipboardAllowed()&&Ha(new Qa(Sb))};this.getClipboard=function(){return Sb};this.setClipboard=function(U){Sb=U};this.isClipboardEmpty=
function(){return null==Sb};this.setSampleAllLayers=function(U){ac=U};this.getLayerLockAlpha=function(){return this.getActiveLayer().getLockAlpha()};this.setLayerLockAlpha=function(U){Va.getLockAlpha()!=U&&Ha(new aa(Va,U))};this.setForegroundColor=function(U){fc=U};this.setBrush=function(U){Rb=U};this.setBrushTexture=function(U){Qb.setTexture(U)};this.beginStroke=function(U,ha,Ca){if(null===Rb||!this.isActiveLayerDrawable())return!1;Aa();cc.makeEmpty();qc.clearAll(0);jc.makeEmpty();pb=U;Vb=ha;ib=
Ca;vc=!0;bc[Rb.brushMode].beginStroke();this.paintDab(U,ha,Ca);return!0};this.continueStroke=function(U,ha,Ca){if(null!=Rb){var ba=Math.sqrt((pb-U)*(pb-U)+(Vb-ha)*(Vb-ha)),wa=Math.max(Rb.minSpacing,Rb.curSize*Rb.spacing);if(ba>wa){var Ia=pb,Wa=Vb,Ka=ib;for(wa=ba=(wa-.001)/ba;1>=wa;wa+=ba)Ia=wa*U+(1-wa)*pb,Wa=wa*ha+(1-wa)*Vb,Ka=wa*Ca+(1-wa)*ib,this.paintDab(Ia,Wa,Ka);pb=Ia;Vb=Wa;ib=Ka}}};this.endStroke=function(){null!=Rb&&(wb(),bc[Rb.brushMode].endStroke(),cc.clipTo(this.getBounds()),cc.isEmpty()||
(Ha(new db),Aa()),ta(!1))};this.hasAlpha=function(){return rc.hasAlpha()};this.getFlatPNG=function(U){this.fusionLayers();return rc.getAsPNG(U)};this.getFlatPNGBuffer=function(U){this.fusionLayers();return rc.getAsPNGBuffer(U)};this.isSimpleDrawing=function(){return 1==Ja.layers.length&&Ja.layers[0]instanceof A.default&&!Ja.layers[0].mask&&100==Ja.layers[0].getEffectiveAlpha()};db.prototype=Object.create(J.default.prototype);db.prototype.constructor=db;tb.prototype=Object.create(J.default.prototype);
tb.prototype.constructor=tb;qb.prototype=Object.create(J.default.prototype);qb.prototype.constructor=qb;Oa.prototype=Object.create(J.default.prototype);Oa.prototype.constructor=Oa;ra.prototype=Object.create(J.default.prototype);ra.prototype.constructor=ra;oa.prototype=Object.create(J.default.prototype);oa.prototype.constructor=oa;Da.prototype=Object.create(J.default.prototype);Da.prototype.constructor=Da;La.prototype=Object.create(J.default.prototype);La.prototype.constructor=La;Ua.prototype=Object.create(J.default.prototype);
Ua.prototype.constructor=Ua;lb.prototype=Object.create(J.default.prototype);lb.prototype.constructor=lb;var xc=ob("alpha",!0),Mc=ob("blendMode",!0),yc=ob("visible",!0),Dc=ob("clip",!0),zc=ob("maskVisible",!0),Cc=ob("name",!1),aa=ob("lockAlpha",!1),Ba=ob("maskLinked",!1);Ab.prototype=Object.create(J.default.prototype);Ab.prototype.constructor=Ab;var Na=function(U){function ha(){E(this,ha);var ba=Ca.call(this);ba.layer=Va;ba.fromSelection=eb.getSelection();ba.fromMaskMode=rb;ba.movingWholeLayer=ba.fromSelection.isEmpty();
ba.movingImage=!rb||ba.movingWholeLayer&&ba.layer.maskLinked;ba.movingMask=rb||ba.movingWholeLayer&&ba.layer.maskLinked;ba.hasFullUndo=!1;ba.erasesSourceRect=!1;ba.dstRect=new Y.default(0,0,0,0);ba.movingLayers=[{layer:ba.layer,moveImage:ba.layer instanceof A.default&&ba.movingImage,moveMask:null!==ba.layer.mask&&ba.movingMask,imageRect:new Map,maskRect:new Map}];ba.layer instanceof C.default&&ba.movingImage&&ba.movingWholeLayer&&(ba.movingLayers=ba.movingLayers.concat(ba.layer.getLinearizedLayerList(!1).map(function(Ka){return{layer:Ka,
moveImage:Ka instanceof A.default,moveMask:null!==Ka.mask&&Ka.maskLinked,imageRect:new Map,maskRect:new Map}})));var wa=new Y.default(0,0,0,0);if(ba.movingWholeLayer){ba.srcRect=eb.getBounds();for(var Ia=0;Ia<ba.movingLayers.length&&!wa.equals(ba.srcRect);Ia++){var Wa=ba.movingLayers[Ia];Wa.moveMask&&wa.union(Wa.layer.mask.getValueBounds(ba.srcRect,255));Wa.moveImage&&wa.union(Wa.layer.image.getNonTransparentBounds(ba.srcRect))}}else for(ba.srcRect=ba.fromSelection.clone(),Ia=0;Ia<ba.movingLayers.length&&
!wa.equals(ba.srcRect);Ia++)Wa=ba.movingLayers[Ia],Wa.moveMask&&wa.union(Wa.layer.mask.getValueBounds(ba.srcRect,0)),Wa.moveImage&&wa.union(Wa.layer.image.getNonTransparentBounds(ba.srcRect));ba.srcRect=wa;return ba}w(ha,U);var Ca=l(ha);d(ha,[{key:"undo",value:function(){var ba=this,wa=[];this.dstRect.isEmpty()||wa.push(this.dstRect);this.erasesSourceRect&&(wa.push(this.srcRect),wa=Y.default.union(wa));this.movingLayers.forEach(function(Ia){ba.hasFullUndo?wa.forEach(function(Wa){Ia.moveImage&&Ia.layer.image.copyBitmapRect(Ia.imageUndo,
Wa.left,Wa.top,Wa);Ia.moveMask&&Ia.layer.mask.copyBitmapRect(Ia.maskUndo,Wa.left,Wa.top,Wa)}):(Ia.moveImage&&Ia.imageRect.forEach(function(Wa,Ka){Ia.layer.image.copyBitmapRect(Wa,Ka.left,Ka.top,Wa.getBounds())}),Ia.moveMask&&Ia.maskRect.forEach(function(Wa,Ka){Ia.layer.mask.copyBitmapRect(Wa,Ka.left,Ka.top,Wa.getBounds())}))});sa(this.movingLayers.map(function(Ia){return Ia.layer}),wa.reduce(function(Ia,Wa){return Ia.getUnion(Wa)},new Y.default(0,0,0,0)),!0,!0);this.dstRect.makeEmpty();eb.setSelection(this.fromSelection);
eb.setActiveLayer(this.layer,this.fromMaskMode);ua()}},{key:"getMemoryUsed",value:function(ba,wa){return this.movingLayers.map(function(Ia){return[Ia.imageUndo,Ia.maskUndo,Ia.imageRect,Ia.maskRect].map(function(Wa){return Wa?Wa.getMemorySize():0}).reduce(e,0)}).reduce(e,0)}},{key:"buildFullUndo",value:function(){this.hasFullUndo||(this.movingLayers.forEach(function(ba){ba.moveImage&&(ba.imageUndo=ba.layer.image.clone());ba.moveMask&&(ba.maskUndo=ba.layer.mask.clone());ba.imageRect.clear();ba.maskRect.clear()}),
this.hasFullUndo=!0)}},{key:"compact",value:function(){if(this.hasFullUndo){var ba=[];this.dstRect.isEmpty()||ba.push(this.dstRect);this.erasesSourceRect&&(ba.push(this.srcRect),ba=Y.default.union(ba));this.movingLayers.forEach(function(wa){wa.imageRect.clear();wa.maskRect.clear();ba.forEach(function(Ia){wa.moveImage&&wa.imageRect.set(Ia,wa.imageUndo.cloneRect(Ia));wa.moveMask&&wa.maskRect.set(Ia,wa.maskUndo.cloneRect(Ia))});wa.imageUndo=null;wa.maskUndo=null});this.hasFullUndo=!1}}}]);return ha}(J.default),
ab=function(U){function ha(ba,wa){E(this,ha);var Ia=Ca.call(this);Ia.erasesSourceRect=!0;Ia.affineTransform=ba.clone();Ia.interpolation=wa||"smooth";Ia.composeCanvas=null;Ia.composeCanvasContext=null;return Ia}w(ha,U);var Ca=l(ha);d(ha,[{key:"buildFullUndo",value:function(){var ba=this;this.hasFullUndo||(v(r(ha.prototype),"buildFullUndo",this).call(this),this.movingLayers.forEach(function(wa){if(wa.moveImage){var Ia=(0,ja.createCanvas)(ba.srcRect.getWidth(),ba.srcRect.getHeight());Ia.getContext("2d").putImageData(wa.layer.image.getImageData(),
-ba.srcRect.left,-ba.srcRect.top,ba.srcRect.left,ba.srcRect.top,ba.srcRect.getWidth(),ba.srcRect.getHeight());wa.imageSourceCanvas=Ia}wa.moveMask&&(Ia=(0,ja.createCanvas)(ba.srcRect.getWidth(),ba.srcRect.getHeight()),Ia.getContext("2d").putImageData(wa.layer.mask.getImageData(ba.srcRect.left,ba.srcRect.top,ba.srcRect.getWidth(),ba.srcRect.getHeight()),0,0),wa.maskSourceCanvas=Ia)}),this.composeCanvas=(0,ja.createCanvas)(eb.width,eb.height),this.composeCanvasContext=this.composeCanvas.getContext("2d",
{willReadFrequently:!0}),(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.junk=this.composeCanvasContext.getImageData(0,0,1,1))}},{key:"redo",value:function(){var ba=this;this.buildFullUndo();var wa=this.dstRect.clone(),Ia=this.srcRect.toPoints();this.affineTransform.transformPoints(Ia);this.dstRect.set(Y.default.createBoundingBox(Ia).roundContain().clipTo(eb.getBounds()));var Wa=Y.default.subtract(this.dstRect,this.srcRect),Ka=Y.default.subtract(wa.isEmpty()?
this.srcRect:this.srcRect.getIntersection(wa),this.dstRect),$a=this.srcRect.getIntersection(this.dstRect),bb=Y.default.subtract(wa,[this.dstRect,this.srcRect]);wa=this.srcRect.getUnion(this.dstRect).getUnion(wa);this.movingLayers.forEach(function(jb){Ka.forEach(function(Db){jb.moveImage&&jb.layer.image.clearRect(Db,16777215);jb.moveMask&&(ba.movingWholeLayer?jb.layer.mask.clearRect(Db,255):jb.layer.mask.clearRect(Db,0))});if(!ba.dstRect.isEmpty()){if(jb.moveImage){var Lb=jb.imageUndo.getImageData();
Wa.forEach(function(Db){ba.composeCanvasContext.putImageData(Lb,0,0,Db.left,Db.top,Db.getWidth(),Db.getHeight())});ba.composeCanvasContext.clearRect($a.left,$a.top,$a.getWidth(),$a.getHeight());ba.composeCanvasContext.save();ba.composeCanvasContext.setTransform(ba.affineTransform.m[0],ba.affineTransform.m[1],ba.affineTransform.m[2],ba.affineTransform.m[3],ba.affineTransform.m[4],ba.affineTransform.m[5]);ba.composeCanvasContext.drawImage(jb.imageSourceCanvas,ba.srcRect.left,ba.srcRect.top);ba.composeCanvasContext.restore();
jb.layer.image.copyBitmapRect(new G.default(ba.composeCanvasContext.getImageData(ba.dstRect.left,ba.dstRect.top,ba.dstRect.getWidth(),ba.dstRect.getHeight())),ba.dstRect.left,ba.dstRect.top,new Y.default(0,0,ba.dstRect.getWidth(),ba.dstRect.getHeight()))}jb.moveMask&&(Wa.forEach(function(Db){ba.composeCanvasContext.putImageData(jb.layer.mask.getImageData(Db.left,Db.top,Db.getWidth(),Db.getHeight()),Db.left,Db.top)}),ba.composeCanvasContext.fillStyle=ba.movingWholeLayer?"#FFF":"#000",ba.composeCanvasContext.fillRect($a.left,
$a.top,$a.getWidth(),$a.getHeight()),ba.composeCanvasContext.save(),ba.composeCanvasContext.setTransform(ba.affineTransform.m[0],ba.affineTransform.m[1],ba.affineTransform.m[2],ba.affineTransform.m[3],ba.affineTransform.m[4],ba.affineTransform.m[5]),ba.composeCanvasContext.drawImage(jb.maskSourceCanvas,ba.srcRect.left,ba.srcRect.top),ba.composeCanvasContext.restore(),jb.layer.mask.pasteImageData(ba.composeCanvasContext.getImageData(ba.dstRect.left,ba.dstRect.top,ba.dstRect.getWidth(),ba.dstRect.getHeight()),
ba.dstRect.left,ba.dstRect.top))}bb.forEach(function(Db){jb.moveImage&&jb.layer.image.copyBitmapRect(jb.imageUndo,Db.left,Db.top,Db);jb.moveMask&&jb.layer.mask.copyBitmapRect(jb.maskUndo,Db.left,Db.top,Db)})});sa(this.movingLayers.map(function(jb){return jb.layer}),wa,!0,!0);this.fromSelection.isEmpty()||(wa=this.fromSelection.toPoints(),this.affineTransform.transformPoints(wa),wa=Y.default.createBoundingBox(wa),wa.roundNearest(),eb.setSelection(wa),ua());eb.setActiveLayer(this.layer,this.fromMaskMode)}},
{key:"amend",value:function(ba){this.hasFullUndo||this.undo();this.affineTransform=ba.clone();this.redo()}},{key:"setInterpolation",value:function(ba){ba!=this.interpolation&&(this.interpolation=ba,this.composeCanvasContext&&(0,Q.setCanvasInterpolation)(this.composeCanvasContext,"smooth"==this.interpolation),this.undo(),this.redo())}},{key:"compact",value:function(){v(r(ha.prototype),"compact",this).call(this);this.composeCanvasContext=this.composeCanvas=null;this.movingLayers.forEach(function(ba){return ba.imageSourceCanvas=
null})}},{key:"getMemoryUsed",value:function(ba,wa){ba=v(r(ha.prototype),"getMemoryUsed",this).call(this,ba,wa);ba+=n(this.composeCanvas);return ba+=this.movingLayers.map(function(Ia){return n(Ia.imageSourceCanvas)}).reduce(e,0)}},{key:"getTransform",value:function(){return this.affineTransform.clone()}},{key:"getInitialTransformRect",value:function(){return this.srcRect.clone()}},{key:"getInitialSelectionRect",value:function(){return this.fromSelection.clone()}}]);return ha}(Na),mb=function(U){function ha(ba,
wa,Ia){E(this,ha);var Wa=Ca.call(this);Wa.offsetX=ba;Wa.offsetY=wa;Wa.erasesSourceRect=!Ia;return Wa}w(ha,U);var Ca=l(ha);d(ha,[{key:"redo",value:function(){var ba=this,wa=this.dstRect.clone(),Ia=wa.clone(),Wa=null;this.buildFullUndo();this.dstRect.set(this.srcRect);this.dstRect.translate(this.offsetX,this.offsetY);var Ka=this.dstRect.clone();this.dstRect.clipTo(eb.getBounds());if(this.erasesSourceRect){Wa=wa.isEmpty()?this.srcRect:this.srcRect.getIntersection(wa);Ia.union(Wa);var $a=wa.subtract(this.srcRect)}else $a=
[wa];this.movingLayers.forEach(function(bb){Wa&&(bb.moveImage&&bb.layer.image.clearRect(Wa,16777215),bb.moveMask&&bb.layer.mask.clearRect(Wa,ba.movingWholeLayer?255:0));$a.forEach(function(jb){bb.moveImage&&bb.layer.image.copyBitmapRect(bb.imageUndo,jb.left,jb.top,jb);bb.moveMask&&bb.layer.mask.copyBitmapRect(bb.maskUndo,jb.left,jb.top,jb)});bb.moveImage&&B.default.normalFuseImageOntoImageAtPosition(bb.layer.image,bb.imageUndo,Ka.left,Ka.top,ba.srcRect);bb.moveMask&&bb.layer.mask.copyBitmapRect(bb.maskUndo,
Ka.left,Ka.top,ba.srcRect)});Ia.union(this.dstRect);sa(this.movingLayers.map(function(bb){return bb.layer}),Ia,!0,!0);this.fromSelection.isEmpty()||(wa=this.fromSelection.clone(),wa.translate(this.offsetX,this.offsetY),eb.setSelection(wa),ua())}},{key:"amend",value:function(ba,wa){this.hasFullUndo||this.undo();this.offsetX+=ba;this.offsetY+=wa;this.redo()}}]);return ha}(Na);Pa.prototype=Object.create(J.default.prototype);Pa.prototype.constructor=Pa;Qa.prototype=Object.create(J.default.prototype);
Qa.prototype.constructor=Qa;bc=[za.CPBrushTool,za.CPBrushToolEraser,za.CPBrushToolDodge,za.CPBrushToolBurn,za.CPBrushToolWatercolor,za.CPBrushToolBlur,za.CPBrushToolSmudge,za.CPBrushToolOil].map(function(U){return new U(qc,jc)});this.width=ia;this.height=va}Object.defineProperty(D,"__esModule",{value:!0});D.default=u;var A=h(g("./CPImageLayer.js")),C=h(g("./CPLayerGroup.js")),B=h(g("./CPBlend.js"));g("./CPBlendAdditional.js");var I=h(g("./CPGreyBmp.js")),N=h(g("./CPBlendTree.js")),y=h(g("./CPMaskView.js")),
G=h(g("./CPColorBmp.js")),H=h(g("./CPBrushManager.js")),O=h(g("./CPBrushInfo.js")),J=h(g("./CPUndo.js")),R=h(g("./CPClip.js")),ea=h(g("../util/CPColor.js")),Y=h(g("../util/CPRect.js")),pa=h(g("../util/CPRandom.js")),ka=h(g("../util/CPTransform.js")),Q=g("../util/CPPolyfill.js"),ja=g("../util/Canvas.js"),na=h(g("wolfy87-eventemitter")),za=g("./CPBrushTool.js");u.prototype=Object.create(na.default.prototype);u.prototype.constructor=u;u.prototype.getBounds=function(){return new Y.default(0,0,this.width,
this.height)};u.prototype.isPointWithin=function(ia,va){return 0<=ia&&0<=va&&ia<this.width&&va<this.height};u.EDITING_MODE_IMAGE=0;u.EDITING_MODE_MASK=1;L.exports=D.default},{"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPRandom.js":62,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/Canvas.js":2,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPBlendTree.js":7,"./CPBrushInfo.js":8,"./CPBrushManager.js":9,"./CPBrushTool.js":10,"./CPClip.js":12,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,
"./CPImageLayer.js":15,"./CPLayerGroup.js":17,"./CPMaskView.js":19,"./CPUndo.js":22,"wolfy87-eventemitter":314}],4:[function(g,L,D){function z(v,E){this.width=v|0;this.height=E|0}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;var h=function(v){return v&&v.__esModule?v:{default:v}}(g("../util/CPRect.js"));z.prototype.getBounds=function(){return new h.default(0,0,this.width,this.height)};z.prototype.isInside=function(v,E){return 0<=v&&0<=E&&v<this.width&&E<this.height};L.exports=D.default},
{"../util/CPRect.js":63}],5:[function(g,L,D){function z(b){return b&&b.__esModule?b:{default:b}}function h(){}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;z(g("./CPColorBmp.js"));z(g("./CPGreyBmp.js"));z(g("./CPLayer.js"));z(g("../util/CPRect.js"));var v=Array(256),E=Array(256);h.multiplyOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=
d.data[a+3];if(c){var f=b.data[a];b.data[a]=f-((d.data[a]^255)*f*c/65025|0);f=b.data[a+1];b.data[a+1]=f-((d.data[a+1]^255)*f*c/65025|0);f=b.data[a+2];b.data[a+2]=f-((d.data[a+2]^255)*f*c/65025|0)}}};h.multiplyOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a];b.data[a]=p-((d.data[a]^255)*p*f/65025|0);p=b.data[a+
1];b.data[a+1]=p-((d.data[a+1]^255)*p*f/65025|0);p=b.data[a+2];b.data[a+2]=p-((d.data[a+2]^255)*p*f/65025|0)}}};h.multiplyOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*n+f*u+(c*f*e/255|0))/p|0;c=d.data[a+
1];f=b.data[a+1];b.data[a+1]=(c*n+f*u+(c*f*e/255|0))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*n+f*u+(c*f*e/255|0))/p|0;b.data[a+3]=p}}};h.multiplyOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=
(f*u+p*A+(f*p*n/255|0))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(f*u+p*A+(f*p*n/255|0))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(f*u+p*A+(f*p*n/255|0))/e|0;b.data[a+3]=e}}};h.multiplyOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k];
b.data[k]=n-((d.data[k]^255)*n*e/65025|0);n=b.data[k+1];b.data[k+1]=n-((d.data[k+1]^255)*n*e/65025|0);n=b.data[k+2];b.data[k+2]=n-((d.data[k+2]^255)*n*e/65025|0)}}};h.multiplyOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c];b.data[c]=
u-((d.data[c]^255)*u*n/65025|0);u=b.data[c+1];b.data[c+1]=u-((d.data[c+1]^255)*u*n/65025|0);u=b.data[c+2];b.data[c+2]=u-((d.data[c+2]^255)*u*n/65025|0)}}};h.multiplyOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k+3];var u=e+n-(e*n/255|
0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[k];n=b.data[k];b.data[k]=(e*C+n*B+(e*n*A/255|0))/u|0;e=d.data[k+1];n=b.data[k+1];b.data[k+1]=(e*C+n*B+(e*n*A/255|0))/u|0;e=d.data[k+2];n=b.data[k+2];b.data[k+2]=(e*C+n*B+(e*n*A/255|0))/u|0;b.data[k+3]=u}}};h.multiplyOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,
c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(n*B+u*I+(n*u*C/255|0))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(n*B+u*I+(n*u*C/255|0))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(n*B+u*I+(n*u*C/255|0))/A|0;b.data[c+3]=A}}};h.multiply2OntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-
l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a];b.data[a]=f-Math.ceil((d.data[a]^255)*f*c/65025);f=b.data[a+1];b.data[a+1]=f-Math.ceil((d.data[a+1]^255)*f*c/65025);f=b.data[a+2];b.data[a+2]=f-Math.ceil((d.data[a+2]^255)*f*c/65025)}}};h.multiply2OntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=
0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a];b.data[a]=p-Math.ceil((d.data[a]^255)*p*f/65025);p=b.data[a+1];b.data[a+1]=p-Math.ceil((d.data[a+1]^255)*p*f/65025);p=b.data[a+2];b.data[a+2]=p-Math.ceil((d.data[a+2]^255)*p*f/65025)}}};h.multiply2OntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=
c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*n+f*u+(c*f*e/255|0))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*n+f*u+(c*f*e/255|0))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*n+f*u+(c*f*e/255|0))/p|0;b.data[a+3]=p}}};h.multiply2OntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+
3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(f*u+p*A+(f*p*n/255|0))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(f*u+p*A+(f*p*n/255|0))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(f*u+p*A+(f*p*n/255|0))/e|0;b.data[a+3]=e}}};h.multiply2OntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k];b.data[k]=n-Math.ceil((d.data[k]^255)*n*e/65025);n=b.data[k+1];b.data[k+1]=n-Math.ceil((d.data[k+1]^255)*n*e/65025);n=b.data[k+2];b.data[k+2]=n-Math.ceil((d.data[k+2]^255)*n*e/65025)}}};h.multiply2OntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c];b.data[c]=u-Math.ceil((d.data[c]^255)*u*n/65025);u=b.data[c+1];b.data[c+1]=u-Math.ceil((d.data[c+1]^255)*u*n/65025);u=b.data[c+2];b.data[c+2]=u-Math.ceil((d.data[c+2]^255)*u*n/65025)}}};h.multiply2OntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[k];n=b.data[k];b.data[k]=(e*C+n*B+(e*n*A/255|0))/u|0;e=d.data[k+1];n=b.data[k+1];b.data[k+1]=(e*C+n*B+(e*n*A/255|0))/u|0;e=d.data[k+2];n=b.data[k+2];b.data[k+2]=(e*C+n*B+(e*n*A/255|0))/u|0;b.data[k+3]=u}}};h.multiply2OntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|
0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(n*B+u*I+(n*u*C/255|0))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(n*B+u*I+(n*u*C/255|0))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(n*B+u*I+(n*u*C/255|
0))/A|0;b.data[c+3]=A}}};h.normalOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c)if(255==c)b.data[a]=d.data[a],b.data[a+1]=d.data[a+1],b.data[a+2]=d.data[a+2];else{var f=255-c;var p=d.data[a];b.data[a]=(p*c+b.data[a]*f)/255|0;p=d.data[a+1];b.data[a+1]=(p*c+b.data[a+1]*f)/255|0;p=d.data[a+2];b.data[a+2]=(p*c+b.data[a+2]*f)/255|0}}};h.normalOntoOpaqueFusionWithTransparentLayer=
function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=255-f;var e=d.data[a];b.data[a]=(e*f+b.data[a]*p)/255|0;e=d.data[a+1];b.data[a+1]=(e*f+b.data[a+1]*p)/255|0;e=d.data[a+2];b.data[a+2]=(e*f+b.data[a+2]*p)/255|0}}};h.normalOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];f=c+f-(c*f/255|0)|0;c=255*c/f|0;var p=255-c;b.data[a]=(d.data[a]*c+b.data[a]*p)/255|0;b.data[a+1]=(d.data[a+1]*c+b.data[a+1]*p)/255|0;b.data[a+2]=(d.data[a+2]*c+b.data[a+2]*p)/255|0;b.data[a+3]=f}}};h.normalOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,
a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];p=f+p-(f*p/255|0)|0;f=255*f/p|0;var e=255-f;b.data[a]=(d.data[a]*f+b.data[a]*e)/255|0;b.data[a+1]=(d.data[a+1]*f+b.data[a+1]*e)/255|0;b.data[a+2]=(d.data[a+2]*f+b.data[a+2]*e)/255|0;b.data[a+3]=p}}};h.normalOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<
q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e)if(255==e)b.data[k]=d.data[k],b.data[k+1]=d.data[k+1],b.data[k+2]=d.data[k+2];else{var n=255-e;var u=d.data[k];b.data[k]=(u*e+b.data[k]*n)/255|0;u=d.data[k+1];b.data[k+1]=(u*e+b.data[k+1]*n)/255|0;u=d.data[k+2];b.data[k+2]=(u*e+b.data[k+2]*n)/255|0}}};h.normalOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=255-n;var A=d.data[c];b.data[c]=(A*n+b.data[c]*u)/255|0;A=d.data[c+1];b.data[c+1]=(A*n+b.data[c+1]*u)/255|0;A=d.data[c+2];b.data[c+2]=(A*n+b.data[c+2]*u)/255|0}}};h.normalOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=
0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k+3];n=e+n-(e*n/255|0)|0;e=255*e/n|0;var u=255-e;b.data[k]=(d.data[k]*e+b.data[k]*u)/255|0;b.data[k+1]=(d.data[k+1]*e+b.data[k+1]*u)/255|0;b.data[k+2]=(d.data[k+2]*e+b.data[k+2]*u)/255|0;b.data[k+3]=n}}};h.normalOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];u=n+u-(n*u/255|0)|0;n=255*n/u|0;var A=255-n;b.data[c]=(d.data[c]*n+b.data[c]*A)/255|0;b.data[c+1]=(d.data[c+1]*n+b.data[c+1]*A)/255|0;b.data[c+2]=(d.data[c+2]*n+b.data[c+2]*A)/255|0;b.data[c+3]=u}}};h.addOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=
0;k<l;k++,a+=4){var c=d.data[a+3];c&&(b.data[a]=b.data[a]+c*d.data[a]/255|0,b.data[a+1]=b.data[a+1]+c*d.data[a+1]/255|0,b.data[a+2]=b.data[a+2]+c*d.data[a+2]/255|0)}};h.addOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;f&&(b.data[a]=b.data[a]+f*d.data[a]/255|0,b.data[a+1]=b.data[a+1]+f*d.data[a+1]/255|0,b.data[a+2]=b.data[a+
2]+f*d.data[a+2]/255|0)}};h.addOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0;b.data[a]=(f*b.data[a]+c*d.data[a])/p|0;b.data[a+1]=(f*b.data[a+1]+c*d.data[a+1])/p|0;b.data[a+2]=(f*b.data[a+2]+c*d.data[a+2])/p|0;b.data[a+3]=p}}};h.addOntoTransparentFusionWithTransparentLayer=function(b,
d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0;b.data[a]=(p*b.data[a]+f*d.data[a])/e|0;b.data[a+1]=(p*b.data[a+1]+f*d.data[a+1])/e|0;b.data[a+2]=(p*b.data[a+2]+f*d.data[a+2])/e|0;b.data[a+3]=e}}};h.addOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,
a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;e&&(b.data[k]=b.data[k]+e*d.data[k]/255|0,b.data[k+1]=b.data[k+1]+e*d.data[k+1]/255|0,b.data[k+2]=b.data[k+2]+e*d.data[k+2]/255|0)}};h.addOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=
0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;n&&(b.data[c]=b.data[c]+n*d.data[c]/255|0,b.data[c+1]=b.data[c+1]+n*d.data[c+1]/255|0,b.data[c+2]=b.data[c+2]+n*d.data[c+2]/255|0)}};h.addOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+
3]*l.data[a]/255|0;if(e){var n=b.data[k+3];var u=e+n-(e*n/255|0)|0;b.data[k]=(n*b.data[k]+e*d.data[k])/u|0;b.data[k+1]=(n*b.data[k+1]+e*d.data[k+1])/u|0;b.data[k+2]=(n*b.data[k+2]+e*d.data[k+2])/u|0;b.data[k+3]=u}}};h.addOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+
3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0;b.data[c]=(u*b.data[c]+n*d.data[c])/A|0;b.data[c+1]=(u*b.data[c+1]+n*d.data[c+1])/A|0;b.data[c+2]=(u*b.data[c+2]+n*d.data[c+2])/A|0;b.data[c+3]=A}}};h.subtractOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];c&&(b.data[a]=b.data[a]+c*d.data[a]/255-c|0,b.data[a+1]=b.data[a+
1]+c*d.data[a+1]/255-c|0,b.data[a+2]=b.data[a+2]+c*d.data[a+2]/255-c|0)}};h.subtractOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;f&&(b.data[a]=b.data[a]+f*d.data[a]/255-f|0,b.data[a+1]=b.data[a+1]+f*d.data[a+1]/255-f|0,b.data[a+2]=b.data[a+2]+f*d.data[a+2]/255-f|0)}};h.subtractOntoTransparentFusionWithOpaqueLayer=function(b,
d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f;b.data[a]=(f*b.data[a]+c*d.data[a]-e)/p|0;b.data[a+1]=(f*b.data[a+1]+c*d.data[a+1]-e)/p|0;b.data[a+2]=(f*b.data[a+2]+c*d.data[a+2]-e)/p|0;b.data[a+3]=p}}};h.subtractOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|
0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p;b.data[a]=(p*b.data[a]+f*d.data[a]-n)/e|0;b.data[a+1]=(p*b.data[a+1]+f*d.data[a+1]-n)/e|0;b.data[a+2]=(p*b.data[a+2]+f*d.data[a+2]-n)/e|0;b.data[a+3]=e}}};h.subtractOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;e&&(b.data[k]=b.data[k]+e*d.data[k]/255-e|0,b.data[k+1]=b.data[k+1]+e*d.data[k+1]/255-e|0,b.data[k+2]=b.data[k+2]+e*d.data[k+2]/255-e|0)}};h.subtractOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,
c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;n&&(b.data[c]=b.data[c]+n*d.data[c]/255-n|0,b.data[c+1]=b.data[c+1]+n*d.data[c+1]/255-n|0,b.data[c+2]=b.data[c+2]+n*d.data[c+2]/255-n|0)}};h.subtractOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=
b.data[k+3];var u=e+n-(e*n/255|0)|0,A=e*n;b.data[k]=(n*b.data[k]+e*d.data[k]-A)/u|0;b.data[k+1]=(n*b.data[k+1]+e*d.data[k+1]-A)/u|0;b.data[k+2]=(n*b.data[k+2]+e*d.data[k+2]-A)/u|0;b.data[k+3]=u}}};h.subtractOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*
w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u;b.data[c]=(u*b.data[c]+n*d.data[c]-C)/A|0;b.data[c+1]=(u*b.data[c+1]+n*d.data[c+1]-C)/A|0;b.data[c+2]=(u*b.data[c+2]+n*d.data[c+2]-C)/A|0;b.data[c+3]=A}}};h.screenOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=b.data[a];b.data[a]=255^((p^255)*f+(d.data[a]^
255)*(p^255)*c/255)/255;p=b.data[a+1];b.data[a+1]=255^((p^255)*f+(d.data[a+1]^255)*(p^255)*c/255)/255;p=b.data[a+2];b.data[a+2]=255^((p^255)*f+(d.data[a+2]^255)*(p^255)*c/255)/255}}};h.screenOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=b.data[a];b.data[a]=255^((e^255)*p+(d.data[a]^255)*(e^255)*f/255)/
255;e=b.data[a+1];b.data[a+1]=255^((e^255)*p+(d.data[a+1]^255)*(e^255)*f/255)/255;e=b.data[a+2];b.data[a+2]=255^((e^255)*p+(d.data[a+2]^255)*(e^255)*f/255)/255}}};h.screenOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];
b.data[a]=255^((c^255)*n+(f^255)*u+(c^255)*(f^255)*e/255)/p;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=255^((c^255)*n+(f^255)*u+(c^255)*(f^255)*e/255)/p;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=255^((c^255)*n+(f^255)*u+(c^255)*(f^255)*e/255)/p;b.data[a+3]=p}}};h.screenOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=
b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=255^((f^255)*u+(p^255)*A+(f^255)*(p^255)*n/255)/e;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=255^((f^255)*u+(p^255)*A+(f^255)*(p^255)*n/255)/e;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=255^((f^255)*u+(p^255)*A+(f^255)*(p^255)*n/255)/e;b.data[a+3]=e}}};h.screenOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,
a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=e^255;var u=b.data[k];b.data[k]=255^((u^255)*n+(d.data[k]^255)*(u^255)*e/255)/255;u=b.data[k+1];b.data[k+1]=255^((u^255)*n+(d.data[k+1]^255)*(u^255)*e/255)/255;u=b.data[k+2];b.data[k+2]=255^((u^255)*n+(d.data[k+2]^255)*(u^255)*e/255)/255}}};h.screenOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|
0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=n^255;var A=b.data[c];b.data[c]=255^((A^255)*u+(d.data[c]^255)*(A^255)*n/255)/255;A=b.data[c+1];b.data[c+1]=255^((A^255)*u+(d.data[c+1]^255)*(A^255)*n/255)/255;A=b.data[c+2];b.data[c+2]=255^((A^255)*u+(d.data[c+2]^255)*(A^255)*n/255)/255}}};h.screenOntoTransparentFusionWithOpaqueLayerMasked=
function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[k];n=b.data[k];b.data[k]=255^((e^255)*C+(n^255)*B+(e^255)*(n^255)*A/255)/u;e=d.data[k+1];n=b.data[k+1];b.data[k+1]=255^((e^255)*C+(n^255)*B+(e^
255)*(n^255)*A/255)/u;e=d.data[k+2];n=b.data[k+2];b.data[k+2]=255^((e^255)*C+(n^255)*B+(e^255)*(n^255)*A/255)/u;b.data[k+3]=u}}};h.screenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,
B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=255^((n^255)*B+(u^255)*I+(n^255)*(u^255)*C/255)/A;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=255^((n^255)*B+(u^255)*I+(n^255)*(u^255)*C/255)/A;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=255^((n^255)*B+(u^255)*I+(n^255)*(u^255)*C/255)/A;b.data[c+3]=A}}};h.lightenOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=
0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=e>=p?e:(e*f+p*c)/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=e>=p?e:(e*f+p*c)/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=e>=p?e:(e*f+p*c)/255|0}}};h.lightenOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=
d.data[a];var n=b.data[a];b.data[a]=n>=e?n:(n*p+e*f)/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=n>=e?n:(n*p+e*f)/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=n>=e?n:(n*p+e*f)/255|0}}};h.lightenOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=f*(c^255)/p|0,n=e^255,u=c*(f^255)/p|0,A=
u^255;c=d.data[a];f=b.data[a];b.data[a]=(f>=c?c*u+f*A:f*e+c*n)/255|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(f>=c?c*u+f*A:f*e+c*n)/255|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(f>=c?c*u+f*A:f*e+c*n)/255|0;b.data[a+3]=p}}};h.lightenOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|
0)|0,n=p*(f^255)/e|0,u=n^255,A=f*(p^255)/e|0,C=A^255;f=d.data[a];p=b.data[a];b.data[a]=(p>=f?f*A+p*C:p*n+f*u)/255|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(p>=f?f*A+p*C:p*n+f*u)/255|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(p>=f?f*A+p*C:p*n+f*u)/255|0;b.data[a+3]=e}}};h.lightenOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,
a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=e^255;var u=d.data[k];var A=b.data[k];b.data[k]=A>=u?A:(A*n+u*e)/255|0;u=d.data[k+1];A=b.data[k+1];b.data[k+1]=A>=u?A:(A*n+u*e)/255|0;u=d.data[k+2];A=b.data[k+2];b.data[k+2]=A>=u?A:(A*n+u*e)/255|0}}};h.lightenOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=
0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=C>=A?C:(C*u+A*n)/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=C>=A?C:(C*u+A*n)/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=C>=A?C:(C*u+A*n)/255|0}}};h.lightenOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k+3];var u=e+n-(e*n/255|0)|0,A=n*(e^255)/u|0,C=A^255,B=e*(n^255)/u|0,I=B^255;e=d.data[k];n=b.data[k];b.data[k]=(n>=e?e*B+n*I:n*A+e*C)/255|0;e=d.data[k+1];n=b.data[k+1];b.data[k+1]=(n>=e?e*B+n*I:n*A+e*C)/255|0;e=d.data[k+2];n=b.data[k+2];b.data[k+2]=(n>=e?e*B+n*I:n*A+e*C)/255|0;b.data[k+3]=u}}};h.lightenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|
0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=u*(n^255)/A|0,B=C^255,I=n*(u^255)/A|0,N=I^255;n=d.data[c];u=b.data[c];b.data[c]=(u>=n?n*I+u*N:u*C+n*B)/255|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(u>=n?n*I+u*N:u*C+n*B)/255|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(u>=n?n*I+u*N:u*
C+n*B)/255|0;b.data[c+3]=A}}};h.darkenOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=e>=p?(e*f+p*c)/255|0:e;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=e>=p?(e*f+p*c)/255|0:e;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=e>=p?(e*f+p*c)/255|0:e}}};h.darkenOntoOpaqueFusionWithTransparentLayer=
function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=n>=e?(n*p+e*f)/255|0:n;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=n>=e?(n*p+e*f)/255|0:n;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=n>=e?(n*p+e*f)/255|0:n}}};h.darkenOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=
4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*(f^255)/p|0,n=e^255,u=f*(c^255)/p|0,A=u^255;c=d.data[a];f=b.data[a];b.data[a]=(f>=c?f*u+c*A:c*e+f*n)/255|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(f>=c?f*u+c*A:c*e+f*n)/255|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(f>=c?f*u+c*A:c*e+f*n)/255|0;b.data[a+3]=p}}};h.darkenOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=
a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*(p^255)/e|0,u=n^255,A=p*(f^255)/e|0,C=A^255;f=d.data[a];p=b.data[a];b.data[a]=(p>=f?p*A+f*C:f*n+p*u)/255|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(p>=f?p*A+f*C:f*n+p*u)/255|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(p>=f?p*A+f*C:f*n+p*u)/255|0;b.data[a+3]=e}}};h.darkenOntoOpaqueFusionWithOpaqueLayerMasked=
function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=e^255;var u=d.data[k];var A=b.data[k];b.data[k]=A>=u?(A*n+u*e)/255|0:A;u=d.data[k+1];A=b.data[k+1];b.data[k+1]=A>=u?(A*n+u*e)/255|0:A;u=d.data[k+2];A=b.data[k+2];b.data[k+2]=A>=u?(A*n+u*e)/255|0:A}}};h.darkenOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=C>=A?(C*u+A*n)/255|0:C;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=C>=A?(C*u+A*n)/255|0:C;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=C>=A?(C*u+A*n)/255|0:C}}};h.darkenOntoTransparentFusionWithOpaqueLayerMasked=
function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k+3];var u=e+n-(e*n/255|0)|0,A=e*(n^255)/u|0,C=A^255,B=n*(e^255)/u|0,I=B^255;e=d.data[k];n=b.data[k];b.data[k]=(n>=e?n*B+e*I:e*A+n*C)/255|0;e=d.data[k+1];n=b.data[k+1];b.data[k+1]=(n>=e?n*B+e*I:e*A+n*C)/255|0;e=d.data[k+2];n=b.data[k+
2];b.data[k+2]=(n>=e?n*B+e*I:e*A+n*C)/255|0;b.data[k+3]=u}}};h.darkenOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*(u^255)/A|0,B=C^255,I=u*(n^255)/A|0,N=I^255;n=d.data[c];u=b.data[c];b.data[c]=
(u>=n?u*I+n*N:n*C+u*B)/255|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(u>=n?u*I+n*N:n*C+u*B)/255|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(u>=n?u*I+n*N:n*C+u*B)/255|0;b.data[c+3]=A}}};h.dodgeOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(e*f+c*(255==p?255:Math.min(255,255*e/(p^
255)|0)))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(e*f+c*(255==p?255:Math.min(255,255*e/(p^255)|0)))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(e*f+c*(255==p?255:Math.min(255,255*e/(p^255)|0)))/255|0}}};h.dodgeOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=
(n*p+f*(255==e?255:Math.min(255,255*n/(e^255)|0)))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(n*p+f*(255==e?255:Math.min(255,255*n/(e^255)|0)))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(n*p+f*(255==e?255:Math.min(255,255*n/(e^255)|0)))/255|0}}};h.dodgeOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=
c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*n+f*u+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*n+f*u+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*n+f*u+e*(255==c?255:Math.min(255,255*f/(c^255)|0)))/p|0;b.data[a+3]=p}}};h.dodgeOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(f*u+p*A+n*(255==f?255:Math.min(255,255*p/(f^255)|0)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(f*u+p*A+n*(255==f?255:Math.min(255,255*p/(f^255)|0)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(f*u+p*A+n*(255==f?255:Math.min(255,255*p/(f^255)|0)))/e|0;b.data[a+3]=e}}};h.dodgeOntoOpaqueFusionWithOpaqueLayerMasked=
function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=e^255;var u=d.data[k];var A=b.data[k];b.data[k]=(A*n+e*(255==u?255:Math.min(255,255*A/(u^255)|0)))/255|0;u=d.data[k+1];A=b.data[k+1];b.data[k+1]=(A*n+e*(255==u?255:Math.min(255,255*A/(u^255)|0)))/255|0;u=d.data[k+2];A=b.data[k+2];b.data[k+
2]=(A*n+e*(255==u?255:Math.min(255,255*A/(u^255)|0)))/255|0}}};h.dodgeOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(C*u+n*(255==A?255:Math.min(255,255*C/(A^255)|0)))/255|0;A=d.data[c+1];
C=b.data[c+1];b.data[c+1]=(C*u+n*(255==A?255:Math.min(255,255*C/(A^255)|0)))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(C*u+n*(255==A?255:Math.min(255,255*C/(A^255)|0)))/255|0}}};h.dodgeOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k+
3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[k];n=b.data[k];b.data[k]=(e*C+n*B+A*(255==e?255:Math.min(255,255*n/(e^255)|0)))/u|0;e=d.data[k+1];n=b.data[k+1];b.data[k+1]=(e*C+n*B+A*(255==e?255:Math.min(255,255*n/(e^255)|0)))/u|0;e=d.data[k+2];n=b.data[k+2];b.data[k+2]=(e*C+n*B+A*(255==e?255:Math.min(255,255*n/(e^255)|0)))/u|0;b.data[k+3]=u}}};h.dodgeOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*
(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(n*B+u*I+C*(255==n?255:Math.min(255,255*u/(n^255)|0)))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(n*B+u*I+C*(255==n?255:Math.min(255,255*u/(n^255)|0)))/A|0;n=d.data[c+2];u=b.data[c+
2];b.data[c+2]=(n*B+u*I+C*(255==n?255:Math.min(255,255*u/(n^255)|0)))/A|0;b.data[c+3]=A}}};h.burnOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(e*f+c*(0==p?0:Math.min(255,255*(e^255)/p)^255))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(e*f+c*(0==p?0:Math.min(255,255*(e^255)/
p)^255))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(e*f+c*(0==p?0:Math.min(255,255*(e^255)/p)^255))/255|0}}};h.burnOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(n*p+f*(0==e?0:Math.min(255,255*(n^255)/e)^255))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(n*p+
f*(0==e?0:Math.min(255,255*(n^255)/e)^255))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(n*p+f*(0==e?0:Math.min(255,255*(n^255)/e)^255))/255|0}}};h.burnOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(c*
n+f*u+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(c*n+f*u+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(c*n+f*u+e*(0==c?0:Math.min(255,255*(f^255)/c)^255))/p|0;b.data[a+3]=p}}};h.burnOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=
b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(f*u+p*A+n*(0==f?0:Math.min(255,255*(p^255)/f)^255))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(f*u+p*A+n*(0==f?0:Math.min(255,255*(p^255)/f)^255))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(f*u+p*A+n*(0==f?0:Math.min(255,255*(p^255)/f)^255))/e|0;b.data[a+3]=e}}};h.burnOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-
q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=e^255;var u=d.data[k];var A=b.data[k];b.data[k]=(A*n+e*(0==u?0:Math.min(255,255*(A^255)/u)^255))/255|0;u=d.data[k+1];A=b.data[k+1];b.data[k+1]=(A*n+e*(0==u?0:Math.min(255,255*(A^255)/u)^255))/255|0;u=d.data[k+2];A=b.data[k+2];b.data[k+2]=(A*n+e*(0==u?0:Math.min(255,255*(A^255)/u)^255))/255|0}}};h.burnOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(C*u+n*(0==A?0:Math.min(255,255*(C^255)/A)^255))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(C*u+n*(0==A?0:Math.min(255,255*(C^255)/A)^255))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+
2]=(C*u+n*(0==A?0:Math.min(255,255*(C^255)/A)^255))/255|0}}};h.burnOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[k];n=b.data[k];b.data[k]=(e*C+n*B+
A*(0==e?0:Math.min(255,255*(n^255)/e)^255))/u|0;e=d.data[k+1];n=b.data[k+1];b.data[k+1]=(e*C+n*B+A*(0==e?0:Math.min(255,255*(n^255)/e)^255))/u|0;e=d.data[k+2];n=b.data[k+2];b.data[k+2]=(e*C+n*B+A*(0==e?0:Math.min(255,255*(n^255)/e)^255))/u|0;b.data[k+3]=u}}};h.burnOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=
0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(n*B+u*I+C*(0==n?0:Math.min(255,255*(u^255)/n)^255))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(n*B+u*I+C*(0==n?0:Math.min(255,255*(u^255)/n)^255))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(n*B+u*I+C*(0==n?0:Math.min(255,255*(u^255)/n)^255))/A|0;b.data[c+3]=A}}};h.overlayOntoOpaqueFusionWithOpaqueLayer=function(b,
d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=e?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=e?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+(127>=e?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0}}};h.overlayOntoOpaqueFusionWithTransparentLayer=
function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(p*n+(127>=n?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^255)))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+(127>=n?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^255)))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+(127>=n?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^
255)))/255|0}}};h.overlayOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+u*f+(127>=f?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+u*f+(127>=f?2*e*c*f/255:
e*(2*(c^255)*(f^255)/255^255)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+u*f+(127>=f?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;b.data[a+3]=p}}};h.overlayOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];
p=b.data[a];b.data[a]=(u*f+A*p+(127>=p?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(u*f+A*p+(127>=p?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(u*f+A*p+(127>=p?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;b.data[a+3]=e}}};h.overlayOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,
a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=e^255;var u=d.data[k];var A=b.data[k];b.data[k]=(n*A+(127>=A?2*e*u*A/255:e*(2*(u^255)*(A^255)/255^255)))/255|0;u=d.data[k+1];A=b.data[k+1];b.data[k+1]=(n*A+(127>=A?2*e*u*A/255:e*(2*(u^255)*(A^255)/255^255)))/255|0;u=d.data[k+2];A=b.data[k+2];b.data[k+2]=(n*A+(127>=A?2*e*u*A/255:e*(2*(u^255)*(A^255)/255^255)))/255|0}}};h.overlayOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,
a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(u*C+(127>=C?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+(127>=C?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+
2]=(u*C+(127>=C?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0}}};h.overlayOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[k];n=b.data[k];b.data[k]=
(C*e+B*n+(127>=n?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/u|0;e=d.data[k+1];n=b.data[k+1];b.data[k+1]=(C*e+B*n+(127>=n?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/u|0;e=d.data[k+2];n=b.data[k+2];b.data[k+2]=(C*e+B*n+(127>=n?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/u|0;b.data[k+3]=u}}};h.overlayOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|
0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(B*n+I*u+(127>=u?2*C*n*u/255:C*(2*(n^255)*(u^255)/255^255)))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(B*n+I*u+(127>=u?2*C*n*u/255:C*(2*(n^255)*(u^255)/255^255)))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(B*n+I*u+(127>=u?2*C*n*u/255:C*(2*(n^255)*(u^255)/255^255)))/
A|0;b.data[c+3]=A}}};h.hardLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=p?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=p?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+
2]=(f*e+(127>=p?2*c*p*e/255:c*(2*(p^255)*(e^255)/255^255)))/255|0}}};h.hardLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(p*n+(127>=e?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^255)))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+(127>=e?2*f*e*n/255:f*(2*(e^255)*
(n^255)/255^255)))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+(127>=e?2*f*e*n/255:f*(2*(e^255)*(n^255)/255^255)))/255|0}}};h.hardLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+u*f+(127>=
c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+u*f+(127>=c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+u*f+(127>=c?2*e*c*f/255:e*(2*(c^255)*(f^255)/255^255)))/p|0;b.data[a+3]=p}}};h.hardLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+
3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(u*f+A*p+(127>=f?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(u*f+A*p+(127>=f?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(u*f+A*p+(127>=f?2*n*f*p/255:n*(2*(f^255)*(p^255)/255^255)))/e|0;b.data[a+3]=e}}};h.hardLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=
a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=e^255;var u=d.data[k];var A=b.data[k];b.data[k]=(n*A+(127>=u?2*e*u*A/255:e*(2*(u^255)*(A^255)/255^255)))/255|0;u=d.data[k+1];A=b.data[k+1];b.data[k+1]=(n*A+(127>=u?2*e*u*A/255:e*(2*(u^255)*(A^255)/255^255)))/255|0;u=d.data[k+2];A=b.data[k+2];b.data[k+2]=(n*A+
(127>=u?2*e*u*A/255:e*(2*(u^255)*(A^255)/255^255)))/255|0}}};h.hardLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(u*C+(127>=A?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0;A=d.data[c+
1];C=b.data[c+1];b.data[c+1]=(u*C+(127>=A?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+(127>=A?2*n*A*C/255:n*(2*(A^255)*(C^255)/255^255)))/255|0}}};h.hardLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|
0;if(e){var n=b.data[k+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[k];n=b.data[k];b.data[k]=(C*e+B*n+(127>=e?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/u|0;e=d.data[k+1];n=b.data[k+1];b.data[k+1]=(C*e+B*n+(127>=e?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/u|0;e=d.data[k+2];n=b.data[k+2];b.data[k+2]=(C*e+B*n+(127>=e?2*A*e*n/255:A*(2*(e^255)*(n^255)/255^255)))/u|0;b.data[k+3]=u}}};h.hardLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=
a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(B*n+I*u+(127>=n?2*C*n*u/255:C*(2*(n^255)*(u^255)/255^255)))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(B*n+I*u+(127>=n?2*C*n*u/255:C*(2*(n^
255)*(u^255)/255^255)))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(B*n+I*u+(127>=n?2*C*n*u/255:C*(2*(n^255)*(u^255)/255^255)))/A|0;b.data[c+3]=A}}};h.softLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+c*(127>=p?((2*p-255)*v[e]/255|0)+e:((2*p-255)*E[e]/255|0)+e))/255|
0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+c*(127>=p?((2*p-255)*v[e]/255|0)+e:((2*p-255)*E[e]/255|0)+e))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+c*(127>=p?((2*p-255)*v[e]/255|0)+e:((2*p-255)*E[e]/255|0)+e))/255|0}}};h.softLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=
b.data[a];b.data[a]=(p*n+f*(127>=e?((2*e-255)*v[n]/255|0)+n:((2*e-255)*E[n]/255|0)+n))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+f*(127>=e?((2*e-255)*v[n]/255|0)+n:((2*e-255)*E[n]/255|0)+n))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+f*(127>=e?((2*e-255)*v[n]/255|0)+n:((2*e-255)*E[n]/255|0)+n))/255|0}}};h.softLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=
q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+u*f+(127>=c?e*(((2*c-255)*v[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+u*f+(127>=c?e*(((2*c-255)*v[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+u*f+(127>=c?e*(((2*c-255)*v[f]/255|0)+f):e*(((2*c-255)*E[f]/255|0)+f)))/p|0;b.data[a+
3]=p}}};h.softLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(u*f+A*p+(127>=f?n*(((2*f-255)*v[p]/255|0)+p):n*(((2*f-255)*E[p]/255|0)+p)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(u*
f+A*p+(127>=f?n*(((2*f-255)*v[p]/255|0)+p):n*(((2*f-255)*E[p]/255|0)+p)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(u*f+A*p+(127>=f?n*(((2*f-255)*v[p]/255|0)+p):n*(((2*f-255)*E[p]/255|0)+p)))/e|0;b.data[a+3]=e}}};h.softLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*
l.data[a]/255|0;if(e){var n=e^255;var u=d.data[k];var A=b.data[k];b.data[k]=(n*A+e*(127>=u?((2*u-255)*v[A]/255|0)+A:((2*u-255)*E[A]/255|0)+A))/255|0;u=d.data[k+1];A=b.data[k+1];b.data[k+1]=(n*A+e*(127>=u?((2*u-255)*v[A]/255|0)+A:((2*u-255)*E[A]/255|0)+A))/255|0;u=d.data[k+2];A=b.data[k+2];b.data[k+2]=(n*A+e*(127>=u?((2*u-255)*v[A]/255|0)+A:((2*u-255)*E[A]/255|0)+A))/255|0}}};h.softLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-
r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(u*C+n*(127>=A?((2*A-255)*v[C]/255|0)+C:((2*A-255)*E[C]/255|0)+C))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+n*(127>=A?((2*A-255)*v[C]/255|0)+C:((2*A-255)*E[C]/255|0)+C))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+n*(127>=A?((2*A-255)*v[C]/
255|0)+C:((2*A-255)*E[C]/255|0)+C))/255|0}}};h.softLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[k];n=b.data[k];b.data[k]=(C*e+B*n+(127>=e?A*
(((2*e-255)*v[n]/255|0)+n):A*(((2*e-255)*E[n]/255|0)+n)))/u|0;e=d.data[k+1];n=b.data[k+1];b.data[k+1]=(C*e+B*n+(127>=e?A*(((2*e-255)*v[n]/255|0)+n):A*(((2*e-255)*E[n]/255|0)+n)))/u|0;e=d.data[k+2];n=b.data[k+2];b.data[k+2]=(C*e+B*n+(127>=e?A*(((2*e-255)*v[n]/255|0)+n):A*(((2*e-255)*E[n]/255|0)+n)))/u|0;b.data[k+3]=u}}};h.softLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-
r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(B*n+I*u+(127>=n?C*(((2*n-255)*v[u]/255|0)+u):C*(((2*n-255)*E[u]/255|0)+u)))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(B*n+I*u+(127>=n?C*(((2*n-255)*v[u]/255|0)+u):C*(((2*n-255)*E[u]/255|0)+u)))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+
2]=(B*n+I*u+(127>=n?C*(((2*n-255)*v[u]/255|0)+u):C*(((2*n-255)*E[u]/255|0)+u)))/A|0;b.data[c+3]=A}}};h.vividLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+(127>=p?c*(0==p?0:255-Math.min(255,255*(255-e)/(2*p)|0)):c*(255==p?255:Math.min(255,255*e/(2*(255-p))|0))))/255|0;
p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+(127>=p?c*(0==p?0:255-Math.min(255,255*(255-e)/(2*p)|0)):c*(255==p?255:Math.min(255,255*e/(2*(255-p))|0))))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+(127>=p?c*(0==p?0:255-Math.min(255,255*(255-e)/(2*p)|0)):c*(255==p?255:Math.min(255,255*e/(2*(255-p))|0))))/255|0}}};h.vividLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=
r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(p*n+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):f*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):f*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+(127>=e?f*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):f*(255==
e?255:Math.min(255,255*n/(2*(255-e))|0))))/255|0}}};h.vividLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+u*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,
255*f/(2*(255-c))|0))))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+u*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,255*f/(2*(255-c))|0))))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+u*f+(127>=c?e*(0==c?0:255-Math.min(255,255*(255-f)/(2*c)|0)):e*(255==c?255:Math.min(255,255*f/(2*(255-c))|0))))/p|0;b.data[a+3]=p}}};h.vividLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,
a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(u*f+A*p+(127>=f?n*(0==f?0:255-Math.min(255,255*(255-p)/(2*f)|0)):n*(255==f?255:Math.min(255,255*p/(2*(255-f))|0))))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(u*f+A*p+(127>=f?n*(0==f?0:255-Math.min(255,255*(255-p)/(2*f)|0)):n*(255==f?255:Math.min(255,255*p/(2*(255-f))|0))))/e|0;f=d.data[a+
2];p=b.data[a+2];b.data[a+2]=(u*f+A*p+(127>=f?n*(0==f?0:255-Math.min(255,255*(255-p)/(2*f)|0)):n*(255==f?255:Math.min(255,255*p/(2*(255-f))|0))))/e|0;b.data[a+3]=e}}};h.vividLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=e^255;var u=d.data[k];
var A=b.data[k];b.data[k]=(n*A+(127>=u?e*(0==u?0:255-Math.min(255,255*(255-A)/(2*u)|0)):e*(255==u?255:Math.min(255,255*A/(2*(255-u))|0))))/255|0;u=d.data[k+1];A=b.data[k+1];b.data[k+1]=(n*A+(127>=u?e*(0==u?0:255-Math.min(255,255*(255-A)/(2*u)|0)):e*(255==u?255:Math.min(255,255*A/(2*(255-u))|0))))/255|0;u=d.data[k+2];A=b.data[k+2];b.data[k+2]=(n*A+(127>=u?e*(0==u?0:255-Math.min(255,255*(255-A)/(2*u)|0)):e*(255==u?255:Math.min(255,255*A/(2*(255-u))|0))))/255|0}}};h.vividLightOntoOpaqueFusionWithTransparentLayerMasked=
function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(u*C+(127>=A?n*(0==A?0:255-Math.min(255,255*(255-C)/(2*A)|0)):n*(255==A?255:Math.min(255,255*C/(2*(255-A))|0))))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+(127>=A?n*(0==A?0:255-
Math.min(255,255*(255-C)/(2*A)|0)):n*(255==A?255:Math.min(255,255*C/(2*(255-A))|0))))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+(127>=A?n*(0==A?0:255-Math.min(255,255*(255-C)/(2*A)|0)):n*(255==A?255:Math.min(255,255*C/(2*(255-A))|0))))/255|0}}};h.vividLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=
0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[k];n=b.data[k];b.data[k]=(C*e+B*n+(127>=e?A*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):A*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/u|0;e=d.data[k+1];n=b.data[k+1];b.data[k+1]=(C*e+B*n+(127>=e?A*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):A*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/u|0;e=d.data[k+2];n=b.data[k+2];b.data[k+
2]=(C*e+B*n+(127>=e?A*(0==e?0:255-Math.min(255,255*(255-n)/(2*e)|0)):A*(255==e?255:Math.min(255,255*n/(2*(255-e))|0))))/u|0;b.data[k+3]=u}}};h.vividLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|
0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(B*n+I*u+(127>=n?C*(0==n?0:255-Math.min(255,255*(255-u)/(2*n)|0)):C*(255==n?255:Math.min(255,255*u/(2*(255-n))|0))))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(B*n+I*u+(127>=n?C*(0==n?0:255-Math.min(255,255*(255-u)/(2*n)|0)):C*(255==n?255:Math.min(255,255*u/(2*(255-n))|0))))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(B*n+I*u+(127>=n?C*(0==n?0:255-Math.min(255,255*(255-u)/(2*n)|0)):C*(255==n?255:Math.min(255,
255*u/(2*(255-n))|0))))/A|0;b.data[c+3]=A}}};h.linearLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=b.data[a];b.data[a]=(f*p+c*Math.min(255,Math.max(0,p+2*d.data[a]-255)))/255|0;p=b.data[a+1];b.data[a+1]=(f*p+c*Math.min(255,Math.max(0,p+2*d.data[a+1]-255)))/255|0;p=b.data[a+2];b.data[a+2]=(f*p+c*Math.min(255,
Math.max(0,p+2*d.data[a+2]-255)))/255|0}}};h.linearLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=b.data[a];b.data[a]=(p*e+f*Math.min(255,Math.max(0,e+2*d.data[a]-255)))/255|0;e=b.data[a+1];b.data[a+1]=(p*e+f*Math.min(255,Math.max(0,e+2*d.data[a+1]-255)))/255|0;e=b.data[a+2];b.data[a+2]=(p*e+f*Math.min(255,
Math.max(0,e+2*d.data[a+2]-255)))/255|0}}};h.linearLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+u*f+e*Math.min(255,Math.max(0,f+2*c-255)))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+u*f+
e*Math.min(255,Math.max(0,f+2*c-255)))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+u*f+e*Math.min(255,Math.max(0,f+2*c-255)))/p|0;b.data[a+3]=p}}};h.linearLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];
p=b.data[a];b.data[a]=(u*f+A*p+n*Math.min(255,Math.max(0,p+2*f-255)))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(u*f+A*p+n*Math.min(255,Math.max(0,p+2*f-255)))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(u*f+A*p+n*Math.min(255,Math.max(0,p+2*f-255)))/e|0;b.data[a+3]=e}}};h.linearLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,
k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=e^255;var u=b.data[k];b.data[k]=(n*u+e*Math.min(255,Math.max(0,u+2*d.data[k]-255)))/255|0;u=b.data[k+1];b.data[k+1]=(n*u+e*Math.min(255,Math.max(0,u+2*d.data[k+1]-255)))/255|0;u=b.data[k+2];b.data[k+2]=(n*u+e*Math.min(255,Math.max(0,u+2*d.data[k+2]-255)))/255|0}}};h.linearLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,
a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=n^255;var A=b.data[c];b.data[c]=(u*A+n*Math.min(255,Math.max(0,A+2*d.data[c]-255)))/255|0;A=b.data[c+1];b.data[c+1]=(u*A+n*Math.min(255,Math.max(0,A+2*d.data[c+1]-255)))/255|0;A=b.data[c+2];b.data[c+2]=(u*A+n*Math.min(255,Math.max(0,A+2*d.data[c+2]-255)))/255|0}}};h.linearLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,
w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=b.data[k+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[k];n=b.data[k];b.data[k]=(C*e+B*n+A*Math.min(255,Math.max(0,n+2*e-255)))/u|0;e=d.data[k+1];n=b.data[k+1];b.data[k+1]=(C*e+B*n+A*Math.min(255,Math.max(0,n+2*
e-255)))/u|0;e=d.data[k+2];n=b.data[k+2];b.data[k+2]=(C*e+B*n+A*Math.min(255,Math.max(0,n+2*e-255)))/u|0;b.data[k+3]=u}}};h.linearLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=
n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(B*n+I*u+C*Math.min(255,Math.max(0,u+2*n-255)))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(B*n+I*u+C*Math.min(255,Math.max(0,u+2*n-255)))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+2]=(B*n+I*u+C*Math.min(255,Math.max(0,u+2*n-255)))/A|0;b.data[c+3]=A}}};h.pinLightOntoOpaqueFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=
0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=c^255;var p=d.data[a];var e=b.data[a];b.data[a]=(f*e+c*(e>=2*p?2*p:e<=2*p-255?2*p-255:e))/255|0;p=d.data[a+1];e=b.data[a+1];b.data[a+1]=(f*e+c*(e>=2*p?2*p:e<=2*p-255?2*p-255:e))/255|0;p=d.data[a+2];e=b.data[a+2];b.data[a+2]=(f*e+c*(e>=2*p?2*p:e<=2*p-255?2*p-255:e))/255|0}}};h.pinLightOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=
0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=f^255;var e=d.data[a];var n=b.data[a];b.data[a]=(p*n+f*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/255|0;e=d.data[a+1];n=b.data[a+1];b.data[a+1]=(p*n+f*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/255|0;e=d.data[a+2];n=b.data[a+2];b.data[a+2]=(p*n+f*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/255|0}}};h.pinLightOntoTransparentFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,
a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=b.data[a+3];var p=c+f-(c*f/255|0)|0,e=c*f/255|0,n=c*(f^255)/255|0,u=(c^255)*f/255|0;c=d.data[a];f=b.data[a];b.data[a]=(n*c+u*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/p|0;c=d.data[a+1];f=b.data[a+1];b.data[a+1]=(n*c+u*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/p|0;c=d.data[a+2];f=b.data[a+2];b.data[a+2]=(n*c+u*f+e*(f>=2*c?2*c:f<=2*c-255?2*c-255:f))/p|0;b.data[a+3]=p}}};h.pinLightOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=
a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=b.data[a+3];var e=f+p-(f*p/255|0)|0,n=f*p/255|0,u=f*(p^255)/255|0,A=(f^255)*p/255|0;f=d.data[a];p=b.data[a];b.data[a]=(u*f+A*p+n*(p>=2*f?2*f:p<=2*f-255?2*f-255:p))/e|0;f=d.data[a+1];p=b.data[a+1];b.data[a+1]=(u*f+A*p+n*(p>=2*f?2*f:p<=2*f-255?2*f-255:p))/e|0;f=d.data[a+2];p=b.data[a+2];b.data[a+2]=(u*f+A*p+n*(p>=2*f?2*f:p<=2*f-
255?2*f-255:p))/e|0;b.data[a+3]=e}}};h.pinLightOntoOpaqueFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;if(e){var n=e^255;var u=d.data[k];var A=b.data[k];b.data[k]=(n*A+e*(A>=2*u?2*u:A<=2*u-255?2*u-255:A))/255|0;u=d.data[k+1];A=b.data[k+1];b.data[k+1]=(n*A+e*(A>=2*u?
2*u:A<=2*u-255?2*u-255:A))/255|0;u=d.data[k+2];A=b.data[k+2];b.data[k+2]=(n*A+e*(A>=2*u?2*u:A<=2*u-255?2*u-255:A))/255|0}}};h.pinLightOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=n^255;var A=d.data[c];var C=b.data[c];b.data[c]=(u*C+n*
(C>=2*A?2*A:C<=2*A-255?2*A-255:C))/255|0;A=d.data[c+1];C=b.data[c+1];b.data[c+1]=(u*C+n*(C>=2*A?2*A:C<=2*A-255?2*A-255:C))/255|0;A=d.data[c+2];C=b.data[c+2];b.data[c+2]=(u*C+n*(C>=2*A?2*A:C<=2*A-255?2*A-255:C))/255|0}}};h.pinLightOntoTransparentFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++){var e=d.data[k+
3]*l.data[a]/255|0;if(e){var n=b.data[k+3];var u=e+n-(e*n/255|0)|0,A=e*n/255|0,C=e*(n^255)/255|0,B=(e^255)*n/255|0;e=d.data[k];n=b.data[k];b.data[k]=(C*e+B*n+A*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/u|0;e=d.data[k+1];n=b.data[k+1];b.data[k+1]=(C*e+B*n+A*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/u|0;e=d.data[k+2];n=b.data[k+2];b.data[k+2]=(C*e+B*n+A*(n>=2*e?2*e:n<=2*e-255?2*e-255:n))/u|0;b.data[k+3]=u}}};h.pinLightOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|
0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;if(n){var u=b.data[c+3];var A=n+u-(n*u/255|0)|0,C=n*u/255|0,B=n*(u^255)/255|0,I=(n^255)*u/255|0;n=d.data[c];u=b.data[c];b.data[c]=(B*n+I*u+C*(u>=2*n?2*n:u<=2*n-255?2*n-255:u))/A|0;n=d.data[c+1];u=b.data[c+1];b.data[c+1]=(B*n+I*u+C*(u>=2*n?2*n:u<=2*n-255?2*n-255:u))/A|0;n=d.data[c+2];u=b.data[c+2];b.data[c+
2]=(B*n+I*u+C*(u>=2*n?2*n:u<=2*n-255?2*n-255:u))/A|0;b.data[c+3]=A}}};h.passthroughOntoOpaqueFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3],p=w/100,e=1-p,n=f*p+255*e;b.data[a]=(d.data[a]*f*p+255*b.data[a]*e)/n|0;b.data[a+1]=(d.data[a+1]*f*p+255*b.data[a+1]*e)/n|0;b.data[a+2]=(d.data[a+2]*f*p+255*b.data[a+2]*e)/n|0;b.data[a+3]=n}};h.passthroughOntoOpaqueFusionWithOpaqueLayer=
h.passthroughOntoOpaqueFusionWithTransparentLayer;h.passthroughOntoTransparentFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3],p=b.data[a+3],e=w/100,n=1-e,u=f*e+p*n;b.data[a]=(d.data[a]*f*e+b.data[a]*p*n)/u|0;b.data[a+1]=(d.data[a+1]*f*e+b.data[a+1]*p*n)/u|0;b.data[a+2]=(d.data[a+2]*f*e+b.data[a+2]*p*n)/u|0;b.data[a+3]=u}};h.passthroughOntoTransparentFusionWithOpaqueLayer=
h.passthroughOntoTransparentFusionWithTransparentLayer;h.passthroughOntoOpaqueFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3],u=l.data[a]*w/25500,A=1-u,C=n*u+255*A;b.data[c]=(d.data[c]*n*u+255*b.data[c]*A)/C|0;b.data[c+1]=(d.data[c+1]*n*u+255*b.data[c+1]*A)/C|0;b.data[c+2]=(d.data[c+
2]*n*u+255*b.data[c+2]*A)/C|0;b.data[c+3]=C}};h.passthroughOntoOpaqueFusionWithOpaqueLayerMasked=h.passthroughOntoOpaqueFusionWithTransparentLayerMasked;h.passthroughOntoTransparentFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3],u=b.data[c+3],A=l.data[a]*w/25500,C=1-A,B=n*A+u*C;
b.data[c]=(d.data[c]*n*A+b.data[c]*u*C)/B|0;b.data[c+1]=(d.data[c+1]*n*A+b.data[c+1]*u*C)/B|0;b.data[c+2]=(d.data[c+2]*n*A+b.data[c+2]*u*C)/B|0;b.data[c+3]=B}};h.passthroughOntoTransparentFusionWithOpaqueLayerMasked=h.passthroughOntoTransparentFusionWithTransparentLayerMasked;h.replaceOntoFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|
0;b.data[a]=d.data[a];b.data[a+1]=d.data[a+1];b.data[a+2]=d.data[a+2];b.data[a+3]=f}};h.replaceOntoFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];b.data[a]=d.data[a];b.data[a+1]=d.data[a+1];b.data[a+2]=d.data[a+2];b.data[a+3]=c}};h.replaceOntoFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-
r)|0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++){var n=d.data[c+3]*l.data[a]*w/25500|0;b.data[c]=d.data[c];b.data[c+1]=d.data[c+1];b.data[c+2]=d.data[c+2];b.data[c+3]=n}};h.replaceOntoFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=
0;p<q;p++,k+=4,a++){var e=d.data[k+3]*l.data[a]/255|0;b.data[k]=d.data[k];b.data[k+1]=d.data[k+1];b.data[k+2]=d.data[k+2];b.data[k+3]=e}};h.replaceAlphaOntoFusionWithTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4)b.data[a+3]=d.data[a+3]*w/100|0};h.replaceAlphaOntoFusionWithTransparentLayerMasked=function(b,d,w,a,l){var q=a.getHeight()|0,r=a.getWidth()|0,k=4*(d.width-r)|
0,c=d.offsetOfPixel(a.left,a.top)|0,f=l.width-r|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var p=0;p<q;p++,c+=k,a+=f)for(var e=0;e<r;e++,c+=4,a++)b.data[c+3]=d.data[c+3]*l.data[a]*w/25500|0};h.replaceAlphaOntoFusionWithOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4)b.data[a+3]=d.data[a+3]};h.replaceAlphaOntoFusionWithOpaqueLayerMasked=function(b,d,w,a,l){w=a.getHeight()|0;var q=
a.getWidth()|0,r=4*(d.width-q)|0,k=d.offsetOfPixel(a.left,a.top)|0,c=l.width-q|0;a=l.offsetOfPixel(a.left,a.top)|0;for(var f=0;f<w;f++,k+=r,a+=c)for(var p=0;p<q;p++,k+=4,a++)b.data[k+3]=d.data[k+3]*l.data[a]/255|0};h.upgradeMultiplyOfOpaqueLayer=function(b,d,w,a){w=a.getHeight()|0;var l=a.getWidth()|0,q=4*(d.width-l)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var r=0;r<w;r++,a+=q)for(var k=0;k<l;k++,a+=4){var c=d.data[a+3];if(c){var f=d.data[a];var p=b.data[a];d.data[a]=f+Math.ceil((255-f)*p*c%65025/
(p*c));f=d.data[a+1];p=b.data[a+1];d.data[a+1]=f+Math.ceil((255-f)*p*c%65025/(p*c));f=d.data[a+2];p=b.data[a+2];d.data[a+2]=f+Math.ceil((255-f)*p*c%65025/(p*c))}}};h.upgradeMultiplyOfTransparentLayer=function(b,d,w,a){var l=a.getHeight()|0,q=a.getWidth()|0,r=4*(d.width-q)|0;a=d.offsetOfPixel(a.left,a.top)|0;for(var k=0;k<l;k++,a+=r)for(var c=0;c<q;c++,a+=4){var f=d.data[a+3]*w/100|0;if(f){var p=d.data[a];var e=b.data[a];d.data[a]=p+Math.ceil((255-p)*e*f%65025/(e*f));p=d.data[a+1];e=b.data[a+1];d.data[a+
1]=p+Math.ceil((255-p)*e*f%65025/(e*f));p=d.data[a+2];e=b.data[a+2];d.data[a+2]=p+Math.ceil((255-p)*e*f%65025/(e*f))}}};h._normalFuseImageOntoImageAtPosition=function(b,d,w,a,l,q){w=a.getHeight()|0;var r=a.getWidth()|0,k=4*(d.width-r)|0;a=d.offsetOfPixel(a.left,a.top)|0;var c=4*(b.width-r)|0;l=b.offsetOfPixel(l,q)|0;for(q=0;q<w;q++,a+=k,l+=c)for(var f=0;f<r;f++,a+=4,l+=4){var p=d.data[a+3];if(p){var e=b.data[l+3];e=p+e-(p*e/255|0)|0;p=255*p/e|0;var n=255-p;b.data[l]=(d.data[a]*p+b.data[l]*n)/255|
0;b.data[l+1]=(d.data[a+1]*p+b.data[l+1]*n)/255|0;b.data[l+2]=(d.data[a+2]*p+b.data[l+2]*n)/255|0;b.data[l+3]=e}}};h.LM_NORMAL=0;h.LM_MULTIPLY=1;h.LM_ADD=2;h.LM_SCREEN=3;h.LM_LIGHTEN=4;h.LM_DARKEN=5;h.LM_SUBTRACT=6;h.LM_DODGE=7;h.LM_BURN=8;h.LM_OVERLAY=9;h.LM_HARDLIGHT=10;h.LM_SOFTLIGHT=11;h.LM_VIVIDLIGHT=12;h.LM_LINEARLIGHT=13;h.LM_PINLIGHT=14;h.LM_PASSTHROUGH=15;h.LM_MULTIPLY2=16;h.LM_FIRST=0;h.LM_LAST=16;h.LM_LAST_CHIBIPAINT=h.LM_PINLIGHT;h.BLEND_MODE_CODENAMES="normal multiply add screen lighten darken subtract dodge burn overlay hardLight softLight vividLight linearLight pinLight passthrough multiply2".split(" ");
h.BLEND_MODE_DISPLAY_NAMES="Normal;Multiply;Add;Screen;Lighten;Darken;Subtract;Dodge;Burn;Overlay;Hard Light;Soft Light;Vivid Light;Linear Light;Pin Light;Passthrough;Multiply".split(";");(function(){for(var b=0;256>b;b++){var d=b/255;v[b]=255*(d-d*d)|0}for(b=0;256>b;b++)d=b/255,E[b]=255*(Math.sqrt(d)-d)|0})();L.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPLayer.js":16}],6:[function(g,L,D){function z(b){return b&&b.__esModule?b:{default:b}}var h=z(g("./CPBlend.js")),
v=z(g("../util/CPRect.js")),E=z(g("./CPColorBmp.js"));z(g("./CPGreyBmp.js"));h.default.blendFunctionNameForParameters=function(b,d,w,a){w=h.default.BLEND_MODE_CODENAMES[w]+"Onto";w=b?w+"TransparentFusion":w+"OpaqueFusion";w=100==d?w+"WithOpaqueLayer":w+"WithTransparentLayer";a&&(w+="Masked");return w};h.default.fuseImageOntoImage=function(b,d,w,a,l,q,r){0>=a||(d=h.default.blendFunctionNameForParameters(d,a,l,null!=r),q=b.getBounds().clipTo(q),this[d](b,w,a,q,r))};h.default.normalFuseImageOntoImageAtPosition=
function(b,d,w,a,l){l=l.clone();w=new v.default(w,a,0,0);b.getBounds().clipSourceDest(l,w);this._normalFuseImageOntoImageAtPosition(b,d,100,l,w.left,w.top)};h.default.multiplyAlphaBy=function(b,d){if(100>d)if(0==d)b.clearAll(0);else{b=b.data;for(var w=3;w<b.length;w+=4)b[w]=Math.round(b[w]*d/100)}};h.default.multiplyAlphaByMask=function(b,d,w){d/=25500;for(var a=E.default.ALPHA_BYTE_OFFSET,l=0;a<b.data.length;a+=E.default.BYTES_PER_PIXEL,l++)b.data[a]=Math.round(b.data[a]*w.data[l]*d)};h.default.copyAndMultiplyAlphaBy=
function(b,d,w,a){if(100==w)b.copyBitmapRect(d,a.left,a.top,a);else if(0==w)b.clearRect(a,0);else for(b=d.data,d=0;d<b.length;d+=4)b[d]=b[d],b[d+1]=b[d+1],b[d+2]=b[d+2],b[d+3]=Math.round(b[d+3]*w/100)}},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],7:[function(g,L,D){function z(r){return r&&r.__esModule?r:{default:r}}function h(r,k){var c="undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!c){if(Array.isArray(r)||(c=v(r))||k&&r&&"number"===typeof r.length){c&&
(r=c);var f=0;k=function(){};return{s:k,n:function(){return f>=r.length?{done:!0}:{done:!1,value:r[f++]}},e:function(u){throw u;},f:k}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var p=!0,e=!1,n;return{s:function(){c=c.call(r)},n:function(){var u=c.next();p=u.done;return u},e:function(u){e=!0;n=u},f:function(){try{p||null==c.return||c.return()}finally{if(e)throw n;}}}}function v(r,k){if(r){if("string"===
typeof r)return E(r,k);var c=Object.prototype.toString.call(r).slice(8,-1);"Object"===c&&r.constructor&&(c=r.constructor.name);if("Map"===c||"Set"===c)return Array.from(r);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return E(r,k)}}function E(r,k){if(null==k||k>r.length)k=r.length;for(var c=0,f=Array(k);c<k;c++)f[c]=r[c];return f}function b(r,k,c){c?(this.isGroup=c instanceof w.default,this.image=c.image,this.mask=c.getEffectiveMask(),this.layer=c,this.blendMode=c.blendMode,
this.alpha=c.alpha,this.visible=c.visible):(this.isGroup=!0,this.layer=this.mask=this.image=null,this.blendMode=d.default.LM_PASSTHROUGH,this.alpha=100,this.visible=!0);this.dirtyRect=new q.default(0,0,r,k);this.layers=[];this.parent=null;this.clip=!1}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(r,k,c,f){function p(){return 0<N.length?N.pop():new a.default(k,c)}function e(G){if(0==G.layers.length)return null;if(1==G.layers.length&&(null==G.mask||null==G.layers[0].mask)){var H=
G.layers[0];H.alpha=Math.round(G.alpha*H.alpha/100);G.blendMode!=d.default.LM_PASSTHROUGH&&(H.blendMode=G.blendMode);H.mask=G.mask||H.mask;G.layer&&y.set(G.layer,H);return H}if(G.blendMode==d.default.LM_PASSTHROUGH&&100==G.alpha&&null==G.mask)return G.layers;G.image=p();return G}function n(G){var H=new b(k,c,G);y.set(G,H);return H}function u(G){if(0==G.getEffectiveAlpha())return null;for(var H=n(G),O=0;O<G.layers.length;O++){var J=G.layers[O],R=G.layers[O+1];if(J instanceof l.default&&R&&R.clip){R=
new b(k,c,null);R.blendMode=J.blendMode;R.alpha=100;R.clip=!0;R.addChildren(n(J));for(O+=1;O<G.layers.length;O++)if(G.layers[O].clip)0<G.layers[O].getEffectiveAlpha()&&R.addChildren(n(G.layers[O]));else break;0<J.getEffectiveAlpha()&&H.addChildren(e(R));--O}else J instanceof w.default?H.addChildren(u(J)):0<J.getEffectiveAlpha()&&H.addChildren(n(J))}return e(H)}function A(G,H){G&&(G.dirtyRect.union(H),A(G.parent,H))}function C(G){if(G.isGroup){G.image&&N.push(G.image);G=h(G.layers);var H;try{for(G.s();!(H=
G.n()).done;)C(H.value)}catch(O){G.e(O)}finally{G.f()}}}function B(G){if(!G||!G.isGroup)return G;var H=G.dirtyRect,O=!0,J=!0;G.blendMode==d.default.LM_PASSTHROUGH&&G.parent&&H.union(G.parent.dirtyRect);if(H.isEmpty())return G;if(G.blendMode==d.default.LM_PASSTHROUGH&&G.parent){O=!1;var R=G.image,ea=G.parent.image;H.getWidth()==R.width&&H.getHeight()==R.height?R.copyPixelsFrom(ea):d.default.replaceOntoFusionWithOpaqueLayer(R,ea,100,H)}for(R=0;R<G.layers.length;R++){var Y=B(G.layers[R]);if(O){O=G.image;
ea=Y.image;var pa=Y.alpha,ka=H;Y=Y.mask;if(100!=pa||Y||ka.getWidth()!=O.width||ka.getHeight()!=O.height){var Q="replaceOntoFusionWith";Q=100==pa?Q+"OpaqueLayer":Q+"TransparentLayer";Y&&(Q+="Masked");d.default[Q](O,ea,pa,ka,Y)}else O.copyPixelsFrom(ea);O=!1}else J=J&&G.image.hasAlphaInRect(H),d.default.fuseImageOntoImage(G.image,J,Y.image,Y.alpha,Y.blendMode,H,Y.mask)}G.clip&&(J=G.layers[0],100>J.alpha?J.mask?d.default.replaceAlphaOntoFusionWithTransparentLayerMasked(G.image,J.image,J.alpha,H,J.mask):
d.default.replaceAlphaOntoFusionWithTransparentLayer(G.image,J.image,J.alpha,H):J.mask?d.default.replaceAlphaOntoFusionWithOpaqueLayerMasked(G.image,J.image,100,H,J.mask):d.default.replaceAlphaOntoFusionWithOpaqueLayer(G.image,J.image,100,H));G.dirtyRect.makeEmpty();return G}var I,N=[],y=new Map;this.invalidateLayerRect=function(G,H){G=y.get(G);A(G,H)};this.buildTree=function(){if(!I){I=u(r);if(!I)I=new b(k,c,{image:p(),blendMode:d.default.LM_NORMAL,alpha:100,getEffectiveMask:function(){return null},
visible:!0}),I.image.clearAll(0);else if(Array.isArray(I)||f&&(100>I.alpha||I.mask)){var G=I;I=new b(k,c);I.blendMode=Array.isArray(G)?d.default.LM_NORMAL:G.blendMode;I.alpha=100;I.image=p();I.addChildren(G)}N=[]}};this.resetTree=function(){I&&(C(I),I=null,y.clear())};this.layerPropertyChanged=function(G,H){var O=y.get(G);O&&O.visible==G.visible&&O.alpha==G.alpha&&null==O.mask==(null==G.getEffectiveMask())&&O.blendMode==d.default.LM_PASSTHROUGH==(G.blendMode==d.default.LM_PASSTHROUGH)&&"clip"!==H?
(O.blendMode=G.blendMode,A(O,new q.default(0,0,k,c))):this.resetTree()};this.blendTree=function(){return B(I)}};var d=z(g("./CPBlend.js"));g("./CPBlendAdditional.js");z(g("./CPLayer.js"));var w=z(g("./CPLayerGroup.js")),a=z(g("./CPColorBmp.js")),l=z(g("./CPImageLayer.js")),q=z(g("../util/CPRect.js"));b.prototype.addChildren=function(r){var k=this;null!=r&&(Array.isArray(r)?(r.forEach(function(c){return c.parent=k}),this.layers=this.layers.concat(r)):(r.parent=this,this.layers.push(r)))};L.exports=
D.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPBlendAdditional.js":6,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"./CPLayer.js":16,"./CPLayerGroup.js":17}],8:[function(g,L,D){function z(h){for(var v in z.DEFAULTS)z.DEFAULTS.hasOwnProperty(v)&&(this[v]=z.DEFAULTS[v]);for(v in h)h.hasOwnProperty(v)&&(this[v]=h[v])}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;z.STROKE_MODE_FREEHAND=0;z.STROKE_MODE_LINE=1;z.STROKE_MODE_BEZIER=2;z.TIP_ROUND_PIXEL=0;z.TIP_ROUND_AA=1;z.TIP_ROUND_AIRBRUSH=
2;z.TIP_SQUARE_PIXEL=3;z.TIP_SQUARE_AA=4;z.BRUSH_MODE_PAINT=0;z.BRUSH_MODE_ERASE=1;z.BRUSH_MODE_DODGE=2;z.BRUSH_MODE_BURN=3;z.BRUSH_MODE_WATER=4;z.BRUSH_MODE_BLUR=5;z.BRUSH_MODE_SMUDGE=6;z.BRUSH_MODE_OIL=7;z.PAINT_MODE_OPACITY=0;z.PAINT_MODE_FLOW=1;z.DEFAULTS={isAA:!1,minSpacing:0,spacing:0,pressureSize:!0,pressureAlpha:!1,pressureScattering:!1,alphaScale:1,tip:z.TIP_ROUND_PIXEL,brushMode:z.BRUSH_MODE_PAINT,paintMode:z.PAINT_MODE_OPACITY,strokeMode:z.STROKE_MODE_FREEHAND,resat:1,bleed:0,texture:1,
size:0,curSize:0,alpha:0,curAlpha:0,scattering:0,curScattering:0,squeeze:0,curSqueeze:0,angle:Math.PI,curAngle:0,smoothing:0};z.prototype.applyPressure=function(h){this.curSize=this.pressureSize&&this.brushMode!=z.BRUSH_MODE_SMUDGE&&this.brushMode!=z.BRUSH_MODE_OIL?Math.max(.1,this.size*h):Math.max(.1,this.size);16<this.curSize&&(this.curSize=Math.floor(this.curSize));this.curSize=Math.min(this.curSize,400);this.curAlpha=this.pressureAlpha?Math.floor(this.alpha*Math.min(h,1)):this.alpha;this.curSqueeze=
this.squeeze;this.curAngle=this.angle;this.curScattering=this.scattering*this.curSize*(this.pressureScattering?h:1)};z.prototype.clone=function(){return new z(this)};L.exports=D.default},{}],9:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){function v(c){if(null!=w&&c.curSize==a&&c.curSqueeze==l&&c.curAngle==q&&c.tip==r)return w;switch(c.tip){case z.default.TIP_ROUND_AIRBRUSH:for(var f=E,p=Math.ceil(c.curSize),e=p/2,n=c.curSize/2*(c.curSize/2),u=1+c.curSqueeze*
h,A=Math.cos(c.curAngle),C=Math.sin(c.curAngle),B=0,I=0;I<p;I++)for(var N=0;N<p;N++){var y=N+.5-e,G=I+.5-e,H=(y*A-G*C)*u;y=G*A+y*C;H=H*H+y*y;H<=n?f[B++]=~~(255*(1-H/n)):f[B++]=0}break;case z.default.TIP_ROUND_AA:f=E;p=Math.ceil(c.curSize);e=p/2;n=c.curSize/2*(c.curSize/2);u=(c.curSize-2)/2*((c.curSize-2)/2);A=(c.curSize+2)/2*((c.curSize+2)/2);C=1+c.curSqueeze*h;B=Math.cos(c.curAngle);I=Math.sin(c.curAngle);for(H=N=0;H<p;H++)for(y=0;y<p;y++){var O=y+.5-e,J=H+.5-e,R=(O*B-J*I)*C;O=J*B+O*I;R=R*R+O*O;
if(R<=u)f[N++]=255;else if(R>A)f[N++]=0;else{for(var ea=G=0;4>ea;ea++)for(var Y=0;4>Y;Y++)O=y+.25*Y-e,J=H+.25*ea-e,R=(O*B-J*I)*C,O=J*B+O*I,R=R*R+O*O,R<=n&&(G+=1);f[N++]=Math.min(16*G,255)}}break;case z.default.TIP_ROUND_PIXEL:f=E;p=Math.ceil(c.curSize);e=p/2;n=c.curSize/2*(c.curSize/2);u=1+c.curSqueeze*h;A=Math.cos(c.curAngle);C=Math.sin(c.curAngle);for(I=B=0;I<p;I++)for(N=0;N<p;N++)y=N+.5-e,G=I+.5-e,H=(y*A-G*C)*u,y=G*A+y*C,H*H+y*y<=n?f[B++]=255:f[B++]=0;break;case z.default.TIP_SQUARE_AA:f=E;p=Math.ceil(c.curSize);
e=p/2;u=c.curSize*Math.sin(Math.PI/4);n=u/2/(1+c.curSqueeze*h);u/=2;A=n-1;C=u-1;B=n+1;I=u+1;N=Math.cos(c.curAngle);H=Math.sin(c.curAngle);for(G=y=0;G<p;G++)for(ea=0;ea<p;ea++){var pa=ea+.5-e,ka=G+.5-e;Y=Math.abs(pa*N-ka*H);pa=Math.abs(ka*N+pa*H);if(Y<=A&&pa<=C)f[y++]=255;else if(Y>B||pa>I)f[y++]=0;else{for(O=R=0;4>O;O++)for(J=0;4>J;J++)pa=ea+.25*J-e,ka=G+.25*O-e,Y=Math.abs(pa*N-ka*H),pa=Math.abs(ka*N+pa*H),Y<=n&&pa<=u&&R++;f[y++]=Math.min(16*R,255)}}break;case z.default.TIP_SQUARE_PIXEL:for(f=E,p=
Math.ceil(c.curSize),e=p/2,u=c.curSize*Math.sin(Math.PI/4),n=u/2/(1+c.curSqueeze*h),u/=2,A=Math.cos(c.curAngle),C=Math.sin(c.curAngle),I=B=0;I<p;I++)for(N=0;N<p;N++)H=N+.5-e,y=I+.5-e,G=Math.abs(y*A+H*C),Math.abs(H*A-y*C)<=n&&G<=u?f[B++]=255:f[B++]=0}w=E;a=c.curSize;r=c.tip;l=c.curSqueeze;q=c.curAngle;return E}var E=new Uint8Array(160801),b=new Uint8Array(161604),d=[new Float32Array(402),new Float32Array(402)],w=null,a,l,q,r,k=this;this.getDab=function(c,f,p){var e={alpha:p.curAlpha,width:Math.ceil(p.curSize),
height:Math.ceil(p.curSize)},n=p.isAA&&p.tip!=z.default.TIP_ROUND_PIXEL;n&&(e.width++,e.height++);var u=c-e.width/2+.5,A=f-e.height/2+.5;f=Math.floor(u);c=Math.floor(A);if(n){var C=u-f,B=A-c;u=v(p);A=Math.ceil(p.curSize);n=Math.ceil(p.curSize)+1;var I=(1-C)*(1-B),N=C*(1-B),y=C*B,G=(1-C)*B,H=0;C=0;B=d[0];var O=d[1],J;B.fill(0);for(var R=0;R<A;R++){for(J=O[0]=0;J<A;J++,H++,C++){var ea=u[H];b[C]=B[J]+ea*I+.5|0;B[J+1]+=ea*N;O[J]+=ea*G;O[J+1]=ea*y}b[C++]=B[J]+.5|0;J=B;B=O;O=J}for(u=0;u<n;u++,C++)b[C]=
B[u]+.5|0;e.brush=b}else e.brush=v(p);e.x=f;e.y=c;if(0<p.texture&&null!=this.texture)for(e.brush==E&&(b.set(E),e.brush=b),p=Math.floor(255*p.texture),f=k.texture,c=e.x%f.width,n=e.y%f.height,u=0,0>c&&(c+=f.width),0>n&&(n+=f.height),N=0;N<e.height;N++){A=n*f.width+c;I=n*f.width+f.width;for(y=0;y<e.width;y++)e.brush[u]=~~(e.brush[u]*(f.data[A]*p/255^255)/255),u++,A++,A==I&&(A-=f.width);n++;n==f.height&&(n=0)}return e};this.setTexture=function(c){this.texture=c}};var z=function(v){return v&&v.__esModule?
v:{default:v}}(g("./CPBrushInfo.js")),h=10;L.exports=D.default},{"./CPBrushInfo.js":8}],10:[function(g,L,D){function z(A){return A&&A.__esModule?A:{default:A}}function h(A){"@babel/helpers - typeof";return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},h(A)}function v(A,C){if("function"!==typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");
A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,writable:!0,configurable:!0}});Object.defineProperty(A,"prototype",{writable:!1});C&&E(A,C)}function E(A,C){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,I){B.__proto__=I;return B};return E(A,C)}function b(A){var C=d();return function(){var B=w(A);if(C){var I=w(this).constructor;B=Reflect.construct(B,arguments,I)}else B=B.apply(this,arguments);if(!B||"object"!==h(B)&&"function"!==typeof B){if(void 0!==B)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");B=this}return B}}function d(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}function w(A){w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)};return w(A)}
function a(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function");}function l(A,C){for(var B=0;B<C.length;B++){var I=C[B];I.enumerable=I.enumerable||!1;I.configurable=!0;"value"in I&&(I.writable=!0);var N=Object,y=N.defineProperty;a:{var G=I.key;if("object"===h(G)&&null!==G){var H=G[Symbol.toPrimitive];if(void 0!==H){G=H.call(G,"string");if("object"!==h(G))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}G=String(G)}}G="symbol"===h(G)?G:String(G);
y.call(N,A,G,I)}}function q(A,C,B){C&&l(A.prototype,C);B&&l(A,B);Object.defineProperty(A,"prototype",{writable:!1});return A}function r(A){for(var C=0,B=0;B<A.length;B++)C+=A[B];return C/A.length}function k(A){for(var C=new n.default(0,0,0),B=0;B<A.length;B++){var I=A[B];C.r+=I.r;C.g+=I.g;C.b+=I.b}C.r/=A.length;C.g/=A.length;C.b/=A.length;return C}function c(A,C){var B=A.data;if(0<C.left)for(var I=C.top;I<C.bottom;I++){var N=I*A.width,y=N;N=B[N+C.left];for(var G=0;G<C.left;G++,y++)B[y]=N}if(C.right<
A.width)for(I=C.top;I<C.bottom;I++)for(y=I*A.width+C.right,N=B[y-1],G=C.right;G<A.width;G++,y++)B[y]=N;for(y=I=0;y<C.top;y++)for(N=C.top*A.width,G=0;G<A.width;G++,N++,I++)B[I]=B[N];I=C.bottom*A.width;for(y=C.bottom;y<A.width;y++)for(N=(C.bottom-1)*A.width,G=0;G<A.width;G++,N++,I++)B[I]=B[N]}Object.defineProperty(D,"__esModule",{value:!0});D.CPBrushToolWatercolor=D.CPBrushToolSmudge=D.CPBrushToolOil=D.CPBrushToolEraser=D.CPBrushToolDodge=D.CPBrushToolBurn=D.CPBrushToolBlur=D.CPBrushTool=void 0;var f=
z(g("./CPColorBmp.js")),p=z(g("./CPGreyBmp.js")),e=z(g("./CPBrushInfo.js")),n=z(g("../util/CPColorFloat.js"));g=D.CPBrushTool=function(){function A(C,B){a(this,A);this._strokeBuffer=C;this._strokedRegion=B;this.wantsOutputAsInput=!0}q(A,[{key:"paintDab",value:function(C,B,I,N,y,G,H){C=Math.max(1,Math.ceil(G.alpha*N.alphaScale));switch(N.paintMode){case e.default.PAINT_MODE_FLOW:this._paintFlow(y,B,G.brush,G.width,C);break;case e.default.PAINT_MODE_OPACITY:this._paintOpacity(y,B,G.brush,G.width,C)}}},
{key:"mergeOntoImage",value:function(C,B,I){var N=this._strokeBuffer.data,y=this._strokedRegion;B=B.data;var G=C.data,H=I>>16&255,O=I>>8&255;I&=255;var J=y.getWidth()|0,R=y.getHeight()|0,ea=this._strokeBuffer.offsetOfPixel(y.left,y.top);y=C.offsetOfPixel(y.left,y.top);var Y=this._strokeBuffer.width-J|0;C=(C.width-J)*f.default.BYTES_PER_PIXEL|0;for(var pa=0;pa<R;pa++,ea+=Y,y+=C)for(var ka=0;ka<J;ka++,ea++,y+=f.default.BYTES_PER_PIXEL){var Q=N[ea]/255+.5|0;if(0<Q){var ja=Q+B[y+f.default.ALPHA_BYTE_OFFSET]*
(255-Q)/255|0;Q=255*Q/ja|0;var na=255-Q;G[y]=(H*Q+B[y]*na)/255&255;G[y+1]=(O*Q+B[y+1]*na)/255&255;G[y+2]=(I*Q+B[y+2]*na)/255&255;G[y+3]=ja}}}},{key:"mergeOntoMask",value:function(C,B,I){var N=this._strokeBuffer.data,y=this._strokedRegion;B=B.data;var G=C.data,H=y.getWidth()|0,O=y.getHeight()|0,J=C.offsetOfPixel(y.left,y.top);y=this._strokeBuffer.offsetOfPixel(y.left,y.top);var R=this._strokeBuffer.width-H|0;C=C.width-H|0;for(var ea=0;ea<O;ea++,y+=R,J+=C)for(var Y=0;Y<H;Y++,y++,J++){var pa=N[y]/255|
0;0<pa&&(G[J]=(I*pa+B[J]*(255-pa))/255)}}},{key:"_paintFlow",value:function(C,B,I,N,y){var G=this._strokeBuffer.data;C=C.left+C.top*N;var H=this._strokeBuffer.offsetOfPixel(B.left,B.top),O=B.getHeight(),J=B.getWidth();N-=J;var R=this._strokeBuffer.width-J;this._strokedRegion.union(B);for(B=0;B<O;B++,C+=N,H+=R)for(var ea=0;ea<J;ea++,C++,H++){var Y=I[C]*y;0!=Y&&(G[H]=Math.min(65025,G[H]+(255-G[H]/255)*Y/255))}}},{key:"_paintOpacity",value:function(C,B,I,N,y){var G=this._strokeBuffer.data;C=C.left+C.top*
N;var H=this._strokeBuffer.offsetOfPixel(B.left,B.top),O=B.getWidth();N-=O;var J=this._strokeBuffer.width-O;y=Math.min(255,y);this._strokedRegion.union(B);for(var R=B.top;R<B.bottom;R++,C+=N,H+=J)for(var ea=0;ea<O;ea++,C++,H++)G[H]=Math.max(I[C]*y,G[H])}},{key:"beginStroke",value:function(){}},{key:"endStroke",value:function(){}}]);return A}();D.CPBrushToolEraser=function(A){function C(){a(this,C);return B.apply(this,arguments)}v(C,A);var B=b(C);q(C,[{key:"mergeOntoImage",value:function(I,N,y){y=
this._strokeBuffer.data;var G=this._strokedRegion;N=N.data;for(var H=I.data,O=G.top;O<G.bottom;O++)for(var J=I.offsetOfPixel(G.left,O)+f.default.ALPHA_BYTE_OFFSET,R=this._strokeBuffer.offsetOfPixel(G.left,O),ea=G.left;ea<G.right;ea++,J+=f.default.BYTES_PER_PIXEL){var Y=y[R++]/255|0;0<Y&&(H[J]=N[J]*(255-Y)/255)}}}]);return C}(g);D.CPBrushToolDodge=function(A){function C(){a(this,C);return B.apply(this,arguments)}v(C,A);var B=b(C);q(C,[{key:"mergeOntoImage",value:function(I,N,y){y=this._strokeBuffer.data;
var G=this._strokedRegion,H=G.getWidth(),O=G.getHeight(),J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=(I.width-H)*f.default.BYTES_PER_PIXEL,ea=this._strokeBuffer.width-H;N=N.data;I=I.data;for(var Y=0;Y<O;Y++,G+=ea,J+=R)for(var pa=0;pa<H;pa++,G++,J+=f.default.BYTES_PER_PIXEL){var ka=y[G]/255|0;0<ka&&0!=N[J+f.default.ALPHA_BYTE_OFFSET]&&(ka=(ka+255)/255,I[J+f.default.RED_BYTE_OFFSET]=N[J+f.default.RED_BYTE_OFFSET]*ka,I[J+f.default.GREEN_BYTE_OFFSET]=N[J+f.default.GREEN_BYTE_OFFSET]*
ka,I[J+f.default.BLUE_BYTE_OFFSET]=N[J+f.default.BLUE_BYTE_OFFSET]*ka)}}},{key:"mergeOntoMask",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),O=G.getHeight(),J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=I.width-H,ea=this._strokeBuffer.width-H;N=N.data;I=I.data;for(var Y=0;Y<O;Y++,G+=ea,J+=R)for(var pa=0;pa<H;pa++,G++,J++){var ka=y[G]/255|0;0<ka&&(I[J]=Math.min((ka+255)/255*N[J],255))}}}]);return C}(g);D.CPBrushToolBurn=
function(A){function C(){a(this,C);return B.apply(this,arguments)}v(C,A);var B=b(C);q(C,[{key:"mergeOntoImage",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),O=G.getHeight(),J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=(I.width-H)*f.default.BYTES_PER_PIXEL,ea=this._strokeBuffer.width-H;N=N.data;I=I.data;for(var Y=0;Y<O;Y++,G+=ea,J+=R)for(var pa=0;pa<H;pa++,G++,J+=f.default.BYTES_PER_PIXEL){var ka=y[G]/255|0;0<ka&&
0!=N[J+f.default.ALPHA_BYTE_OFFSET]&&(I[J+f.default.RED_BYTE_OFFSET]=N[J+f.default.RED_BYTE_OFFSET]-(260-N[J+f.default.RED_BYTE_OFFSET])*ka/255|0,I[J+f.default.GREEN_BYTE_OFFSET]=N[J+f.default.GREEN_BYTE_OFFSET]-(260-N[J+f.default.GREEN_BYTE_OFFSET])*ka/255|0,I[J+f.default.BLUE_BYTE_OFFSET]=N[J+f.default.BLUE_BYTE_OFFSET]-(260-N[J+f.default.BLUE_BYTE_OFFSET])*ka/255|0)}}},{key:"mergeOntoMask",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion,H=G.getWidth(),O=G.getHeight(),
J=I.offsetOfPixel(G.left,G.top);G=this._strokeBuffer.offsetOfPixel(G.left,G.top);var R=I.width-H,ea=this._strokeBuffer.width-H;N=N.data;I=I.data;for(var Y=0;Y<O;Y++,G+=ea,J+=R)for(var pa=0;pa<H;pa++,G++,J++){var ka=y[G]/255|0;0<ka&&(I[J]=Math.max(N[J]-(260-N[J])*ka/255,0))}}}]);return C}(g);D.CPBrushToolBlur=function(A){function C(){a(this,C);return B.apply(this,arguments)}v(C,A);var B=b(C);q(C,[{key:"mergeOntoImage",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion,H=N.data;
I=I.data;var O=G.getWidth(),J=N.width*f.default.BYTES_PER_PIXEL,R=N.offsetOfPixel(G.left,G.top),ea=this._strokeBuffer.offsetOfPixel(G.left,G.top),Y=(N.width-O)*f.default.BYTES_PER_PIXEL;O=this._strokeBuffer.width-O;for(var pa,ka,Q,ja,na=function(ua){pa+=H[ua+f.default.RED_BYTE_OFFSET];ka+=H[ua+f.default.GREEN_BYTE_OFFSET];Q+=H[ua+f.default.BLUE_BYTE_OFFSET];ja+=H[ua+f.default.ALPHA_BYTE_OFFSET]},za=G.top;za<G.bottom;za++,R+=Y,ea+=O)for(var ia=G.left;ia<G.right;ia++,R+=f.default.BYTES_PER_PIXEL,ea++){var va=
y[ea]/255|0;if(0<va){va=64+-63*va/255|0;var ta=va+4;pa=va*H[R+f.default.RED_BYTE_OFFSET];ka=va*H[R+f.default.GREEN_BYTE_OFFSET];Q=va*H[R+f.default.BLUE_BYTE_OFFSET];ja=va*H[R+f.default.ALPHA_BYTE_OFFSET];na(0<za?R-J:R);na(za<N.height-1?R+J:R);na(0<ia?R-f.default.BYTES_PER_PIXEL:R);na(ia<N.width-1?R+f.default.BYTES_PER_PIXEL:R);ja/=ta;pa/=ta;ka/=ta;Q/=ta;I[R+f.default.RED_BYTE_OFFSET]=pa|0;I[R+f.default.GREEN_BYTE_OFFSET]=ka|0;I[R+f.default.BLUE_BYTE_OFFSET]=Q|0;I[R+f.default.ALPHA_BYTE_OFFSET]=ja|
0}}}},{key:"mergeOntoMask",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion,H=N.data;I=I.data;var O=G.getWidth(),J=N.width,R=N.offsetOfPixel(G.left,G.top),ea=this._strokeBuffer.offsetOfPixel(G.left,G.top),Y=N.width-O;O=this._strokeBuffer.width-O;for(var pa,ka=G.top;ka<G.bottom;ka++,R+=Y,ea+=O)for(var Q=G.left;Q<G.right;Q++,R++,ea++){var ja=y[ea]/255|0;0<ja&&(pa=64+-63*ja/255|0,ja=pa+4,pa*=H[R],pa+=H[0<ka?R-J:R],pa+=H[ka<N.height-1?R+J:R],pa+=H[0<Q?R-1:R],pa+=H[Q<N.width-1?
R+1:R],I[R]=pa/ja|0)}}}]);return C}(g);g=function(A){function C(){a(this,C);return B.apply(this,arguments)}v(C,A);var B=b(C);q(C,[{key:"mergeOntoImage",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion;N=N.data;var H=I.data,O=this._strokeBuffer.offsetOfPixel(G.left,G.top),J=I.offsetOfPixel(G.left,G.top),R=G.getWidth()|0;G=G.getHeight()|0;var ea=this._strokeBuffer.width-R|0;I=(I.width-R)*f.default.BYTES_PER_PIXEL|0;for(var Y=0;Y<G;Y++,O+=ea,J+=I)for(var pa=0;pa<R;pa++,O++,J+=
f.default.BYTES_PER_PIXEL){var ka=y[O],Q=ka>>>24;if(0<Q){var ja=N[J+f.default.ALPHA_BYTE_OFFSET];ja=Q+ja-Q*ja/255|0;Q=255*Q/ja|0;var na=255-Q;H[J]=((ka>>16&255)*Q+N[J]*na)/255|0;H[J+1]=((ka>>8&255)*Q+N[J+1]*na)/255|0;H[J+2]=((ka&255)*Q+N[J+2]*na)/255|0;H[J+3]=ja}}}},{key:"mergeOntoMask",value:function(I,N,y){y=this._strokeBuffer.data;var G=this._strokedRegion;N=N.data;var H=I.data,O=this._strokeBuffer.offsetOfPixel(G.left,G.top),J=I.offsetOfPixel(G.left,G.top),R=G.getWidth()|0;G=G.getHeight()|0;var ea=
this._strokeBuffer.width-R|0;I=I.width-R|0;for(var Y=0;Y<G;Y++,O+=ea,J+=I)for(var pa=0;pa<R;pa++,O++,J++){var ka=y[O],Q=ka>>8;0<Q&&(H[J]=((ka&255)*Q+N[J]*(255-Q))/255|0)}}}]);return C}(g);var u=2/6;D.CPBrushToolWatercolor=function(A){function C(I,N){a(this,C);I=B.call(this,I,N);I.wantsOutputAsInput=!0;return I}v(C,A);var B=b(C);q(C,[{key:"_paintToColorStrokeBuffer",value:function(I,N,y,G,H,O){var J=this._strokeBuffer.data,R=N.getWidth(),ea=N.getHeight(),Y=this._strokeBuffer.width-R,pa=G-R;I=I.left+
I.top*G;G=this._strokeBuffer.offsetOfPixel(N.left,N.top);this._strokedRegion.union(N);for(N=0;N<ea;N++,I+=pa,G+=Y)for(var ka=0;ka<R;ka++,I++,G++){var Q=y[I]*H/255|0;if(0<Q){var ja=J[G],na=ja>>>24;na=Q+na-Q*na/255|0;Q=255-(255*Q/na|0);J[G]=na<<24|(O>>16&255)+((ja>>16&255)*Q-(O>>16&255)*Q)/255<<16|(O>>8&255)+((ja>>8&255)*Q-(O>>8&255)*Q)/255<<8|(O&255)+((ja&255)*Q-(O&255)*Q)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(I,N,y,G,H,O){var J=this._strokeBuffer.data;this._strokedRegion.union(N);
for(var R=N.top,ea=I.top;R<N.bottom;R++,ea++)for(var Y=I.left+ea*G,pa=this._strokeBuffer.offsetOfPixel(N.left,R),ka=N.left;ka<N.right;ka++,Y++,pa++){var Q=y[Y]*H/255|0;if(!(0>=Q)){var ja=J[pa],na=ja>>8;na=Q+na-Q*na/255|0;0<na&&(Q=255-(255*Q/na|0),J[pa]=na<<8|O+((ja&255)*Q-O*Q)/255)}}}},{key:"beginStroke",value:function(){this._previousSamples=null}},{key:"paintDab",value:function(I,N,y,G,H,O,J){I=Math.max(1,O.alpha/4);var R=(N.left+N.right)/2,ea=(N.top+N.bottom)/2,Y=Math.max(1,Math.min(64,N.getWidth()*
u)),pa=Math.max(1,Math.min(64,N.getHeight()*u));if(y instanceof p.default){null==this._previousSamples&&(this._previousSamples=Array(50),this._previousSamples.fill(C._sampleGrey(y,R,ea,Y,pa)));var ka=r(this._previousSamples),Q=G.resat*G.resat;J=ka=ka*(1-Q)+(J&255)*Q;y=C._sampleGrey(y,R,ea,Y,pa);G=G.bleed;this._previousSamples.push(ka*(1-G)+y*G);this._previousSamples.shift();this._paintToGreyscaleStrokeBuffer(H,N,O.brush,O.width,I,Math.round(J))}else null==this._previousSamples&&(this._previousSamples=
Array(50),this._previousSamples.fill(C._sampleRGB(y,R,ea,Y,pa))),ka=k(this._previousSamples),ka.mixWith(n.default.createFromInt(J),G.resat*G.resat),J=ka.toInt(),ka.mixWith(C._sampleRGB(y,R,ea,Y,pa),G.bleed),this._previousSamples.push(ka),this._previousSamples.shift(),this._paintToColorStrokeBuffer(H,N,O.brush,O.width,I,J)}}],[{key:"_sampleGrey",value:function(I,N,y,G,H){N|=0;y|=0;for(var O=[{x:N,y}],J=.25;1.001>J;J+=.25)Array.prototype.push.apply(O,[{x:~~(N+J*G),y},{x:~~(N-J*G),y},{x:N,y:~~(y+J*H)},
{x:N,y:~~(y-J*H)},{x:~~(N+.7*J*G),y:~~(y+.7*J*H)},{x:~~(N+.7*J*G),y:~~(y-.7*J*H)},{x:~~(N-.7*J*G),y:~~(y+.7*J*H)},{x:~~(N-.7*J*G),y:~~(y-.7*J*H)}]);return r(O.map(function(R){return I.getPixel(R.x,R.y)}))}},{key:"_sampleRGB",value:function(I,N,y,G,H){N|=0;y|=0;for(var O=[{x:N,y}],J=.25;1.001>J;J+=.25)Array.prototype.push.apply(O,[{x:~~(N+J*G),y},{x:~~(N-J*G),y},{x:N,y:~~(y+J*H)},{x:N,y:~~(y-J*H)},{x:~~(N+.7*J*G),y:~~(y+.7*J*H)},{x:~~(N+.7*J*G),y:~~(y-.7*J*H)},{x:~~(N-.7*J*G),y:~~(y+.7*J*H)},{x:~~(N-
.7*J*G),y:~~(y-.7*J*H)}]);return k(O.map(function(R){return n.default.createFromInt(I.getPixel(R.x,R.y))}))}}]);return C}(g);D.CPBrushToolOil=function(A){function C(I,N){a(this,C);I=B.call(this,I,N);I.wantsOutputAsInput=!0;return I}v(C,A);var B=b(C);q(C,[{key:"_accumulatePaintFromMask",value:function(I,N,y,G){var H=this._brushBuffer.data,O=I.data,J=y.getWidth(),R=y.getHeight();N=N.left+N.top*this._brushBuffer.width;y=I.offsetOfPixel(y.left,y.top);var ea=this._brushBuffer.width-J;I=I.width-J;if(!(0>=
G))for(var Y=0;Y<R;Y++,N+=ea,y+=I)for(var pa=0;pa<J;pa++,N++,y++){var ka=O[y],Q=H[N],ja=Q>>8;ja=G+ja-G*ja/255|0;var na=255-(255*G/ja|0);H[N]=ja<<8|ka+((Q&255)*na-ka*na)/255}}},{key:"_resaturateBrushWithGrey",value:function(I,N,y){if(!(0>=N)){var G=this._brushBuffer.data,H=I.getWidth(),O=I.getHeight();I=I.left+I.top*this._brushBuffer.width;for(var J=this._brushBuffer.width-H,R=0;R<O;R++,I+=J)for(var ea=0;ea<H;ea++,I++){var Y=G[I],pa=Y>>8;pa=N+pa-N*pa/255|0;var ka=255-(255*N/pa|0);G[I]=pa<<8|y+((Y&
255)*ka-y*ka)/255}}}},{key:"_paintToGreyscaleStrokeBuffer",value:function(I,N,y,G,H){var O=this._strokeBuffer.data,J=this._brushBuffer.data,R=I.data;this._strokedRegion.union(y);for(var ea=y.top,Y=N.top;ea<y.bottom;ea++,Y++)for(var pa=this._brushBuffer.offsetOfPixel(N.left,Y),ka=this._strokeBuffer.offsetOfPixel(y.left,ea),Q=I.offsetOfPixel(y.left,ea),ja=y.left;ja<y.right;ja++,pa++,Q++,ka++){var na=J[pa],za=(na>>8)*G[pa]*H/65025|0;0<za&&(za=255-za,O[ka]=65280|(na&255)+(R[Q]*za-(na&255)*za)/255)}}},
{key:"_accumulatePaintFromImage",value:function(I,N,y,G){var H=this._brushBuffer.data,O=I.data,J=y.getWidth(),R=y.getHeight();N=N.left+N.top*this._brushBuffer.width;y=I.offsetOfPixel(y.left,y.top);var ea=this._brushBuffer.width-J;I=(I.width-J)*f.default.BYTES_PER_PIXEL;for(var Y=0;Y<R;Y++,N+=ea,y+=I)for(var pa=0;pa<J;pa++,N++,y+=f.default.BYTES_PER_PIXEL){var ka=O[y+f.default.ALPHA_BYTE_OFFSET]*G/255|0;if(0<ka){var Q=H[N],ja=Q>>>24;ja=ka+ja-ka*ja/255|0;ka=255-(255*ka/ja|0);var na=O[y+f.default.RED_BYTE_OFFSET],
za=O[y+f.default.GREEN_BYTE_OFFSET],ia=O[y+f.default.BLUE_BYTE_OFFSET];H[N]=ja<<24|na+((Q>>16&255)*ka-na*ka)/255<<16|za+((Q>>8&255)*ka-za*ka)/255<<8|ia+((Q&255)*ka-ia*ka)/255}}}},{key:"_resaturateBrushWithColor",value:function(I,N,y){if(!(0>=N)){var G=this._brushBuffer.data,H=I.getWidth(),O=I.getHeight();I=I.left+I.top*this._brushBuffer.width;for(var J=this._brushBuffer.width-H,R=0;R<O;R++,I+=J)for(var ea=0;ea<H;ea++,I++){var Y=G[I],pa=Y>>>24;pa=N+pa-N*pa/255|0;var ka=255-(255*N/pa|0);G[I]=pa<<24|
(y>>>16&255)+((Y>>>16&255)*ka-(y>>>16&255)*ka)/255<<16|(y>>>8&255)+((Y>>>8&255)*ka-(y>>>8&255)*ka)/255<<8|(y&255)+((Y&255)*ka-(y&255)*ka)/255}}}},{key:"_paintToColorStrokeBuffer",value:function(I,N,y,G,H){var O=this._strokeBuffer.data,J=this._brushBuffer.data,R=I.data;this._strokedRegion.union(y);for(var ea=y.top,Y=N.top;ea<y.bottom;ea++,Y++)for(var pa=this._brushBuffer.offsetOfPixel(N.left,Y),ka=this._strokeBuffer.offsetOfPixel(y.left,ea),Q=I.offsetOfPixel(y.left,ea),ja=y.left;ja<y.right;ja++,pa++,
Q+=f.default.BYTES_PER_PIXEL,ka++){var na=J[pa],za=(na>>>24)*G[pa]*H/65025|0;if(0<za){var ia=R[Q+f.default.ALPHA_BYTE_OFFSET];ia=za+ia-za*ia/255|0;za=255-(255*za/ia|0);O[ka]=ia<<24|(na>>16&255)+(R[Q+f.default.RED_BYTE_OFFSET]*za-(na>>16&255)*za)/255<<16|(na>>8&255)+(R[Q+f.default.GREEN_BYTE_OFFSET]*za-(na>>8&255)*za)/255<<8|(na&255)+(R[Q+f.default.BLUE_BYTE_OFFSET]*za-(na&255)*za)/255}}}},{key:"paintDab",value:function(I,N,y,G,H,O,J){I instanceof f.default?null==this._brushBuffer?(this._brushBuffer=
new p.default(O.width,O.height,32),this._accumulatePaintFromImage(y,H,N,255)):(this._resaturateBrushWithColor(H,~~(0>=G.resat?0:Math.max(1,G.resat*G.resat*255)),J&16777215),this._paintToColorStrokeBuffer(I,H,N,O.brush,O.alpha),this._accumulatePaintFromImage(y,H,N,~~(255*G.bleed))):null==this._brushBuffer?(this._brushBuffer=new p.default(O.width,O.height,16),this._accumulatePaintFromMask(y,H,N,255)):(this._resaturateBrushWithGrey(H,~~(0>=G.resat?0:Math.max(1,G.resat*G.resat*255)),J&255),this._paintToGreyscaleStrokeBuffer(I,
H,N,O.brush,O.alpha),this._accumulatePaintFromMask(y,H,N,~~(255*G.bleed)))}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return C}(g);D.CPBrushToolSmudge=function(A){function C(I,N){a(this,C);I=B.call(this,I,N);I._brushBuffer=null;I.wantsOutputAsInput=!0;I.noMergePhase=!0;return I}v(C,A);var B=b(C);q(C,[{key:"_sampleFromMask",value:function(I,N,y,G){var H=this._brushBuffer.data,O=N.getWidth(),J=N.getHeight(),R=this._brushBuffer.offsetOfPixel(N.left,N.top);y=I.offsetOfPixel(y.left,
y.top);var ea=this._brushBuffer.width-O,Y=I.width-O,pa=255-G;if(255!=G){for(var ka=0;ka<J;ka++,R+=ea,y+=Y)for(var Q=0;Q<O;Q++,R++,y++){var ja=I.data[y],na=H[R],za=(ja*pa+(na&255)*G)/255,ia=(255*pa+(na>>8)*G)/255<<8|za;ia==na&&(ja>za?ia++:ja<za&&ia--);H[R]=ia}c(this._brushBuffer,N)}}},{key:"_paintToMask",value:function(I,N,y,G){var H=N.getWidth(),O=N.getHeight();N=this._brushBuffer.offsetOfPixel(N.left,N.top);y=I.offsetOfPixel(y.left,y.top);var J=this._brushBuffer.width-H,R=I.width-H;I=I.data;for(var ea=
this._brushBuffer.data,Y=0;Y<O;Y++,y+=R,N+=J)for(var pa=0;pa<H;pa++,N++,y++){var ka=ea[N],Q=ka&255;0<((ka>>8)*G[N]/255|0)&&(I[y]=Q)}}},{key:"_sampleFromImage",value:function(I,N,y,G){var H=this._brushBuffer.data,O=N.getWidth(),J=N.getHeight(),R=this._brushBuffer.offsetOfPixel(N.left,N.top);y=I.offsetOfPixel(y.left,y.top);var ea=this._brushBuffer.width-O,Y=(I.width-O)*f.default.BYTES_PER_PIXEL,pa=255-G;if(255!=G){for(var ka=0;ka<J;ka++,R+=ea,y+=Y)for(var Q=0;Q<O;Q++,R++,y+=f.default.BYTES_PER_PIXEL){var ja=
I.data[y+f.default.RED_BYTE_OFFSET],na=I.data[y+f.default.GREEN_BYTE_OFFSET],za=I.data[y+f.default.BLUE_BYTE_OFFSET],ia=H[R],va=(I.data[y+f.default.ALPHA_BYTE_OFFSET]*pa+(ia>>24&255)*G)/255<<24&4278190080|(ja*pa+(ia>>16&255)*G)/255<<16&16711680|(na*pa+(ia>>8&255)*G)/255<<8&65280|(za*pa+(ia&255)*G)/255&255;if(va==ia){ia=(va&16711680)>>16;var ta=(va&65280)>>8,ua=va&255;ja>ia?va+=65536:ja<ia&&(va-=65536);na>ta?va+=256:na<ta&&(va-=256);za>ua?va+=1:za<ua&&--va}H[R]=va}c(this._brushBuffer,N)}}},{key:"_paintToImage",
value:function(I,N,y,G){var H=N.getWidth(),O=N.getHeight();N=this._brushBuffer.offsetOfPixel(N.left,N.top);y=I.offsetOfPixel(y.left,y.top);var J=this._brushBuffer.width-H,R=(I.width-H)*f.default.BYTES_PER_PIXEL;I=I.data;for(var ea=this._brushBuffer.data,Y=0;Y<O;Y++,y+=R,N+=J)for(var pa=0;pa<H;pa++,N++,y+=f.default.BYTES_PER_PIXEL){var ka=ea[N];0<((ka>>>24)*G[N]/255|0)&&(I[y+f.default.RED_BYTE_OFFSET]=ka>>16&255,I[y+f.default.GREEN_BYTE_OFFSET]=ka>>8&255,I[y+f.default.BLUE_BYTE_OFFSET]=ka&255,I[y+
f.default.ALPHA_BYTE_OFFSET]=ka>>24&255)}}},{key:"paintDab",value:function(I,N,y,G,H,O,J){I instanceof f.default?null==this._brushBuffer?(this._brushBuffer=new p.default(O.width,O.height,32),this._sampleFromImage(y,H,N,0)):(this._sampleFromImage(y,H,N,O.alpha),this._paintToImage(I,H,N,O.brush)):null==this._brushBuffer?(this._brushBuffer=new p.default(O.width,O.height,16),this._sampleFromMask(y,H,N,0)):(this._sampleFromMask(y,H,N,O.alpha),this._paintToMask(I,H,N,O.brush))}},{key:"mergeOntoImage",value:function(I,
N,y){}},{key:"mergeOntoMask",value:function(I,N,y){}},{key:"beginStroke",value:function(){this._brushBuffer=null}},{key:"endStroke",value:function(){this._brushBuffer=null}}]);return C}(g)},{"../util/CPColorFloat.js":59,"./CPBrushInfo.js":8,"./CPColorBmp.js":13,"./CPGreyBmp.js":14}],11:[function(g,L,D){function z(qa){return qa&&qa.__esModule?qa:{default:qa}}function h(qa,Aa){var Ea="undefined"!==typeof Symbol&&qa[Symbol.iterator]||qa["@@iterator"];if(!Ea){if(Array.isArray(qa)||(Ea=v(qa))||Aa&&qa&&
"number"===typeof qa.length){Ea&&(qa=Ea);var Ha=0;Aa=function(){};return{s:Aa,n:function(){return Ha>=qa.length?{done:!0}:{done:!1,value:qa[Ha++]}},e:function(Oa){throw Oa;},f:Aa}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var db=!0,tb=!1,qb;return{s:function(){Ea=Ea.call(qa)},n:function(){var Oa=Ea.next();db=Oa.done;return Oa},e:function(Oa){tb=!0;qb=Oa},f:function(){try{db||null==Ea.return||
Ea.return()}finally{if(tb)throw qb;}}}}function v(qa,Aa){if(qa){if("string"===typeof qa)return E(qa,Aa);var Ea=Object.prototype.toString.call(qa).slice(8,-1);"Object"===Ea&&qa.constructor&&(Ea=qa.constructor.name);if("Map"===Ea||"Set"===Ea)return Array.from(qa);if("Arguments"===Ea||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ea))return E(qa,Aa)}}function E(qa,Aa){if(null==Aa||Aa>qa.length)Aa=qa.length;for(var Ea=0,Ha=Array(Aa);Ea<Aa;Ea++)Ha[Ea]=qa[Ea];return Ha}function b(){b="undefined"!==typeof Reflect&&
Reflect.get?Reflect.get.bind():function(qa,Aa,Ea){var Ha;for(Ha=qa;!Object.prototype.hasOwnProperty.call(Ha,Aa)&&(Ha=q(Ha),null!==Ha););if(Ha)return Ha=Object.getOwnPropertyDescriptor(Ha,Aa),Ha.get?Ha.get.call(3>arguments.length?qa:Ea):Ha.value};return b.apply(this,arguments)}function d(qa,Aa){if("function"!==typeof Aa&&null!==Aa)throw new TypeError("Super expression must either be null or a function");qa.prototype=Object.create(Aa&&Aa.prototype,{constructor:{value:qa,writable:!0,configurable:!0}});
Object.defineProperty(qa,"prototype",{writable:!1});Aa&&w(qa,Aa)}function w(qa,Aa){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ea,Ha){Ea.__proto__=Ha;return Ea};return w(qa,Aa)}function a(qa){var Aa=l();return function(){var Ea=q(qa);if(Aa){var Ha=q(this).constructor;Ea=Reflect.construct(Ea,arguments,Ha)}else Ea=Ea.apply(this,arguments);if(!Ea||"object"!==r(Ea)&&"function"!==typeof Ea){if(void 0!==Ea)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");Ea=this}return Ea}}function l(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(qa){return!1}}function q(qa){q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Aa){return Aa.__proto__||Object.getPrototypeOf(Aa)};return q(qa)}
function r(qa){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Aa){return typeof Aa}:function(Aa){return Aa&&"function"==typeof Symbol&&Aa.constructor===Symbol&&Aa!==Symbol.prototype?"symbol":typeof Aa},r(qa)}function k(qa,Aa){if(!(qa instanceof Aa))throw new TypeError("Cannot call a class as a function");}function c(qa,Aa){for(var Ea=0;Ea<Aa.length;Ea++){var Ha=Aa[Ea];Ha.enumerable=Ha.enumerable||!1;Ha.configurable=!0;"value"in Ha&&(Ha.writable=
!0);var db=Object,tb=db.defineProperty;a:{var qb=Ha.key;if("object"===r(qb)&&null!==qb){var Oa=qb[Symbol.toPrimitive];if(void 0!==Oa){qb=Oa.call(qb,"string");if("object"!==r(qb))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}qb=String(qb)}}qb="symbol"===r(qb)?qb:String(qb);tb.call(db,qa,qb,Ha)}}function f(qa,Aa,Ea){Aa&&c(qa.prototype,Aa);Ea&&c(qa,Ea);Object.defineProperty(qa,"prototype",{writable:!1});return qa}function p(qa){this.version=qa.readU32BE();this.width=qa.readU32BE();
this.height=qa.readU32BE();this.layersNb=qa.readU32BE()}function e(qa){for(var Aa=Array(4),Ea=0;Ea<Aa.length;Ea++)Aa[Ea]=String.fromCharCode(qa.readByte());this.chunkType=Aa.join("");this.chunkSize=qa.readU32BE();if(qa.eof)throw"Truncated chunk";}function n(qa){return{major:qa>>16&65535,minor:qa&65535}}function u(qa){qa=n(qa);return 0===qa.major&&0===qa.minor?"ChibiPaint v0.0":"ChickenPaint v"+qa.major+"."+qa.minor}function A(qa){qa=h(qa.getLayersRoot().getLinearizedLayerList(!1));var Aa;try{for(qa.s();!(Aa=
qa.n()).done;){var Ea=Aa.value;if(Ea instanceof O.default||Ea.mask||Ea.clip||Ea.blendMode>R.default.LM_LAST_CHIBIPAINT||Ea.blendMode===R.default.LM_MULTIPLY)return Y<<16|pa}}catch(Ha){qa.e(Ha)}finally{qa.f()}return 0}function C(qa,Aa){var Ea=new Uint8Array(e.HEADER_LENGTH+Aa);Ea=new H.default(Ea);Ea.writeString(qa);Ea.writeU32BE(Aa);return Ea}function B(qa,Aa,Ea){var Ha=C(ja,p.FIXED_HEADER_LENGTH);Ha.writeU32BE(Aa);Ha.writeU32BE(qa.width);Ha.writeU32BE(qa.height);Ha.writeU32BE(Ea);return Ha.getAsDataArray()}
function I(qa){for(var Aa=0;Aa<Q.length;Aa++)if(qa[Aa]!=Q.charCodeAt(Aa))return!1;return!0}Object.defineProperty(D,"__esModule",{value:!0});D.load=function(qa,Aa){function Ea(Ua){var lb=La;if(null===lb||0===lb.length)La=Ua;else if(null===Ua||0===Ua.length)La=lb;else{var ob=new Uint8Array(lb.length+Ua.length);ob.set(lb,0);ob.set(Ua,lb.length);La=ob}for(;;){if(La)if(ra<La.length)La=La.subarray(ra),ra=0;else{ra-=La.length;La=null;break}else break;switch(db){case 0:if(La.length<e.HEADER_LENGTH)break;
Ua=new H.default(La);Da=new e(Ua);La=La.subarray(Ua.pos);if(oa)if(Da.chunkType==ia)db=45;else{Da.chunkType==na?(db=2,Oa=new Fa(Da,oa.width,oa.height)):Da.chunkType==za?(db=3,Oa=new Ra(Da,oa.width,oa.height)):(console.log("Unknown chunk type '"+Da.chunkType+"', attempting to skip..."),ra=Da.chunkSize);continue}else if(Da.chunkType==ja){db=1;continue}else db=5;break;case 1:if(La.length<Da.chunkSize)break;Ua=new H.default(La);oa=new p(Ua);if(n(oa.version).major>ka){db=5;break}tb=new N.default(oa.width,
oa.height);qb=tb.getLayersRoot();ra=Da.chunkSize;db=0;continue;case 2:La=Oa.decode(La);if(Oa.done){tb.addLayerObject(qb,Oa.layer);db=0;continue}break;case 3:if(La=Oa.decode(La),Oa.done){tb.addLayerGroupObject(qb,Oa.layer,Oa.childLayers);db=0;continue}}break}}Aa=Aa||{};var Ha=new ea.default.Inflate({}),db=0,tb=null,qb=null,Oa,ra=0,oa=null,Da=null,La=null;return(new Promise(function(Ua){if(qa instanceof ArrayBuffer)Ua(qa);else{var lb=new FileReader;lb.onload=function(){Ua(this.result)};lb.readAsArrayBuffer(qa)}})).then(function(Ua){return new Promise(function(lb,
ob){var Ab=new Uint8Array(Ua);I(Ab)?(Ab=Ab.subarray(Q.length),Ha.onData=Ea,Ha.onEnd=function(Pa){0===Pa&&45==db?(!1!==Aa.upgradeMultiplyLayers&&oa.version<(Y<<16|pa)&&tb.upgradeMultiplyLayers(Aa.upgradeMultiplyLayers),tb.selectTopmostVisibleLayer(),lb(tb)):ob("Fatal error decoding ChibiFile: "+Pa)},Ha.push(Ab,!0)):ob("This doesn't appear to be a ChibiPaint layers file, is it damaged?")})})};D.save=function(qa,Aa){Aa=Aa||{};return Promise.resolve().then(function(){var Ea=new ea.default.Deflate({level:7}),
Ha=[],db=new Uint8Array(Q.length),tb=qa.getLayersRoot().getLinearizedLayerList(!1),qb=Aa.forceOldVersion?0:A(qa),Oa=u(qb),ra=Promise.resolve();Ea.onData=function(La){Ha.push(La)};for(var oa=0;oa<Q.length;oa++)db[oa]=Q.charCodeAt(oa);Ha.push(db);Ea.push(B(qa,qb,tb.length),!1);db=h(tb);var Da;try{for(tb=function(){var La=Da.value;ra=ra.then(function(){return new Promise(function(Ua){var lb=Ea.push,ob=La instanceof y.default;var Ab=4*(ob?5:6);var Pa=La.name.length,Qa=Ab+Pa;Ab=C(ob?na:za,Ab+Pa+((ob?La.image.data.length:
0)+(La.mask?La.mask.data.length:0)));Pa=0;La.visible&&(Pa|=va);ob&&La.clip&&(Pa|=ta);La.mask&&(Pa|=ua);La.maskLinked&&(Pa|=Ya);La.maskVisible&&(Pa|=Xa);La.lockAlpha&&(Pa|=Z);!ob&&La.expanded&&(Pa|=T);if(La.blendMode===R.default.LM_MULTIPLY2){var Ja=R.default.LM_MULTIPLY;Pa|=sa}else Ja=La.blendMode;Ab.writeU32BE(Qa);Ab.writeU32BE(Ja);Ab.writeU32BE(La.alpha);Ab.writeU32BE(Pa);Ab.writeU32BE(La.name.length);ob||Ab.writeU32BE(La.layers.length);Ab.writeString(La.name);if(ob){ob=Ab.pos;Qa=Ab.data;Pa=La.image.data;
for(Ja=0;Ja<Pa.length;Ja+=G.default.BYTES_PER_PIXEL)Qa[ob++]=Pa[Ja+G.default.ALPHA_BYTE_OFFSET],Qa[ob++]=Pa[Ja+G.default.RED_BYTE_OFFSET],Qa[ob++]=Pa[Ja+G.default.GREEN_BYTE_OFFSET],Qa[ob++]=Pa[Ja+G.default.BLUE_BYTE_OFFSET];Ab.pos=ob}La.mask&&(ob=La.mask,Ab.data.set(ob.data,Ab.pos),Ab.pos+=ob.data.length);Ab=Ab.getAsDataArray();lb.call(Ea,Ab,!1);setTimeout(Ua,10)})})},db.s();!(Da=db.n()).done;)tb()}catch(La){db.e(La)}finally{db.f()}return ra.then(function(){return new Promise(function(La,Ua){Ea.onEnd=
function(lb){if(0===lb)if("undefined"!==typeof Blob)La({bytes:new Blob(Ha,{type:"application/octet-stream"}),version:Oa});else{lb=Ha.map(function(Qa){return Qa.byteLength}).reduce(function(Qa,Ja){return Qa+Ja},0);lb=new Uint8Array(lb);for(var ob=0,Ab=0;Ab<Ha.length;Ab++){var Pa=Ha[Ab];lb.set(Pa,ob);ob+=Pa.byteLength}La({bytes:lb,version:Oa})}else Ua(lb)};Ea.push(C(ia,0).getAsDataArray(),!0)})})})};var N=z(g("./CPArtwork.js")),y=z(g("./CPImageLayer.js")),G=z(g("./CPColorBmp.js")),H=z(g("../util/ArrayDataStream.js")),
O=z(g("./CPLayerGroup.js")),J=z(g("./CPGreyBmp.js")),R=z(g("./CPBlend.js")),ea=z(g("pako")),Y=0,pa=10,ka=Y,Q="CHIBIOEK",ja="HEAD",na="LAYR",za="GRUP",ia="ZEND";p.FIXED_HEADER_LENGTH=16;e.HEADER_LENGTH=8;var va=1,ta=2,ua=4,Ya=8,Xa=16,T=32,Z=64,sa=128;g=function(){function qa(Aa,Ea,Ha){k(this,qa);this.chunkHeader=Aa;this.width=Ea;this.height=Ha;this.nameLength=this.skipBytes=this.payloadOffset=this.state=0;this.done=!1;this.maskDecoder=this.colorDecoder=null}f(qa,[{key:"readFixedHeader",value:function(Aa){this.payloadOffset=
Aa.readU32BE();this.blendMode=Aa.readU32BE();this.alpha=Aa.readU32BE();var Ea=Aa.readU32BE();this.visible=0!=(Ea&va);this.clip=0!=(Ea&ta);this.hasMask=0!=(Ea&ua);this.maskLinked=0!=(Ea&Ya);this.maskVisible=0!=(Ea&Xa);this.expanded=0!=(Ea&T);this.lockAlpha=0!=(Ea&Z);this.blendMode===R.default.LM_MULTIPLY&&0!==(Ea&sa)&&(this.blendMode=R.default.LM_MULTIPLY2);this.nameLength=Aa.readU32BE()}},{key:"getFixedHeaderLen",value:function(){return 20}},{key:"getVariableHeaderLen",value:function(){return this.nameLength}},
{key:"readVariableSizeHeader",value:function(Aa){this.name=Aa.readString(this.nameLength)}},{key:"decode",value:function(Aa){for(var Ea;;){if(0<this.skipBytes){if(this.skipBytes>=Aa.length)return this.skipBytes-=Aa.length,null;Aa=Aa.subarray(this.skipBytes);this.skipBytes=0}switch(this.state){case 0:if(Aa.length<this.getFixedHeaderLen())break;Ea=new H.default(Aa);this.readFixedHeader(Ea);Aa=Aa.subarray(Ea.pos);this.state=1;continue;case 1:if(Aa.length<this.getVariableHeaderLen())break;Ea=new H.default(Aa);
this.readVariableSizeHeader(Ea);this.layer=this.createLayer();this.hasMask&&(this.layer.setMask(new J.default(this.width,this.height,8)),this.maskDecoder=new Ib(this.layer.mask));this.layer instanceof y.default&&(this.colorDecoder=new wb(this.layer.image));this.skipBytes=this.payloadOffset-this.getFixedHeaderLen();this.state=this.colorDecoder?3:this.maskDecoder?4:5;continue;case 3:Aa=this.colorDecoder.decode(Aa);if(this.colorDecoder.done){this.state=this.maskDecoder?4:5;continue}break;case 4:Aa=this.maskDecoder.decode(Aa);
if(this.maskDecoder.done){this.state=5;continue}break;case 5:Ea=this.payloadOffset;this.colorDecoder&&(Ea+=this.colorDecoder.bytesTotal);this.maskDecoder&&(Ea+=this.maskDecoder.bytesTotal);this.state=6;this.skipBytes=this.chunkHeader.chunkSize-Ea;continue;case 6:this.done=!0}break}return Aa}}]);return qa}();var Fa=function(qa){function Aa(){k(this,Aa);return Ea.apply(this,arguments)}d(Aa,qa);var Ea=a(Aa);f(Aa,[{key:"createLayer",value:function(){var Ha=new y.default(this.width,this.height,this.name);
Ha.setBlendMode(this.blendMode);Ha.setAlpha(this.alpha);Ha.setVisible(this.visible);Ha.setClip(this.clip);Ha.setMaskLinked(this.maskLinked);Ha.setMaskVisible(this.maskVisible);Ha.setLockAlpha(this.lockAlpha);return Ha}}]);return Aa}(g),Ra=function(qa){function Aa(Ha,db,tb){k(this,Aa);Ha=Ea.call(this,Ha,db,tb);Ha.childLayers=0;return Ha}d(Aa,qa);var Ea=a(Aa);f(Aa,[{key:"readFixedHeader",value:function(Ha){b(q(Aa.prototype),"readFixedHeader",this).call(this,Ha);this.childLayers=Ha.readU32BE()}},{key:"getFixedHeaderLen",
value:function(){return b(q(Aa.prototype),"getFixedHeaderLen",this).call(this)+4}},{key:"createLayer",value:function(){var Ha=new O.default(this.name,this.blendMode);Ha.setAlpha(this.alpha);Ha.setVisible(this.visible);Ha.setExpanded(this.expanded);Ha.setMaskLinked(this.maskLinked);Ha.setMaskVisible(this.maskVisible);return Ha}}]);return Aa}(g),wb=function(){function qa(Aa){k(this,qa);this.bytesRead=0;this.bytesTotal=Aa.width*Aa.height*G.default.BYTES_PER_PIXEL;this.output=Aa.data;this.done=!1}f(qa,
[{key:"decode",value:function(Aa){if(null==Aa)return null;for(var Ea=this.bytesRead%G.default.BYTES_PER_PIXEL,Ha=this.bytesRead-Ea,db=0,tb=[G.default.ALPHA_BYTE_OFFSET,G.default.RED_BYTE_OFFSET,G.default.GREEN_BYTE_OFFSET,G.default.BLUE_BYTE_OFFSET];Ea<G.default.BYTES_PER_PIXEL&&db<Aa.length;Ea++)this.output[Ha+tb[Ea]]=Aa[db],db++;this.bytesRead+=db;var qb=Math.min(Aa.length-db,this.bytesTotal-this.bytesRead)|0;Ea=qb/G.default.BYTES_PER_PIXEL|0;qb%=G.default.BYTES_PER_PIXEL;for(Ha=0;Ha<Ea;Ha++)this.output[this.bytesRead+
G.default.ALPHA_BYTE_OFFSET]=Aa[db],this.output[this.bytesRead+G.default.RED_BYTE_OFFSET]=Aa[db+1],this.output[this.bytesRead+G.default.GREEN_BYTE_OFFSET]=Aa[db+2],this.output[this.bytesRead+G.default.BLUE_BYTE_OFFSET]=Aa[db+3],this.bytesRead+=G.default.BYTES_PER_PIXEL,db+=G.default.BYTES_PER_PIXEL;Ha=this.bytesRead;for(Ea=0;Ea<qb;Ea++)this.output[Ha+tb[Ea]]=Aa[db],db++;this.bytesRead+=qb;this.bytesRead>=this.bytesTotal&&(this.done=!0);return db<Aa.length?Aa.subarray(db):null}}]);return qa}(),Ib=
function(){function qa(Aa){k(this,qa);this.bytesRead=0;this.bytesTotal=Aa.width*Aa.height;this.output=Aa.data;this.done=!1}f(qa,[{key:"decode",value:function(Aa){if(null==Aa)return null;var Ea=Math.min(Aa.length,this.bytesTotal-this.bytesRead)|0,Ha=this.bytesRead,db;for(db=0;db<Ea;db++,Ha++)this.output[Ha]=Aa[db];this.bytesRead=Ha;this.bytesRead>=this.bytesTotal&&(this.done=!0);return db<Aa.length?Aa.subarray(db):null}}]);return qa}()},{"../util/ArrayDataStream.js":56,"./CPArtwork.js":3,"./CPBlend.js":5,
"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"./CPImageLayer.js":15,"./CPLayerGroup.js":17,pako:297}],12:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(z,h,v){this.bmp=z;this.x=h;this.y=v};L.exports=D.default},{}],13:[function(g,L,D){function z(a){return a&&a.__esModule?a:{default:a}}function h(a,l){"number"==typeof a?(b.default.call(this,a,l),this.imageData=(0,w.createImageData)(this.width,this.height)):(b.default.call(this,a.width,a.height),this.imageData=a);this.data=
this.imageData.data}function v(a,l,q,r){var k=0,c=[0,0,0,0],f,p;for(p=f=0;p<r&&p<q;p++){for(var e=0;e<h.BYTES_PER_PIXEL;e++)c[e]+=a[f++];k++}for(e=p=0;e<q;e++){if(e+r<q){f=(e+r)*h.BYTES_PER_PIXEL;for(var n=0;n<h.BYTES_PER_PIXEL;n++)c[n]+=a[f++];k++}for(f=0;f<h.BYTES_PER_PIXEL;f++)l[p++]=Math.round(c[f]/k);if(0<=e-r){f=(e-r)*h.BYTES_PER_PIXEL;for(n=0;n<h.BYTES_PER_PIXEL;n++)c[n]-=a[f++];k--}}}function E(a,l){l%=4;if(0==l)return a;var q=(0,w.createCanvas)(0,0),r=q.getContext("2d");0==l%2?(q.width=a.width,
q.height=a.height):(q.width=a.height,q.height=a.width);switch(l){case 1:r.rotate(Math.PI/2);r.drawImage(a,0,-a.height);break;case 2:r.rotate(Math.PI);r.drawImage(a,-a.width,-a.height);break;case 3:r.rotate(-Math.PI/2);r.drawImage(a,-a.width,0);break;default:return a}return q}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;D.getRotatedCanvas=E;var b=z(g("./CPBitmap.js")),d=z(g("../util/CPRect.js")),w=g("../util/Canvas.js");h.prototype=Object.create(b.default.prototype);h.prototype.constructor=
h;h.BYTES_PER_PIXEL=4;h.RED_BYTE_OFFSET=0;h.GREEN_BYTE_OFFSET=1;h.BLUE_BYTE_OFFSET=2;h.ALPHA_BYTE_OFFSET=3;h.prototype.clone=function(){return this.cloneRect(this.getBounds())};h.prototype.cloneRect=function(a){var l=new h(a.getWidth(),a.getHeight());l.copyBitmapRect(this,0,0,a);return l};h.prototype.getPixel=function(a,l){a=Math.max(0,Math.min(this.width-1,a));l=Math.max(0,Math.min(this.height-1,l));a=this.offsetOfPixel(a,l);return this.data[a+h.ALPHA_BYTE_OFFSET]<<24|this.data[a+h.RED_BYTE_OFFSET]<<
16|this.data[a+h.GREEN_BYTE_OFFSET]<<8|this.data[a+h.BLUE_BYTE_OFFSET]};h.prototype.copyRectXOR=function(a,l){l=this.getBounds().clipTo(l);var q=l.getWidth(),r=l.getHeight();r=new Uint8Array(q*r*h.BYTES_PER_PIXEL);var k=0,c=this.offsetOfPixel(l.left,l.top),f=a.offsetOfPixel(l.left,l.top),p=(this.width-q)*h.BYTES_PER_PIXEL,e=(a.width-q)*h.BYTES_PER_PIXEL;q*=h.BYTES_PER_PIXEL;for(var n=l.top;n<l.bottom;n++,c+=p,f+=e)for(var u=0;u<q;u++,k++,c++,f++)r[k]=this.data[c]^a.data[f];return r};h.prototype.setRectXOR=
function(a,l){l=this.getBounds().clipTo(l);var q=l.getWidth(),r=l.getHeight();l=this.offsetOfPixel(l.left,l.top);var k=0,c=(this.width-q)*h.BYTES_PER_PIXEL;q*=h.BYTES_PER_PIXEL;for(var f=0;f<r;f++){for(var p=0;p<q;p++)this.data[l++]^=a[k++];l+=c}};h.prototype.copyBitmapRect=function(a,l,q,r){var k=new d.default(l,q,0,0);r=r.clone();this.getBounds().clipSourceDest(r,k);l=k.getWidth()|0;q=k.getHeight()|0;if(0==k.left&&0==k.top&&l==this.width&&q==this.height&&l==a.width&&q==a.height)this.copyPixelsFrom(a);
else{k=this.offsetOfPixel(k.left,k.top);var c=(this.width-l)*h.BYTES_PER_PIXEL;r=a.offsetOfPixel(r.left,r.top);for(var f=(a.width-l)*h.BYTES_PER_PIXEL,p=0;p<q;p++,r+=f,k+=c)for(var e=0;e<l;e++,r+=h.BYTES_PER_PIXEL,k+=h.BYTES_PER_PIXEL)this.data[k]=a.data[r],this.data[k+1]=a.data[r+1],this.data[k+2]=a.data[r+2],this.data[k+3]=a.data[r+3]}};h.prototype.copyAlphaFrom=function(a,l){l=this.getBounds().clipTo(l);var q=l.getWidth()|0,r=l.getHeight()|0;l=this.offsetOfPixel(l.left,l.top)+h.ALPHA_BYTE_OFFSET|
0;for(var k=(this.width-q)*h.BYTES_PER_PIXEL|0,c=0;c<r;c++,l+=k)for(var f=0;f<q;f++,l+=h.BYTES_PER_PIXEL)this.data[l]=a.data[l]};h.prototype.setToSize=function(a){if(a.width!=this.width||a.height!=this.height)this.width=a.width,this.height=a.height,this.imageData=(0,w.createImageData)(this.width,this.height),this.data=this.imageData.data};h.prototype.copyPixelsFrom=function(a){this.setToSize(a);if("set"in this.data)this.data.set(a.data);else for(var l=0;l<this.data.length;l++)this.data[l]=a.data[l]};
h.prototype.copyPixelsFromGreyscale=function(a){var l,q=0,r=a.width*a.height;this.setToSize(a);for(l=0;l<r;l++,q+=h.BYTES_PER_PIXEL)this.data[q+h.RED_BYTE_OFFSET]=a.data[l],this.data[q+h.GREEN_BYTE_OFFSET]=a.data[l],this.data[q+h.BLUE_BYTE_OFFSET]=a.data[l],this.data[q+h.ALPHA_BYTE_OFFSET]=255};h.prototype.copyScaledNearestNeighbor=function(a){for(var l=0,q=a.width/this.width,r=a.height/this.height,k,c=0,f=0;c<this.height;c++,f+=r){k=a.offsetOfPixel(0,Math.round(f));for(var p=0,e=0;p<this.width;p++,
l+=h.BYTES_PER_PIXEL,e+=q){var n=k+Math.round(e)*h.BYTES_PER_PIXEL;this.data[l]=a.data[n];this.data[l+1]=a.data[n+1];this.data[l+2]=a.data[n+2];this.data[l+h.ALPHA_BYTE_OFFSET]=a.data[n+h.ALPHA_BYTE_OFFSET]}}};h.prototype.createThumbnailFrom=function(a){var l=Math.min(Math.floor(a.width/this.width),3);if(2>l)this.copyScaledNearestNeighbor(a);else{var q=new Uint16Array(5*this.width),r=a.width*h.BYTES_PER_PIXEL,k=Math.floor(a.width/this.width)*h.BYTES_PER_PIXEL,c=Math.floor(a.width/this.width/l)*h.BYTES_PER_PIXEL,
f=k-c*l,p=Math.floor(a.height/this.height/l);k=p*r-k*this.width;r*=Math.floor(a.height/this.height)-p*l;for(var e=p=0,n=0;n<this.height;n++,p+=r){var u;q.fill(0);for(var A=0;A<l;A++,p+=k)for(var C=u=0;C<this.width;C++,u+=5,p+=f)for(var B=0;B<l;B++,p+=c){var I=a.data[p+h.ALPHA_BYTE_OFFSET],N=I/255;q[u]+=a.data[p]*N;q[u+1]+=a.data[p+1]*N;q[u+2]+=a.data[p+2]*N;q[u+h.ALPHA_BYTE_OFFSET]+=I;q[u+4]=Math.max(q[u+4],I)}for(A=u=0;A<this.width;A++,u+=5,e+=h.BYTES_PER_PIXEL)C=q[u+4],0==C?this.data[e+h.ALPHA_BYTE_OFFSET]=
0:(B=C/q[u+h.ALPHA_BYTE_OFFSET],this.data[e]=q[u]*B,this.data[e+1]=q[u+1]*B,this.data[e+2]=q[u+2]*B,this.data[e+h.ALPHA_BYTE_OFFSET]=C)}}};h.prototype.floodFill=function(a,l,q){if(this.isInside(a,l)){var r=this.getPixel(a,l),k=r>>24&255,c=r>>16&255,f=r>>8&255,p=r&255,e=q>>24&255,n=q>>16&255,u=q>>8&255,A=q&255,C=[],B=this.getBounds(),I=this.data;B.left*=h.BYTES_PER_PIXEL;B.right*=h.BYTES_PER_PIXEL;C.push({x1:a*h.BYTES_PER_PIXEL,x2:a*h.BYTES_PER_PIXEL,y:l,dy:-1});C.push({x1:a*h.BYTES_PER_PIXEL,x2:a*
h.BYTES_PER_PIXEL,y:l+1,dy:1});if(0==k){if(0!=e)for(;0<C.length;)if(c=C.pop(),!(c.y<B.top||c.y>=B.bottom)){f=this.offsetOfPixel(0,c.y);for(p=c.x1;p>=B.left&&0==I[p+f+h.ALPHA_BYTE_OFFSET];)I[p+f+h.RED_BYTE_OFFSET]=n,I[p+f+h.GREEN_BYTE_OFFSET]=u,I[p+f+h.BLUE_BYTE_OFFSET]=A,I[p+f+h.ALPHA_BYTE_OFFSET]=e,p-=h.BYTES_PER_PIXEL;if(p>=c.x1){for(;p<=c.x2&&I[p+f+h.ALPHA_BYTE_OFFSET]!=k;)p+=h.BYTES_PER_PIXEL;a=p+h.BYTES_PER_PIXEL;if(p>c.x2)continue}else p+=h.BYTES_PER_PIXEL,p<c.x1&&C.push({x1:p,x2:c.x1-h.BYTES_PER_PIXEL,
y:c.y-c.dy,dy:-c.dy}),a=c.x1+h.BYTES_PER_PIXEL;do{I[p+f+h.RED_BYTE_OFFSET]=n;I[p+f+h.GREEN_BYTE_OFFSET]=u;I[p+f+h.BLUE_BYTE_OFFSET]=A;for(I[p+f+h.ALPHA_BYTE_OFFSET]=e;a<B.right&&I[a+f+h.ALPHA_BYTE_OFFSET]==k;)I[a+f+h.RED_BYTE_OFFSET]=n,I[a+f+h.GREEN_BYTE_OFFSET]=u,I[a+f+h.BLUE_BYTE_OFFSET]=A,I[a+f+h.ALPHA_BYTE_OFFSET]=e,a+=h.BYTES_PER_PIXEL;C.push({x1:p,x2:a-h.BYTES_PER_PIXEL,y:c.y+c.dy,dy:c.dy});a-h.BYTES_PER_PIXEL>c.x2&&C.push({x1:c.x2+h.BYTES_PER_PIXEL,x2:a-h.BYTES_PER_PIXEL,y:c.y-c.dy,dy:-c.dy});
for(p=a+h.BYTES_PER_PIXEL;p<=c.x2&&I[p+f+h.ALPHA_BYTE_OFFSET]!=k;)p+=h.BYTES_PER_PIXEL;a=p+h.BYTES_PER_PIXEL}while(p<=c.x2)}}else if(q!=r)for(;0<C.length;)if(a=C.pop(),!(a.y<B.top||a.y>=B.bottom)){l=this.offsetOfPixel(0,a.y);for(q=a.x1;q>=B.left&&I[q+l+h.RED_BYTE_OFFSET]==c&&I[q+l+h.GREEN_BYTE_OFFSET]==f&&I[q+l+h.BLUE_BYTE_OFFSET]==p&&I[q+l+h.ALPHA_BYTE_OFFSET]==k;)I[q+l+h.RED_BYTE_OFFSET]=n,I[q+l+h.GREEN_BYTE_OFFSET]=u,I[q+l+h.BLUE_BYTE_OFFSET]=A,I[q+l+h.ALPHA_BYTE_OFFSET]=e,q-=h.BYTES_PER_PIXEL;
if(q>=a.x1){for(;q<=a.x2&&(I[q+l+h.RED_BYTE_OFFSET]!=c||I[q+l+h.GREEN_BYTE_OFFSET]!=f||I[q+l+h.BLUE_BYTE_OFFSET]!=p||I[q+l+h.ALPHA_BYTE_OFFSET]!=k);)q+=h.BYTES_PER_PIXEL;r=q+h.BYTES_PER_PIXEL;if(q>a.x2)continue}else q+=h.BYTES_PER_PIXEL,q<a.x1&&C.push({x1:q,x2:a.x1-h.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy}),r=a.x1+h.BYTES_PER_PIXEL;do{I[q+l+h.RED_BYTE_OFFSET]=n;I[q+l+h.GREEN_BYTE_OFFSET]=u;I[q+l+h.BLUE_BYTE_OFFSET]=A;for(I[q+l+h.ALPHA_BYTE_OFFSET]=e;r<B.right&&I[r+l+h.RED_BYTE_OFFSET]==c&&I[r+l+h.GREEN_BYTE_OFFSET]==
f&&I[r+l+h.BLUE_BYTE_OFFSET]==p&&I[r+l+h.ALPHA_BYTE_OFFSET]==k;)I[r+l+h.RED_BYTE_OFFSET]=n,I[r+l+h.GREEN_BYTE_OFFSET]=u,I[r+l+h.BLUE_BYTE_OFFSET]=A,I[r+l+h.ALPHA_BYTE_OFFSET]=e,r+=h.BYTES_PER_PIXEL;C.push({x1:q,x2:r-h.BYTES_PER_PIXEL,y:a.y+a.dy,dy:a.dy});r-h.BYTES_PER_PIXEL>a.x2&&C.push({x1:a.x2+h.BYTES_PER_PIXEL,x2:r-h.BYTES_PER_PIXEL,y:a.y-a.dy,dy:-a.dy});for(q=r+h.BYTES_PER_PIXEL;q<=a.x2&&(I[q+l+h.RED_BYTE_OFFSET]!=c||I[q+l+h.GREEN_BYTE_OFFSET]!=f||I[q+l+h.BLUE_BYTE_OFFSET]!=p||I[q+l+h.ALPHA_BYTE_OFFSET]!=
k);)q+=h.BYTES_PER_PIXEL;r=q+h.BYTES_PER_PIXEL}while(q<=a.x2)}}};h.prototype.copyPixelColumnToArray=function(a,l,q,r){var k=(this.width-1)*h.BYTES_PER_PIXEL,c=0;a=this.offsetOfPixel(a,l);for(l=0;l<q;l++){for(var f=0;f<h.BYTES_PER_PIXEL;f++)r[c++]=this.data[a++];a+=k}};h.prototype.copyArrayToPixelColumn=function(a,l,q,r){var k=(this.width-1)*h.BYTES_PER_PIXEL,c=0;a=this.offsetOfPixel(a,l);for(l=0;l<q;l++){for(var f=0;f<h.BYTES_PER_PIXEL;f++)this.data[a++]=r[c++];a+=k}};h.prototype.boxBlur=function(a,
l,q){a=this.getBounds().clipTo(a);var r=a.getWidth(),k=r*h.BYTES_PER_PIXEL,c=a.getHeight(),f=Math.max(r,c),p=new Uint8Array(f*h.BYTES_PER_PIXEL);f=new Uint8Array(f*h.BYTES_PER_PIXEL);for(var e=a.top;e<a.bottom;e++){for(var n=this.offsetOfPixel(a.left,e),u=0;u<k;u++)p[u]=this.data[n++];n=p;u=r;for(var A=0,C=0;C<u;C++){for(var B=n[A+h.ALPHA_BYTE_OFFSET],I=0;3>I;I++,A++)n[A]=Math.round(n[A]*B/255);A++}v(p,f,r,l);n=this.offsetOfPixel(a.left,e);for(u=0;u<k;u++)this.data[n++]=f[u]}for(l=a.left;l<a.right;l++){this.copyPixelColumnToArray(l,
a.top,c,p);v(p,f,c,q);r=f;k=c;for(n=e=0;n<k;n++)if(u=r[e+h.ALPHA_BYTE_OFFSET],0!=u){u=255/u;for(A=0;3>A;A++,e++)r[e]=Math.min(Math.round(r[e]*u),255);e++}else e+=h.BYTES_PER_PIXEL;this.copyArrayToPixelColumn(l,a.top,c,f)}};h.prototype.offsetOfPixel=function(a,l){return 4*(l*this.width+a)|0};h.prototype.getMemorySize=function(){return this.data.length};h.prototype.getImageData=function(){return this.imageData};h.prototype.setImageData=function(a){this.width=a.width;this.height=a.height;this.imageData=
a;this.data=a.data};h.prototype.clearAll=function(a){if(0==a&&"fill"in this.data)this.data.fill(0);else{var l=a>>24&255,q=a>>16&255,r=a>>8&255;a&=255;for(var k=0;k<this.width*this.height*h.BYTES_PER_PIXEL;)this.data[k++]=q,this.data[k++]=r,this.data[k++]=a,this.data[k++]=l}};h.prototype.clearRect=function(a,l){a=this.getBounds().clipTo(a);var q=l>>24&255,r=l>>16&255,k=l>>8&255;l&=255;for(var c=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top),p=a.top;p<a.bottom;p++,f+=
c)for(var e=a.left;e<a.right;e++)this.data[f++]=r,this.data[f++]=k,this.data[f++]=l,this.data[f++]=q};h.prototype.copyRegionHFlip=function(a,l){a=this.getBounds().clipTo(a);for(var q=a.top;q<a.bottom;q++)for(var r=this.offsetOfPixel(a.left,q),k=l.offsetOfPixel(a.right-1,q),c=a.left;c<a.right;c++,k-=2*h.BYTES_PER_PIXEL)for(var f=0;f<h.BYTES_PER_PIXEL;f++)this.data[r++]=l.data[k++]};h.prototype.copyRegionVFlip=function(a,l){a=this.getBounds().clipTo(a);for(var q=a.getWidth()*h.BYTES_PER_PIXEL,r=a.top;r<
a.bottom;r++)for(var k=this.offsetOfPixel(a.left,r),c=l.offsetOfPixel(a.left,a.bottom-1-(r-a.top)),f=0;f<q;f++)this.data[k++]=l.data[c++]};h.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var l,q=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,r=this.offsetOfPixel(a.left,a.top),k=a.top;k<a.bottom;k++,r+=q)for(var c=a.left;c<a.right;c++,r+=h.BYTES_PER_PIXEL)l=256*Math.random()|0,this.data[r+h.RED_BYTE_OFFSET]=l,this.data[r+h.GREEN_BYTE_OFFSET]=l,this.data[r+h.BLUE_BYTE_OFFSET]=l,
this.data[r+h.ALPHA_BYTE_OFFSET]=255};h.prototype.gradientHorzReplace=function(a,l,q,r){var k={r:r[0]>>16&255,g:r[0]>>8&255,b:r[0]&255,a:r[0]>>24&255};r={r:r[1]>>16&255,g:r[1]>>8&255,b:r[1]&255,a:r[1]>>24&255};var c=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top)|0,p=a.bottom-a.top|0;if(q<l){var e=q;q=l;l=e;e=k;k=r;r=e}var n=q-l|0;e=(r.r-k.r)/n;var u=(r.g-k.g)/n,A=(r.b-k.b)/n;n=(r.a-k.a)/n;for(var C=Math.max(a.left-l,0),B=0;B<p;B++,f+=c){for(var I=a.left,N=Math.min(l,
a.right)|0;I<N;I++,f+=h.BYTES_PER_PIXEL)this.data[f+h.RED_BYTE_OFFSET]=k.r,this.data[f+h.GREEN_BYTE_OFFSET]=k.g,this.data[f+h.BLUE_BYTE_OFFSET]=k.b,this.data[f+h.ALPHA_BYTE_OFFSET]=k.a;var y=k.r+e*C,G=k.g+u*C,H=k.b+A*C,O=k.a+n*C;for(N=Math.min(q,a.right)|0;I<N;I++,f+=h.BYTES_PER_PIXEL)this.data[f+h.RED_BYTE_OFFSET]=y,this.data[f+h.GREEN_BYTE_OFFSET]=G,this.data[f+h.BLUE_BYTE_OFFSET]=H,this.data[f+h.ALPHA_BYTE_OFFSET]=O,y+=e,G+=u,H+=A,O+=n;for(;I<a.right;I++,f+=h.BYTES_PER_PIXEL)this.data[f+h.RED_BYTE_OFFSET]=
r.r,this.data[f+h.GREEN_BYTE_OFFSET]=r.g,this.data[f+h.BLUE_BYTE_OFFSET]=r.b,this.data[f+h.ALPHA_BYTE_OFFSET]=r.a}};h.prototype.gradientVertReplace=function(a,l,q,r){var k={r:r[0]>>16&255,g:r[0]>>8&255,b:r[0]&255,a:r[0]>>24&255};r={r:r[1]>>16&255,g:r[1]>>8&255,b:r[1]&255,a:r[1]>>24&255};var c=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,f=this.offsetOfPixel(a.left,a.top)|0,p=a.right-a.left|0;if(q<l){var e=q;q=l;l=e;e=k;k=r;r=e}e=a.top;for(var n=Math.min(a.bottom,l)|0;e<n;e++,f+=c)for(var u=0;u<p;u++,
f+=h.BYTES_PER_PIXEL)this.data[f+h.RED_BYTE_OFFSET]=k.r,this.data[f+h.GREEN_BYTE_OFFSET]=k.g,this.data[f+h.BLUE_BYTE_OFFSET]=k.b,this.data[f+h.ALPHA_BYTE_OFFSET]=k.a;var A=q-l|0;n=(r.r-k.r)/A;u=(r.g-k.g)/A;var C=(r.b-k.b)/A;A=(r.a-k.a)/A;var B=Math.max(e-l,0);l=k.r+n*B;var I=k.g+u*B,N=k.b+C*B;k=k.a+A*B;for(q=Math.min(a.bottom,q)|0;e<q;e++,f+=c){for(B=0;B<p;B++,f+=h.BYTES_PER_PIXEL)this.data[f+h.RED_BYTE_OFFSET]=l,this.data[f+h.GREEN_BYTE_OFFSET]=I,this.data[f+h.BLUE_BYTE_OFFSET]=N,this.data[f+h.ALPHA_BYTE_OFFSET]=
k;l+=n;I+=u;N+=C;k+=A}for(;e<a.bottom;e++,f+=c)for(q=0;q<p;q++,f+=h.BYTES_PER_PIXEL)this.data[f+h.RED_BYTE_OFFSET]=r.r,this.data[f+h.GREEN_BYTE_OFFSET]=r.g,this.data[f+h.BLUE_BYTE_OFFSET]=r.b,this.data[f+h.ALPHA_BYTE_OFFSET]=r.a};h.prototype.gradientReplace=function(a,l,q,r,k,c){var f=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,p=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,n=c[0]>>16&255,u=c[0]>>8&255,A=c[0]&255,C=c[0]>>24&255,B=c[1]>>16&255,I=c[1]>>8&255,N=c[1]&255;c=c[1]>>24&255;var y=
k-q+(r-l)*(r-l)/(k-q);r=r-l+(k-q)*(k-q)/(r-l);k=1/r;for(var G=a.top;G<a.bottom;G++,p+=f)for(var H=(a.left-l)/r+(G-q)/y,O=0;O<e;O++,p+=h.BYTES_PER_PIXEL){var J=Math.min(Math.max(H,0),1),R=1-J;this.data[p+h.RED_BYTE_OFFSET]=n*R+B*J;this.data[p+h.GREEN_BYTE_OFFSET]=u*R+I*J;this.data[p+h.BLUE_BYTE_OFFSET]=A*R+N*J;this.data[p+h.ALPHA_BYTE_OFFSET]=C*R+c*J;H+=k}};h.prototype.gradientAlpha=function(a,l,q,r,k,c){var f=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,p=this.offsetOfPixel(a.left,a.top)|0,e=a.right-
a.left|0,n=c[0]>>16&255,u=c[0]>>8&255,A=c[0]&255,C=c[0]>>24&255,B=c[1]>>16&255,I=c[1]>>8&255,N=c[1]&255;c=c[1]>>24&255;var y=k-q+(r-l)*(r-l)/(k-q);r=r-l+(k-q)*(k-q)/(r-l);k=1/r;for(var G=a.top;G<a.bottom;G++,p+=f)for(var H=(a.left-l)/r+(G-q)/y,O=0;O<e;O++,p+=h.BYTES_PER_PIXEL){var J=Math.min(Math.max(H,0),1),R=1-J,ea=n*R+B*J,Y=u*R+I*J,pa=A*R+N*J;R=C*R+c*J;J=this.data[p+h.ALPHA_BYTE_OFFSET];J=R+J-R*J/255|0;if(0<J){R=255*R/J|0;var ka=255-R;this.data[p+h.RED_BYTE_OFFSET]=(ea*R+this.data[p+h.RED_BYTE_OFFSET]*
ka)/255|0;this.data[p+h.GREEN_BYTE_OFFSET]=(Y*R+this.data[p+h.GREEN_BYTE_OFFSET]*ka)/255|0;this.data[p+h.BLUE_BYTE_OFFSET]=(pa*R+this.data[p+h.BLUE_BYTE_OFFSET]*ka)/255|0;this.data[p+h.ALPHA_BYTE_OFFSET]=J}H+=k}};h.prototype.gradient=function(a,l,q,r,k,c,f){a=this.getBounds().clipTo(a);if(l!=r||q!=k)f||255==c[0]>>>24&&255==c[1]>>>24?l==r?this.gradientVertReplace(a,q,k,c):q==k?this.gradientHorzReplace(a,l,r,c):this.gradientReplace(a,l,q,r,k,c):this.gradientAlpha(a,l,q,r,k,c)};h.prototype.fillWithColorNoise=
function(a){a=this.getBounds().clipTo(a);for(var l,q=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,r=this.offsetOfPixel(a.left,a.top),k=a.top;k<a.bottom;k++,r+=q)for(var c=a.left;c<a.right;c++,r+=h.BYTES_PER_PIXEL)l=16777216*Math.random()|0,this.data[r+h.RED_BYTE_OFFSET]=l>>16&255,this.data[r+h.GREEN_BYTE_OFFSET]=l>>8&255,this.data[r+h.BLUE_BYTE_OFFSET]=l&255,this.data[r+h.ALPHA_BYTE_OFFSET]=255};h.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var l=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,
q=this.offsetOfPixel(a.left,a.top),r=a.top;r<a.bottom;r++,q+=l)for(var k=a.left;k<a.right;k++,q+=h.BYTES_PER_PIXEL)this.data[q+h.RED_BYTE_OFFSET]^=255,this.data[q+h.GREEN_BYTE_OFFSET]^=255,this.data[q+h.BLUE_BYTE_OFFSET]^=255};h.prototype.getNonTransparentBounds=function(a){var l=a.clone(),q,r;var k=(this.width-l.getWidth())*h.BYTES_PER_PIXEL;a=this.offsetOfPixel(l.left,l.top)+h.ALPHA_BYTE_OFFSET;for(r=l.top;r<l.bottom;r++,a+=k){var c=0;for(q=l.left;q<l.right;q++,a+=h.BYTES_PER_PIXEL)c|=this.data[a];
if(0!=c)break}l.top=r;if(l.top==l.bottom)return l;a=this.offsetOfPixel(l.right-1,l.bottom-1)+h.ALPHA_BYTE_OFFSET;for(r=l.bottom-1;r>=l.top;r--,a-=k){c=0;for(q=l.right-1;q>=l.left;q--,a-=h.BYTES_PER_PIXEL)c|=this.data[a];if(0!=c)break}l.bottom=r+1;k=h.BYTES_PER_PIXEL*this.width;for(q=l.left;q<l.right;q++){a=this.offsetOfPixel(q,l.top)+h.ALPHA_BYTE_OFFSET;c=0;for(r=l.top;r<l.bottom;r++,a+=k)c|=this.data[a];if(0!=c)break}l.left=q;for(q=l.right-1;q>=l.left;q--){a=this.offsetOfPixel(q,l.top)+h.ALPHA_BYTE_OFFSET;
c=0;for(r=l.top;r<l.bottom;r++,a+=k)c|=this.data[a];if(0!=c)break}l.right=q+1;return l};h.prototype.getAsCanvas=function(a){var l=(0,w.createCanvas)(this.imageData.width,this.imageData.height);l.getContext("2d").putImageData(this.imageData,0,0);return E(l,a||0)};h.prototype.getAsPNG=function(a){a=this.getAsCanvas(a).toDataURL("image/png");a="string"===typeof a&&a.match(/^data:image\/png;base64,/i)?window.atob(a.substring(22)):!1;return a};h.prototype.getAsPNGBuffer=function(a){return this.getAsCanvas(a).toBuffer("image/png")};
h.prototype.hasAlphaInRect=function(a){a=this.getBounds().clipTo(a);for(var l=(this.width-a.getWidth())*h.BYTES_PER_PIXEL,q=this.offsetOfPixel(a.left,a.top)+h.ALPHA_BYTE_OFFSET,r=a.top;r<a.bottom;r++,q+=l){for(var k=255,c=a.left;c<a.right;c++,q+=h.BYTES_PER_PIXEL)k&=this.data[q];if(255!=k)return!0}return!1};h.prototype.hasAlpha=function(){return this.hasAlphaInRect(this.getBounds())};h.createFromImage=function(a){var l=(0,w.createCanvas)(a.width,a.height).getContext("2d");l.globalCompositeOperation=
"copy";l.drawImage(a,0,0);return new h(l.getImageData(0,0,a.width,a.height))};h.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var l=0;l<this.data.length;l+=h.BYTES_PER_PIXEL)if(0!=this.data[l+h.ALPHA_BYTE_OFFSET]||0!=a.data[l+h.ALPHA_BYTE_OFFSET])if(this.data[l]!=a.data[l]||this.data[l+1]!=a.data[l+1]||this.data[l+2]!=a.data[l+2]||this.data[l+3]!=a.data[l+3])return!1;return!0}},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4}],14:[function(g,
L,D){function z(a){return a&&a.__esModule?a:{default:a}}function h(a,l,q){E.default.call(this,a,l);this.createBitmap(a,l,q)}function v(a,l,q,r){var k=0,c=0,f;for(f=0;f<r&&f<q;f++)c+=a[f],k++;for(var p=f=0;p<q;p++)p+r<q&&(c+=a[p+r],k++),l[f++]=Math.round(c/k),0<=p-r&&(c-=a[p-r],k--)}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var E=z(g("./CPBitmap.js")),b=z(g("../util/CPRect.js")),d=g("../util/Canvas.js"),w=g("./CPColorBmp.js");h.prototype=Object.create(E.default.prototype);h.prototype.constructor=
h;h.prototype.createBitmap=function(a,l,q){this.bitDepth=q;switch(q){case 32:this.data=new Uint32Array(a*l);break;case 16:this.data=new Uint16Array(a*l);break;default:this.data=new Uint8Array(a*l)}};h.prototype.clone=function(){var a=new h(this.width,this.height,this.bitDepth);a.copyPixelsFrom(this);return a};h.prototype.cloneRect=function(a){var l=new h(a.getWidth(),a.getHeight(),this.bitDepth);l.copyBitmapRect(this,0,0,a);return l};h.prototype.getPixel=function(a,l){a=Math.max(0,Math.min(this.width-
1,a));l=Math.max(0,Math.min(this.height-1,l));return this.data[this.offsetOfPixel(a,l)]};h.prototype.clearAll=function(a){this.data.fill(a)};h.prototype.clearRect=function(a,l){a=this.getBounds().clipTo(a);if(a.equals(this.getBounds()))this.clearAll(l);else for(var q=this.width,r=a.right-a.left,k=this.offsetOfPixel(a.left,a.top),c=a.top;c<a.bottom;c++,k+=q)this.data.fill(l,k,k+r)};h.prototype.copyScaledNearestNeighbor=function(a){for(var l=0,q=a.width/this.width,r=a.height/this.height,k,c=0,f=0;c<
this.height;c++,f+=r){k=a.offsetOfPixel(0,Math.round(f));for(var p=0,e=0;p<this.width;p++,l++,e+=q)this.data[l]=a.data[k+Math.round(e)]}};h.prototype.floodFill=function(a,l,q){if(this.isInside(a,l)){q&=255;var r=this.getPixel(a,l),k=[],c=this.getBounds(),f=this.data;k.push({x1:a,x2:a,y:l,dy:-1});k.push({x1:a,x2:a,y:l+1,dy:1});if(q!=r)for(;0<k.length;)if(a=k.pop(),!(a.y<c.top||a.y>=c.bottom)){l=this.offsetOfPixel(0,a.y);for(var p=a.x1,e;p>=c.left&&f[p+l]==r;)f[p+l]=q,p--;if(p>=a.x1){for(;p<=a.x2&&
f[p+l]!=r;)p++;e=p+1;if(p>a.x2)continue}else p++,p<a.x1&&k.push({x1:p,x2:a.x1-1,y:a.y-a.dy,dy:-a.dy}),e=a.x1+1;do{for(f[p+l]=q;e<c.right&&f[e+l]==r;)f[e+l]=q,e++;k.push({x1:p,x2:e-1,y:a.y+a.dy,dy:a.dy});e-1>a.x2&&k.push({x1:a.x2+1,x2:e-1,y:a.y-a.dy,dy:-a.dy});for(p=e+1;p<=a.x2&&f[p+l]!=r;)p++;e=p+1}while(p<=a.x2)}}};h.prototype.createThumbnailFrom=function(a){var l=Math.min(Math.floor(a.width/this.width),3);if(2>l)this.copyScaledNearestNeighbor(a);else{var q=new Uint16Array(this.width),r=a.width,
k=Math.floor(a.width/this.width),c=Math.floor(a.width/this.width/l),f=k-c*l,p=Math.floor(a.height/this.height/l);k=p*r-k*this.width;r*=Math.floor(a.height/this.height)-p*l;for(var e=p=0,n=0;n<this.height;n++,p+=r){var u;q.fill(0);for(var A=0;A<l;A++,p+=k)for(var C=u=0;C<this.width;C++,u++,p+=f)for(var B=0;B<l;B++,p+=c)q[u]+=a.data[p];for(A=u=0;A<this.width;A++,u++,e++)this.data[e]=q[u]/(l*l)}}};h.prototype.mirrorHorizontally=function(){for(var a=this.width,l=this.height,q=new Uint8Array(a*l),r=0,
k=a,c=0;c<l;c++,k+=a+a)for(var f=0;f<a;f++)q[r++]=this.data[--k];this.data=q};h.prototype.applyLUT=function(a){for(var l=0;l<this.data.length;l++)this.data[l]=a.table[this.data[l]]};h.prototype.getAsCanvas=function(a){var l=this.getImageData(0,0,this.width,this.height),q=(0,d.createCanvas)(this.width,this.height);q.getContext("2d").putImageData(l,0,0);return(0,w.getRotatedCanvas)(q,a||0)};h.prototype.getImageData=function(a,l,q,r){var k=(0,d.createImageData)(q,r);a=this.offsetOfPixel(a,l);l=0;for(var c=
this.width-q,f=0;f<r;f++,a+=c)for(var p=0;p<q;p++,a++)k.data[l++]=this.data[a],k.data[l++]=this.data[a],k.data[l++]=this.data[a],k.data[l++]=255;return k};h.prototype.pasteImageData=function(a,l,q){var r=0;l=this.offsetOfPixel(l,q);q=this.width-a.width;for(var k=0;k<a.height;k++,l+=q)for(var c=0;c<a.width;c++,r+=4,l++)this.data[l]=a.data[r];return a};h.prototype.copyPixelsFrom=function(a){a.width!=this.width||a.height!=this.height||a.bitDepth!=this.bitDepth?(this.data=a.data.slice(0),this.width=a.width,
this.height=a.height,this.bitDepth=a.bitDepth):this.data.set(a.data)};h.prototype.copyRectXOR=function(a,l){l=this.getBounds().clipTo(l);var q=l.getWidth(),r=l.getHeight();r=new Uint8Array(q*r);for(var k=0,c=this.offsetOfPixel(l.left,l.top),f=a.offsetOfPixel(l.left,l.top),p=this.width-q,e=a.width-q,n=l.top;n<l.bottom;n++,c+=p,f+=e)for(var u=0;u<q;u++,k++,c++,f++)r[k]=this.data[c]^a.data[f];return r};h.prototype.setRectXOR=function(a,l){l=this.getBounds().clipTo(l);var q=l.getWidth(),r=l.getHeight();
l=this.offsetOfPixel(l.left,l.top);for(var k=0,c=this.width-q,f=0;f<r;f++){for(var p=0;p<q;p++)this.data[l++]^=a[k++];l+=c}};h.prototype.copyBitmapRect=function(a,l,q,r){var k=new b.default(l,q,0,0);r=r.clone();this.getBounds().clipSourceDest(r,k);l=k.getWidth()|0;q=k.getHeight()|0;if(0==k.left&&0==k.top&&l==this.width&&q==this.height&&l==a.width&&q==a.height)this.copyPixelsFrom(a);else{k=this.offsetOfPixel(k.left,k.top);var c=this.width-l;r=a.offsetOfPixel(r.left,r.top);for(var f=a.width-l,p=0;p<
q;p++,r+=f,k+=c)for(var e=0;e<l;e++,r++,k++)this.data[k]=a.data[r]}};h.prototype.copyRegionHFlip=function(a,l){a=this.getBounds().clipTo(a);for(var q=a.top;q<a.bottom;q++)for(var r=this.offsetOfPixel(a.left,q),k=l.offsetOfPixel(a.right-1,q),c=a.left;c<a.right;c++,k-=2)this.data[r++]=l.data[k++]};h.prototype.copyRegionVFlip=function(a,l){a=this.getBounds().clipTo(a);for(var q=a.getWidth(),r=a.top;r<a.bottom;r++)for(var k=this.offsetOfPixel(a.left,r),c=l.offsetOfPixel(a.left,a.bottom-1-(r-a.top)),f=
0;f<q;f++)this.data[k++]=l.data[c++]};h.prototype.copyPixelColumnToArray=function(a,l,q,r){var k=this.width,c=0;a=this.offsetOfPixel(a,l);for(l=0;l<q;l++)r[c]=this.data[a],a+=k,c++};h.prototype.copyArrayToPixelColumn=function(a,l,q,r){var k=this.width,c=0;a=this.offsetOfPixel(a,l);for(l=0;l<q;l++)this.data[a]=r[c],a+=k,c++};h.prototype.boxBlur=function(a,l,q){a=this.getBounds().clipTo(a);var r=a.getWidth(),k=a.getHeight(),c=Math.max(r,k),f=new this.data.constructor(c);c=new this.data.constructor(c);
for(var p=a.top;p<a.bottom;p++){for(var e=this.offsetOfPixel(a.left,p),n=0;n<r;n++)f[n]=this.data[e++];v(f,c,r,l);e=this.offsetOfPixel(a.left,p);for(n=0;n<r;n++)this.data[e++]=c[n]}for(l=a.left;l<a.right;l++)this.copyPixelColumnToArray(l,a.top,k,f),v(f,c,k,q),this.copyArrayToPixelColumn(l,a.top,k,c)};h.prototype.offsetOfPixel=function(a,l){return l*this.width+a};h.prototype.fillWithNoise=function(a){a=this.getBounds().clipTo(a);for(var l=this.width-a.getWidth(),q=this.offsetOfPixel(a.left,a.top),
r=a.top;r<a.bottom;r++,q+=l)for(var k=a.left;k<a.right;k++,q++)this.data[q]=256*Math.random()|0};h.prototype.invert=function(a){a=this.getBounds().clipTo(a);for(var l=this.width-a.getWidth(),q=this.offsetOfPixel(a.left,a.top),r=a.top;r<a.bottom;r++,q+=l)for(var k=a.left;k<a.right;k++,q++)this.data[q]=~this.data[q]};h.prototype.getValueBounds=function(a,l){var q=a.clone(),r,k;var c=this.width-q.getWidth();a=this.offsetOfPixel(q.left,q.top);for(k=q.top;k<q.bottom;k++,a+=c){var f=!1;for(r=q.left;r<q.right;r++,
a++)if(this.data[a]!=l){f=!0;break}if(f)break}q.top=k;if(q.top==q.bottom)return q;a=this.offsetOfPixel(q.right-1,q.bottom-1);for(k=q.bottom-1;k>=q.top;k--,a-=c){f=!1;for(r=q.right-1;r>=q.left;r--,a--)if(this.data[a]!=l){f=!0;break}if(f)break}q.bottom=k+1;c=this.width;for(r=q.left;r<q.right;r++){a=this.offsetOfPixel(r,q.top);f=!1;for(k=q.top;k<q.bottom;k++,a+=c)if(this.data[a]!=l){f=!0;break}if(f)break}q.left=r;for(r=q.right-1;r>=q.left;r--){a=this.offsetOfPixel(r,q.top);f=!1;for(k=q.top;k<q.bottom;k++,
a+=c)if(this.data[a]!=l){f=!0;break}if(f)break}q.right=r+1;return q};h.prototype.gradientHorzReplace=function(a,l,q,r){var k=r[0]&255;r=r[1]&255;var c=this.width-a.getWidth(),f=this.offsetOfPixel(a.left,a.top)|0,p=a.bottom-a.top|0;if(q<l){var e=q;q=l;l=e;e=k;k=r;r=e}e=(r-k)/(q-l|0);for(var n=Math.max(a.left-l,0),u=0;u<p;u++,f+=c){for(var A=a.left,C=Math.min(l,a.right)|0;A<C;A++,f++)this.data[f]=k;var B=k+e*n;for(C=Math.min(q,a.right)|0;A<C;A++,f++)this.data[f]=B,B+=e;for(;A<a.right;A++,f++)this.data[f]=
r}};h.prototype.gradientVertReplace=function(a,l,q,r){var k=r[0]&255;r=r[1]&255;var c=this.width-a.getWidth(),f=this.offsetOfPixel(a.left,a.top)|0,p=a.right-a.left|0;if(q<l){var e=q;q=l;l=e;e=k;k=r;r=e}e=a.top;for(var n=Math.min(a.bottom,l)|0;e<n;e++,f+=c)for(var u=0;u<p;u++,f++)this.data[f]=k;n=(r-k)/(q-l|0);l=k+n*Math.max(e-l,0);for(q=Math.min(a.bottom,q)|0;e<q;e++,f+=c){for(k=0;k<p;k++,f++)this.data[f]=l;l+=n}for(;e<a.bottom;e++,f+=c)for(q=0;q<p;q++,f++)this.data[f]=r};h.prototype.gradientReplace=
function(a,l,q,r,k,c){var f=this.width-a.getWidth(),p=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,n=c[0]&255;c=c[1]&255;var u=k-q+(r-l)*(r-l)/(k-q);r=r-l+(k-q)*(k-q)/(r-l);k=1/r;for(var A=a.top;A<a.bottom;A++,p+=f)for(var C=(a.left-l)/r+(A-q)/u,B=0;B<e;B++,p++){var I=Math.min(Math.max(C,0),1);this.data[p]=n*(1-I)+c*I;C+=k}};h.prototype.gradientAlpha=function(a,l,q,r,k,c){var f=this.width-a.getWidth(),p=this.offsetOfPixel(a.left,a.top)|0,e=a.right-a.left|0,n=c[0]&255,u=c[0]>>24&255,A=c[1]&
255;c=c[1]>>24&255;var C=k-q+(r-l)*(r-l)/(k-q);r=r-l+(k-q)*(k-q)/(r-l);k=1/r;for(var B=a.top;B<a.bottom;B++,p+=f)for(var I=(a.left-l)/r+(B-q)/C,N=0;N<e;N++,p++){var y=Math.min(Math.max(I,0),1),G=1-y,H=u*G+c*y;this.data[p]=((n*G+A*y)*H+this.data[p]*(255-H))/255|0;I+=k}};h.prototype.gradient=function(a,l,q,r,k,c,f){a=this.getBounds().clipTo(a);if(l!=r||q!=k)f||255==c[0]>>>24&&255==c[1]>>>24?l==r?this.gradientVertReplace(a,q,k,c):q==k?this.gradientHorzReplace(a,l,r,c):this.gradientReplace(a,l,q,r,k,
c):this.gradientAlpha(a,l,q,r,k,c)};h.prototype.equals=function(a){if(this.width!=a.width||this.height!=a.height)return!1;for(var l=0;l<this.data.length;l++)if(this.data[l]!=a.data[l])return!1;return!0};L.exports=D.default},{"../util/CPRect.js":63,"../util/Canvas.js":2,"./CPBitmap.js":4,"./CPColorBmp.js":13}],15:[function(g,L,D){function z(d){return d&&d.__esModule?d:{default:d}}function h(d,w,a){E.default.call(this,a);this.image=0<d&&0<w?new v.default(d,w):null;this.clip=!1;this.imageThumbnail=null}
Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var v=z(g("./CPColorBmp.js")),E=z(g("./CPLayer.js")),b=z(g("../util/CPRect.js"));h.prototype=Object.create(E.default.prototype);h.prototype.constructor=h;h.createFromImage=function(d,w){w=new h(0,0,w);w.image=d;return w};h.prototype.clone=function(){var d=new h(0,0,this.name);d.copyFrom(this);return d};h.prototype.copyFrom=function(d){E.default.prototype.copyFrom.call(this,d);this.clip=d.clip;this.image?this.image.copyPixelsFrom(d.image):
this.image=d.image.clone()};h.prototype.hasAlpha=function(){return 100!=this.alpha?!0:this.image.hasAlpha()};h.prototype.hasAlphaInRect=function(d){return 100!=this.alpha?!0:this.image.hasAlphaInRect(d)};h.prototype.copyImageFrom=function(d){this.image.copyPixelsFrom(d)};h.prototype.getClippingBase=function(){if(this.clip&&this.parent)for(var d=this.parent.indexOf(this)-1;0<=d;d--)if(this.parent.layers[d]instanceof h){if(!this.parent.layers[d].clip)return this.parent.layers[d]}else break;return null};
h.prototype.getClip=function(){return this.clip};h.prototype.setClip=function(d){this.clip=d};h.prototype.getNonTransparentBounds=function(d){return this.image.getNonTransparentBounds(d)};h.prototype.getBounds=function(){return new b.default(0,0,this.image.width,this.image.height)};h.prototype.getMemoryUsed=function(){return this.image?this.image.getMemorySize():0};h.prototype.rebuildImageThumbnail=function(){if(!this.imageThumbnail){var d=Math.ceil(Math.max(this.image.width/E.default.LAYER_THUMBNAIL_WIDTH,
this.image.height/E.default.LAYER_THUMBNAIL_HEIGHT));this.imageThumbnail=new v.default(Math.floor(this.image.width/d),Math.floor(this.image.height/d))}this.imageThumbnail.createThumbnailFrom(this.image)};h.prototype.getImageThumbnail=function(){this.imageThumbnail||this.rebuildImageThumbnail();return this.imageThumbnail};L.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPLayer.js":16}],16:[function(g,L,D){function z(d){return d&&d.__esModule?d:{default:d}}function h(d){this.name=
d||"";this.parent=null;this.lockAlpha=!1;this.alpha=100;this.visible=!0;this.blendMode=v.default.LM_NORMAL;this.mask=null;this.maskVisible=this.maskLinked=!0;this.maskThumbnail=null;this.useLegacyMultiply=!1}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;z(g("./CPLayerGroup.js"));var v=z(g("./CPBlend.js")),E=z(g("./CPGreyBmp.js")),b=z(g("../util/CPRect.js"));h.prototype.copyFrom=function(d){this.name=d.name;this.blendMode=d.blendMode;this.useLegacyMultiply=d.useLegacyMultiply;this.alpha=
d.alpha;this.visible=d.visible;this.parent=d.parent;this.lockAlpha=d.lockAlpha;d.mask?this.mask?this.mask.copyPixelsFrom(d.mask):this.mask=d.mask.clone():this.mask=null;this.maskLinked=d.maskLinked;this.maskVisible=d.maskVisible;d.maskThumbnail?this.maskThumbnail?this.maskThumbnail.copyPixelsFrom(d.maskThumbnail):this.maskThumbnail=d.maskThumbnail.clone():this.maskThumbnail=null};h.prototype.setMask=function(d){this.mask=d;d||(this.maskThumbnail=null)};h.prototype.setAlpha=function(d){this.alpha=
d};h.prototype.getAlpha=function(){return this.alpha};h.prototype.getEffectiveAlpha=function(){return this.visible?this.alpha:0};h.prototype.getEffectiveMask=function(){return this.maskVisible?this.mask:null};h.prototype.setName=function(d){this.name=d};h.prototype.getName=function(){return this.name};h.prototype.setBlendMode=function(d){this.blendMode=d;d===v.default.LM_MULTIPLY?this.useLegacyMultiply=!0:d===v.default.LM_MULTIPLY2&&(this.useLegacyMultiply=!1)};h.prototype.getBlendMode=function(){return this.blendMode};
h.prototype.getLockAlpha=function(){return this.lockAlpha};h.prototype.setLockAlpha=function(d){this.lockAlpha=d};h.prototype.setVisible=function(d){this.visible=d};h.prototype.getVisible=function(){return this.visible};h.prototype.isVisible=h.prototype.getVisible;h.prototype.setMaskLinked=function(d){this.maskLinked=d};h.prototype.getMaskLinked=function(){return this.maskLinked};h.prototype.setMaskVisible=function(d){this.maskVisible=d};h.prototype.getMaskVisible=function(){return this.maskVisible};
h.prototype.getMemoryUsed=function(){return 0};h.prototype.getDepth=function(){return null==this.parent?0:this.parent.getDepth()+1};h.prototype.ancestorsAreVisible=function(){return null==this.parent||this.parent.visible&&this.parent.ancestorsAreVisible()};h.prototype.hasAncestor=function(d){return this.parent==d||this.parent&&this.parent.hasAncestor(d)};h.prototype.clone=function(){throw"Pure virtual CPLayer.clone() call";};h.prototype.getNonTransparentBounds=function(d){return new b.default(0,0,
0,0)};h.prototype.rebuildMaskThumbnail=function(){if(this.mask){if(!this.maskThumbnail){var d=Math.ceil(Math.max(this.mask.width/h.LAYER_THUMBNAIL_WIDTH,this.mask.height/h.LAYER_THUMBNAIL_HEIGHT));this.maskThumbnail=new E.default(Math.floor(this.mask.width/d),Math.floor(this.mask.height/d),8)}this.maskThumbnail.createThumbnailFrom(this.mask)}else this.maskThumbnail=null};h.prototype.getMaskThumbnail=function(){!this.maskThumbnail&&this.mask&&this.rebuildMaskThumbnail();return this.maskThumbnail};
h.LAYER_THUMBNAIL_WIDTH=80;h.LAYER_THUMBNAIL_HEIGHT=50;L.exports=D.default},{"../util/CPRect.js":63,"./CPBlend.js":5,"./CPGreyBmp.js":14,"./CPLayerGroup.js":17}],17:[function(g,L,D){function z(l){return l&&l.__esModule?l:{default:l}}function h(l,q){var r="undefined"!==typeof Symbol&&l[Symbol.iterator]||l["@@iterator"];if(!r){if(Array.isArray(l)||(r=v(l))||q&&l&&"number"===typeof l.length){r&&(l=r);var k=0;q=function(){};return{s:q,n:function(){return k>=l.length?{done:!0}:{done:!1,value:l[k++]}},
e:function(e){throw e;},f:q}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var c=!0,f=!1,p;return{s:function(){r=r.call(l)},n:function(){var e=r.next();c=e.done;return e},e:function(e){f=!0;p=e},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw p;}}}}function v(l,q){if(l){if("string"===typeof l)return E(l,q);var r=Object.prototype.toString.call(l).slice(8,-1);"Object"===
r&&l.constructor&&(r=l.constructor.name);if("Map"===r||"Set"===r)return Array.from(l);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(l,q)}}function E(l,q){if(null==q||q>l.length)q=l.length;for(var r=0,k=Array(q);r<q;r++)k[r]=l[r];return k}function b(l,q){w.default.call(this,l);this.layers=[];this.expanded=!0;this.blendMode=q}function d(l,q){return l+q}Object.defineProperty(D,"__esModule",{value:!0});D.default=b;var w=z(g("./CPLayer.js")),a=z(g("../util/CPRect.js"));
b.prototype=Object.create(w.default.prototype);b.prototype.constructor=b;b.prototype.getLinearizedLayerList=function(l,q){q=q||[];var r=h(this.layers),k;try{for(r.s();!(k=r.n()).done;){var c=k.value;c instanceof b&&(c.expanded||!l)&&c.getLinearizedLayerList(l,q);q.push(c)}}catch(f){r.e(f)}finally{r.f()}return q};b.prototype.clearLayers=function(){this.layers=[]};b.prototype.addLayer=function(l){l.parent=this;this.layers.push(l)};b.prototype.insertLayer=function(l,q){q.parent=this;this.layers.splice(l,
0,q)};b.prototype.removeLayer=function(l){l=this.layers.indexOf(l);-1<l&&this.layers.splice(l,1)};b.prototype.removeLayerAtIndex=function(l){var q=this.layers[l];q&&this.layers.splice(l,1);return q};b.prototype.setLayerAtIndex=function(l,q){var r=this.layers[l];q.parent=this;this.layers[l]=q;return r};b.prototype.setExpanded=function(l){this.expanded=l};b.prototype.getExpanded=function(){return this.expanded};b.prototype.indexOf=function(l){return this.layers.indexOf(l)};b.prototype.getMemoryUsed=
function(){return this.layers.map(function(l){return l.getMemoryUsed()}).reduce(d,0)};b.prototype.clone=function(){var l=new b(this.name,this.blendMode);w.default.prototype.copyFrom.call(l,this);l.expanded=this.expanded;l.layers=this.layers.map(function(q){return q.clone()});l.layers.forEach(function(q){return q.parent=l});return l};b.prototype.getNonTransparentBounds=function(l){var q=new a.default(0,0,0,0);this.layers.forEach(function(r){return q.union(r.getNonTransparentBounds(l))});return q};
L.exports=D.default},{"../util/CPRect.js":63,"./CPLayer.js":16}],18:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){this.table=new Uint8Array(256);this.loadIdentity=function(){for(var z=0;256>z;z++)this.table[z]=z};this.loadBrightnessContrast=function(z,h){h=0<h?1/(1.0001-h):1+h;z=.5-.5*h+z;for(var v=0;256>v;v++)this.table[v]=Math.min(255,Math.max(~~(255*(v/255*h+z)),0))};this.invert=function(){for(var z=0;256>z;z++)this.table[z]=255-this.table[z]}};L.exports=
D.default},{}],19:[function(g,L,D){function z(k){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},z(k)}function h(k){return k&&k.__esModule?k:{default:k}}function v(k,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);var e=Object,n=e.defineProperty;
a:{var u=p.key;if("object"===z(u)&&null!==u){var A=u[Symbol.toPrimitive];if(void 0!==A){u=A.call(u,"string");if("object"!==z(u))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}u=String(u)}}u="symbol"===z(u)?u:String(u);n.call(e,k,u,p)}}function E(k,c,f){c&&v(k.prototype,c);f&&v(k,f);Object.defineProperty(k,"prototype",{writable:!1});return k}function b(k,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");k.prototype=
Object.create(c&&c.prototype,{constructor:{value:k,writable:!0,configurable:!0}});Object.defineProperty(k,"prototype",{writable:!1});c&&d(k,c)}function d(k,c){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,p){f.__proto__=p;return f};return d(k,c)}function w(k){var c=a();return function(){var f=l(k);if(c){var p=l(this).constructor;f=Reflect.construct(f,arguments,p)}else f=f.apply(this,arguments);if(!f||"object"!==z(f)&&"function"!==typeof f){if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=this}return f}}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(k){return!1}}function l(k){l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)};return l(k)}
Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var q=h(g("../util/CPRect.js")),r=h(g("./CPColorBmp.js"));h(g("./CPGreyBmp.js"));g=h(g("wolfy87-eventemitter"));D.default=function(k){function c(p,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var n=f.call(this);n.layer=p;n.buffer=p.mask.getImageData(0,0,p.mask.width,p.mask.height);n.invalidRect=new q.default(0,0,0,0);n.prepareMask=e;return n}b(c,k);var f=w(c);E(c,[{key:"close",value:function(){this.layer=
this.buffer=null;this.emitEvent("changeLayer")}},{key:"setLayer",value:function(p){this.layer=p;this.invalidRect=p.getBounds();this.emitEvent("changeLayer")}},{key:"isOpen",value:function(){return null!=this.layer}},{key:"invalidateRect",value:function(p){this.invalidRect.union(p)}},{key:"getImageData",value:function(){this.prepareMask();if(!this.invalidRect.isEmpty()&&this.layer&&this.layer.mask){var p=this.buffer,e=this.layer.mask,n=this.invalidRect,u=n.top*e.width+n.left,A=u*r.default.BYTES_PER_PIXEL,
C=n.getWidth();n=n.getHeight();for(var B=e.width-C,I=B*r.default.BYTES_PER_PIXEL,N=0;N<n;N++,u+=B,A+=I)for(var y=0;y<C;y++,u++,A+=r.default.BYTES_PER_PIXEL)p.data[A+r.default.RED_BYTE_OFFSET]=e.data[u],p.data[A+r.default.GREEN_BYTE_OFFSET]=e.data[u],p.data[A+r.default.BLUE_BYTE_OFFSET]=e.data[u],p.data[A+r.default.ALPHA_BYTE_OFFSET]=255;this.invalidRect.makeEmpty()}return this.buffer}}]);return c}(g.default);L.exports=D.default},{"../util/CPRect.js":63,"./CPColorBmp.js":13,"./CPGreyBmp.js":14,"wolfy87-eventemitter":314}],
20:[function(g,L,D){function z(a){return a&&a.__esModule?a:{default:a}}function h(a){function l(f,p){switch(f.name){case "flat":return new Promise(function(e,n){var u=new Blob([p],{type:"image/png"}),A=window.URL.createObjectURL(u);if(A){var C=new Image;C.onload=function(){var B=new E.default(this.width,this.height),I=new d.default(0,0,"Layer 1");I.image=b.default.createFromImage(C);B.addLayerObject(B.getLayersRoot(),I);C=null;window.URL.revokeObjectURL(A);e(B)};C.src=A}else n(null)});case "swatches":return(f=
(new w.default).read(p))?Promise.resolve(f):Promise.reject(null);case "layers":return(0,v.load)(p);default:return Promise.reject("Unexpected resource type '"+f.name+"'")}}function q(f,p){null===p?c.emitEvent("loadingProgress",[1,"Loading your "+f.friendly+"..."]):c.emitEvent("loadingProgress",[p,"Loading your "+f.friendly+" ("+Math.round(100*p)+"%)..."])}var r=[],k={},c=this;a.loadChibiFileUrl&&0<(""+a.loadChibiFileUrl).length?r.push({url:a.loadChibiFileUrl,friendly:"drawing layers",name:"layers",
required:!0}):a.loadImageUrl&&0<(""+a.loadImageUrl).length&&r.push({url:a.loadImageUrl,friendly:"drawing",name:"flat",required:!0});a.loadSwatchesUrl&&r.push({url:a.loadSwatchesUrl,friendly:"color swatches",name:"swatches",required:!1,noProgress:!0});this.load=function(){function f(){p.required?c.emitEvent("loadingFailure",["Failed to load your "+p.friendly+", please try again later."]):c.load()}if(0==r.length)c.emitEvent("loadingComplete",[k]);else{var p=r.shift(),e=new XMLHttpRequest;e.addEventListener("progress",
function(n){q(p,n.lengthComputable&&!p.noProgress?n.loaded/n.total:null)},!1);e.addEventListener("load",function(n){if(200==this.status){var u=this.response;c.emitEvent("loadingProgress",[1,"Starting ChickenPaint..."]);setTimeout(function(){l(p,u).then(function(A){k[p.name]=A;c.load()},function(){c.emitEvent("loadingFailure",["Failed to read your "+p.friendly])})},0)}else f()},!1);e.addEventListener("error",f);q(p,p.noProgress?null:0);e.open("GET",p.url,!0);e.responseType="arraybuffer";e.send()}}}
Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var v=g("../../js/engine/CPChibiFile.js"),E=z(g("./CPArtwork.js")),b=z(g("./CPColorBmp.js")),d=z(g("./CPImageLayer.js")),w=z(g("../util/AdobeColorTable.js"));g=z(g("wolfy87-eventemitter"));h.prototype=Object.create(g.default.prototype);h.prototype.constructor=h;L.exports=D.default},{"../../js/engine/CPChibiFile.js":11,"../util/AdobeColorTable.js":55,"./CPArtwork.js":3,"./CPColorBmp.js":13,"./CPImageLayer.js":15,"wolfy87-eventemitter":314}],
21:[function(g,L,D){function z(a){return a&&a.__esModule?a:{default:a}}function h(a){for(var l=new Uint8Array(a.length),q=0;q<a.length;q++)l[q]=a.charCodeAt(q);return l}function v(a){function l(c){null===c?r.emitEvent("savingProgress",[1,(0,w._)("Saving drawing...")]):r.emitEvent("savingProgress",[c,(0,w._)("Saving drawing...")+" ("+Math.round(100*c)+"%)"])}function q(c){c={method:"POST",mode:"same-origin",headers:{"X-Requested-With":"chickenpaint"},body:c};l(.5);fetch(a.url,c).then(function(f){if(!f.ok)throw Error("Network response was not ok (".concat(f.status,
")"));return f.text()}).then(function(f){/^CHIBIOK/.test(f)?(l(1),r.emitEvent("savingComplete")):r.emitEvent("savingFailure",[f])}).catch(function(f){r.emitEvent("savingFailure",[f.message])})}var r=this,k=!1;a.rotation=a.rotation||0;this.save=function(){var c;var f=h(a.artwork.getFlatPNG(a.rotation));var p=new Blob([f],{type:"image/png"});f=null;(a.artwork.isSimpleDrawing()?Promise.resolve(null):(0,E.save)(a.artwork)).then(function(e){if(k)r.emitEvent("savingFailure");else{if(a.swatches){var n=new b.default;
c=new Blob([n.write(a.swatches)],{type:"application/octet-stream"})}else c=null;a.url?(n=new FormData,n.append("beginMarker","This marker ensures the upload wasn't truncated"),n.append("painter","ChickenPaint v2.0"),n.append("picture",p),p=null,e?(n.append("chibifileFormat",e.version),n.append("chibifile",e.bytes),n.append("rotation",""+a.rotation)):n.append("rotation","0"),c&&(n.append("swatches",c),c=null),n.append("endMarker","This marker ensures the upload wasn't truncated"),q(n)):(n="oekaki_"+
(new Date).toISOString().split(".")[0].replace(/[^0-9]/g,"_"),d.default.saveAs(p,n+".png"),e&&d.default.saveAs(e.bytes,n+".chi"),c&&d.default.saveAs(c,n+".aco"))}}).catch(function(e){r.emitEvent("savingFailure")})};this.cancel=function(){k=!0}}Object.defineProperty(D,"__esModule",{value:!0});D.binaryStringToByteArray=h;D.default=v;var E=g("../../js/engine/CPChibiFile.js"),b=z(g("../util/AdobeColorTable.js"));L=z(g("wolfy87-eventemitter"));var d=z(g("file-saver")),w=g("../languages/lang.js");v.prototype=
Object.create(L.default.prototype);v.prototype.constructor=v},{"../../js/engine/CPChibiFile.js":11,"../languages/lang.js":54,"../util/AdobeColorTable.js":55,"file-saver":295,"wolfy87-eventemitter":314}],22:[function(g,L,D){function z(E){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},z(E)}function h(E,b){for(var d=
0;d<b.length;d++){var w=b[d];w.enumerable=w.enumerable||!1;w.configurable=!0;"value"in w&&(w.writable=!0);var a=Object,l=a.defineProperty;a:{var q=w.key;if("object"===z(q)&&null!==q){var r=q[Symbol.toPrimitive];if(void 0!==r){q=r.call(q,"string");if("object"!==z(q))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}q=String(q)}}q="symbol"===z(q)?q:String(q);l.call(a,E,q,w)}}function v(E,b,d){b&&h(E.prototype,b);d&&h(E,d);Object.defineProperty(E,"prototype",{writable:!1});
return E}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;D.default=function(){function E(){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");}v(E,[{key:"merge",value:function(b){return!1}},{key:"noChange",value:function(){return!1}},{key:"getMemoryUsed",value:function(b,d){return 0}},{key:"compact",value:function(){}}]);return E}();L.exports=D.default},{}],23:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(h){var v=
(0,z.default)('<div class="modal fade chickenpaint-about-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">About ChickenPaint Be</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n\t\t\t\t\t\t<a class="chickenpaint-on-github" target="_blank" href="https://github.com/satopian/ChickenPaint_Be" rel="noopener"><span class="icon-github"></span> ChickenPaint Be on GitHub</a>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\tCustomized from <a href="https://github.com/thenickdude/chickenpaint" target="_blank" rel="noopener">ChickenPaint</a>.<br>\n\t\t\t\t\t\tby satopian.<br>\n\t\t\t\t\t\t<a href="https://www.gnu.org/licenses/" target="_blank" rel="noopener">GNU General Public License</a></br>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<a class="chickenpaint-on-github" target="_blank" href="https://github.com/thenickdude/chickenpaint" rel="noopener"><span class="icon-github"></span> ChickenPaint on GitHub</a>\n                            \n                            <p>\n                                ChickenPaint is a translation of <a href="https://github.com/thenickdude/chibipaint" target="_blank" rel="noopener">ChibiPaint</a>\n                                from Java to JavaScript by Nicholas Sherlock / Chicken Smoothie\n                            </p>\n                            <p>\n                                ChibiPaint is Copyright (c) 2006-2008 Marc Schefer. All Rights Reserved\n                            </p>\n                            <p>\n                                ChickenPaint is free software: you can redistribute it and/or modify\n                                it under the terms of the GNU General Public License as published by\n                                the Free Software Foundation, either version 3 of the License, or\n                                (at your option) any later version.\n                            </p>\n        \n                            <p>\n                                ChickenPaint is distributed in the hope that it will be useful,\n                                but WITHOUT ANY WARRANTY; without even the implied warranty of\n                                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n                                <a target="_blank" href="https://www.gnu.org/licenses/" rel="noopener">GNU General Public License</a> for more details.\n                            </p>\n        \n                            <pre class="pre-scrollable chickenpaint-third-party-licenses">Toolbar icons designed by <a target="_blank" href="https://github.com/Anteira" rel="noopener">Miglena Lapavicheva (Anteira)</a>\n    These icons are dual-licensed under <a target="_blank" href="https://spdx.org/licenses/GPL-3.0-or-later.html" rel="noopener">GPL-3.0-or-later</a> and <a target="_blank" href="https://creativecommons.org/licenses/by/3.0/" rel="noopener">CC-BY-3.0</a>\n\nIncludes icons from the <a target="_blank" href="https://extensions.libreoffice.org/en/extensions/show/tango-icon-theme-for-libreoffice" rel="noopener">Tango Icon Theme for LibreOffice</a>:\n    All artwork is licensed under the Creative Commons Attribution-Share Alike 3.0\n    United States License. To view a copy of this licence, visit\n    https://creativecommons.org/licenses/by-sa/3.0/ or send a letter to Creative\n    Commons, 171 Second Street, Suite 300, San Francisco, California 94105, USA.\n    \n    Credit for icons imported from git://git.gnome.org/gnome-icon-theme or derivatives\n    of these goes to the GNOME project (https://www.gnome.org)\n    Derivatives and new icons were created by Alexander Wilms &lt;f.alexander.wilms@gmail.com> \n    and Miroslav Mazel &lt;mazelm@gmail.com>\n    \nIncludes these MIT-licensed libraries:\n\n    Includes the <a target="_blank" href="https://github.com/eligrey/FileSaver.js" rel="noopener">FileSaver.js library</a>\n    FileSaver.js Copyright \u00a9 2015 <a target="_blank" href="https://eligrey.com/" rel="noopener">Eli Grey</a>\n\n    Includes the <a target="_blank" href="https://github.com/nodeca/pako" rel="noopener">Pako zlib compression library</a>\n    Copyright (C) 2014-2015 by Vitaly Puzrin\n    \n    Includes the <a target="_blank" href="https://github.com/madrobby/keymaster" rel="noopener">keymaster.js</a> keyboard library\n    Copyright (c) 2011-2013 Thomas Fuchs\n\n    Includes the <a target="_blank" href="https://github.com/stefanpenner/es6-promise" rel="noopener">es6-promise</a> library\n    Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n\n    Includes the <a target="_blank" href="https://benalman.com/projects/jquery-throttle-debounce-plugin/" rel="noopener">jQuery throttle-debounce</a> library\n    Copyright (c) 2010 "Cowboy" Ben Alman\n\n    Permission is hereby granted, free of charge, to any person\n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use,\n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://www.jquery.com/" target="_blank" rel="noopener">jQuery library</a> \nCopyright <a href="https://jquery.org/" target="_blank" rel="noopener">jQuery Foundation and other contributors</a>\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/jquery\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation\n    files (the "Software"), to deal in the Software without\n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n    \n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href="https://github.com/jquery/PEP/" target="_blank" rel="noopener">jQuery PEP library</a>\nCopyright jQuery Foundation and other contributors, https://jquery.org/\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/PEP\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation \n    files (the "Software"), to deal in the Software without \n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or \n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following \n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND \n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, \n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING \n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR \n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes Font Awesome by Dave Gandy - <a href="https://fontawesome.io" target="_blank" rel="noopener">https://fontawesome.io</a>\n                    </pre>\n                </div>\n            </div>\n        </div>\n    ');
v[0].addEventListener("hidden.bs.modal",function(b){v.remove()});var E=new bootstrap.Modal(v[0]);h.appendChild(v[0]);this.show=function(){E.show()}};var z=function(h){return h&&h.__esModule?h:{default:h}}(g("jquery"));L.exports=D.default},{jquery:296}],24:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(v,E){var b=(0,z.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,h._)("Box blur"),
'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,h._)("Blur amount (pixels)"),'</label>\n                                    <input type="number" class="form-control chickenpaint-blur-amount" value="3">\n                                </div>\n                                <div class="form-group">\n                                    <label>').concat((0,h._)("Iterations (1-8, larger gives smoother blur)"),
'</label>\n                                    <input type="number" class="form-control chickenpaint-blur-iterations" value="1" min="1" max="8">\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,h._)("Cancel"),'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-box-blur" data-bs-dismiss="modal">').concat((0,h._)("Ok"),
"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),d=(0,z.default)(".chickenpaint-blur-amount",b),w=(0,z.default)(".chickenpaint-blur-iterations",b),a=(0,z.default)(".chickenpaint-apply-box-blur",b),l=new bootstrap.Modal(b[0]);this.show=function(){var q=document.getElementById("chickenpaint-main-menu-content");q&&q.classList.contains("show")&&(new bootstrap.Collapse(q,{toggle:!1})).hide();l.show()};a[0].addEventListener("click",
function(q){q=Math.max(parseInt(d.val(),10),1);var r=Math.min(Math.max(parseInt(w.val(),10),1),8);E.getArtwork().boxBlur(q,q,r)});b[0].addEventListener("hidden.bs.modal",function(q){b.remove()});b[0].addEventListener("shown.bs.modal",function(q){d.trigger("focus")});b[0].addEventListener("keydown",function(q){"Enter"===q.key&&b.hasClass("show")&&(a.trigger("click"),q.preventDefault())});v.appendChild(b[0])};var z=function(v){return v&&v.__esModule?v:{default:v}}(g("jquery")),h=g("../languages/lang.js");
L.exports=D.default},{"../languages/lang.js":54,jquery:296}],25:[function(g,L,D){function z(B){return B&&B.__esModule?B:{default:B}}function h(B,I){var N=document.createElement("div");N.className="chickenpaint-checkbox-slider-group";N.appendChild(B.getElement());N.appendChild(I.getElement());return N}function v(B,I){for(var N in I)if(I.hasOwnProperty(N)){var y=document.createElement("option");y.appendChild(document.createTextNode((0,C._)(I[N])));y.value=N;B.appendChild(y)}}function E(B){function I(){H.gradient(H.getBounds(),
0,0,H.width,0,R,!0);J.putImageData(H.imageData,0,0,0,0,150,32);y.fillRect(0,0,N.width,N.height);y.drawImage(O,0,0)}var N=document.createElement("canvas"),y=N.getContext("2d"),G=(0,f.createCheckerboardPattern)(y),H=new p.default(150,32),O=document.createElement("canvas"),J=O.getContext("2d"),R=B.getCurGradient();this.getElement=function(){return N};B.on("gradientChange",function(ea){R=ea;I()});N.width=O.width=150;N.height=O.height=32;N.className="chickenpaint-gradient-preview";y.fillStyle=G;I()}function b(B){q.default.call(this,
B,"brush","Tool options");var I=new d(B),N=new w(B),y=new a(B),G=this.getBodyElement();G.appendChild(I.getElement());G.appendChild(N.getElement());G.appendChild(y.getElement());B.on("modeChange",function(H){I.getElement().style.display="none";N.getElement().style.display="none";y.getElement().style.display="none";switch(H){case l.default.M_GRADIENTFILL:N.getElement().style.display="block";break;case l.default.M_TRANSFORM:y.getElement().style.display="block";break;default:I.getElement().style.display=
"block"}})}function d(B){var I=[1,2,3,4,5,6,7,8,9,10,15,20,25,30,35,40,45,50,60,70,80,90,100,125,150,175,200],N=document.createElement("div"),y=document.createElement("select"),G=new r.default(!1,(0,C._)("Control brush opacity with pen pressure")),H=new c.default(1,255),O=new r.default(!0,(0,C._)("Control brush size with pen pressure")),J=new c.default(1,200,!1,!0),R=new r.default(!1,(0,C._)("Control brush scattering with pen pressure")),ea=new c.default(0,1E3,!1,!0),Y=new c.default(0,100,!1,!0),
pa=new c.default(0,100,!1,!0),ka=new c.default(0,100,!1,!0),Q=new c.default(0,100,!1,!0),ja=new b.CPBrushPreview(B);this.getElement=function(){return N};H.title=function(na){return(0,C._)("Opacity")+": "+na};H.on("valueChange",function(na){B.setAlpha(na)});J.title=function(na){return(0,C._)("Brush size")+": "+na};J.on("valueChange",function(na){B.setBrushSize(na)});Y.title=function(na){return(0,C._)("Color")+": "+na+"%"};Y.on("valueChange",function(na){B.getBrushInfo().resat=na/100;B.callToolListeners()});
pa.title=function(na){return(0,C._)("Blend")+": "+na+"%"};pa.on("valueChange",function(na){B.getBrushInfo().bleed=na/100;B.callToolListeners()});ka.title=function(na){return(0,C._)("Spacing")+": "+na+"%"};ka.on("valueChange",function(na){B.getBrushInfo().spacing=na/100;B.callToolListeners()});ea.title=function(na){return(0,C._)("Scattering")+": "+na+"%"};ea.on("valueChange",function(na){B.getBrushInfo().scattering=na/100;B.callToolListeners()});Q.title=function(na){return(0,C._)("Smoothing")+": "+
na+"%"};Q.on("valueChange",function(na){B.getBrushInfo().smoothing=na/100;B.callToolListeners()});R.on("valueChange",function(na){B.getBrushInfo().pressureScattering=na;B.callToolListeners()});G.on("valueChange",function(na){B.getBrushInfo().pressureAlpha=na;B.callToolListeners()});O.on("valueChange",function(na){B.getBrushInfo().pressureSize=na;B.callToolListeners()});y.addEventListener("change",function(na){B.getBrushInfo().tip=parseInt(y.value,10);y.blur()});y.className="form-control form-control-sm";
y.tabIndex=-1;v(y,["Round Pixelated","Round Hard Edge","Round Soft","Square Pixelated","Square Hard Edge"]);N.appendChild(y);N.appendChild(ja.getElement());N.appendChild(h(O,J));N.appendChild(h(G,H));N.appendChild(Y.getElement());N.appendChild(pa.getElement());N.appendChild(ka.getElement());N.appendChild(h(R,ea));N.appendChild(Q.getElement());G.setValue(B.getBrushInfo().pressureAlpha);H.setValue(B.getAlpha());O.setValue(B.getBrushInfo().pressureSize);J.setValue(B.getBrushSize());R.setValue(B.getBrushInfo().pressureScattering);
ea.setValue(~~(100*B.getBrushInfo().scattering));y.value=B.getBrushInfo().tip;Y.setValue(~~(100*B.getBrushInfo().resat));pa.setValue(~~(100*B.getBrushInfo().bleed));ka.setValue(~~(100*B.getBrushInfo().spacing));Q.setValue(~~(100*B.getBrushInfo().smoothing));B.on("toolChange",function(na,za){H.setValue(za.alpha);J.setValue(za.size);O.setValue(za.pressureSize);G.setValue(za.pressureAlpha);y.value=za.tip;R.setValue(za.pressureScattering);~~(100*za.resat)!=Y.value&&Y.setValue(~~(100*za.resat));~~(100*
za.bleed)!=pa.value&&pa.setValue(~~(100*za.bleed));~~(100*za.spacing)!=ka.value&&ka.setValue(~~(100*za.spacing));~~(100*za.scattering)!=ea.value&&ea.setValue(~~(100*za.scattering));~~(100*za.smoothing)!=Q.value&&Q.setValue(~~(100*za.smoothing))});(0,A.default)("1,2,3,4,5,6,7,8,9,0",function(na,za){na=parseInt(za.shortcut,10);0==na&&(na=10);B.setAlpha(Math.round(na/10*255))});(0,A.default)("{,[",function(){for(var na=B.getBrushSize(),za=I.length-1;0<=za;za--)if(na>I[za]){B.setBrushSize(I[za]);break}});
(0,A.default)("},]",function(){for(var na=B.getBrushSize(),za=0;za<I.length;za++)if(na<I[za]){B.setBrushSize(I[za]);break}})}function w(B){function I(){var J=[G.getAlpha()<<24|G.getColorRgb(),H.getAlpha()<<24|H.getColorRgb()];B.setCurGradient(J)}var N=document.createElement("div"),y=new E(B),G=new k.default(new e.default(B.getCurGradient()[0]&16777215),B.getCurGradient()[0]>>>24,N),H=new k.default(new e.default(B.getCurGradient()[1]&16777215),B.getCurGradient()[1]>>>24,N);this.getElement=function(){return N};
N.className="chickenpaint-gradient-panel";N.style.display="none";G.on("colorChange",I);G.on("alphaChange",I);H.on("colorChange",I);H.on("alphaChange",I);var O=document.createElement("p");O.textContent=(0,C._)("Gradient");N.appendChild(O);N.appendChild(y.getElement());y=document.createElement("div");y.className="chickenpaint-gradient-colors";O=document.createElement("div");O.className="chickenpaint-gradient-start-color";O.appendChild(G.getElement());y.appendChild(O);O=document.createElement("div");
O.className="chickenpaint-gradient-end-color";O.appendChild(H.getElement());y.appendChild(O);N.appendChild(y)}function a(B){var I={smooth:(0,C._)("Smooth"),sharp:(0,C._)("Sharp")},N=document.createElement("div"),y=document.createElement("button"),G=document.createElement("button"),H=document.createElement("select");this.getElement=function(){return N};N.className="chickenpaint-transform-panel";N.style.display="none";y.type="button";G.type="button";y.className="btn btn-primary btn-block";G.className=
"btn btn-light btn-block";y.textContent=(0,C._)("Apply transform");G.textContent=(0,C._)("Cancel");H.addEventListener("change",function(J){B.setTransformInterpolation(this.value)});H.className="form-control chickenpaint-transform-interpolation";v(H,I);if((0,n.isCanvasInterpolationSupported)()){I=document.createElement("div");var O=document.createElement("label");O.textContent=(0,C._)("Transform style");I.className="form-group";I.appendChild(O);I.appendChild(H);N.appendChild(I)}H=document.createElement("div");
H.appendChild(y);H.appendChild(G);H.className="form-group";N.appendChild(H);y.addEventListener("click",function(J){B.actionPerformed({action:"CPTransformAccept"});J.preventDefault()});G.addEventListener("click",function(J){B.actionPerformed({action:"CPTransformReject"});J.preventDefault()})}Object.defineProperty(D,"__esModule",{value:!0});D.default=b;var l=z(g("../ChickenPaint.js")),q=z(g("./CPPalette.js")),r=z(g("./CPCheckbox.js")),k=z(g("./CPColorSwatch.js")),c=z(g("./CPSlider.js")),f=g("./CPGUIUtils.js"),
p=z(g("../engine/CPColorBmp.js")),e=z(g("../util/CPColor.js")),n=g("../util/CPPolyfill.js"),u=z(g("jquery")),A=z(g("../../lib/keymaster.js")),C=g("../languages/lang");b.prototype=Object.create(q.default.prototype);b.prototype.constructor=b;b.CPBrushPreview=function(B){function I(){O.clearRect(0,0,H.width,H.height);O.beginPath();O.arc(H.width/2,H.height/2,G/2*window.devicePixelRatio,0,2*Math.PI);O.stroke()}function N(R){var ea=(0,u.default)(H).offset(),Y=R.pageY-ea.top;R=R.pageX-ea.left-(0,u.default)(H).width()/
2;Y-=(0,u.default)(H).height()/2;G=Math.max(1,Math.min(200,Math.round(2*Math.sqrt(R*R+Y*Y))));I();B.setBrushSize(G)}function y(R){J&&(J=!1,window.removeEventListener("mouseup",y),window.removeEventListener("mousemove",N))}var G=16,H=document.createElement("canvas"),O=H.getContext("2d"),J=!1;this.getElement=function(){return H};H.addEventListener("mousedown",function(R){J||(J=!0,window.addEventListener("mouseup",y),window.addEventListener("mousemove",N),N(R))});B.on("toolChange",function(R,ea){ea.size!=
G&&(G=ea.size,I())});H.width=64;H.height=64;1<window.devicePixelRatio&&(H.style.width=H.width+"px",H.style.height=H.height+"px",H.width*=window.devicePixelRatio,H.height*=window.devicePixelRatio);H.className="chickenpaint-brush-preview";O.strokeStyle="black";O.lineWidth=1*window.devicePixelRatio;I()};L.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../engine/CPColorBmp.js":13,"../languages/lang":54,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"./CPCheckbox.js":27,"./CPColorSwatch.js":31,
"./CPGUIUtils.js":33,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296}],26:[function(g,L,D){function z(J){return J&&J.__esModule?J:{default:J}}function h(){this.modes=[]}function v(J){function R(){}function ea(){}function Y(){this.shouldPaintBrushPreview=!1;this.oldPreviewRect=null}function pa(){Y.call(this);this.smoothMouse={x:0,y:0}}function ka(){var aa,Ba;this.mouseDown=function(Na,ab,mb){if(!this.capture&&0==ab&&!Na.altKey&&!w.default.isPressed("space")&&Z())return this.capture=!0,aa=Ba={x:rb+
.5,y:Hb+.5},this.eraseBrushPreview(),!0};this.mouseDrag=function(Na){if(this.capture){var ab=new a.default(Math.min(aa.x,Ba.x)-1-1,Math.min(aa.y,Ba.y)-1-1,Math.max(aa.x,Ba.x)+1+1+1,Math.max(aa.y,Ba.y)+1+1+1);Ba={x:rb+.5,y:Hb+.5};if(Na.shiftKey){var mb=Math.PI/4;Na=Math.round(Math.atan2(Ba.y-aa.y,Ba.x-aa.x)/mb);switch(Na){case 0:case 4:Ba.y=aa.y;break;case 2:case 6:Ba.x=aa.x;break;default:Na*=mb,mb=Math.sqrt((Ba.y-aa.y)*(Ba.y-aa.y)+(Ba.x-aa.x)*(Ba.x-aa.x)),Ba.x=aa.x+mb*Math.cos(Na),Ba.y=aa.y+mb*Math.sin(Na)}}ab.union(new a.default(Math.min(aa.x,
Ba.x)-1-1,Math.min(aa.y,Ba.y)-1-1,Math.max(aa.x,Ba.x)+1+1+1,Math.max(aa.y,Ba.y)+1+1+1));Da(ab);return!0}this.mouseMove.call(this,Na)};this.mouseUp=function(Na,ab,mb){if(this.capture&&0==ab)return Na=Ra(aa),ab=Ra(Ba),this.capture=!1,this.drawLine(Na,ab),Na=new a.default(Math.min(aa.x,Ba.x)-1-1,Math.min(aa.y,Ba.y)-1-1,Math.max(aa.x,Ba.x)+1+1+1,Math.max(aa.y,Ba.y)+1+1+1),Da(Na),!0};this.paint=function(){this.capture?(Qa.lineWidth=1,Qa.beginPath(),Qa.moveTo(aa.x,aa.y),Qa.lineTo(Ba.x,Ba.y),Qa.stroke()):
Y.prototype.paint.call(this)};Y.call(this)}function Q(){var aa=0,Ba,Na,ab,mb;this.mouseDown=function(U,ha,Ca){if(!this.capture&&0==ha&&!U.altKey&&!w.default.isPressed("space")&&Z())return U=Ra({x:rb,y:Hb}),aa=0,Ba=Na=ab=mb=U,this.capture=!0,this.eraseBrushPreview(),!0};this.mouseDrag=function(U){if(this.capture&&0===aa)return ab=mb=Ra({x:rb,y:Hb}),Ua.repaintAll(),!0;this.mouseMove.call(this,U)};this.mouseUp=function(U,ha,Ca){if(this.capture&&0==ha){switch(aa){case 0:aa=1;break;case 1:aa=2;break;case 2:this.capture=
!1;ha=Ba;Ca=Na;var ba=ab,wa=mb;U=new r.default;U.x0=ha.x;U.y0=ha.y;U.x1=Ca.x;U.y1=Ca.y;U.x2=ba.x;U.y2=ba.y;U.x3=wa.x;U.y3=wa.y;ha=Array(500);Ca=Array(500);U.compute(ha,Ca,500);ub.beginStroke(ha[0],Ca[0],1);for(U=1;500>U;U++)ub.continueStroke(ha[U],Ca[U],1);ub.endStroke();Ua.repaintAll()}return!0}};this.mouseMove=function(U,ha){if(this.capture)return U=Ra({x:rb,y:Hb}),1==aa?Na=U:2==aa&&(ab=U),Ua.repaintAll(),!0;Y.prototype.mouseMove.call(this,U,ha)};this.paint=function(){if(this.capture){var U=new r.default,
ha=qa(Ba),Ca=qa(Na),ba=qa(ab),wa=qa(mb);U.x0=ha.x;U.y0=ha.y;U.x1=Ca.x;U.y1=Ca.y;U.x2=ba.x;U.y2=ba.y;U.x3=wa.x;U.y3=wa.y;var Ia=Array(100),Wa=Array(100);U.compute(Ia,Wa,100);Qa.beginPath();Qa.moveTo(Ia[0],Wa[0]);for(U=1;100>U;U++)Qa.lineTo(Ia[U],Wa[U]);Qa.moveTo(~~ha.x,~~ha.y);Qa.lineTo(~~Ca.x,~~Ca.y);Qa.moveTo(~~ba.x,~~ba.y);Qa.lineTo(~~wa.x,~~wa.y);Qa.stroke()}else Y.prototype.paint.call(this)};Y.call(this)}function ja(){var aa;this.mouseDown=function(Ba,Na,ab){if(this.capture)return!0;if(w.default.isPressed("space")||
(0!=Na||this.transient&&!Ba.altKey)&&2!=Na)this.transient&&pb.pop();else return aa=Na,this.capture=!0,Xa("crosshair"),this.mouseDrag(Ba),!0};this.mouseDrag=function(Ba){if(this.capture)return Ba=Ra({x:rb,y:Hb}),ub.isPointWithin(Ba.x,Ba.y)&&J.setCurColor(new B.default(ub.colorPicker(Ba.x,Ba.y))),!0};this.mouseUp=function(Ba,Na,ab){if(this.capture&&Na==aa)return aa=-1,this.capture=!1,Xa("default"),this.transient&&pb.pop(),!0};this.enter=function(){R.prototype.enter.call(this);aa=-1}}function na(){var aa,
Ba,Na,ab;this.keyDown=function(mb){if(" "===mb.key)return this.capture||Xa("grab"),!0};this.keyUp=function(mb){if(this.transient&&1!=ab&&" "===mb.key)return Xa("default"),pb.pop(),!0};this.mouseDown=function(mb,U,ha){if(this.capture)return!0;if(1==U||w.default.isPressed("space")&&0==U||!this.transient&&0==U)return this.capture=!0,ab=U,aa=mb.pageX,Ba=mb.pageY,Na=Ua.getOffset(),Xa("grabbing"),!0;this.transient&&pb.pop()};this.mouseDrag=function(mb){if(this.capture)return Ua.setOffset(Na.x+mb.pageX-
aa,Na.y+mb.pageY-Ba),!0};this.mouseUp=function(mb,U,ha){if(this.capture&&U==ab)return ab=-1,this.capture=!1,this.transient&&!w.default.isPressed("space")&&(Xa("default"),pb.pop()),!0};this.enter=function(){Xa("grab")}}function za(){}function ia(){var aa,Ba=new a.default(0,0,0,0),Na=-1;this.mouseDown=function(ab,mb,U){if(!this.capture&&0==mb&&!ab.altKey&&!w.default.isPressed("space"))return ab=wb({x:rb,y:Hb}),Na=mb,Ba.makeEmpty(),aa=ab,Ua.repaintAll(),this.capture=!0};this.mouseDrag=function(ab){if(!this.capture)return!1;
var mb=wb({x:rb,y:Hb});ab=ab.shiftKey;var U=~~Math.max(Math.abs(mb.x-aa.x),Math.abs(mb.y-aa.y));mb.x>=aa.x?(Ba.left=aa.x,Ba.right=(ab?aa.x+U:mb.x)+1):(Ba.left=ab?aa.x-U:mb.x,Ba.right=aa.x+1);mb.y>=aa.y?(Ba.top=aa.y,Ba.bottom=(ab?aa.y+U:mb.y)+1):(Ba.top=ab?aa.y-U:mb.y,Ba.bottom=aa.y+1);Ua.repaintAll();return!0};this.mouseUp=function(ab,mb,U){if(this.capture&&mb==Na)return ub.rectangleSelection(Ba),Ba.makeEmpty(),Ua.repaintAll(),this.capture=!1,Na=-1,!0};this.paint=function(){Ba.isEmpty()||(Qa.lineWidth=
1,Ha(Qa,Ea(Ba)))}}function va(){var aa,Ba,Na=!1;this.mouseDown=function(ab,mb,U){if(!this.capture&&0==mb&&!w.default.isPressed("space")&&T())return aa=Ra({x:rb,y:Hb}),Ba=ab.altKey,this.capture=Na=!0};this.mouseDrag=(0,k.throttle)(25,function(ab){if(this.capture){ab=Ra({x:rb,y:Hb});var mb=ab.x-aa.x,U=ab.y-aa.y,ha=~~mb,Ca=~~U;if(0!=ha||0!=Ca)ub.move(ha,Ca,Ba&&Na),Na=!1;aa.x=ab.x-(mb-ha);aa.y=ab.y-(U-Ca);return!0}});this.mouseUp=function(ab,mb,U){if(this.capture&&0==mb)return this.capture=!1,this.transient&&
pb.pop(),!0}}function ta(){function aa(Ka,$a){return{x:(Ka.x+$a.x)/2,y:(Ka.y+$a.y)/2}}function Ba(Ka){return{x:Math.round(Ka.x),y:Math.round(Ka.y)}}function Na(Ka,$a){for(var bb=0;bb<Ka.points.length;bb++)if(49>=($a.x-Ka.points[bb].x)*($a.x-Ka.points[bb].x)+($a.y-Ka.points[bb].y)*($a.y-Ka.points[bb].y))return 2*bb;for(bb=0;bb<Ka.points.length;bb++){var jb=Ka.points[bb],Lb=Ka.points[(bb+1)%Ka.points.length];Lb=new p.default(Lb.x-jb.x,Lb.y-jb.y);jb=new p.default($a.x-jb.x,$a.y-jb.y);var Db=Lb.getLength(),
Nb=Lb.getScaled(1/Db);Db=jb.getScaled(1/Db);Nb=Nb.getDotProduct(Db);if(0<=Nb&&1>=Nb&&(Lb.scale(Nb),49>=(Lb.x-jb.x)*(Lb.x-jb.x)+(Lb.y-jb.y)*(Lb.y-jb.y)))return 2*bb+1}return Ka.containsPoint($a)?-3:-2}function ab(){var Ka=Ca.getTransformed(Qb),$a=Na(Ka,{x:rb,y:Hb});switch($a){case 0:case 2:case 4:case 6:$a=~~($a/2);var bb=Ka.points[$a],jb=Ka.points[($a+1)%4];Ka=p.default.subtractPoints(Ka.points[($a+3)%4],bb).normalize().add(p.default.subtractPoints(jb,bb).normalize());mb(Ka);break;case 1:case 3:case 5:case 7:Ka=
p.default.subtractPoints(Ka.points[(~~($a/2)+1)%4],Ka.points[~~($a/2)]).getPerpendicular();mb(Ka);break;case -3:Xa("move");break;case -2:Xa("default");break;default:Xa("default")}}function mb(Ka){Ka=Math.floor(Math.atan2(-Ka.y,Ka.x)/(Math.PI/4)+.5);0>Ka&&(Ka+=4);switch(Ka){default:Ka="ew-resize";break;case 1:Ka="nesw-resize";break;case 2:Ka="ns-resize";break;case 3:Ka="nwse-resize"}Xa(Ka)}var U,ha,Ca,ba=-1,wa,Ia,Wa;this.mouseDown=function(Ka,$a,bb){if(!this.capture&&0==$a&&!Ka.altKey&&!w.default.isPressed("space"))return Ka=
Ca.getTransformed(Qb),ba=Na(Ka,{x:rb,y:Hb}),wa={x:rb,y:Hb},Ia=Ra(wa),this.capture=!0,ab(),!0};this.mouseDrag=(0,k.throttle)(40,function(Ka){if(this.capture){var $a={x:rb,y:Hb};switch(ba){case -3:Ka=Ba(Ra($a));var bb=p.default.subtractPoints(Ka,Ia);$a=bb.getTruncated();bb=bb.subtract($a);var jb=new l.default;jb.translate($a.x,$a.y);U.preMultiply(jb);Ia=p.default.subtractPoints(Ka,bb);break;case -2:jb=Math.PI/4;bb=Ca.getCenter();var Lb=qa(bb),Db=Math.atan2($a.y-Lb.y,$a.x-Lb.x)-Math.atan2(wa.y-Lb.y,
wa.x-Lb.x);Lb=new l.default;Wa+=Db;Ka=Ka.shiftKey?-U.decompose().rotate+Math.round(Wa/jb)*jb:Db;Lb.rotateAroundPoint(Ka,bb.x,bb.y);U.preMultiply(Lb);wa=$a;break;case 0:case 2:case 4:case 6:jb=~~(ba/2);bb=ha.points[jb];Lb=U.getInverted().getTransformedPoint(Ba(Ra($a)));$a=ha.points[(jb+2)%4];jb=(Lb.x-$a.x)/(bb.x-$a.x);bb=(Lb.y-$a.y)/(bb.y-$a.y);if(.001>Math.abs(jb)||.001>Math.abs(bb)||isNaN(jb)||isNaN(bb))return!0;Ka.shiftKey&&(bb=jb=Ka=Math.max(jb,bb));U.scaleAroundPoint(jb,bb,$a.x,$a.y);break;case 1:case 5:case 3:case 7:Ka=
~~(ba/2);bb=aa(ha.points[Ka],ha.points[(Ka+1)%4]);$a=U.getInverted().getTransformedPoint(Ba(Ra($a)));Ka=aa(ha.points[(Ka+2)%4],ha.points[(Ka+3)%4]);bb=p.default.subtractPoints(bb,Ka);$a=p.default.subtractPoints($a,Ka);jb=bb.getLength();bb=bb.getDotProduct($a)/jb/jb;if(.001>Math.abs(bb)||isNaN(bb))return!0;1==ba||5==ba?$a=1:($a=bb,bb=1);U.scaleAroundPoint($a,bb,Ka.x,Ka.y)}Ca=ha.getTransformed(U);ub.transformAffineAmend(U);Ua.repaintAll();return!0}});this.mouseUp=function(Ka,$a,bb){if(this.capture&&
0==$a)return this.capture=!1,ba=-1,!0};this.mouseMove=function(){this.capture||ab()};this.paint=function(){for(var Ka=Ca.getTransformed(Qb).points,$a=Array(2*Ka.length),bb=0;bb<Ka.length;bb++)$a[bb]=Ka[bb];for(bb=0;bb<Ka.length;bb++){var jb=Ka[bb],Lb=Ka[(bb+1)%Ka.length];$a[bb+Ka.length]={x:(jb.x+Lb.x)/2,y:(jb.y+Lb.y)/2}}(0,A.setContrastingDrawStyle)(Qa,"fill");for(bb=0;bb<$a.length;bb++)Qa.fillRect($a[bb].x-3,$a[bb].y-3,7,7);Ha(Qa,Ka)};this.keyDown=function(Ka){if("Enter"===Ka.key)return J.actionPerformed({action:"CPTransformAccept"}),
!0;if("Escape"===Ka.key)return J.actionPerformed({action:"CPTransformReject"}),!0};this.enter=function(){R.prototype.enter.call(this);var Ka=ub.transformAffineBegin();U=Ka.transform;var $a=Ka.selection;$a.isEmpty()&&($a=Ka.rect.clone());ha=new c.default($a.toPoints());Ca=ha.getTransformed(U);ba=-1;Wa=0;Ua.repaintAll()};this.leave=function(){R.prototype.leave.call(this);Ua.repaintAll()}}function ua(){var aa,Ba,Na=0,ab,mb=!1,U=-1;this.mouseDown=function(ha,Ca,ba){if(this.capture)return!0;if(!this.transient&&
0==Ca&&!ha.altKey&&!w.default.isPressed("space")||0==Ca&&!ha.altKey&&!w.default.isPressed("space")&&w.default.isPressed("r"))return aa=rb,Ba=Hb,Na=Ua.getRotation(),ab=Qb.clone(),mb=!1,this.capture=!0,U=Ca,!0;this.transient&&pb.pop()};this.mouseDrag=function(ha){if(this.capture){var Ca=rb,ba=Hb,wa=(0,d.default)(Pa).width()/2,Ia=(0,d.default)(Pa).height()/2;ha=Pa.width/2;var Wa=Pa.height/2;Ca=Math.atan2(ba-Ia,Ca-wa)-Math.atan2(Ba-Ia,aa-wa);ba=new l.default;ba.rotateAroundPoint(Ca,ha,Wa);ba.multiply(ab);
Ua.setRotation(Na+Ca);Ua.setOffset(~~ba.getTranslateX(),~~ba.getTranslateY());return mb=!0}};this.mouseUp=function(ha,Ca,ba){if(this.capture&&Ca==U){if(mb){ha=Math.round(jc/(Math.PI/2))*Math.PI/2;if(Math.abs(jc-ha)<5/180*Math.PI){ha-=Na;Ca=Pa.width/2;ba=Pa.height/2;var wa=new l.default;wa.rotateAroundPoint(ha,Ca,ba);wa.multiply(ab);Ua.setRotation(Na+ha);Ua.setOffset(~~wa.getTranslateX(),~~wa.getTranslateY());Ua.repaintAll()}Ua.emitEvent("canvasRotated90",[Ua.getRotation90()])}else Ua.resetRotation();
this.capture=!1;this.transient&&!w.default.isPressed("r")&&pb.pop();return!0}};this.keyUp=function(ha){if(this.transient&&1!=U&&" "===ha.key)return Xa("default"),pb.pop(),!0};this.keyDown=function(ha){if("r"===ha.key.toLowerCase())return!0}}function Ya(){ka.call(this)}function Xa(aa){Pa.getAttribute("data-cursor")!=aa&&Pa.setAttribute("data-cursor",aa)}function T(){var aa=ub.getActiveLayer();return aa.visible&&aa.ancestorsAreVisible()?0==aa.alpha?(J.showLayerNotification(aa,(0,E._)("Whoops! This layer's opacity is currently 0%"),
"opacity"),!1):!0:(J.showLayerNotification(aa,(0,E._)("Whoops! This layer is currently hidden"),"layer"),!1)}function Z(){var aa=ub.getActiveLayer();return aa instanceof u.default&&!ub.isEditingMask()?(J.showLayerNotification(aa,(0,E._)("Whoops! You can't draw on a group"),"layer"),!1):T()}function sa(aa,Ba,Na,ab,mb){aa.setValues(-mb,ab,Ba-ab-mb+Na/4,Ba+Na-mb-Na/4);aa.setBlockIncrement(Math.max(1,~~(.66*ab)));aa.setUnitIncrement(Math.max(1,~~(.05*ab)))}function Fa(){Qb.setToIdentity();Qb.translate(kb,
qc);Qb.scale(P,P);Qb.rotate(jc);if(null!=Vb&&null!=ib&&!Vb.getValueIsAdjusting()&&!ib.getValueIsAdjusting()){var aa=db(new a.default(0,0,Ja.width,Ja.height));sa(Vb,aa.left,aa.getWidth(),(0,d.default)(Pa).width(),Ua.getOffset().x);sa(ib,aa.top,aa.getHeight(),(0,d.default)(Pa).height(),Ua.getOffset().y)}Ua.repaintAll()}function Ra(aa){return Qb.getInverted().getTransformedPoint(aa)}function wb(aa){aa=Ra(aa);aa.x=Math.floor(aa.x);aa.y=Math.floor(aa.y);return aa}function Ib(aa){var Ba=Pa.getBoundingClientRect();
return{x:aa.x-Ba.left-window.pageXOffset,y:aa.y-Ba.top-window.pageYOffset}}function qa(aa){return Qb.getTransformedPoint(aa)}function Aa(aa){aa=qa(aa);aa.x=Math.round(aa.x);aa.y=Math.round(aa.y);return aa}function Ea(aa){var Ba=qa({x:(aa.left+aa.right)/2,y:(aa.top+aa.bottom)/2});aa=aa.toPoints();for(var Na=0;Na<aa.length;Na++)aa[Na]=Aa(aa[Na]),aa[Na].x+=.5*Math.sign(Ba.x-aa[Na].x),aa[Na].y+=.5*Math.sign(Ba.y-aa[Na].y);return aa}function Ha(aa,Ba){aa.beginPath();aa.moveTo(Ba[0].x,Ba[0].y);for(var Na=
1;Na<Ba.length;Na++)aa.lineTo(Ba[Na].x,Ba[Na].y);aa.lineTo(Ba[0].x,Ba[0].y);aa.stroke()}function db(aa){var Ba=Aa({x:aa.left-1,y:aa.top-1}),Na=Aa({x:aa.left-1,y:aa.bottom}),ab=Aa({x:aa.right,y:aa.top-1});aa=Aa({x:aa.right,y:aa.bottom});Ba=new a.default(Math.min(Math.min(Ba.x,Na.x),Math.min(ab.x,aa.x)),Math.min(Math.min(Ba.y,Na.y),Math.min(ab.y,aa.y)),Math.max(Math.max(Ba.x,Na.x),Math.max(ab.x,aa.x))+1,Math.max(Math.max(Ba.y,Na.y),Math.max(ab.y,aa.y))+1);Ba.grow(2,2);return Ba}function tb(){var aa=
Pa.width,Ba=Pa.height,Na=qa({x:ub.width/2,y:ub.height/2});Ua.setOffset(Math.round(kb+aa/2-Na.x),Math.round(qc+Ba/2-Na.y))}function qb(aa,Ba,Na){aa=Math.max(.1,Math.min(16,aa));if(Ua.getZoom()!=aa){var ab=Ua.getOffset();Ua.setOffset(ab.x+~~((Ba-ab.x)*(1-aa/Ua.getZoom())),ab.y+~~((Na-ab.y)*(1-aa/Ua.getZoom())));Ua.setZoom(aa);Ua.repaintAll()}}function Oa(aa){var Ba=(0,d.default)(Pa).width(),Na=(0,d.default)(Pa).height(),ab=parseFloat(aa);.01>Math.abs(ab-1)?aa=1:.2>Math.abs(ab-2)?aa=2:.08>Math.abs(ab-
.5)&&(aa=.5);qb(aa,Ba/2,Na/2)}function ra(aa){return tc?ac.getPressure():"mouse"===aa.pointerType&&0!==aa.buttons&&0===aa.pressure?1:"touch"===aa.pointerType?(0!==aa.pressure&&(wc=!0),wc?2*aa.pressure:1):2*aa.pressure}function oa(){Ob||(Ob=!0,window.requestAnimationFrame(function(){Ua.paint()}))}function Da(aa){Sb.union(aa);oa()}function La(){Fb=ub.getBounds();Ua.repaintAll()}var Ua=this,lb=document.createElement("div"),ob=document.createElement("div"),Ab=document.createElement("div"),Pa=document.createElement("canvas"),
Qa=Pa.getContext("2d"),Ja=document.createElement("canvas"),sb=Ja.getContext("2d"),ic=(0,A.createCheckerboardPattern)(Qa),ub=J.getArtwork(),P=1,kb=0,qc=0,jc=0,Qb=new l.default,eb=!1,bc=!1,Va=32,rb=0,Hb=0,cc=!1,Mb=[!1,!1,!1],tc=!1,rc=!1,wc=!1,Fb=ub.getBounds(),Sb=new a.default(0,0,0,0),Ob=!1,Tb,Rb=[],pb=new h,Vb=new C.default(!1),ib=new C.default(!0),ac=q.default.getRef();Math.sign=Math.sign||function(aa){aa=+aa;return 0===aa||isNaN(aa)?aa:0<aa?1:-1};R.prototype.transient=!1;R.prototype.capture=!1;
R.prototype.enter=function(){Xa("default")};R.prototype.leave=function(){this.capture=!1};R.prototype.mouseMove=R.prototype.paint=R.prototype.mouseDown=R.prototype.mouseDrag=R.prototype.mouseUp=R.prototype.keyDown=R.prototype.suspend=R.prototype.resume=R.prototype.keyUp=function(){};ea.prototype=Object.create(R.prototype);ea.prototype.constructor=ea;ea.prototype.mouseDown=function(aa,Ba,Na){var ab=w.default.isPressed("space");if(!ab&&(2==Ba||0==Ba&&aa.altKey))pb.push(gc,!0),pb.peek().mouseDown(aa,
Ba,Na);else if(!ab&&0==Ba&&!aa.altKey&&w.default.isPressed("r"))pb.push(nc,!0),pb.peek().mouseDown(aa,Ba,Na);else if(1==Ba||!aa.altKey&&ab&&0==Ba)pb.push(fc,!0),pb.peek().mouseDown(aa,Ba,Na)};ea.prototype.keyDown=function(aa){if("r"===aa.key.toLowerCase()&&" "!==aa.key)pb.push(nc,!0),pb.peek().keyDown(aa);else if("r"!==aa.key.toLowerCase()&&" "===aa.key&&!aa.altKey)return pb.push(fc,!0),pb.peek().keyDown(aa),!0};Y.prototype=Object.create(R.prototype);Y.prototype.constructor=Y;Y.prototype.getBrushPreviewOval=
function(){var aa=J.getBrushSize()*P;return new a.default(rb-aa/2,Hb-aa/2,rb+aa/2,Hb+aa/2)};Y.prototype.queueBrushPreview=function(){if(pb.peek()==this){this.shouldPaintBrushPreview=!0;var aa=this.getBrushPreviewOval();aa.grow(2,2);null!=this.oldPreviewRect&&(aa.union(this.oldPreviewRect),this.oldPreviewRect=null);Da(aa)}};Y.prototype.eraseBrushPreview=function(){this.shouldPaintBrushPreview=!1;null!=this.oldPreviewRect&&(Da(this.oldPreviewRect),this.oldPreviewRect=null)};Y.prototype.mouseMove=function(aa,
Ba){this.queueBrushPreview()};Y.prototype.enter=function(){R.prototype.enter.call(this);cc&&this.queueBrushPreview()};Y.prototype.leave=function(){R.prototype.leave.call(this);this.eraseBrushPreview()};Y.prototype.suspend=Y.prototype.leave;Y.prototype.resume=Y.prototype.enter;Y.prototype.paint=function(){if(this.shouldPaintBrushPreview){this.shouldPaintBrushPreview=!1;var aa=this.getBrushPreviewOval();Qa.beginPath();Qa.arc((aa.left+aa.right)/2,(aa.top+aa.bottom)/2,aa.getWidth()/2,0,2*Math.PI);Qa.stroke();
aa.grow(2,2);null==this.oldPreviewRect?this.oldPreviewRect=aa:this.oldPreviewRect.union(aa)}};pa.prototype=Object.create(Y.prototype);pa.prototype.constructor=pa;pa.prototype.mouseDown=function(aa,Ba,Na){if(!this.capture&&0==Ba&&!aa.altKey&&!w.default.isPressed("space")&&Z()&&(aa=Ra({x:rb,y:Hb}),this.eraseBrushPreview(),ub.beginStroke(aa.x,aa.y,Na)))return this.capture=!0,this.smoothMouse=aa,!0};pa.prototype.mouseDrag=function(aa,Ba){(!navigator.maxTouchPoints||2>navigator.maxTouchPoints)&&Y.prototype.mouseMove.call(this,
aa,Ba);if(this.capture){aa=Ra({x:rb,y:Hb});var Na=Math.min(.999,Math.pow(J.getBrushInfo().smoothing,.3));this.smoothMouse.x=(1-Na)*aa.x+Na*this.smoothMouse.x;this.smoothMouse.y=(1-Na)*aa.y+Na*this.smoothMouse.y;ub.continueStroke(this.smoothMouse.x,this.smoothMouse.y,Ba);return!0}this.mouseMove(aa)};pa.prototype.mouseUp=function(aa,Ba,Na){if(this.capture)return 0==Ba&&(this.capture=!1,ub.endStroke()),!0};ka.prototype=Object.create(Y.prototype);ka.prototype.constructor=ka;ka.prototype.drawLine=function(aa,
Ba){ub.beginStroke(aa.x,aa.y,1);ub.continueStroke(Ba.x,Ba.y,1);ub.endStroke()};Q.prototype=Object.create(Y.prototype);Q.prototype.constructor=Q;ja.prototype=Object.create(R.prototype);ja.prototype.constructor=ja;na.prototype=Object.create(R.prototype);na.prototype.constructor=na;za.prototype=Object.create(R.prototype);za.prototype.constructor=za;za.prototype.mouseDown=function(aa,Ba,Na){if(0==Ba&&!aa.altKey&&!w.default.isPressed("space")&&Z())return aa=Ra({x:rb,y:Hb}),ub.isPointWithin(aa.x,aa.y)&&
(ub.floodFill(aa.x,aa.y),Ua.repaintAll()),!0};ia.prototype=Object.create(R.prototype);ia.prototype.constructor=ia;va.prototype=Object.create(R.prototype);va.prototype.constructor=va;va.prototype.mouseMove=function(aa){if(!w.default.isPressed("r"))return Xa("move"),!0};va.prototype.enter=function(){Xa("move")};ta.prototype=Object.create(R.prototype);ta.prototype.constructor=ta;ua.prototype=Object.create(R.prototype);ua.prototype.constructor=ua;Ya.prototype=Object.create(ka.prototype);Ya.prototype.constructor=
Ya;Ya.prototype.drawLine=function(aa,Ba){ub.gradientFill(Math.round(aa.x),Math.round(aa.y),Math.round(Ba.x),Math.round(Ba.y),J.getCurGradient())};Ya.prototype.queueBrushPreview=function(){};this.setZoom=function(aa){P=aa;Fa()};this.getZoom=function(){return P};this.setGridSize=function(aa){Va=Math.max(Math.round(aa),1);this.repaintAll()};this.getGridSize=function(){return Va};this.setOffset=function(aa,Ba){isNaN(aa)||isNaN(Ba)?console.log("Bad offset"):(kb=aa,qc=Ba,Fa())};this.getOffset=function(){return{x:kb,
y:qc}};this.setInterpolation=function(aa){eb=aa;(0,f.setCanvasInterpolation)(Qa,aa);this.repaintAll()};this.setRotation=function(aa){jc=aa%(2*Math.PI);Fa()};this.getRotation=function(){return jc};this.getRotation90=function(){var aa=Math.round(this.getRotation()/Math.PI*2);aa%=4;0>aa&&(aa+=4);return aa};this.zoomIn=function(){Oa(1.41*this.getZoom())};this.zoomOut=function(){Oa(.7092*this.getZoom())};this.zoom100=function(){Oa(1);tb()};this.resetRotation=function(){var aa=Pa.width/2,Ba=Pa.height/2,
Na=new l.default;Na.rotateAroundPoint(-this.getRotation(),aa,Ba);Na.multiply(Qb);this.setOffset(~~Na.getTranslateX(),~~Na.getTranslateY());this.setRotation(0);Ua.emitEvent("canvasRotated90",[0])};var vc=!1,kc;this.getElement=function(){return lb};this.repaintAll=function(){Sb.left=0;Sb.top=0;Sb.right=Pa.width;Sb.bottom=Pa.height;oa()};this.paint=function(){var aa=!1;Ob=!1;Sb.isEmpty()||(Qa.save(),Qa.clipTo&&(Qa.beginPath(),Sb.left|=0,Sb.top|=0,Qa.rect(Sb.left,Sb.top,Math.ceil(Sb.getWidth()),Math.ceil(Sb.getHeight())),
Qa.clip()),aa=!0);if(!Fb.isEmpty()){var Ba=Tb&&Tb.isOpen()?Tb.getImageData():ub.fusionLayers().getImageData();sb.putImageData(Ba,0,0,Fb.left,Fb.top,Fb.getWidth(),Fb.getHeight());Fb.makeEmpty()}Qa.fillStyle="#606060";Qa.fillRect(0,0,Pa.width,Pa.height);Qa.save();Qa.setTransform(Qb.m[0],Qb.m[1],Qb.m[2],Qb.m[3],Qb.m[4],Qb.m[5]);Qa.fillStyle=ic;Qa.fillRect(0,0,ub.width,ub.height);Qa.drawImage(Ja,0,0,Ja.width,Ja.height);Qa.restore();(0,A.setContrastingDrawStyle)(Qa,"stroke");Qa.lineWidth=1;if(!(ub.getSelection().isEmpty()||
pb.peek()instanceof ia&&pb.peek().capture)){Qa.setLineDash([3,2]);Ba=Qa;var Na=ub.getSelection();Ha(Ba,Ea(Na));Qa.setLineDash([])}if(bc&&(Ba=ub.getBounds(),2<P*Va)){Qa.beginPath();for(Na=Va-1;Na<Ba.right;Na+=Va){var ab=qa({x:Na,y:Ba.top}),mb=qa({x:Na,y:Ba.bottom});Qa.moveTo(ab.x+.5,ab.y+.5);Qa.lineTo(mb.x+.5,mb.y+.5)}for(Na=Va-1;Na<Ba.bottom;Na+=Va)ab=qa({x:0,y:Na}),mb=qa({x:Ba.right,y:Na}),Qa.moveTo(ab.x+.5,ab.y+.5),Qa.lineTo(mb.x+.5,mb.y+.5);Qa.stroke()}pb.paint(Qa);Qa.globalCompositeOperation=
"source-over";aa&&(Sb.makeEmpty(),Qa.restore())};this.showGrid=function(aa){bc=aa;this.repaintAll()};this.resize=function(aa,Ba){aa-=(0,d.default)(Ab).outerHeight();(0,d.default)(Pa).css("height",aa+"px");Pa.width=(0,d.default)(Pa).width();Pa.height=aa;kc=null;Ba||tb();this.setInterpolation(eb);this.repaintAll()};J.on("toolChange",function(aa,Ba){aa=Rb[Ba.strokeMode];for(Ba=0;Ba<pb.modes.length;Ba++)if(pb.modes[Ba]instanceof Y){pb.modes[Ba].leave();pb.modes[Ba]=aa;pb.modes[Ba].enter();break}Cc=aa});
J.on("modeChange",function(aa){switch(aa){case e.default.M_DRAW:var Ba=Cc;break;case e.default.M_FLOODFILL:Ba=xc;break;case e.default.M_GRADIENTFILL:Ba=Mc;break;case e.default.M_RECT_SELECTION:Ba=yc;break;case e.default.M_MOVE_TOOL:Ba=Dc;break;case e.default.M_ROTATE_CANVAS:Ba=nc;break;case e.default.M_PAN_CANVAS:Ba=fc;break;case e.default.M_COLOR_PICKER:Ba=gc;break;case e.default.M_TRANSFORM:Ba=zc}pb.setUserMode(Ba)});J.on("maskViewOpened",function(aa){Tb&&Tb.off("changeLayer",La);Tb=aa;Tb.on("changeLayer",
La);La()});var lc=new ea;var gc=new ja;var fc=new na;var nc=new ua;var xc=new za;var Mc=new Ya;var yc=new ia;var Dc=new va;var zc=new ta;Rb=[new pa,new ka,new Q];var Cc=Rb[n.default.STROKE_MODE_FREEHAND];pb.setDefaultMode(lc);pb.setUserMode(Cc);Ja.width=ub.width;Ja.height=ub.height;Pa.width=800;Pa.height=900;Pa.className="chickenpaint-canvas";Pa.setAttribute("touch-action","none");Qa.setLineDash||(Qa.setLineDash=function(){});Pa.addEventListener("contextmenu",function(aa){aa.preventDefault()});Pa.addEventListener("mouseenter",
function(){cc=!0});Pa.addEventListener("mouseleave",function(){cc=!1;Mb[0]||Mb[2]||Mb[1]||Ua.repaintAll()});Pa.addEventListener("pointerdown",function(aa){rc&&"touch"===aa.pointerType||(Pa.setPointerCapture(aa.pointerId),kc=Pa.getBoundingClientRect(),rb=aa.clientX-kc.left,Hb=aa.clientY-kc.top,tc=ac.isPen(),Mb[0]=!1,Mb[2]=!1,Mb[1]=!1,Mb[aa.button]=!0,pb.mouseDown(aa,aa.button,ra(aa)))});Pa.addEventListener("pointermove",function(aa){kc||=Pa.getBoundingClientRect();if(!rc||"touch"!==aa.pointerType){rb=
aa.clientX-kc.left;Hb=aa.clientY-kc.top;var Ba=0!==aa.buttons,Na=Ba?ra(aa):0;if(0!==(aa.buttons&1)!=Mb[0]){if(.5===aa.mozPressure)return;Mb[0]=!Mb[0];Mb[0]?pb.mouseDown(aa,0,Na):pb.mouseUp(aa,0,Na)}0!==(aa.buttons&2)!=Mb[2]&&(Mb[2]=!Mb[2],Mb[2]?pb.mouseDown(aa,2,Na):pb.mouseUp(aa,2,Na));0!==(aa.buttons&4)!=Mb[1]&&(Mb[1]=!Mb[1],Mb[1]?pb.mouseDown(aa,1,Na):pb.mouseUp(aa,1,Na));Ba?pb.mouseDrag(aa,Na):pb.mouseMove(aa,Na);rc||"pen"!==aa.pointerType||(rc=!0)}});Pa.addEventListener("pointerup",function(aa){Mb[0]=
!1;Mb[2]=!1;tc=Mb[1]=!1;pb.mouseUp(aa,aa.button,0);Pa.releasePointerCapture(aa.pointerId)});Pa.addEventListener("wheel",function(aa){if(0!=aa.deltaY){if(!vc||20<Math.abs(aa.deltaY)){var Ba=0<aa.deltaY?1/1.15:1.15;var Na=Ib({x:aa.pageX,y:aa.pageY}),ab=Ra(Na);ub.isPointWithin(ab.x,ab.y)?qb(Ua.getZoom()*Ba,Na.x,Na.y):qb(Ua.getZoom()*Ba,kb+~~(ub.width*P/2),qc+~~(ub.height*P/2));vc=vc||setTimeout(function(){vc=!1},50)}aa.preventDefault()}},{passive:!1});document.addEventListener("keydown",function(aa){pb.keyDown(aa)});
document.addEventListener("keyup",function(aa){"alt"===aa.key.toLowerCase()&&aa.preventDefault();pb.keyUp(aa)});document.addEventListener("visibilitychange",function(){var aa=Pa.height+(0,d.default)(Ab).outerHeight();Pa.width=1;Pa.height=1;Ua.resize(aa,!0)},!1);window.addEventListener("scroll",function(){kc=null});Pa.addEventListener("mousedown",function(aa){1==aa.button&&aa.preventDefault()});ub.on("changeSelection",function(){Ua.repaintAll()});ub.on("updateRegion",function(aa){Fb.union(aa);Da(db(Fb))});
Vb.on("valueChanged",function(aa){var Ba=Ua.getOffset();Ua.setOffset(-aa,Ba.y)});ib.on("valueChanged",function(aa){var Ba=Ua.getOffset();Ua.setOffset(Ba.x,-aa)});this.setInterpolation(!0);lc=document.createElement("div");lc.className="chickenpaint-canvas-container-wrapper";lc.appendChild(Pa);ob.className="chickenpaint-canvas-container-top";ob.appendChild(lc);ob.appendChild(ib.getElement());Ab.className="chickenpaint-canvas-container-bottom";Ab.appendChild(Vb.getElement());lb.appendChild(ob);lb.appendChild(Ab);
J.setCanvas(this)}Object.defineProperty(D,"__esModule",{value:!0});D.default=v;var E=g("../languages/lang.js"),b=z(g("wolfy87-eventemitter")),d=z(g("jquery")),w=z(g("../../lib/keymaster.js")),a=z(g("../util/CPRect.js")),l=z(g("../util/CPTransform.js")),q=z(g("../util/CPWacomTablet.js")),r=z(g("../util/CPBezier.js")),k=g("../util/throttle-debounce"),c=z(g("../util/CPPolygon.js")),f=g("../util/CPPolyfill.js"),p=z(g("../util/CPVector.js")),e=z(g("../ChickenPaint.js")),n=z(g("../engine/CPBrushInfo.js")),
u=z(g("../engine/CPLayerGroup.js"));z(g("../engine/CPMaskView.js"));var A=g("./CPGUIUtils.js"),C=z(g("./CPScrollbar.js")),B=z(g("../util/CPColor.js"));h.MODE_INDEX_DEFAULT=0;h.MODE_INDEX_USER=1;h.prototype.setMode=function(J,R){var ea=this.modes[J];ea!=R&&(ea&&ea.leave(),this.modes[J]=R,R.enter())};h.prototype.setDefaultMode=function(J){J.transient=!1;J.capture=!1;this.setMode(h.MODE_INDEX_DEFAULT,J)};h.prototype.setUserMode=function(J){for(var R=this.modes.length-1;R>h.MODE_INDEX_USER;R--)this.modes[R].leave(),
this.modes.splice(R,1);J.transient=!1;J.capture=!1;this.setMode(h.MODE_INDEX_USER,J)};h.prototype.deliverEvent=function(J,R){for(var ea=this.modes.length-1;0<=ea;ea--){var Y=this.modes[ea];if(Y[J].apply(Y,R)||Y.capture&&"paint"!=J)return!0}return!1};g=function(){var J=N[I];h.prototype[J]=function(R,ea,Y){this.deliverEvent(J,[R,ea,Y])}};for(var I=0,N=["mouseDown","mouseUp"];I<N.length;I++)g();g=function(){var J=G[y];h.prototype[J]=function(R,ea){this.deliverEvent(J,[R,ea])}};for(var y=0,G=["mouseDrag",
"mouseMove"];y<G.length;y++)g();g=function(){var J=O[H];h.prototype[J]=function(R){this.deliverEvent(J,[R])&&R.preventDefault()}};for(var H=0,O=["keyDown","keyUp"];H<O.length;H++)g();h.prototype.paint=function(J){this.deliverEvent("paint",[J])};h.prototype.push=function(J,R){var ea=this.peek();ea&&ea.suspend();J.transient=R;J.capture=!1;J.enter();this.modes.push(J)};h.prototype.peek=function(){return 0<this.modes.length?this.modes[this.modes.length-1]:null};h.prototype.pop=function(){var J=this.modes.pop(),
R=this.peek();J&&J.leave();R&&R.resume();return R};v.prototype=Object.create(b.default.prototype);v.prototype.constructor=v;L.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../engine/CPBrushInfo.js":8,"../engine/CPLayerGroup.js":17,"../engine/CPMaskView.js":19,"../languages/lang.js":54,"../util/CPBezier.js":57,"../util/CPColor.js":58,"../util/CPPolyfill.js":60,"../util/CPPolygon.js":61,"../util/CPRect.js":63,"../util/CPTransform.js":64,"../util/CPVector.js":65,"../util/CPWacomTablet.js":66,
"../util/throttle-debounce":67,"./CPGUIUtils.js":33,"./CPScrollbar.js":41,jquery:296,"wolfy87-eventemitter":314}],27:[function(g,L,D){function z(h,v){function E(){var a=b.width;d.clearRect(0,0,a,b.height);d.beginPath();d.arc(a/2+1,a/2+1,Math.max(a/2,1)-2,0,2*Math.PI);w.state?d.fill():d.stroke()}var b=document.createElement("canvas"),d=b.getContext("2d"),w=this;this.state=h||!1;this.setValue=function(a){this.state!=a&&(this.state=a,this.emitEvent("valueChange",[a]),E())};this.getElement=function(){return b};
b.addEventListener("mousedown",function(a){w.setValue(!w.state)});b.title=v||"";b.className="chickenpaint-checkbox";b.width=20;b.height=20;b.fillStyle="black";b.strokeStyle="black";E()}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;g=function(h){return h&&h.__esModule?h:{default:h}}(g("wolfy87-eventemitter"));z.prototype=Object.create(g.default.prototype);z.prototype.constructor=z;L.exports=D.default},{"wolfy87-eventemitter":314}],28:[function(g,L,D){function z(l){return l&&l.__esModule?
l:{default:l}}function h(l){E.default.call(this,l,"color","Color (picker)");var q=new b.default(l),r=new d.default(l,q);l=new v(l);var k=this.getBodyElement(),c=document.createElement("div");c.className="chickenpaint-colorpicker-top";c.appendChild(q.getElement());c.appendChild(r.getElement());k.appendChild(c);k.appendChild(l.getElement())}function v(l){function q(f,p,e){for(;f.length<e;)f=p+f;return f}function r(){c.style.backgroundColor="#"+q(Number(k).toString(16),"0",6)}var k=0,c=document.createElement("div");
this.getElement=function(){return c};l.on("colorChange",function(f){k=f.getRgb();r()});c.className="chickenpaint-colorpicker-show";c.addEventListener("click",function(f){f.preventDefault();f="#"+q(Number(k).toString(16),"0",6);f=window.prompt((0,a._)("Please enter a color in hex format"),f);if(null!=f)try{if(f.match(/^#/)||f.match(/^$/))f=f.substring(1);var p=parseInt(f,16);l.setCurColor(new w.default(p))}catch(e){}});r()}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var E=z(g("./CPPalette.js")),
b=z(g("./CPColorSelect.js")),d=z(g("./CPColorSlider.js")),w=z(g("../util/CPColor.js")),a=g("../languages/lang");h.prototype=Object.create(E.default.prototype);h.prototype.constructor=h;L.exports=D.default},{"../languages/lang":54,"../util/CPColor.js":58,"./CPColorSelect.js":29,"./CPColorSlider.js":30,"./CPPalette.js":39}],29:[function(g,L,D){function z(f){return f&&f.__esModule?f:{default:f}}function h(f){"@babel/helpers - typeof";return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?
function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},h(f)}function v(f,p){for(var e=0;e<p.length;e++){var n=p[e];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(f,d(n.key),n)}}function E(f,p,e){p&&v(f.prototype,p);e&&v(f,e);Object.defineProperty(f,"prototype",{writable:!1});return f}function b(f,p,e){p=d(p);p in f?Object.defineProperty(f,p,{value:e,enumerable:!0,
configurable:!0,writable:!0}):f[p]=e;return f}function d(f){a:if("object"===h(f)&&null!==f){var p=f[Symbol.toPrimitive];if(void 0!==p){f=p.call(f,"string");if("object"!==h(f))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}f=String(f)}return"symbol"===h(f)?f:String(f)}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var w=z(g("jquery")),a=z(g("../util/CPColor.js")),l=z(g("../engine/CPColorBmp.js")),q=g("./CPGUIUtils.js"),r=window.devicePixelRatio||1,k=
Math.round(128*r),c=Math.round(128*r);D.default=function(){function f(p,e){var n=this;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");b(this,"_controller",void 0);b(this,"_canvas",void 0);b(this,"_canvasContext",void 0);b(this,"_imageData",void 0);b(this,"_bitmapInvalid",!0);b(this,"_capturedMouse",!1);b(this,"_greyscale",!1);b(this,"color",new a.default(0));this._controller=p;var u=document.createElement("canvas");this._canvas=u;u.className="chickenpaint-colorpicker-select";
u.setAttribute("touch-action","none");u.width=k;u.height=c;u.style.width="128px";u.style.height="128px";this._canvasContext=u.getContext("2d");this._imageData=this._canvasContext.createImageData(k,c);this._canvasContext.getImageData(0,0,1,1);this._handleEndDrag=this._endDrag.bind(this);this._handleMousePickColor=this._mousePickColor.bind(this);u.addEventListener("pointerdown",function(A){return n._startDrag(A)});e&&this.color.copyFrom(e);p.on("colorChange",function(A){n.color.copyFrom(A);n._bitmapInvalid=
!0;n.paint()});p.on("colorModeChange",function(A){n._greyscale="greyscale"==A;n._bitmapInvalid=!0;n.paint()});this.paint()}E(f,[{key:"_makeBitmap",value:function(){if(this._bitmapInvalid){var p=0,e=this._imageData.data;if(this._greyscale)for(var n=0;n<c;n++)for(var u=255-Math.round(n/(c-1)*255),A=0;A<k;A++)e[p+l.default.RED_BYTE_OFFSET]=u,e[p+l.default.GREEN_BYTE_OFFSET]=u,e[p+l.default.BLUE_BYTE_OFFSET]=u,e[p+l.default.ALPHA_BYTE_OFFSET]=255,p+=l.default.BYTES_PER_PIXEL;else for(n=this.color.clone(),
u=0;u<c;u++)for(n.setValue(255-~~(u/(c-1)*255)),A=0;A<k;A++)n.setSaturation(Math.round(A/(k-1)*255)),e[p+l.default.RED_BYTE_OFFSET]=n.rgb>>16&255,e[p+l.default.GREEN_BYTE_OFFSET]=n.rgb>>8&255,e[p+l.default.BLUE_BYTE_OFFSET]=n.rgb&255,e[p+l.default.ALPHA_BYTE_OFFSET]=255,p+=l.default.BYTES_PER_PIXEL;this._bitmapInvalid=!1}}},{key:"paint",value:function(){this._makeBitmap();this._canvasContext.putImageData(this._imageData,0,0);var p=this.color.getSaturation()/255*(k-1),e=(255-this.color.getValue())/
255*(c-1);(0,q.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5*r;this._canvasContext.beginPath();this._greyscale?(this._canvasContext.moveTo(0,e),this._canvasContext.lineTo(k,e)):this._canvasContext.arc(p,e,5*r,0,2*Math.PI);this._canvasContext.stroke();this._canvasContext.globalCompositeOperation="source-over"}},{key:"_mousePickColor",value:function(p){var e=p.pageX-(0,w.default)(this._canvas).offset().left;p=p.pageY-(0,w.default)(this._canvas).offset().top;
p=Math.max(Math.min(255-~~(255*p/127),255),0);this._greyscale?this.color.setGreyscale(p):(e=Math.max(Math.min(~~(255*e/127),255),0),this.color.setHsv(this.color.getHue(),e,p));this.paint();this._controller.setCurColor(this.color)}},{key:"_endDrag",value:function(p){this._canvas.releasePointerCapture(p.pointerId);this._capturedMouse=!1;this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(p){this._capturedMouse||
(this._capturedMouse=!0,this._canvas.setPointerCapture(p.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));this._handleMousePickColor(p)}},{key:"setHue",value:function(p){this.color.getHue()!=p&&(this.color.setHue(p),this._controller.setCurColor(this.color))}},{key:"getElement",value:function(){return this._canvas}}]);return f}();L.exports=D.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,
"./CPGUIUtils.js":33,jquery:296}],30:[function(g,L,D){function z(k){return k&&k.__esModule?k:{default:k}}function h(k){"@babel/helpers - typeof";return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},h(k)}function v(k,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(k,
d(p.key),p)}}function E(k,c,f){c&&v(k.prototype,c);f&&v(k,f);Object.defineProperty(k,"prototype",{writable:!1});return k}function b(k,c,f){c=d(c);c in k?Object.defineProperty(k,c,{value:f,enumerable:!0,configurable:!0,writable:!0}):k[c]=f;return k}function d(k){a:if("object"===h(k)&&null!==k){var c=k[Symbol.toPrimitive];if(void 0!==c){k=c.call(k,"string");if("object"!==h(k))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}k=String(k)}return"symbol"===h(k)?k:String(k)}function w(k){for(var c=
new l.default(65535),f=0,p=k.data,e=0;e<k.height;e++){c.setHue(359*e/k.height);for(var n=0;n<k.width;n++)p[f+q.default.RED_BYTE_OFFSET]=c.rgb>>16&255,p[f+q.default.GREEN_BYTE_OFFSET]=c.rgb>>8&255,p[f+q.default.BLUE_BYTE_OFFSET]=c.rgb&255,p[f+q.default.ALPHA_BYTE_OFFSET]=255,f+=q.default.BYTES_PER_PIXEL}}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var a=z(g("jquery")),l=z(g("../util/CPColor.js")),q=z(g("../engine/CPColorBmp.js")),r=g("./CPGUIUtils.js");D.default=function(){function k(c,
f,p){var e=this;if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");b(this,"hue",void 0);b(this,"selecter",void 0);b(this,"_canvas",void 0);b(this,"_canvasContext",void 0);b(this,"_imageData",void 0);b(this,"_capturedMouse",!1);this.selecter=f;this.hue=p||0;var n=document.createElement("canvas");this._canvas=n;c.on("colorChange",function(u){e.setHue(u.getHue())});c.on("colorModeChange",function(u){n.style.display="greyscale"==u?"none":"block"});n.setAttribute("touch-action",
"none");n.addEventListener("pointerdown",function(u){return e._startDrag(u)});n.width=24;n.height=128;n.className="chickenpaint-colorpicker-slider";this._canvasContext=n.getContext("2d");this._imageData=this._canvasContext.createImageData(24,128);this._canvasContext.getImageData(0,0,1,1);this._handleEndDrag=this._endDrag.bind(this);this._handleMousePickColor=this._mousePickColor.bind(this);w(this._imageData);this.paint()}E(k,[{key:"paint",value:function(){this._canvasContext.putImageData(this._imageData,
0,0);var c=128*this.hue/360;(0,r.setContrastingDrawStyle)(this._canvasContext,"stroke");this._canvasContext.lineWidth=1.5;this._canvasContext.beginPath();this._canvasContext.moveTo(0,c);this._canvasContext.lineTo(24,c);this._canvasContext.stroke();this._canvasContext.globalCompositeOperation="source-over"}},{key:"_mousePickColor",value:function(c){c=~~(360*(c.pageY-(0,a.default)(this._canvas).offset().top)/128);this.hue=Math.max(0,Math.min(359,c));this.paint();this.selecter&&this.selecter.setHue(this.hue)}},
{key:"_endDrag",value:function(c){this._canvas.releasePointerCapture(c.pointerId);this._capturedMouse=!1;this._canvas.removeEventListener("pointerup",this._handleEndDrag);this._canvas.removeEventListener("pointermove",this._handleMousePickColor)}},{key:"_startDrag",value:function(c){this._capturedMouse||(this._capturedMouse=!0,this._canvas.setPointerCapture(c.pointerId),this._canvas.addEventListener("pointerup",this._handleEndDrag),this._canvas.addEventListener("pointermove",this._handleMousePickColor));
this._handleMousePickColor(c)}},{key:"getElement",value:function(){return this._canvas}},{key:"setHue",value:function(c){this.hue=c;this.paint()}}]);return k}();L.exports=D.default},{"../engine/CPColorBmp.js":13,"../util/CPColor.js":58,"./CPGUIUtils.js":33,jquery:296}],31:[function(g,L,D){function z(a){return a&&a.__esModule?a:{default:a}}function h(a,l,q){function r(){for(var A=e.style,C=Number(f.getRgb()).toString(16);6>C.length;)C="0"+C;A.backgroundColor="#"+C}function k(){var A=document.createElement("div"),
C=document.createElement("div"),B=new d.default(c,f),I=new w.default(c,B,f.getHue()),N=new b.default(0,255);A.className="chickenpaint-color-pick-panel";C.className="chickenpaint-colorpicker-top";C.appendChild(B.getElement());C.appendChild(I.getElement());A.appendChild(C);N.value=p;N.title=function(y){return(0,v._)("Opacity: ")+y};N.on("valueChange",function(y){c.setAlpha(y)});A.appendChild(N.getElement());setTimeout(function(){N.resize()},0);return A}var c=this,f=new E.default(0),p=255,e=document.createElement("div");
this.getElement=function(){return e};this.setColor=function(A){f.isEqual(A)||(f.copyFrom(A),r(),this.emitEvent("colorChange",[f]))};this.setAlpha=function(A){A!=p&&(p=A,r(),this.emitEvent("alphaChange",[p]))};this.getColorRgb=function(){return f.getRgb()};this.getAlpha=function(){return p};this.setCurColor=this.setColor;e.className="chickenpaint-color-pick-swatch";a&&f.copyFrom(a);l&&(p=l);var n=new bootstrap.Popover(e,{html:!0,content:function(){window.addEventListener("mousedown",u);return k()},
trigger:"manual",placement:"bottom",container:q||!1}),u=function(A){var C=A.target;C=C.closest(".popover-body")||C.classList.contains("chickenpaint-color-pick-panel")||C.classList.contains("chickenpaint-colorpicker-select")||C.classList.contains("chickenpaint-colorpicker-slider");A.preventDefault();C||n.hide()};e.addEventListener("click",function(A){A.preventDefault();n.toggle()});e.addEventListener("hidden.bs.popover",function(){window.removeEventListener("mousedown",u)});r()}Object.defineProperty(D,
"__esModule",{value:!0});D.default=h;z(g("jquery"));var v=g("../languages/lang.js"),E=z(g("../util/CPColor.js")),b=z(g("./CPSlider.js")),d=z(g("./CPColorSelect.js")),w=z(g("./CPColorSlider.js"));g=z(g("wolfy87-eventemitter"));h.prototype=Object.create(g.default.prototype);h.prototype.constructor=h;L.exports=D.default},{"../languages/lang.js":54,"../util/CPColor.js":58,"./CPColorSelect.js":29,"./CPColorSlider.js":30,"./CPSlider.js":44,jquery:296,"wolfy87-eventemitter":314}],32:[function(g,L,D){function z(d){return d&&
d.__esModule?d:{default:d}}function h(d,w){var a=(0,E.default)('<div class="modal fade" tabindex="-1" role="dialog">\n\t            <div class="modal-dialog">\n\t                <div class="modal-content">\n\t                    <div class="modal-header">\n\t                        <h5 class="modal-title">'.concat((0,b._)("Complete transform"),'</h5>\n\t                        <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n\t                        </button>\n\t                    </div>\n\t                    <div class="modal-body">\n\t                        <p>\n\t\t\t\t\t\t\t').concat((0,b._)("You need to finish transforming this layer before you can do that. What would you like to do with the transform?"),
'\n\t\t\t\t\t\t\t</p>\n\t                    </div>\n\t                    <div class="modal-footer">\n\t                        <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,b._)("Cancel"),'</button>\n\t                        <button type="button" class="btn btn-light chickenpaint-reject-transform" data-bs-dismiss="modal">').concat((0,b._)("Undo transform"),'</button>\n\t                        <button type="button" class="btn btn-primary chickenpaint-accept-transform" data-bs-dismiss="modal">').concat((0,b._)("Apply transform"),
"</button>\n\t                    </div>\n\t                </div>\n\t            </div>\n\t        </div>\n\t    ")),l=this,q=(0,E.default)(".chickenpaint-accept-transform",a),r=(0,E.default)(".chickenpaint-reject-transform",a);q.on("click",function(c){w.actionPerformed({action:"CPTransformAccept"});l.emitEvent("accept")});r.on("click",function(c){w.actionPerformed({action:"CPTransformReject"});l.emitEvent("reject")});var k=new bootstrap.Modal(a[0]);this.show=function(){k.show()};a[0].addEventListener("hidden.bs.modal",
function(c){a.remove()});d.addEventListener("keydown",function p(f){"Enter"===f.key&&(k.hide(),w.actionPerformed({action:"CPTransformAccept"}),l.emitEvent("accept"),d.removeEventListener("keydown",p))});d.appendChild(a[0])}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var v=z(g("wolfy87-eventemitter")),E=z(g("jquery")),b=g("../languages/lang.js");h.prototype=Object.create(v.default.prototype);h.prototype.constructor=h;L.exports=D.default},{"../languages/lang.js":54,jquery:296,"wolfy87-eventemitter":314}],
33:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.createCheckerboardPattern=function(z){for(var h=document.createElement("canvas"),v=h.getContext("2d"),E=v.createImageData(64,64),b=E.data,d=0,w=0;64>w;w++)for(var a=0;64>a;a++)0!=(a&8)^0!=(w&8)?(b[d++]=255,b[d++]=255,b[d++]=255):(b[d++]=204,b[d++]=204,b[d++]=204),b[d++]=255;h.width=64;h.height=64;v.putImageData(E,0,0);return z.createPattern(h,"repeat")};D.setContrastingDrawStyle=function(z,h){h+="Style";z.globalCompositeOperation=
"exclusion";"exclusion"==z.globalCompositeOperation?z[h]="white":(z.globalCompositeOperation="difference",z[h]="#888","difference"!=z.globalCompositeOperation&&(z[h]="black"))}},{}],34:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(v,E){var b=(0,z.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,h._)("Grid options"),
'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <form>\n                                <div class="form-group">\n                                    <label>').concat((0,h._)("Grid size"),'</label>\n                                    <input type="number" class="form-control chickenpaint-grid-size" value="" autofocus>\n                                </div>\n                            </form>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light" data-bs-dismiss="modal">').concat((0,h._)("Cancel"),
'</button>\n                            <button type="button" class="btn btn-primary chickenpaint-apply-grid-settings" data-bs-dismiss="modal">').concat((0,h._)("Ok"),"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),d=(0,z.default)(".chickenpaint-grid-size",b),w=(0,z.default)(".chickenpaint-apply-grid-settings",b),a=new bootstrap.Modal(b[0]);this.show=function(){var l=document.getElementById("chickenpaint-main-menu-content");
l&&l.classList.contains("show")&&(new bootstrap.Collapse(l,{toggle:!1})).hide();a.show()};d.val(E.getGridSize());b[0].addEventListener("hidden.bs.modal",function(l){b.remove()});w[0].addEventListener("click",function(l){l=parseInt(d.val(),10);E.setGridSize(l);bootstrap.Modal.getInstance(b[0]).hide()});b[0].addEventListener("shown.bs.modal",function(l){d.trigger("focus")});b[0].addEventListener("keydown",function(l){"Enter"===l.key&&(l.preventDefault(),w.trigger("click"))});v.appendChild(b[0])};var z=
function(v){return v&&v.__esModule?v:{default:v}}(g("jquery")),h=g("../languages/lang.js");L.exports=D.default},{"../languages/lang.js":54,jquery:296}],35:[function(g,L,D){function z(n){return n&&n.__esModule?n:{default:n}}function h(n,u){var A="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!A){if(Array.isArray(n)||(A=v(n))||u&&n&&"number"===typeof n.length){A&&(n=A);var C=0;u=function(){};return{s:u,n:function(){return C>=n.length?{done:!0}:{done:!1,value:n[C++]}},e:function(y){throw y;
},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var B=!0,I=!1,N;return{s:function(){A=A.call(n)},n:function(){var y=A.next();B=y.done;return y},e:function(y){I=!0;N=y},f:function(){try{B||null==A.return||A.return()}finally{if(I)throw N;}}}}function v(n,u){if(n){if("string"===typeof n)return E(n,u);var A=Object.prototype.toString.call(n).slice(8,-1);"Object"===A&&n.constructor&&(A=n.constructor.name);
if("Map"===A||"Set"===A)return Array.from(n);if("Arguments"===A||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return E(n,u)}}function E(n,u){if(null==u||u>n.length)u=n.length;for(var A=0,C=Array(u);A<u;A++)C[A]=n[A];return C}function b(n){n.preventDefault();n.stopPropagation()}function d(n){var u=document.createElement("span");u.className="fa "+n;return u}function w(n){var u=document.createElement("span");u.className="chickenpaint-icon chickenpaint-icon-"+n;return u}function a(n,u){var A=document.createElement("div"),
C=document.createElement("label");C.tabIndex=-1;n.tabIndex=-1;A.className="form-check";n.className="form-check-input";C.className="form-check-label";C.setAttribute("for",n.id);C.appendChild(n);C.appendChild(document.createTextNode(u));A.appendChild(n);A.appendChild(C);return A}function l(n){function u(){var ia=N.getActiveLayer();ia={"image-layer":ia instanceof p.default,"layer-group":ia instanceof f.default,"clipping-mask":ia instanceof p.default&&ia.clip,"no-clipping-mask":ia instanceof p.default&&
!ia.clip,"no-clipping-mask-or-is-group":!(ia instanceof p.default)||!ia.clip,mask:ia&&null!==ia.mask,"no-mask":ia&&null===ia.mask,"mask-enabled":ia&&null!==ia.mask&&ia.maskVisible,"mask-disabled":ia&&null!==ia.mask&&!ia.maskVisible};for(var va=0,ta=["mask","no-mask","clipping-mask","no-clipping-mask-or-is-group"];va<ta.length;va++){var ua=ta[va],Ya=za.getElementsByClassName("chickenpaint-action-require-"+ua);Ya=h(Ya);var Xa;try{for(Ya.s();!(Xa=Ya.n()).done;)Xa.value.style.display=ia[ua]?"inline-block":
"none"}catch(T){Ya.e(T)}finally{Ya.f()}}za.querySelectorAll("[data-action]").forEach(function(T){var Z=T.getAttribute("data-action");T.classList.toggle("disabled",!n.isActionAllowed(Z))})}function A(){var ia=N.getActiveLayer();ia.getAlpha()!=J.value&&J.setValue(ia.getAlpha());for(var va=N.getActiveLayer();R.lastChild;)R.removeChild(R.lastChild);for(var ta=k.default.LM_FIRST;ta<=k.default.LM_LAST;ta++)if(ta!=k.default.LM_MULTIPLY2&&(ta==va.blendMode||ta===k.default.LM_PASSTHROUGH&&va instanceof f.default||
ta<=k.default.LM_LAST_CHIBIPAINT)){var ua=document.createElement("option");ua.appendChild(document.createTextNode((0,e._)(k.default.BLEND_MODE_DISPLAY_NAMES[ta])));ua.value=ta!==k.default.LM_MULTIPLY||va.blendMode===ta||va.useLegacyMultiply?ta:k.default.LM_MULTIPLY2;R.appendChild(ua)}ia.getBlendMode()!=parseInt(R.value,10)&&(R.value=ia.getBlendMode());ia.getLockAlpha()!=pa.checked&&(pa.checked=ia.getLockAlpha());u()}function C(){N=this;O.resize();A()}var B=this;r.default.call(this,n,"layers","Layers",
{resizeHorz:!0,resizeVert:!0});var I=this,N=n.getArtwork(),y=null,G=this.getBodyElement(),H=this.getElement(),O=new function(){function ia(oa){var Da=(0,q.default)(".chickenpaint-layer",Ea);return Da.get(Da.length-1-oa)}function va(oa){oa=(0,q.default)(oa).closest(".chickenpaint-layer");if(oa.length){var Da=(0,q.default)(".chickenpaint-layer",Ea);return Da.length-1-Da.index(oa)}return-1}function ta(oa,Da){var La=(0,q.default)(".chickenpaint-layer",Ea);oa={layer:y[y.length-1],displayIndex:y.length-
1,direction:"over"};for(var Ua=0;Ua<La.length;Ua++){var lb=La[La.length-1-Ua].getBoundingClientRect();if(0===Ua&&Da>lb.bottom){oa=N.getLayersRoot().layers[0];oa={layer:oa,displayIndex:y.indexOf(oa),direction:"under"};break}else if(Da>=lb.top){La=y[Ua];var ob=lb.bottom-lb.top;oa={layer:La,displayIndex:Ua};La instanceof f.default?Da>=lb.top+.75*ob?La.expanded&&0<La.layers.length?(oa.layer=La.layers[La.layers.length-1],oa.displayIndex--,oa.direction="over"):oa.direction="under":Da>=lb.top+.25*ob?La.expanded&&
0<La.layers.length?(oa.layer=La.layers[La.layers.length-1],oa.displayIndex--,oa.direction="over"):oa.direction="inside":oa.direction="over":oa.direction=Da>=lb.top+.5*ob?"under":"over";break}}return oa.layer.parent==qa.layer.parent&&("over"==oa.direction||"under"==oa.direction)&&(Da=oa.layer.parent,Ua=Da.indexOf(oa.layer),"over"==oa.direction&&Da.layers[Ua+1]==qa.layer||"under"==oa.direction&&Da.layers[Ua-1]==qa.layer||oa.layer==qa.layer)?null:qa.layer instanceof f.default&&(oa.layer==qa.layer&&"inside"==
oa.direction||oa.layer.hasAncestor(qa.layer))?null:oa}function ua(){if(2===qa.state){var oa=H.getBoundingClientRect(),Da=!0,La=!0;qa.dropTarget=ta(qa.dragX,qa.dragY);if(qa.dropTarget){var Ua=ia(qa.dropTarget.displayIndex);switch(qa.dropTarget.direction){case "over":case "under":Ea.appendChild(qa.dropBetweenMarkerElem);Da=qa.dropTarget.layer.getDepth()-1;var lb;Ua=Ua.getBoundingClientRect();if("under"==qa.dropTarget.direction&&qa.dropTarget.layer instanceof f.default&&qa.dropTarget.layer.expanded){for(lb=
qa.dropTarget.displayIndex-1;0<=lb&&y[lb].hasAncestor(qa.dropTarget.layer);lb--);lb=ia(lb+1).getBoundingClientRect().bottom}else lb=Ua.bottom;Da=Ua.left-oa.left+(0<Da?26+16*Da:0);qa.dropBetweenMarkerElem.style.left=Da+"px";qa.dropBetweenMarkerElem.style.width=Ua.right-oa.left-Da+"px";qa.dropBetweenMarkerElem.style.top=("over"==qa.dropTarget.direction?Ua.top-1:lb+1)-oa.top+"px";(0,q.default)(".chickenpaint-layer-drop-target",Ea).removeClass("chickenpaint-layer-drop-target");Da=!1;break;case "inside":var ob=
(0,q.default)(".chickenpaint-layer",Ea);ob.each(function(Ab){(0,q.default)(this).toggleClass("chickenpaint-layer-drop-target",ob.length-1-Ab==qa.dropTarget.displayIndex)});La=!1}}La&&(0,q.default)(".chickenpaint-layer-drop-target",Ea).removeClass("chickenpaint-layer-drop-target");Da&&(0,q.default)(qa.dropBetweenMarkerElem).remove();qa.frameElem.style.top=qa.dragY-oa.top-parseInt(qa.frameElem.style.height,10)/2+"px"}else(0,q.default)(qa.dropBetweenMarkerElem).remove(),(0,q.default)(qa.frameElem).remove()}
function Ya(oa){var Da=oa.getImageThumbnail().getAsCanvas(db);Da.title=(0,e._)("Image");Da.className="chickenpaint-layer-thumbnail chickenpaint-layer-image-thumbnail";Da.style.maxWidth=Da.width/Da.height*25+"px";oa!=N.getActiveLayer()||N.isEditingMask()||(Da.className+=" active");return Da}function Xa(oa){var Da=oa.getMaskThumbnail().getAsCanvas(db);Da.title=(0,e._)("Layer mask");Da.className="chickenpaint-layer-thumbnail chickenpaint-layer-mask-thumbnail";Da.style.maxWidth=Da.width/Da.height*25+
"px";oa==N.getActiveLayer()&&N.isEditingMask()&&(Da.className+=" active");oa.maskVisible||(Da.className+=" disabled",oa=Da.getContext("2d"),oa.strokeStyle="red",oa.lineWidth=3,oa.moveTo(5,5),oa.lineTo(Da.width-5,Da.height-5),oa.moveTo(Da.width-5,5),oa.lineTo(5,Da.height-5),oa.stroke());return Da}function T(oa,Da){var La=document.createElement("div"),Ua=document.createElement("div"),lb=document.createElement("div"),ob=document.createElement("div"),Ab=document.createElement("div"),Pa=document.createElement("div"),
Qa=document.createElement("div");La.className="chickenpaint-layer list-group-item";Da==N.getActiveLayer()&&(La.className+=" active");Ua.className="chickenpaint-layer-eye";Da.ancestorsAreVisible()||(Ua.className+=" chickenpaint-layer-eye-hidden-ancestors");Ua.style.marginRight=2+16*(Da.getDepth()-1)+"px";Da.visible?(La.className+=" chickenpaint-layer-visible",Ua.appendChild(d("icon-eye"))):(La.className+=" chickenpaint-layer-hidden",Ua.appendChild(d("icon-eye-slash")));La.appendChild(Ua);lb.className=
"chickenpaint-layer-description";Da instanceof p.default?(Da.clip&&(La.className+=" chickenpaint-layer-clipped",ob.appendChild(d("icon-level-down-alt fa-flip-horizontal"))),Da.lockAlpha&&(Ua=w("lock-alpha"),Ua.title=(0,e._)("Transparency locked"),Pa.appendChild(Ua))):Da instanceof f.default&&(La.className+=" chickenpaint-layer-group",Da.expanded?(La.className+=" chickenpaint-layer-group-expanded",ob.appendChild(d("icon-folder-open chickenpaint-layer-group-toggle"))):(La.className+=" chickenpaint-layer-group-collapsed",
ob.appendChild(d("icon-folder chickenpaint-layer-group-toggle"))));ob.childNodes.length&&(ob.className="chickenpaint-layer-icons",La.appendChild(ob));try{Da instanceof p.default&&La.appendChild(Ya(Da)),Da.mask&&La.appendChild(Xa(Da))}catch(Ja){console.log("Failed to create layer thumb")}ob=Da.name&&0<Da.name.length?Da.name:"(unnamed "+(Da instanceof f.default?"group":"layer")+")";Ab.innerText=ob;Ab.setAttribute("title",ob);Ab.className="chickenpaint-layer-name";Qa.innerText=(0,e._)(k.default.BLEND_MODE_DISPLAY_NAMES[Da.blendMode])+
": "+Da.alpha+"%";Qa.className="chickenpaint-layer-blend";lb.appendChild(Ab);lb.appendChild(Qa);La.appendChild(lb);Pa.className="chickenpaint-layer-status";La.appendChild(Pa);La.setAttribute("data-display-index",""+oa);return La}function Z(oa){if(-1<oa){var Da=y[oa];oa=ia(oa);Da&&oa&&ea.show(Da,oa)}}function sa(oa){-1!=va(oa.target)&&(Z(va(oa.target)),oa.preventDefault())}function Fa(oa){switch(qa.state){case 2:(0,q.default)(qa.layerElem).removeClass("chickenpaint-layer-dragging");qa.dropTarget&&
("inside"==qa.dropTarget.direction?n.actionPerformed({action:"CPRelocateLayer",layer:qa.layer,toGroup:qa.dropTarget.layer,toIndex:qa.dropTarget.layer.layers.length}):n.actionPerformed({action:"CPRelocateLayer",layer:qa.layer,toGroup:qa.dropTarget.layer.parent,toIndex:qa.dropTarget.layer.parent.indexOf(qa.dropTarget.layer)+("over"==qa.dropTarget.direction?1:0)}));qa.dropTarget=null;qa.state=0;ua();break;default:qa.state=0}qb&&(clearTimeout(qb),qb=null);Ea.releasePointerCapture(oa.pointerId);Ea.removeEventListener("pointermove",
wb);Ea.removeEventListener("pointerup",Fa)}function Ra(){qa.state=2;qa.frameElem=document.createElement("div");qa.frameElem.className="chickenpaint-layer-drag-frame";qa.frameElem.style.width=(0,q.default)(qa.layerElem).outerWidth(!1)+"px";qa.frameElem.style.height=(0,q.default)(qa.layerElem).outerHeight(!1)+"px";qa.dropBetweenMarkerElem=document.createElement("div");qa.dropBetweenMarkerElem.className="chickenpaint-layer-drop-between-mark";qa.layerElem.className+=" chickenpaint-layer-dragging";Ea.appendChild(qa.frameElem)}
function wb(oa){oa=oa.clientY;switch(qa.state){case 3:if(5<Math.abs(oa-qa.dragY))qa.state=4;else break;case 4:Ha.scrollTop=qa.initialScrollTop+qa.dragY-oa;break;case 1:if(5<Math.abs(oa-qa.dragY))Ra();else break;case 2:qa.dragY=oa,ua()}}function Ib(oa,Da,La){try{La?(0,q.default)(".chickenpaint-layer-mask-thumbnail",oa).replaceWith(Xa(Da)):(0,q.default)(".chickenpaint-layer-image-thumbnail",oa).replaceWith(Ya(Da))}catch(Ua){}}var qa={state:0,layer:null,layerElem:null,dragX:0,dragY:0,initialScrollTop:0,
dropTarget:null,dropBetweenMarkerElem:null,frameElem:null},Aa=document.createElement("div"),Ea=document.createElement("div"),Ha=Ea,db=0,tb=!1,qb=null;this.buildLayers=function(){y=N.getLayersRoot().getLinearizedLayerList(!0);var oa=y.map(function(Ua,lb){return T(lb,Ua)}),Da=document.createDocumentFragment();(0,q.default)(Ea).empty();for(var La=oa.length-1;0<=La;La--)Da.appendChild(oa[La]);Ea.appendChild(Da);ua()};this.layerChanged=function(oa){var Da=y.indexOf(oa),La=(0,q.default)(ia(Da));0===La.length||
oa instanceof f.default&&(oa.expanded!=(0,q.default)(La).hasClass("chickenpaint-layer-group-expanded")||oa.visible!=(0,q.default)(La).hasClass("chickenpaint-layer-visible"))?this.buildLayers():La.replaceWith(T(Da,oa))};this.setRotation90=function(oa){if(db!=oa)for(db=oa,oa=0;oa<y.length;oa++){var Da=y[oa],La=(0,q.default)(ia(oa));0<La.length&&(Ib(La,Da,!1),Da.mask&&Ib(La,Da,!0))}};this.layerImageThumbChanged=function(oa){var Da=y.indexOf(oa);Da=(0,q.default)(ia(Da));0<Da.length&&Ib(Da,oa,!1)};this.layerMaskThumbChanged=
function(oa){var Da=y.indexOf(oa);Da=(0,q.default)(ia(Da));0<Da.length&&(oa.mask?Ib(Da,oa,!0):(0,q.default)(".chickenpaint-layer-mask-thumbnail",Da).remove())};this.activeLayerChanged=function(oa,Da){(0,q.default)(".active",Ea).removeClass("active");oa=(0,q.default)(ia(y.indexOf(oa)));oa.addClass("active");(0,q.default)(".chickenpaint-layer-image-thumbnail",oa).toggleClass("active",!Da);(0,q.default)(".chickenpaint-layer-mask-thumbnail",oa).toggleClass("active",Da)};this.resize=function(){I.dismissNotification();
this.buildLayers()};this.getElement=function(){return Aa};this.revealLayer=function(oa){oa=ia(oa);var Da=oa.getBoundingClientRect(),La=Ea.getBoundingClientRect();Ha.scrollTop=Math.max(Math.min(Math.max(Ha.scrollTop,Ha.scrollTop+Da.bottom-La.bottom),Ha.scrollTop+Da.top-La.top),0);return oa};H.id="chickenpaint-layer-pop";Aa.className="chickenpaint-layers-widget well";Aa.addEventListener("contextmenu",function(oa){return oa.preventDefault()},!0);Ea.className="list-group";Ea.addEventListener("dblclick",
function(oa){0===oa.button&&0<(0,q.default)(oa.target).closest(".chickenpaint-layer-description").length&&0===(0,q.default)(oa.target).closest("input").length&&(Z(va(oa.target)),oa.preventDefault())});Ea.addEventListener("pointerdown",function(oa){var Da=(0,q.default)(oa.target).closest(".chickenpaint-layer")[0];Da=va(Da);if(-1!=Da){var La=y[Da];if(0==oa.button&&(0,q.default)(oa.target).closest(".chickenpaint-layer-eye").length)n.actionPerformed({action:"CPSetLayerVisibility",layer:La,visible:!La.visible});
else if(0==oa.button&&La instanceof f.default&&(0,q.default)(oa.target).closest(".chickenpaint-layer-group-toggle").length)n.actionPerformed({action:"CPExpandLayerGroup",group:La,expand:!La.expanded});else{var Ua=N.getActiveLayer()!=La;tb=0<(0,q.default)(oa.target).closest(".chickenpaint-layer-mask-thumbnail").length||La instanceof f.default&&null!==La.mask&&Ua;if(0==oa.button&&oa.shiftKey&&!oa.ctrlKey&&!oa.metaKey&&tb)n.actionPerformed({action:"CPSetMaskVisible",layer:La,visible:!La.maskVisible});
else{var lb=0==oa.button||Ua?tb:N.isEditingMask();var ob=N.isEditingMask()!=lb;(Ua||ob)&&n.actionPerformed({action:"CPSetActiveLayer",layer:La,mask:lb});lb&&oa.altKey?n.actionPerformed({action:"CPToggleMaskView"}):lb&&!oa.shiftKey&&(oa.ctrlKey||oa.metaKey)?n.actionPerformed({action:"CPApplyLayerMask"}):lb&&oa.shiftKey&&(oa.ctrlKey||oa.metaKey)?n.actionPerformed({action:"CPRemoveLayerMask"}):0==oa.button?("pen"===oa.pointerType||"touch"===oa.pointerType?(qa.state=3,qa.initialScrollTop=Ha.scrollTop,
qb&&clearTimeout(qb),qb=setTimeout(function(){3===qa.state&&(Ra(),qa.dragY=oa.clientY,ua())},800)):qa.state=1,qa.dropTarget=null,qa.layer=La,qa.layerElem=ia(Da),qa.dragX=oa.clientX,qa.dragY=oa.clientY,Ea.setPointerCapture(oa.pointerId),Ea.addEventListener("pointermove",wb),Ea.addEventListener("pointerup",Fa)):2!=oa.button||Ua||(oa.preventDefault(),sa(oa))}}}});Ea.setAttribute("touch-action","none");for(var Oa=0,ra=["ontouchstart","ontouchmove","ontouchend","ontouchcancel"];Oa<ra.length;Oa++)Ea.addEventListener(ra[Oa],
b);Aa.appendChild(Ea)},J=new c.default(0,100),R=document.createElement("select"),ea=new function(){var ia=null,va="",ta=document.createElement("input"),ua=this;this.hide=function(){ia=null;var Ya=(0,q.default)(ta).parent();Ya&&((0,q.default)(ta).remove(),Ya.text(va))};this.renameAndHide=function(){ia&&ia.name!=ta.value&&n.actionPerformed({action:"CPSetLayerName",layer:ia,name:ta.value});this.hide()};this.show=function(Ya,Xa){ia=Ya;va=ia.name;ta.value=va;(Ya=Xa.querySelector(".chickenpaint-layer-name"))&&
Ya.parentNode&&(Xa=Ya.firstChild)&&Xa.nodeType===Node.TEXT_NODE&&(Ya.removeChild(Xa),Ya.appendChild(ta));ta.select()};ta.type="text";ta.className="chickenpaint-layer-rename form-control input-sm";ta.addEventListener("keydown",function(Ya){Ya.stopPropagation()});ta.addEventListener("keydown",function(Ya){"Enter"===Ya.key&&ua.renameAndHide();Ya.stopPropagation()});ta.addEventListener("keyup",function(Ya){"Escape"===Ya.key&&ua.hide();Ya.stopPropagation()});ta.addEventListener("blur",function(Ya){ia&&
ua.renameAndHide()})},Y=document.createElement("input"),pa=document.createElement("input"),ka=!1,Q=this.setSize,ja=this.setWidth,na=this.setHeight;this.setSize=function(ia,va){Q.call(this,ia,va);this.dismissNotification();J.resize()};this.setWidth=function(ia){ja.call(this,ia);J.resize();O.resize()};this.setHeight=function(ia){na.call(this,ia);O.resize()};this.setRotation90=function(ia){O.setRotation90(ia)};this.dismissNotification=function(){(0,q.default)(".chickenpaint-layer[aria-describedby],.chickenpaint-slider[aria-describedby]",
G).each(function(ia,va){va=(0,q.default)(va);(ia=bootstrap.Popover.getInstance(va[0]))&&ia.dispose()});ka&&(clearTimeout(ka),ka=!1)};this.showNotification=function(ia,va,ta){var ua=y.indexOf(ia);ia=N.getActiveLayer()==ia&&"opacity"==ta?J.getElement():O.revealLayer(ua);B.dismissNotification();(new bootstrap.Popover(ia,{html:!1,content:va,placement:"left",trigger:"manual",fallbackPlacement:[],boundary:"window",container:I.getElement()})).show();ka=setTimeout(function(){ka=!1;B.dismissNotification()},
Math.max(Math.round(70*va.length),3E3))};R.className="form-control form-control-sm";R.tabIndex=-1;R.title=(0,e._)("Layer blending mode");R.addEventListener("change",function(ia){n.actionPerformed({action:"CPSetLayerBlendMode",blendMode:parseInt(R.value,10)});R.blur()});G.appendChild(R);J.title=function(ia){return(0,e._)("Opacity")+": "+ia+"%"};J.on("valueChange",function(ia){n.actionPerformed({action:"CPSetLayerAlpha",alpha:ia})});G.appendChild(J.getElement());Y.id="chickenpaint-chk-sample-all-layers";
Y.type="checkbox";Y.addEventListener("click",function(ia){N.setSampleAllLayers(Y.checked);document.activeElement.blur()});G.appendChild(a(Y,(0,e._)("Sample all layers")));pa.id="chickenpaint-chk-lock-alpha";pa.type="checkbox";pa.addEventListener("click",function(ia){n.actionPerformed({action:"CPSetLayerLockAlpha",lock:pa.checked});document.activeElement.blur()});G.appendChild(a(pa,(0,e._)("Lock transparency")));G.appendChild(O.getElement());var za=function(){var ia=[{title:"Add layer",icon:d("icon-file"),
action:"CPAddLayer"},{title:"Merge down",icon:d("icon-arrow-down"),action:"CPLayerMergeDown"},{title:"Add layer mask",icon:w("mask"),action:"CPAddLayerMask",require:["no-mask"]},{title:"Apply mask",icon:w("mask"),action:"CPApplyLayerMask",require:["mask"]},{title:"Clip to the layer below",icon:d("icon-level-down-alt fa-flip-horizontal"),action:"CPCreateClippingMask",require:"no-clipping-mask-or-is-group"},{title:"Unclip from the layer below",icon:d("icon-level-down-alt fa-flip-horizontal"),action:"CPReleaseClippingMask",
require:"clipping-mask"},{title:"Add group",icon:d("icon-folder"),action:"CPAddGroup"},{title:"Merge group",icon:d("icon-compress-arrows-alt"),action:"CPGroupMerge"},{title:"Delete layer",icon:d("icon-trash"),action:"CPRemoveLayer"}],va=document.createElement("ul");va.className="chickenpaint-layer-buttons list-unstyled";for(var ta=function(){var Xa=Ya[ua],T=document.createElement("li");T.setAttribute("data-action",Xa.action);T.className="chickenpaint-small-toolbar-button "+(Xa.require?"chickenpaint-action-require-"+
Xa.require:"");T.title=(0,e._)(Xa.title);T.appendChild(Xa.icon);T.addEventListener("click",function(){n.actionPerformed({action:Xa.action})});va.appendChild(T)},ua=0,Ya=ia;ua<Ya.length;ua++)ta();return va}();G.appendChild(za);N.on("changeActiveLayer",function(ia,va,ta){O.activeLayerChanged(va,ta);A()});N.on("changeLayer",function(ia){N=this;I.dismissNotification();O.layerChanged(ia);A()});N.on("changeStructure",C);N.on("changeLayerMaskThumb",function(ia){N=this;O.layerMaskThumbChanged(ia)});N.on("changeLayerImageThumb",
function(ia){N=this;O.layerImageThumbChanged(ia)});n.on("layerNotification",this.showNotification.bind(this));C.call(N)}Object.defineProperty(D,"__esModule",{value:!0});D.default=l;var q=z(g("jquery")),r=z(g("./CPPalette.js")),k=z(g("../engine/CPBlend.js")),c=z(g("./CPSlider.js")),f=z(g("../engine/CPLayerGroup.js"));z(g("../engine/CPLayer.js"));var p=z(g("../engine/CPImageLayer.js")),e=g("../languages/lang.js");l.prototype=Object.create(r.default.prototype);l.prototype.constructor=l;L.exports=D.default},
{"../engine/CPBlend.js":5,"../engine/CPImageLayer.js":15,"../engine/CPLayer.js":16,"../engine/CPLayerGroup.js":17,"../languages/lang.js":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296}],36:[function(g,L,D){function z(w){return w&&w.__esModule?w:{default:w}}function h(w,a){var l=this,q=document.createElement("div"),r=new E.default(w),k=new b.default(w),c=!1,f=this;this.togglePalettes=function(){k.togglePalettes()};this.arrangePalettes=function(){setTimeout(k.arrangePalettes.bind(k),0)};this.constrainPalettes=
function(){k.constrainPalettes()};this.showPalette=function(u,A){k.showPaletteByName(u,A)};this.getSwatches=function(){return k.palettes.swatches.getSwatches()};this.setSwatches=function(u){k.palettes.swatches.setSwatches(u)};this.getPaletteManager=function(){return k};this.setRotation90=function(u){r.setRotation(u*Math.PI/2);k.palettes.layers.setRotation90(u)};this.setFullScreenMode=function(u){c!==u&&(c=u,f.resize(),f.arrangePalettes())};this.resize=function(){var u=(0,v.default)(window).height(),
A=(0,v.default)(p.getElement()).outerHeight();r.resize(c?u-A:Math.min(Math.max(u-A-65,500),850),!1);f.constrainPalettes()};var p=new d.default(w,this);a.appendChild(p.getElement());q.className="chickenpaint-main-section";q.appendChild(r.getElement());q.appendChild(k.getElement());a.appendChild(q);r.on("canvasRotated90",function(u){k.palettes.layers.setRotation90(u)});screen.orientation&&screen.orientation.addEventListener("change",function(u){l.resize();w.actionPerformed({action:"CPArrangePalettes"});
setTimeout(function(){l.resize();w.actionPerformed({action:"CPArrangePalettes"})},10);Promise.resolve().then(function(){l.resize()}).then(function(){w.actionPerformed({action:"CPArrangePalettes"})})});var e=document.getElementById("chickenpaint-main-menu-content");document.addEventListener("show.bs.modal",function(){e&&e.classList.contains("show")&&(new bootstrap.Collapse(e,{toggle:!1})).hide()});if(e){var n=document.querySelector(".chickenpaint .widget-nav");n&&(e.addEventListener("show.bs.collapse",
function(u){n.classList.add("hidden")}),e.addEventListener("hidden.bs.collapse",function(u){n.classList.remove("hidden")}));window.addEventListener("resize",function(){n.classList.remove("hidden")})}document.addEventListener("hidden.bs.collapse",this.resize.bind(this));window.addEventListener("resize",this.resize.bind(this));w.on("fullScreen",function(u){return l.setFullScreenMode(u)});w.on("toolbarStyleChange",function(u){(0,v.default)(a).toggleClass("chickenpaint-toolbar-style-old","old"===u)});
w.on("unsavedChanges",function(u){(0,v.default)(a).toggleClass("chickenpaint-unsaved",u)});setTimeout(this.resize.bind(this),0)}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var v=z(g("jquery")),E=z(g("./CPCanvas.js")),b=z(g("./CPPaletteManager.js")),d=z(g("./CPMainMenu.js"));g=z(g("wolfy87-eventemitter"));h.prototype=Object.create(g.default.prototype);h.prototype.constructor=h;L.exports=D.default},{"./CPCanvas.js":26,"./CPMainMenu.js":37,"./CPPaletteManager.js":40,jquery:296,"wolfy87-eventemitter":314}],
37:[function(g,L,D){function z(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(d,w){function a(p){var e=p.data("action"),n=p.data("checkbox");d.isActionAllowed(e)&&(n?(p.toggleClass("selected"),p=p.hasClass("selected")):p=!1,d.actionPerformed({action:e,checkbox:n,selected:p}))}function l(p){p=p.toUpperCase();p=p.replace(/(,.+)$/,"");p=p.replace("CTRL+=","CTRL++");p=p.replace("\u2318+=","\u2318++");return p=k?p.replace(/([^+])\+/g,"$1"):p.replace(/([^+])\+/g,
"$1 ")}function q(p){(0,h.default)("[data-action]",p).each(function(){var A=(0,h.default)(this),C=this.getAttribute("data-action");C=d.isActionAllowed(C);A.toggleClass("disabled",!C).toggleClass("hidden",!C&&!0===A.data("hideIfNotAvailable"))});(0,h.default)(".dropdown-divider",p).removeClass("hidden");p=(0,h.default)(".dropdown-item:not(.hidden),.dropdown-divider:not(.hidden)",p);for(var e=null,n=0;n<p.length;n++){var u=(0,h.default)(p[n]);u.hasClass("dropdown-divider")?0===n||e?u.addClass("hidden"):
e=u:e=null}e&&e.addClass("hidden")}var r=(0,h.default)('<nav class="navbar navbar-expand-md navbar-light bg-light"><a class="navbar-brand" href="#">ChickenPaint Be</a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#chickenpaint-main-menu-content" aria-controls="chickenpaint-main-menu-content" aria-expanded="false" aria-label="Toggle main menu"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="chickenpaint-main-menu-content"><div class="navbar-nav mr-auto"></div></div><div class="widget-nav" id="chickenpaint-palette-toggler-content"></div></nav>'),
k=navigator.userAgent.toLowerCase().includes("mac os");this.getElement=function(){return r[0]};(function(p,e){p.append(e.map(function(n){var u=(0,h.default)('<div class="nav-item dropdown"><a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">'+(0,E._)(n.name)+'</a><ul class="dropdown-menu"></ul></div>'),A=(0,h.default)(".dropdown-toggle",u),C=(0,h.default)(".dropdown-menu",u);A[0].addEventListener("show.bs.dropdown",function(B){q(u)});
C.append(n.children.map(function(B){if(!B.action||d.isActionSupported(B.action)){"CPSend"!=B.action||d.isActionSupported("CPContinue")||(B.name=(0,E._)("Post Oekaki"),B.shortcut="ctrl+p");if("-"==B.name)var I=(0,h.default)('<hr class="dropdown-divider"></hr>');else I=(0,h.default)('<a class="dropdown-item" href="#" data-action="'+B.action+'"><span>'+(0,E._)(B.name)+"</span></a>"),B.checkbox&&(0,h.default)(I).data("checkbox",!0).toggleClass("selected",!!B.checked),B.hideIfNotAvailable&&I.data("hideIfNotAvailable",
!0);B.title&&I.attr("title",(0,E._)(B.title));if(B.shortcut){var N=I,y=document.createElement("small");k&&(B.shortcut=B.shortcut.replace(/SHIFT/im,"\u21e7"),B.shortcut=B.shortcut.replace(/ALT/im,"\u2325"),B.shortcut=B.shortcut.replace(/CTRL/im,"\u2318"));y.className="chickenpaint-shortcut";y.textContent=l(B.shortcut);N.append(y);(0,v.default)(B.shortcut,function(G){a(N);G.preventDefault();G.stopPropagation();return!1})}return I=(0,h.default)("<li>").append(I)}}));return u}))})((0,h.default)(".navbar-nav",
r),b);(function(p,e){p.append(e.filter(function(n){return!!n.mnemonic&&d.isActionSupported(n.action)}).map(function(n){var u=(0,h.default)('<button class="widget-toggler selected" type="button" data-action="'.concat(n.action,'" data-checkbox="true" data-selected="').concat(!n.checked,'">')+"<span>"+n.mnemonic+"</span></button>");u.on("click",function(A){a(u);A.preventDefault()});return u}))})((0,h.default)(".widget-nav",r),b[5].children);(0,h.default)(r).on("click","a:not(.dropdown-toggle)",function(p){a((0,h.default)(this));
p.preventDefault()});(0,h.default)(".navbar-toggler",r).on("click",function(p){p.preventDefault()});w.getPaletteManager().on("paletteVisChange",function(p,e){(0,h.default)('[data-action="CPPal'+p.substring(0,1).toUpperCase()+p.substring(1)+'"]',r).toggleClass("selected",e)});var c=(0,h.default)(".dropdown-item[data-action=CPFullScreen]",r),f=(0,h.default)(".dropdown-item[data-action=CPToolbarStyle]",r);d.on("fullScreen",function(p){return c.toggleClass("selected",p)});c.toggleClass("selected",d.isFullScreen());
d.on("toolbarStyleChange",function(p){return f.toggleClass("selected","old"===p)});f.toggleClass("selected","old"===d.getToolbarStyle())};var h=z(g("jquery")),v=z(g("../../lib/keymaster.js")),E=g("../languages/lang.js"),b=[{name:"File",mnemonic:"F",children:[{name:"Save to my computer",action:"CPSave",mnemonic:"S",shortcut:"ctrl+s"},{name:"Save Oekaki",action:"CPSend",mnemonic:"S",shortcut:"ctrl+s"}]},{name:"Edit",mnemonic:"E",children:[{name:"Undo",action:"CPUndo",mnemonic:"U",shortcut:"ctrl+z"},
{name:"Redo",action:"CPRedo",mnemonic:"R",shortcut:"ctrl+y"},{name:"Clear history",action:"CPClearHistory",mnemonic:"H",title:(0,E._)("Removes all undo/redo information to regain memory")},{name:"-"},{name:"Cut",action:"CPCut",mnemonic:"T",shortcut:"ctrl+x"},{name:"Copy",action:"CPCopy",mnemonic:"C",shortcut:"ctrl+c"},{name:"Copy merged",action:"CPCopyMerged",mnemonic:"Y",shortcut:"shift+ctrl+c"},{name:"Paste",action:"CPPaste",mnemonic:"P",shortcut:"ctrl+v"},{name:"-"},{name:"Select all",action:"CPSelectAll",
mnemonic:"A",shortcut:"ctrl+a"},{name:"Deselect",action:"CPDeselectAll",mnemonic:"D",shortcut:"ctrl+d"},{name:"-"},{name:"Transform",action:"CPTransform",mnemonic:"T",shortcut:"ctrl+h"}]},{name:"Layers",mnemonic:"L",children:[{name:"Duplicate",action:"CPLayerDuplicate",mnemonic:"D",shortcut:"shift+ctrl+d"},{name:"-"},{name:"Merge down",action:"CPLayerMergeDown",mnemonic:"E",shortcut:"ctrl+e"},{name:"Merge group",action:"CPGroupMerge",mnemonic:"G",shortcut:"shift+ctrl+g"},{name:"Merge all layers",
action:"CPLayerMergeAll",shortcut:"shift+ctrl+e",mnemonic:"A"},{name:"-"},{hideIfNotAvailable:!0,name:"Add layer mask",action:"CPAddLayerMask"},{hideIfNotAvailable:!0,name:"Delete layer mask",action:"CPRemoveLayerMask",shortcut:"shift+m"},{hideIfNotAvailable:!0,name:"Apply layer mask",action:"CPApplyLayerMask",shortcut:"ctrl+m"},{name:"-"},{hideIfNotAvailable:!0,name:"Clip to the layer below",action:"CPCreateClippingMask"},{hideIfNotAvailable:!0,name:"Unclip from the layer below",action:"CPReleaseClippingMask"}]},
{name:"Effects",mnemonic:"E",children:[{name:"Clear",action:"CPClear",mnemonic:"D",shortcut:"del,backspace"},{name:"Fill",action:"CPFill",mnemonic:"F",shortcut:"ctrl+f"},{name:"Flip horizontal",action:"CPHFlip",mnemonic:"H",shortcut:"h"},{name:"Flip vertical",action:"CPVFlip",mnemonic:"V"},{name:"Invert",action:"CPFXInvert",mnemonic:"I",shortcut:"ctrl+i",title:(0,E._)("Invert the image colors")},{name:"-"},{name:"Box blur...",action:"CPFXBoxBlur",mnemonic:"B"},{name:"-"},{name:"Monochromatic noise",
action:"CPMNoise",mnemonic:"M",title:(0,E._)("Fills the selection with noise")},{name:"Color noise",action:"CPCNoise",mnemonic:"C",title:(0,E._)("Fills the selection with colored noise")}]},{name:"View",mnemonic:"V",children:[{name:"Full-screen mode",action:"CPFullScreen",mnemonic:"F",checkbox:!0,checked:!1},{name:"-"},{name:"Zoom in",action:"CPZoomIn",mnemonic:"I",shortcut:"ctrl+="},{name:"Zoom out",action:"CPZoomOut",mnemonic:"O",shortcut:"ctrl+-"},{name:"Zoom 100%",action:"CPZoom100",mnemonic:"1",
shortcut:"ctrl+0"},{action:"CPLinearInterpolation",name:"-"},{name:"Smooth-out zoomed canvas",action:"CPLinearInterpolation",mnemonic:"L",title:(0,E._)("Linear interpolation is used to give a smoothed looked to the picture when zoomed in"),checkbox:!0,checked:!0},{name:"-"},{name:"Show grid",action:"CPToggleGrid",mnemonic:"G",shortcut:"ctrl+g",checkbox:!0,checked:!1},{name:"Grid options...",action:"CPGridOptions",mnemonic:"D"}]},{name:"Palettes",mnemonic:"P",children:[{name:"Rearrange",action:"CPArrangePalettes",
title:(0,E._)("Rearrange the palette windows")},{name:"Toggle palettes",action:"CPTogglePalettes",mnemonic:"P",shortcut:"tab",title:(0,E._)("Hides or shows all palettes")},{name:"-"},{name:"Show tools",action:"CPPalTool",mnemonic:"T",checkbox:!0,checked:!0},{name:"Show color",action:"CPPalColor",mnemonic:"C",checkbox:!0,checked:!0},{name:"Show stroke",action:"CPPalStroke",mnemonic:"S",checkbox:!0,checked:!0},{name:"Show misc",action:"CPPalMisc",mnemonic:"M",checkbox:!0,checked:!0},{name:"Show swatches",
action:"CPPalSwatches",mnemonic:"W",checkbox:!0,checked:!0},{name:"Show textures",action:"CPPalTextures",mnemonic:"X",checkbox:!0,checked:!0},{name:"Show tool options",action:"CPPalBrush",mnemonic:"B",checkbox:!0,checked:!0},{name:"Show layers",action:"CPPalLayers",mnemonic:"L",checkbox:!0,checked:!0}]},{name:"Help",mnemonic:"H",children:[{name:"Tablet support",mnemonic:"T",action:"CPTabletSupport"},{name:"Shortcuts",mnemonic:"S",action:"CPShortcuts"},{name:"-"},{name:"About",mnemonic:"A",action:"CPAbout"}]}];
L.exports=D.default},{"../../lib/keymaster.js":68,"../languages/lang.js":54,jquery:296}],38:[function(g,L,D){function z(d){return d&&d.__esModule?d:{default:d}}function h(d){E.default.call(this,d,"misc","Misc");var w=this,a=[{className:"chickenpaint-tool-zoom-in",command:"CPZoomIn",toolTip:"Zoom in"},{className:"chickenpaint-tool-zoom-out",command:"CPZoomOut",toolTip:"Zoom out"},{className:"chickenpaint-tool-zoom-100",command:"CPZoom100",toolTip:"Zoom 100%"},{className:"chickenpaint-tool-flip-horizontal",
command:"CPHFlip",toolTip:"Flip horizontal"},{className:"chickenpaint-tool-undo",command:"CPUndo",toolTip:"Undo"},{className:"chickenpaint-tool-redo",command:"CPRedo",toolTip:"Redo"},{className:"chickenpaint-tool-send",command:"CPSend",toolTip:"Save Oekaki"}];(function(){var l=w.getBodyElement(),q=document.createElement("ul");q.className="chickenpaint-misc-tools list-unstyled";for(var r in a){var k=a[r],c=document.createElement("li"),f=document.createElement("div");"CPSend"!=k.command||d.isActionSupported("CPContinue")||
(k.toolTip="Post Oekaki",k.className="chickenpaint-tool-send-and-end");c.className="chickenpaint-toolbar-button "+k.className;c.setAttribute("data-buttonIndex",r);c.setAttribute("title",(0,b._)(k.toolTip));f.className="chickenpaint-toolbar-button-icon";c.appendChild(f);q.appendChild(c)}(0,v.default)(q).on("mousedown","li",function(p){(0,v.default)(this).addClass("selected")}).on("mouseup","li",function(p){(0,v.default)(this).removeClass("selected")}).on("click","li",function(p){p=a[parseInt(this.getAttribute("data-buttonIndex"),
10)];d.actionPerformed({action:p.command})});l.appendChild(q)})()}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var v=z(g("jquery")),E=z(g("./CPPalette.js")),b=g("../languages/lang.js");h.prototype=Object.create(E.default.prototype);h.prototype.constructor=h;L.exports=D.default},{"../languages/lang.js":54,"./CPPalette.js":39,jquery:296}],39:[function(g,L,D){function z(w){return w&&w.__esModule?w:{default:w}}function h(w,a,l,q){var r,k,c,f;function p(ea){"vertResize"==O&&J.setHeight(ea.pageY-
(0,v.default)(B).offset().top)}function e(ea){G.releasePointerCapture(ea.pointerId);O=!1}function n(ea){O="vertResize";G.setPointerCapture(ea.pointerId)}function u(ea){"horzResize"==O&&J.setWidth(ea.pageX-(0,v.default)(B).offset().left)}function A(ea){H.releasePointerCapture(ea.pointerId);O=!1}function C(ea){O="horzResize";H.setPointerCapture(ea.pointerId)}w.getSmallScreenMode()&&(0,b._)(l+" (shorter)")!==l+" (shorter)"?this.title=(0,b._)(l+" (shorter)"):this.title=(0,b._)(l);q=q||{};this.name=a;
this.resizeVert=q.resizeVert||!1;this.resizeHorz=q.resizeHorz||!1;var B=document.createElement("div");l=document.createElement("div");var I=document.createElement("i"),N=document.createElement("button"),y=document.createElement("div"),G=null,H=null,O,J=this;this.getElement=function(){return B};this.getBodyElement=function(){return y};this.getWidth=function(){return(0,v.default)(B).outerWidth()};this.getHeight=function(){return(0,v.default)(B).outerHeight()};this.getX=function(){return parseInt(B.style.left,
10)||0};this.getY=function(){return parseInt(B.style.top,10)||0};this.setLocation=function(ea,Y){B.style.left=ea+"px";B.style.top=Y+"px"};this.setWidth=function(ea){B.style.width=ea+"px"};this.setHeight=function(ea){B.style.height=ea+"px"};this.setSize=function(ea,Y){this.setWidth(ea);this.setHeight(Y)};this.setCollapseDownwards=function(ea){q.collapseDownwards=ea};this.toggleCollapse=function(ea){var Y=(0,v.default)(B);if(void 0===ea)ea=!Y.hasClass("collapsed");else if(Y.hasClass("collapsed")==ea)return;
var pa=Y.parents(".chickenpaint").find(".chickenpaint-canvas").height(),ka=this.getHeight();ka=this.getY()+ka;Y.toggleClass("collapsed",ea);(0,v.default)(I).toggleClass("icon-angle-down",!ea).toggleClass("icon-angle-up",ea);ea?q.collapseDownwards&&this.setLocation(this.getX(),Math.min(ka,pa)-this.getHeight()):(ea=this.getHeight(),q.collapseDownwards?this.setLocation(this.getX(),Math.max(ka-ea,0)):this.getY()+ea>pa&&this.setLocation(this.getX(),Math.max(pa-ea,0)))};this.userIsDoneWithUs=function(){w.getSmallScreenMode()&&
this.toggleCollapse(!0)};I.className="collapse-icon fas icon-angle-down";N.type="button";N.className="btn btn-close";N.textContent="";N.tabIndex=-1;B.className="chickenpaint-palette chickenpaint-palette-"+a;l.className="chickenpaint-palette-head";l.setAttribute("touch-action","none");a=document.createElement("div");var R=document.createElement("h5");a.className="modal-header";R.className="modal-title";R.appendChild(document.createTextNode(this.title));R.appendChild(I);a.appendChild(R);a.appendChild(N);
l.appendChild(a);y.className="chickenpaint-palette-body";B.appendChild(l);B.appendChild(y);this.resizeVert&&(G=document.createElement("div"),G.className="chickenpaint-resize-handle-vert",G.addEventListener("pointerdown",n),G.addEventListener("pointermove",p),G.addEventListener("pointerup",e),B.appendChild(G));this.resizeHorz&&(H=document.createElement("div"),H.className="chickenpaint-resize-handle-horz",H.addEventListener("pointerdown",C),H.addEventListener("pointermove",u),H.addEventListener("pointerup",
A),B.appendChild(H));l.addEventListener("pointerdown",function(ea){0==ea.button&&(ea.stopPropagation(),ea.preventDefault(),"BUTTON"==ea.target.nodeName?J.emitEvent("paletteVisChange",[J,!1]):(c=parseInt(B.style.left,10)||0,f=parseInt(B.style.top,10)||0,r=ea.pageX-(0,v.default)(B).position().left,k=ea.pageY-(0,v.default)(B).position().top,O=w.getSmallScreenMode()?"dragStart":"dragging",ea.target.setPointerCapture(ea.pointerId)))});l.addEventListener("pointermove",function(ea){if(("dragStart"===O||
"dragging"===O)&&0!==ea.buttons){var Y=ea.pageX-r;ea=ea.pageY-k;"dragStart"==O&&(Y-c)*(Y-c)+(ea-f)*(ea-f)>d*d&&(O="dragging");"dragging"==O&&J.setLocation(Y,ea)}});l.addEventListener("pointerup",function(ea){if("dragging"===O||"dragStart"===O){"dragStart"===O&&(ea.stopPropagation(),ea.preventDefault(),setTimeout(function(){J.setLocation(c,f);J.toggleCollapse()},100));O=!1;try{ea.target.releasePointerCapture(ea.pointerId)}catch(Y){console.error(Y)}}})}Object.defineProperty(D,"__esModule",{value:!0});
D.default=h;var v=z(g("jquery")),E=z(g("wolfy87-eventemitter")),b=g("../languages/lang"),d=5;h.prototype=Object.create(E.default.prototype);h.prototype.constructor=E.default;L.exports=D.default},{"../languages/lang":54,jquery:296,"wolfy87-eventemitter":314}],40:[function(g,L,D){function z(c){return c&&c.__esModule?c:{default:c}}function h(c){function f(){var O=(0,v.default)(A).parents(".chickenpaint").find(".chickenpaint-canvas");return{width:O.width(),height:O.height()}}function p(O,J){var R=O.getElement();
J?A.contains(R)||A.appendChild(R):A.contains(R)&&A.removeChild(R);C.emitEvent("paletteVisChange",[O.name,J])}var e={tool:new b.default(c),misc:new d.default(c),stroke:new w.default(c),color:new a.default(c),brush:new l.default(c),layers:new q.default(c),textures:new r.default(c),swatches:new k.default(c)},n={tool:!1,color:!1,misc:!1},u={color:!0,textures:!0,layers:!0},A=document.createElement("div"),C=this,B=[],I=[];this.palettes=e;this.showPaletteByName=function(O,J){(O=e[O])&&p(O,J)};this.togglePalettes=
function(){if(0==I.length)(0,v.default)("> .chickenpaint-palette",A).each(function(){C.showPaletteByName(this.getAttribute("data-paletteName"),!1);I.push(this)});else{for(var O=0;O<I.length;O++)C.showPaletteByName(I[O].getAttribute("data-paletteName"),!0);I=[]}};this.constrainPalettes=function(){var O=f();for(R in e){var J=e[R];J.getX()+J.getWidth()/2>O.width&&J.setLocation(O.width-J.getWidth(),J.getY());J.getY()+J.getHeight()/2>O.height&&J.setLocation(J.getX(),O.height-J.getHeight())}var R=0<O.width-
e.tool.getWidth()-e.misc.getWidth()-e.stroke.getWidth()-e.color.getWidth()-e.brush.getWidth()-15;e.swatches.getX()+e.swatches.getWidth()==e.brush.getX()+e.brush.getWidth()&&20>Math.abs(e.swatches.getY()-e.brush.getY())&&e.swatches.setLocation(e.brush.getX()-e.swatches.getWidth()-(R?5:1),0);e.layers.getY()+e.layers.getHeight()>O.height&&e.layers.setHeight(Math.max(O.height-e.layers.getY(),200))};this.arrangePalettes=function(){var O=f();if(c.getSmallScreenMode())e.tool.setLocation(0,0),e.misc.setLocation(e.tool.getX()+
e.tool.getWidth()+1,0),e.brush.setLocation(O.width-e.brush.getWidth()-15,e.misc.getY()+e.misc.getHeight()+1),e.textures.setWidth(O.width-e.textures.getX()),e.layers.setLocation(e.brush.getX()+e.brush.getWidth()-e.layers.getWidth(),e.textures.getY()-e.layers.getHeight()),e.layers.setHeight(e.textures.getY()-330-1),e.stroke.setLocation(e.misc.getX(),e.misc.getY()+e.misc.getHeight()+1),e.swatches.setLocation(e.stroke.getX(),e.stroke.getY()+e.stroke.getHeight()+1);else{var J=0<O.width-e.tool.getWidth()-
e.misc.getWidth()-e.stroke.getWidth()-e.color.getWidth()-e.brush.getWidth()-15;e.brush.setLocation(O.width-e.brush.getWidth()-15,0);var R=e.brush.getY()+e.brush.getHeight();R=300<O.height-R?R+2:R;e.layers.setSize(e.brush.getWidth()+(J?30:0),O.height-R);e.layers.setLocation(e.brush.getX()+e.brush.getWidth()-e.layers.getWidth(),R);e.tool.setLocation(0,0);e.misc.setLocation(e.tool.getX()+e.tool.getWidth()+(J?5:1),0);J?e.stroke.setLocation(e.misc.getX()+e.misc.getWidth()+(J?5:1),0):e.stroke.setLocation(e.misc.getX(),
e.misc.getY()+e.misc.getHeight()+1);e.swatches.setLocation(Math.max(e.brush.getX()-e.swatches.getWidth()-(J?5:1),e.tool.getX()+e.tool.getWidth()),0);e.textures.setWidth(Math.min(e.layers.getX()-e.textures.getX(),490))}e.textures.setLocation(e.color.getX()+e.color.getWidth()+4,O.height-e.textures.getHeight());e.color.setLocation(0,Math.max(e.tool.getY()+e.tool.getHeight(),O.height-e.color.getHeight()))};c.on("smallScreen",function(O){if(O)for(var J in e)e[J].toggleCollapse(O&&(!(J in n)||n[J]))});
this.getElement=function(){return A};A.className="chickenpaint-palettes";for(var N in e){var y=e[N],G=y.getElement();y.on("paletteVisChange",function(){p(this,!1)});N in u&&y.setCollapseDownwards(!0);G.setAttribute("data-paletteName",N);B.push(G)}for(var H in e)u=e[H].getElement(),A.appendChild(u)}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var v=z(g("jquery")),E=z(g("wolfy87-eventemitter")),b=z(g("./CPToolPalette.js")),d=z(g("./CPMiscPalette.js")),w=z(g("./CPStrokePalette.js")),
a=z(g("./CPColorPalette.js")),l=z(g("./CPBrushPalette.js")),q=z(g("./CPLayersPalette.js")),r=z(g("./CPTexturePalette.js")),k=z(g("./CPSwatchesPalette.js"));h.prototype=Object.create(E.default.prototype);h.prototype.constructor=h;L.exports=D.default},{"./CPBrushPalette.js":25,"./CPColorPalette.js":28,"./CPLayersPalette.js":35,"./CPMiscPalette.js":38,"./CPStrokePalette.js":46,"./CPSwatchesPalette.js":47,"./CPTexturePalette.js":49,"./CPToolPalette.js":50,jquery:296,"wolfy87-eventemitter":314}],41:[function(g,
L,D){function z(E){return E&&E.__esModule?E:{default:E}}function h(E){function b(){var A=E?(0,v.default)(d).height():(0,v.default)(d).width();p=k/(q-l)*A;A=(r-l)/(q-l)*(A-p);a.style[E?"height":"width"]=p+"px";w.style[E?"height":"width"]=p+"px";w.style[E?"top":"left"]=A+"px"}var d=document.createElement("div"),w=document.createElement("div"),a=document.createElement("div"),l=0,q=1,r=0,k=1,c=10,f=!1,p=1,e=!1,n,u=this;this.setValues=function(A,C,B,I){r=A;k=C;l=B;q=I;b()};this.setBlockIncrement=function(A){c=
A};this.setUnitIncrement=function(A){};this.getElement=function(){return d};this.getValueIsAdjusting=function(){return f};d.className="chickenpaint-scrollbar "+(E?"chickenpaint-scrollbar-vertical":"chickenpaint-scrollbar-horizontal");w.className="chickenpaint-scrollbar-handle";w.setAttribute("touch-action","none");a.className="chickenpaint-scrollbar-handle-inner";w.appendChild(a);d.appendChild(w);w.addEventListener("pointerdown",function(A){A.stopPropagation();n=E?A.pageY-(0,v.default)(d).offset().top:
A.pageX-(0,v.default)(d).offset().left;w.setPointerCapture(A.pointerId);(0,v.default)(w).addClass("dragging");e=!0});w.addEventListener("pointermove",function(A){if(e){f=!0;var C=E?(0,v.default)(d).height():(0,v.default)(d).width();A=E?A.pageY-(0,v.default)(d).offset().top:A.pageX-(0,v.default)(d).offset().left;r+=(A-n)*(q-l)/(C-p);r=Math.min(Math.max(r,l),q);n=A;u.emitEvent("valueChanged",[r]);b();f=!1}});w.addEventListener("pointerup",function(A){A.stopPropagation();if(e){try{w.releasePointerCapture(A.pointerId)}catch(C){}(0,v.default)(w).removeClass("dragging");
e=!1}});w.addEventListener("click",function(A){A.stopPropagation()});d.addEventListener("click",function(A){if(this==d){A=E?A.pageY-(0,v.default)(d).offset().top:A.pageX-(0,v.default)(d).offset().left;var C=parseInt(w.style[E?"top":"left"],10);r=A<C?r-c:r+c;u.emitEvent("valueChanged",[r]);b()}})}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var v=z(g("jquery"));g=z(g("wolfy87-eventemitter"));h.prototype=Object.create(g.default.prototype);h.prototype.constructor=h;L.exports=D.default},
{jquery:296,"wolfy87-eventemitter":314}],42:[function(g,L,D){function z(d){return d&&d.__esModule?d:{default:d}}function h(d,w,a){var l=(0,v.default)('<div class="modal fade chickenpaint-send-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog">\n                    <div class="modal-content" data-stage="saving">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,b._)("Saving drawing..."),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-saving-progress-message">').concat((0,b._)("Preparing your drawing to be saved, please wait..."),
'</p>\n                            <pre class="chickenpaint-saving-error-message pre-scrollable"></pre>\n                            <div class="progress">\n                                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>\n                            </div>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-light chickenpaint-send-cancel" data-bs-dismiss="modal">').concat((0,b._)("Cancel"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-not-previously-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">').concat((0,b._)("Drawing saved!"),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, would you like to post it to the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-bs-dismiss="modal">').concat((0,b._)("Yes, post it now"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-bs-dismiss="modal">').concat((0,b._)("No, keep drawing"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-exit" data-bs-dismiss="modal">').concat((0,b._)("No, quit and I'll finish it later"),
'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-already-posted" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, would you like to view it on the forum now?"),
'</p>\n                        </div>\n                        <div class="modal-footer">\n                            <button type="button" class="btn btn-primary chickenpaint-post-drawing" data-bs-dismiss="modal">').concat((0,b._)("Yes, view the post"),'</button>\n                            <button type="button" class="btn btn-light chickenpaint-continue-drawing" data-bs-dismiss="modal">').concat((0,b._)("No, keep drawing"),'</button>\n                        </div>\n                    </div>\n                    <div class="modal-content" data-stage="success-redirect" style="display:none">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing saved!</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>').concat((0,b._)("Your drawing has been saved, redirecting you to view your new post now..."),
"</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")),q=(0,v.default)(".chickenpaint-saving-progress-message",l),r=(0,v.default)(".chickenpaint-saving-error-message",l),k=(0,v.default)(".progress-bar",l),c=this;a.on("savingProgress",function(p,e){p*=100;q.text(e);(0,v.default)(k).attr("aria-valuenow",p).css("width",p+"%")});a.on("savingComplete",function(){(0,v.default)(".modal-content[data-stage='saving']",l).hide();d.isActionSupported("CPContinue")?
d.isActionSupported("CPExit")?(0,v.default)(".modal-content[data-stage='success-not-previously-posted']",l).show():(0,v.default)(".modal-content[data-stage='success-already-posted']",l).show():(0,v.default)(".modal-content[data-stage='success-redirect']",l).show()});a.on("savingFailure",function(p){k.addClass("progress-bar-danger");var e=(0,b._)("Sorry, your drawing could not be saved, please try again later.");p&&(p=p.replace(/^CHIBIERROR\s*/,""),0<p.length&&(e+="<br><br>".concat((0,b._)("The error returned from the server was"),
":"),r.text(p).show()),q.html(e))});(0,v.default)(".chickenpaint-post-drawing",l).on("click",function(){d.actionPerformed({action:"CPPost"})});(0,v.default)(".chickenpaint-exit",l).toggle(d.isActionSupported("CPExit")).on("click",function(){alert("When you want to come back and finish your drawing, just click the 'new drawing' button again and you can choose to continue this drawing.");d.actionPerformed({action:"CPExit"})});(0,v.default)(".chickenpaint-send-cancel",l).on("click",function(){a.cancel()});
l[0].addEventListener("hidden.bs.modal",function(p){l.remove()});l.appendTo(w);var f=new bootstrap.Modal(l[0]);this.show=function(){f.show();c.emitEvent("shown")}}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var v=z(g("jquery")),E=z(g("wolfy87-eventemitter")),b=g("../languages/lang.js");h.prototype=Object.create(E.default.prototype);h.prototype.constructor=h;L.exports=D.default},{"../languages/lang.js":54,jquery:296,"wolfy87-eventemitter":314}],43:[function(g,L,D){Object.defineProperty(D,
"__esModule",{value:!0});D.default=function(E){var b=(0,z.default)('<div class="modal fade chickenpaint-shortcuts-dialog" tabindex="-1" role="dialog">\n                <div class="modal-dialog modal-lg">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">'.concat((0,h._)("Shortcuts"),'</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p>\n                                ').concat((0,h._)("Many of the menu options and painting tools have keyboard shortcuts which are written next to them or appear when you hover."),
"\n                            </p>\n                            <p>\n                                ").concat((0,h._)("Here are some other shortcuts which are not as obvious!"),'\n                            </p>\n                            <div class="chickenpaint-shortcuts-sections">\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>').concat((0,h._)("Color swatches palette"),'</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Left"),
"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,h._)("Use as the drawing color"),'\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Right"),"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,h._)("Remove or replace a color swatch"),
'\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>').concat((0,h._)("Line drawing mode"),'</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span> + <span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Left"),
"</span>\n                                                </dt>\n                                                <dd>\n                                                   ").concat((0,h._)("Snap line to nearest 45 degrees"),'\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>').concat((0,h._)("Painting tools"),
'</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">1</span> - <span class="chickenpaint-shortcut-key">9</span> , <span class="chickenpaint-shortcut-key">0</span></span>\n                                                </dt>\n                                                <dd>\n                                                    ').concat((0,h._)("Change brush opacity"),
'\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">[</span> , <span class="chickenpaint-shortcut-key">]</span></span>\n                                                </dt>\n                                                <dd>\n                                                    ').concat((0,h._)("Change brush size"),
'\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>').concat((0,h._)("Brush palette"),'</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Right"),
'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut-alternate">').concat((0,h._)("or"),'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span> + <span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Left"),"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,h._)("Adjust brush sliders more precisely"),
'\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>').concat((0,h._)("Drawing canvas"),'</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Middle"),
'</span> <span class="chickenpaint-shortcut-alternate">').concat((0,h._)("or"),'</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Space</span> + <span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Left"),"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,h._)("Move the canvas around"),'\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">R</span> + <span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Left"),
"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,h._)("Rotate the canvas"),'\n                                                </dd>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Right"),'</span> <span class="chickenpaint-shortcut-alternate">').concat((0,h._)("or"),
'</span> <span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Left"),"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,h._)("Sample the color under the cursor"),'\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class="chickenpaint-shortcuts-section">\n                                    <h5>').concat((0,h._)("Layers palette"),
'</h5>\n                                    <ul class="chickenpaint-shortcuts-list list-unstyled">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class="chickenpaint-shortcut"><span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Double click"),'</span> <span class="chickenpaint-shortcut-alternate">').concat((0,h._)("or"),'</span> <span class="chickenpaint-shortcut"><span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Right"),
"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,h._)("Rename layer"),'\n                                                </dd>\n                                                <dt>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span> + <span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Left"),
"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,h._)("Toggle mask enable/disable"),'\n                                                </dd>\n                                                <dt>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Alt</span> + <span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Left"),
"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,h._)("Toggle mask View"),'\n                                                </dd>\n\t\t\t\t\t\t\t\t\t\t\t\t<dt>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">').concat(v,'</span> + <span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Left"),"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,h._)("Apply layer mask"),
'\n                                                </dd>\n\t\t\t\t\t\t\t\t\t\t\t\t<dt>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">Shift</span></span> +\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="chickenpaint-shortcut"><span class="chickenpaint-shortcut-key">').concat(v,'</span> + <span class="fa icon-mouse-pointer"></span> ').concat((0,h._)("Left"),"</span>\n                                                </dt>\n                                                <dd>\n                                                    ").concat((0,h._)("Delete layer mask"),
"\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            "));b[0].addEventListener("hidden.bs.modal",function(w){b.remove()});var d=new bootstrap.Modal(b[0]);E.appendChild(b[0]);this.show=
function(){d.show()}};var z=function(E){return E&&E.__esModule?E:{default:E}}(g("jquery")),h=g("../languages/lang.js"),v=navigator.userAgent.toLowerCase().includes("mac os")?"\u2318":"Ctrl";L.exports=D.default},{"../languages/lang.js":54,jquery:296}],44:[function(g,L,D){function z(d){return d&&d.__esModule?d:{default:d}}function h(d,w,a,l){function q(){var C=c.width,B=c.height,I="string"===typeof A.title?(0,b._)(A.title):A.title(A.value),N=3*window.devicePixelRatio,y=.75*c.height;if(a)f.save(),f.fillStyle=
"white",f.fillRect(0,0,C,B),f.fillStyle="black",f.fillText(I,N,y),f.beginPath(),A.value>=p/2?f.rect(C/2,0,(A.value-p/2)*C/p,B):f.rect(A.value*C/p,0,(p/2-A.value)*C/p,B),f.fill(),f.clip(),f.fillStyle="white";else{var G=(A.value-d)/p;l&&(G=Math.pow(G,1/1.5));G*=C;f.save();f.save();f.fillStyle="black";f.beginPath();f.rect(0,0,G,B);f.fill();f.clip();f.fillStyle="white";f.fillText(I,N,y);f.restore();f.fillStyle="white";f.beginPath();f.rect(G,0,C,B);f.fill();f.clip();f.fillStyle="black"}f.fillText(I,N,
y);f.restore()}function r(C){var B=(0,v.default)(c).width(),I=(0,v.default)(c).offset().left;C=(C.pageX-I)/B;l&&(C=Math.pow(Math.max(C,0),1.5));A.setValue(C*p+d)}function k(C){switch(e){case 1:return r(C);case 2:var B=A.title();if(!B.includes((0,b._)("Brush size"))&&!B.includes((0,b._)("Opacity")))return r(C);B=(C.pageX-n)/4;if(0!==B){B=A.value+B;var I=Math.floor(B);A.setValue(I);n=C.pageX-4*(B-I)}}}var c=document.createElement("canvas"),f=c.getContext("2d"),p=w-d,e=0,n,u=!1,A=this;this.value=void 0;
this.title="";a=a||!1;c.addEventListener("pointerup",function(C){if(0===e)return c.releasePointerCapture(C.pointerId),c.removeEventListener("pointermove",k);if(0!==e)switch(e){case 1:0!==C.button||C.shiftKey||(e=0);break;case 2:if(2==C.button||0===C.button&&C.shiftKey)e=0;break;default:return}c.releasePointerCapture(C.pointerId);return c.removeEventListener("pointermove",k)});this.setValue=function(C){C=~~Math.max(d,Math.min(w,C));this.value!=C&&(this.value=C,this.emitEvent("valueChange",[this.value]),
u?q():(u=!0,this.resize()))};this.getElement=function(){return c};this.resize=function(){c.width=(0,v.default)(c).width()||150;c.height=(0,v.default)(c).height()||20;1<window.devicePixelRatio&&(c.style.height=c.height+"px",c.width*=window.devicePixelRatio,c.height*=window.devicePixelRatio);f.font=.47*c.height+"pt sans-serif";q()};c.addEventListener("pointerdown",function(C){0===e&&(2===C.button||0===C.button&&C.shiftKey?(e=2,n=C.pageX):(e=1,r(C)),c.setPointerCapture(C.pointerId),c.addEventListener("pointermove",
k))});c.addEventListener("contextmenu",function(C){C.preventDefault()});c.setAttribute("touch-action","none");c.className="chickenpaint-slider";"devicePixelRatio"in window||(window.devicePixelRatio=1)}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var v=z(g("jquery")),E=z(g("wolfy87-eventemitter")),b=g("../languages/lang");h.prototype=Object.create(E.default.prototype);h.prototype.constructor=h;L.exports=D.default},{"../languages/lang":54,jquery:296,"wolfy87-eventemitter":314}],45:[function(g,
L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(z,h,v){function E(){var y=d.width/2,G=d.height/2;w.fillStyle="white";w.fillRect(0,0,d.width,d.height);if(e==p.length){var H=r.width,O=r.height,J=Math.round(y-H/2),R=Math.round(G-O/2);w.drawImage(r,J,R);var ea=B;n||(n=document.createElement("canvas"),n.width=H,n.height=O,A=n.getContext("2d"));A.globalCompositeOperation="copy";A.drawImage(a,0,0);u||(u=document.createElement("canvas"),u.width=H,u.height=O,C=u.getContext("2d"));
C.globalCompositeOperation="copy";C.drawImage(f,0,0);C.globalCompositeOperation="source-in";C.drawImage(f,0,Math.round(170*ea));A.globalCompositeOperation="source-over";A.drawImage(u,0,0);A.drawImage(l,0,0);A.globalCompositeOperation="screen";A.drawImage(c,0,0);A.globalCompositeOperation="multiply";A.drawImage(k,0,0);w.globalAlpha=.88;w.drawImage(n,J,R);w.globalAlpha=1;w.drawImage(q,J,R);G=Math.round(G+O/2+2)}if(""!=I)for(w.fillStyle="black",H=I.split("\n"),O=0;O<H.length;O++)J=H[O],R=w.measureText(J).width,
G+=28,w.fillText(J,y-R/2,G)}function b(){d.width=d.clientWidth;d.height=d.clientHeight;w.font="14pt sans-serif";E()}var d=document.createElement("canvas"),w=d.getContext("2d"),a=new Image,l=new Image,q=new Image,r=new Image,k=new Image,c=new Image,f=new Image,p=[a,l,q,r,k,c,f],e=0,n,u,A,C,B=0,I="";v+="splash/";for(var N=0;N<p.length;N++)p[N].onload=function(){e++;e==p.length&&E()};a.src=v+"cup.png";c.src=v+"highlights.png";l.src=v+"lid.png";q.src=v+"lines.png";k.src=v+"shading.png";f.src=v+"smoothie.png";
r.src=v+"text.png";h.on("loadingProgress",function(y,G){B=y;I=G;E()});h.on("loadingFailure",function(y){B=0;I=y;E()});h.on("loadingComplete",function(){window.removeEventListener("resize",b);z.removeChild(d)});window.addEventListener("resize",b);d.className="chickenpaint-splash-screen";z.appendChild(d);b()};L.exports=D.default},{}],46:[function(g,L,D){function z(w){return w&&w.__esModule?w:{default:w}}function h(w){E.default.call(this,w,"stroke","Stroke");var a=[{className:"chickenpaint-tool-freehand",
command:"CPFreeHand",toolTip:(0,d._)("Free-hand"),selected:!0},{className:"chickenpaint-tool-line",command:"CPLine",toolTip:(0,d._)("Straight line")},{className:"chickenpaint-tool-bezier",command:"CPBezier",toolTip:(0,d._)("Bezier curve")}],l=this.getBodyElement();(function(){var q=document.createElement("ul");q.className="chickenpaint-stroke-tools list-unstyled";for(var r in a){var k=a[r],c=document.createElement("li"),f=document.createElement("div");c.className="chickenpaint-toolbar-button "+k.className;
c.setAttribute("data-buttonIndex",r);c.setAttribute("title",k.toolTip);k.selected&&(c.className+=" selected");f.className="chickenpaint-toolbar-button-icon";c.appendChild(f);q.appendChild(c)}(0,v.default)(q).on("click","li",function(p){p=a[parseInt(this.getAttribute("data-buttonIndex"),10)];(0,v.default)("li",q).removeClass("selected");(0,v.default)(this).addClass("selected");w.actionPerformed({action:p.command})});l.appendChild(q)})();w.on("toolChange",function(q,r){(0,v.default)(".chickenpaint-tool-freehand",
l).toggleClass("selected",r.strokeMode==b.default.STROKE_MODE_FREEHAND);(0,v.default)(".chickenpaint-tool-line",l).toggleClass("selected",r.strokeMode==b.default.STROKE_MODE_LINE);(0,v.default)(".chickenpaint-tool-bezier",l).toggleClass("selected",r.strokeMode==b.default.STROKE_MODE_BEZIER)})}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var v=z(g("jquery")),E=z(g("./CPPalette.js")),b=z(g("../engine/CPBrushInfo.js")),d=g("../languages/lang");h.prototype=Object.create(E.default.prototype);
h.prototype.constructor=h;L.exports=D.default},{"../engine/CPBrushInfo.js":8,"../languages/lang":54,"./CPPalette.js":39,jquery:296}],47:[function(g,L,D){function z(l){return l&&l.__esModule?l:{default:l}}function h(l){function q(C){var B=document.createElement("div"),I=document.createElement("a"),N=document.createElement("ul"),y=document.createElement("a"),G=document.createElement("a"),H=this;this.getElement=function(){return B};this.setColor=function(J){I.setAttribute("data-color",J);var R=I.style;
for(J=""+Number(J).toString(16);6>J.length;)J="0"+J;R.backgroundColor="#"+J};this.setColor(C);I.href="#";I.className="chickenpaint-color-swatch dropdown-toggle";y.className="dropdown-item";y.href="#";y.textContent=(0,a._)("Remove");y.addEventListener("click",function(J){J.preventDefault();(0,v.default)(B).remove();p=!0});G.className="dropdown-item";G.href="#";G.textContent=(0,a._)("Replace with current color");G.addEventListener("click",function(J){J.preventDefault();H.setColor(l.getCurColor().getRgb());
p=!0});N.className="dropdown-menu";C=document.createElement("li");var O=document.createElement("li");C.appendChild(y);O.appendChild(G);N.appendChild(C);N.appendChild(O);B.className="chickenpaint-color-swatch-wrapper";B.appendChild(I);B.appendChild(N)}function r(C){C=new q(C);e.appendChild(C.getElement())}function k(){u.onchange=function(){var C=this.files;if(!(1>C.length)){C=C[0];var B=new FileReader;B.onload=function(){var I=(new w.default).read(this.result);null!=I&&0<I.length?A.setSwatches(I):
alert((0,a._)("The swatches could not be read, did you select an .aco file?"))};B.readAsArrayBuffer(C)}};u.click()}function c(C){var B=document.createElement("span");B.className="fa icon-"+C;return B}b.default.call(this,l,"swatches","Color swatches");var f=[16777215,0,16711680,65280,255,16776960],p=!1,e=document.createElement("ul"),n=document.createElement("div"),u,A=this;this.getSwatches=function(){for(var C=(0,v.default)(".chickenpaint-color-swatch",e),B=Array(C.length),I=0;I<C.length;I++)B[I]=
parseInt(C.get(I).getAttribute("data-color"),10);return B};this.setSwatches=function(C){for(;e.lastChild;)e.removeChild(e.lastChild);for(var B=0;B<C.length;B++)r(C[B]);p=!0};this.isModified=function(){return p};(function(){e.className="chickenpaint-color-swatches list-unstyled";for(var C=0;C<f.length;C++)e.appendChild((new q(f[C])).getElement());e.addEventListener("click",function(B){var I=B.target;/^<a data-color=/i.test(I.outerHTML)&&/chickenpaint-color-swatch/.test(I.className)&&0==B.button&&void 0!==
I.getAttribute("data-color")&&(l.setCurColor(new d.default(parseInt(I.getAttribute("data-color"),10))),B.stopPropagation(),B.preventDefault())});e.addEventListener("contextmenu",function(B){var I=B.target;if(/^<a data-color=/i.test(I.outerHTML)&&/chickenpaint-color-swatch/.test(I.className)){B.preventDefault();var N=new bootstrap.Dropdown((0,v.default)(I));N.toggle();document.addEventListener("click",function H(G){N.hide();document.removeEventListener("click",H)})}})})();this.getBodyElement().appendChild(e);
(function(){var C=document.createElement("button"),B=document.createElement("button"),I=document.createElement("ul"),N=document.createElement("a"),y=document.createElement("a");B.type="button";B.title=(0,a._)("Add the current brush color as a new swatch");B.className="btn chickenpaint-small-toolbar-button chickenpaint-color-swatch-add";B.appendChild(c("plus"));C.type="button";C.className="btn dropdown-toggle chickenpaint-small-toolbar-button chickenpaint-color-swatch-settings";C.setAttribute("data-bs-toggle",
"dropdown");C.appendChild(c("cog"));N.className="dropdown-item";N.href="#";N.textContent=(0,a._)("Save swatches to your computer...");N.addEventListener("click",function(O){O.preventDefault();O=(new w.default).write(A.getSwatches());O=new Blob([O],{type:"application/octet-stream"});E.default.saveAs(O,"oekakiswatches.aco")});y.className="dropdown-item";y.href="#";y.textContent=(0,a._)("Load swatches from your computer...");y.addEventListener("click",function(O){O.preventDefault();k()});I.className=
"dropdown-menu";var G=document.createElement("li"),H=document.createElement("li");G.appendChild(N);H.appendChild(y);I.appendChild(G);I.appendChild(H);N=document.createElement("div");N.className="btn-group dropright";N.appendChild(C);N.appendChild(I);B.addEventListener("click",function(O){r(l.getCurColor().getRgb());p=!0});n.className="chickenpaint-color-swatches-buttons";window.File&&window.FileReader&&window.FileList&&window.Blob&&(u=document.createElement("input"),u.type="file",u.multiple=!1,u.style.display=
"none",n.appendChild(N),n.appendChild(u));n.appendChild(B)})();this.getBodyElement().appendChild(n)}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var v=z(g("jquery")),E=z(g("file-saver")),b=z(g("./CPPalette.js")),d=z(g("../util/CPColor.js")),w=z(g("../util/AdobeColorTable.js")),a=g("../languages/lang");h.prototype=Object.create(b.default.prototype);h.prototype.constructor=h;L.exports=D.default},{"../languages/lang":54,"../util/AdobeColorTable.js":55,"../util/CPColor.js":58,"./CPPalette.js":39,
"file-saver":295,jquery:296}],48:[function(g,L,D){function z(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(D,"__esModule",{value:!0});D.default=function(E){var b=(0,h.default)('<div class="modal fade" tabindex="-1" role="dialog">\n                <div class="modal-dialog" role="document">\n                    <div class="modal-content">\n                        <div class="modal-header">\n                            <h5 class="modal-title">Drawing tablet support</h5>\n                            <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="btn btn-close">\n                            </button>\n                        </div>\n                        <div class="modal-body">\n                            <p class="chickenpaint-tablet-there-are-two-options">\n                                There are two ways you could use your tablet\'s pen pressure support with ChickenPaint.\n                            </p>\n                            <div class="chickenpaint-tablet-support chickenpaint-wacom-support">\n                                <h5>\n                                    Plugin for Wacom tablets\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="icon-firefox"></span>\n                                        Firefox (32-bit only)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="icon-safari"></span>\n                                        Safari\n                                    </div>\n                                        <div class="chickenpaint-supported-browser">\n                                        <span class="icon-opera"></span>\n                                        Opera\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-installed">\n                                    The plugin for Wacom tablets doesn\'t seem to be installed in your browser yet.\n                                </p>\n                                <p class="chickenpaint-not-installed">\n                                    Please make sure that you\'ve installed the latest drivers for your tablet from the \n                                    <a href="http://www.wacom.com/en-us/support/product-support/drivers" target="_blank">Wacom drivers page</a>,\n                                    then restart your browser.\n                                </p>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t support the Wacom tablet plugin, please \n                                    try one of the browsers listed above instead.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    The Wacom tablet plugin is installed and working.\n                                </p>\n                            </div>\n                            <div class="chickenpaint-tablet-support chickenpaint-pointerevents-support">\n                                <h5>\n                                    Built-in support for most tablets.\n                                    <small>macOS, Windows 10 or newer</small>\n                                </h5>\n                                <div class="chickenpaint-supported-browsers">\n\t\t\t\t\t\t\t\t\t<div class="chickenpaint-supported-browser">\n\t\t\t\t\t\t\t\t\t<span class="icon-chrome"></span>\n\t\t\t\t\t\t\t\t\t\tChrome\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="chickenpaint-supported-browser">\n                                        <span class="icon-edge"></span>\n                                        Edge (Windows 10)\n                                    </div>\n                                    <div class="chickenpaint-supported-browser">\n                                        <span class="icon-firefox"></span>\n                                        Firefox (<a href="https://github.com/satopian/ChickenPaint_Be/blob/main/help/Firefox%20pressure%20support.md" target="_blank" rel="noopener">help <i class="fa icon-external-link-alt"></i></a>)\n                                    </div>\n                                </div>\n                                <p class="chickenpaint-not-supported">\n                                    Your browser doesn\'t have built-in support for drawing tablets, please try\n                                    one of the other browsers listed above.\n                                </p>\n                                <p class="chickenpaint-supported alert alert-success">\n                                    Your browser has built-in support for drawing tablets!\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n       '),
d=(0,h.default)(".chickenpaint-wacom-support",b),w=(0,h.default)(".chickenpaint-pointerevents-support",b),a=(0,h.default)(".chickenpaint-tablet-there-are-two-options",b),l=v.default.getRef().isTabletPresent(),q=!!window.hasNativePointerEvents;d.toggleClass("supported",l);l?(w.hide(),a.hide()):((/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent))&&d.addClass("not-supported"),q&&(d.hide(),a.hide()));w.toggleClass("supported",
q);w.toggleClass("not-supported",!q);b[0].addEventListener("hidden.bs.modal",function(k){b.remove()});var r=new bootstrap.Modal(b[0]);E.appendChild(b[0]);this.show=function(){r.show()}};var h=z(g("jquery")),v=z(g("../util/CPWacomTablet.js"));L.exports=D.default},{"../util/CPWacomTablet.js":66,jquery:296}],49:[function(g,L,D){function z(r){return r&&r.__esModule?r:{default:r}}function h(r,k){var c=document.createElement("div"),f=document.createElement("label");c.className="form-check";r.className=
"form-check-input";f.className="form-check-label";f.setAttribute("for",r.id);f.appendChild(r);f.appendChild(document.createTextNode(k));c.appendChild(r);c.appendChild(f);return c}function v(r,k,c,f,p){var e=new Image,n=[];e.onload=function(){var u=document.createElement("canvas"),A=u.getContext("2d",{willReadFrequently:!0});u.width=e.width;u.height=e.height;for(u=0;u<f;u++){A.drawImage(e,0,u*c,k,c,0,0,k,c);try{for(var C=A.getImageData(0,0,k,c),B=new d.default(k,c,8),I=0;I<k*c;I++)B.data[I]=C.data[4*
I];n.push(B)}catch(N){console.log(N)}}p(n)};e.src=r}function E(r){function k(J){for(var R=0;R<J.length;R++){var ea=new u(J[R],32,32);ea.on("click",function(){A=this.texture;n()});G.appendChild(ea.getElement())}}function c(J){for(var R=new d.default(J,J,8),ea=1;ea<J*J;ea++)R.data[ea]=255;return R}function f(J){for(var R=2*J,ea=new d.default(R,R,8),Y=0;Y<R;Y++)for(var pa=0;pa<R;pa++)ea.data[Y+pa*R]=0==(~~(Y/J)+~~(pa/J))%2?0:255;return ea}function p(J,R){for(var ea=new d.default(R,R,8),Y=0;Y<R*R;Y++)~~(Y%
R)>=J&&(ea.data[Y]=255);return ea}function e(J,R){for(var ea=new d.default(R,R,8),Y=0;Y<R*R;Y++)Y/R>=J&&(ea.data[Y]=255);return ea}function n(){if(null!=A){C=A.clone();B&&C.mirrorHorizontally();var J=new w.default;J.loadBrightnessContrast(N,y);I&&J.invert();C.applyLUT(J)}else C=null;r.getArtwork().setBrushTexture(C);null!=O&&O.updateTexture()}function u(J,R,ea){var Y=document.createElement("canvas"),pa=Y.getContext("2d"),ka=this;this.setTexture=function(Q){this.texture=Q;this.paint()};this.getElement=
function(){return Y};this.paint=function(){pa.fillStyle=null!=this.texture?pa.createPattern(this.texture.getAsCanvas(),"repeat"):"white";pa.fillRect(0,0,Y.width,Y.height)};Y.addEventListener("click",function(){ka.emit("click")});Y.width=R;Y.height=ea;this.setTexture(J)}a.default.call(this,r,"textures","Textures");var A,C,B=!1,I=!1,N=0,y=0,G=document.createElement("div"),H=this.getBodyElement();u.prototype=Object.create(b.default.prototype);u.prototype.constructor=u;var O=new function(){function J(){ea.checked=
I;Y.checked=B;pa.setValue(100*N+100);ka.setValue(100*y+100)}var R=document.createElement("div"),ea=document.createElement("input"),Y=document.createElement("input"),pa=new l.default(0,200,!0),ka=new l.default(0,200,!0),Q=new u(null,64,64),ja=document.createElement("button"),na=new bootstrap.Popover(ja,{html:!0,content:function(){return za},trigger:"manual",placement:"right",container:H});this.updateTexture=function(){ja.disabled=null==C;Q.setTexture(C)};this.getElement=function(){return R};R.className=
"chickenpaint-texture-options";R.appendChild(Q.getElement());ja.type="button";ja.className="btn btn-light btn-sm";ja.setAttribute("data-bs-toggle","popover");ja.setAttribute("data-bs-placement","right");ja.textContent=(0,q._)("Customize");var za=function(){var ia=document.createElement("div");ia.className="chickenpaint-texture-controls";ea.id="chickenpaint-chk-texture-invert";ea.type="checkbox";ea.addEventListener("click",function(ua){I=this.checked;n()});ia.appendChild(h(ea,(0,q._)("Inverse")));
Y.id="chickenpaint-chk-texture-mirror";Y.type="checkbox";Y.addEventListener("click",function(ua){B=this.checked;n()});ia.appendChild(h(Y,(0,q._)("Mirror")));pa.title=function(ua){return(0,q._)("Brightness")+": "+(ua-100)+"%"};pa.on("valueChange",function(ua){N=(ua-100)/100;n()});ia.appendChild(pa.getElement());ka.title=function(ua){return(0,q._)("Contrast")+": "+(ua-100)+"%"};ka.on("valueChange",function(ua){y=(ua-100)/100;n()});ia.appendChild(ka.getElement());var va=document.createElement("button"),
ta=document.createElement("button");va.textContent="Ok";va.className="btn btn-primary btn-sm";va.type="button";va.addEventListener("click",function(ua){na.hide()});ia.appendChild(va);ia.appendChild(document.createTextNode(" "));ta.textContent="Reset";ta.className="btn btn-secondary btn-sm";ta.type="button";ta.addEventListener("click",function(ua){y=N=0;I=B=!1;J();n()});ia.appendChild(ta);J();return ia}();ja.addEventListener("click",function(){na.toggle()});R.appendChild(ja);this.updateTexture()};
H.appendChild(O.getElement());G.className="chickenpaint-texture-swatches";H.appendChild(G);k(function(){var J=[null],R=new d.default(2,2,8);R.data[0]=255;R.data[3]=255;J.push(R);J.push(c(2));J.push(c(3));J.push(c(4));J.push(c(6));J.push(c(8));J.push(p(1,2));J.push(p(2,4));J.push(e(1,2));J.push(e(2,4));J.push(f(2));J.push(f(4));J.push(f(8));J.push(f(16));return J}());v(r.getResourcesRoot()+"gfx/textures32.png",32,32,2,function(J){k(J)})}Object.defineProperty(D,"__esModule",{value:!0});D.default=E;
z(g("jquery"));var b=z(g("wolfy87-eventemitter")),d=z(g("../engine/CPGreyBmp.js")),w=z(g("../engine/CPLookUpTable.js")),a=z(g("./CPPalette.js")),l=z(g("./CPSlider.js")),q=g("../languages/lang");E.prototype=Object.create(a.default.prototype);E.prototype.constructor=E;L.exports=D.default},{"../engine/CPGreyBmp.js":14,"../engine/CPLookUpTable.js":18,"../languages/lang":54,"./CPPalette.js":39,"./CPSlider.js":44,jquery:296,"wolfy87-eventemitter":314}],50:[function(g,L,D){function z(a){return a&&a.__esModule?
a:{default:a}}function h(a){function l(c){"LI"==this.nodeName&&(c=r[parseInt(this.getAttribute("data-buttonIndex"),10)],a.actionPerformed({action:c.command}))}b.default.call(this,a,"tool","Tools");var q=this,r=[{className:"chickenpaint-tool-rect-selection",command:"CPRectSelection",toolTip:"Marquee",shortcut:"m",mode:d.default.M_RECT_SELECTION},{className:"chickenpaint-tool-move",command:"CPMoveTool",toolTip:"Move tool",shortcut:"v",mode:d.default.M_MOVE_TOOL},{className:"chickenpaint-tool-flood-fill",
command:"CPFloodFill",toolTip:"Flood fill",shortcut:"f",mode:d.default.M_FLOODFILL},{className:"chickenpaint-tool-gradient-fill",command:"CPGradientFill",toolTip:"Gradient fill",shortcut:"g",mode:d.default.M_GRADIENTFILL},{className:"chickenpaint-tool-color-picker",command:"CPColorPicker",toolTip:"Color picker",shortcut:"i",mode:d.default.M_COLOR_PICKER},{className:"chickenpaint-tool-blur",command:"CPBlur",toolTip:"Blur",mode:d.default.M_DRAW,tool:d.default.T_BLUR},{className:"chickenpaint-tool-pencil",
command:"CPPencil",toolTip:"Pencil",shortcut:"n",mode:d.default.M_DRAW,tool:d.default.T_PENCIL},{className:"chickenpaint-tool-pen",command:"CPPen",toolTip:"Pen",selected:!0,shortcut:"b",mode:d.default.M_DRAW,tool:d.default.T_PEN},{className:"chickenpaint-tool-airbrush",command:"CPAirbrush",toolTip:"Airbrush",shortcut:"a",mode:d.default.M_DRAW,tool:d.default.T_AIRBRUSH},{className:"chickenpaint-tool-water",command:"CPWater",toolTip:"Waterpaint",shortcut:"w",mode:d.default.M_DRAW,tool:d.default.T_WATER},
{className:"chickenpaint-tool-eraser",command:"CPEraser",toolTip:"Eraser",shortcut:"e",mode:d.default.M_DRAW,tool:d.default.T_ERASER},{className:"chickenpaint-tool-soft-eraser",command:"CPSoftEraser",toolTip:"Soft eraser",shortcut:"s",mode:d.default.M_DRAW,tool:d.default.T_SOFTERASER},{className:"chickenpaint-tool-smudge",command:"CPSmudge",toolTip:"Smudge",shortcut:"d",mode:d.default.M_DRAW,tool:d.default.T_SMUDGE},{className:"chickenpaint-tool-blender",command:"CPBlender",toolTip:"Blender",shortcut:"c",
mode:d.default.M_DRAW,tool:d.default.T_BLENDER},{className:"chickenpaint-tool-dodge",command:"CPDodge",toolTip:"Dodge (tool)",shortcut:"o",mode:d.default.M_DRAW,tool:d.default.T_DODGE},{className:"chickenpaint-tool-burn",command:"CPBurn",toolTip:"Burn (tool)",shortcut:"p",mode:d.default.M_DRAW,tool:d.default.T_BURN},{className:"chickenpaint-tool-rotate-canvas",command:"CPRotateCanvas",commandDoubleClick:"CPResetCanvasRotation",toolTip:"Rotate canvas",mode:d.default.M_ROTATE_CANVAS},{className:"chickenpaint-tool-pan-canvas",
command:"CPPanCanvas",toolTip:"Grab canvas",mode:d.default.M_PAN_CANVAS}],k=document.createElement("ul");a.on("modeChange",function(c){var f=q.getBodyElement();(0,v.default)("li",f).removeClass("selected");c==d.default.M_DRAW?(0,v.default)("li[data-tool="+a.getCurTool()+"]",f).addClass("selected"):(0,v.default)("li[data-mode="+c+"]",f).addClass("selected")});a.on("toolChange",function(c){var f=q.getBodyElement();a.getCurMode()==d.default.M_DRAW&&((0,v.default)("li",f).removeClass("selected"),(0,v.default)("li[data-tool="+
c+"]",f).addClass("selected"))});(function(){var c=q.getBodyElement();k.className="chickenpaint-tools list-unstyled";for(var f in r)(function(p){var e=r[p],n=document.createElement("li"),u=document.createElement("div");n.className="chickenpaint-toolbar-button "+e.className;n.setAttribute("data-buttonIndex",p);n.setAttribute("data-mode",e.mode);void 0!==e.tool&&n.setAttribute("data-tool",e.tool);n.title=(0,w._)(e.toolTip);e.shortcut&&(n.title+=" ("+e.shortcut.toUpperCase()+")",(0,E.default)(e.shortcut,
function(){l.call(n);return!1}));e.selected&&(n.className+=" selected");u.className="chickenpaint-toolbar-button-icon";n.appendChild(u);k.appendChild(n)})(f);(0,v.default)(k).on("click","li",l).on("dblclick","li",function(p){p=r[parseInt(this.getAttribute("data-buttonIndex"),10)];p.commandDoubleClick&&a.actionPerformed({action:p.commandDoubleClick})});c.appendChild(k)})()}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;var v=z(g("jquery")),E=z(g("../../lib/keymaster.js")),b=z(g("./CPPalette.js")),
d=z(g("../ChickenPaint.js")),w=g("../languages/lang");h.prototype=Object.create(b.default.prototype);h.prototype.constructor=h;L.exports=D.default},{"../../lib/keymaster.js":68,"../ChickenPaint.js":1,"../languages/lang":54,"./CPPalette.js":39,jquery:296}],51:[function(g,L,D){function z(k){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?
"symbol":typeof c},z(k)}function h(k,c){for(var f=0;f<c.length;f++){var p=c[f];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(k,q(p.key),p)}}function v(k,c,f){c&&h(k.prototype,c);f&&h(k,f);Object.defineProperty(k,"prototype",{writable:!1});return k}function E(k,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(c&&c.prototype,{constructor:{value:k,writable:!0,
configurable:!0}});Object.defineProperty(k,"prototype",{writable:!1});c&&b(k,c)}function b(k,c){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,p){f.__proto__=p;return f};return b(k,c)}function d(k){var c=a();return function(){var f=l(k);if(c){var p=l(this).constructor;f=Reflect.construct(f,arguments,p)}else f=f.apply(this,arguments);if(!f||"object"!==z(f)&&"function"!==typeof f){if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");f=w(this)}return f}}
function w(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function a(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(k){return!1}}function l(k){l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)};return l(k)}
function q(k){a:if("object"===z(k)&&null!==k){var c=k[Symbol.toPrimitive];if(void 0!==c){k=c.call(k,"string");if("object"!==z(k))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}k=String(k)}return"symbol"===z(k)?k:String(k)}Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;g=function(k){return k&&k.__esModule?k:{default:k}}(g("wolfy87-eventemitter"));var r={toolbarStyle:"new"};D.default=function(k){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var p=f.call(this);var e=w(p);var n=q("toolbarStyle");n in e?Object.defineProperty(e,n,{value:void 0,enumerable:!0,configurable:!0,writable:!0}):e[n]=void 0;p.setDefaults();return p}E(c,k);var f=d(c);v(c,[{key:"setDefaults",value:function(){for(var p in r)r.hasOwnProperty(p)&&this.set(p,r[p])}},{key:"load",value:function(){var p={};try{p=JSON.parse(localStorage.getItem("chickenpaint-prefs"))}catch(n){console.error(n)}p&&"object"===z(p)||(p={});for(var e in r)if(r.hasOwnProperty(e))try{this.set(e,
p.hasOwnProperty(e)?p[e]:r[e])}catch(n){console.error(n)}}},{key:"save",value:function(){try{var p=!1,e;for(e in r)if(r.hasOwnProperty(e)&&this[e]!=r[e]){p=!0;break}p?localStorage.setItem("chickenpaint-prefs",JSON.stringify({toolbarStyle:this.toolbarStyle})):localStorage.removeItem("chickenpaint-prefs")}catch(n){console.error(n)}}},{key:"set",value:function(p,e){this[p]=e;this.emitEvent(p,[e])}},{key:"get",value:function(p){return this[p]}}]);return c}(g.default);L.exports=D.default},{"wolfy87-eventemitter":314}],
52:[function(g,L,D){L.exports={"Dodge (tool)":"Dodge","Burn (tool)":"Burn","Color (picker)":"Color","Color swatches (shorter)":"Swatches"}},{}],53:[function(g,L,D){L.exports={File:"\u30d5\u30a1\u30a4\u30eb","Save to my computer":"PC\u306b\u4fdd\u5b58","Post Oekaki":"\u304a\u7d75\u304b\u304d\u3092\u6295\u7a3f",Edit:"\u7de8\u96c6",Undo:"\u53d6\u308a\u6d88\u3057",Redo:"\u3084\u308a\u76f4\u3057",Cut:"\u5207\u308a\u53d6\u308a",Copy:"\u30b3\u30d4\u30fc","Clear history":"\u5c65\u6b74\u6d88\u53bb","Copy merged":"\u7d50\u5408\u30b3\u30d4\u30fc",
Paste:"\u8cbc\u308a\u4ed8\u3051","Select all":"\u3059\u3079\u3066\u9078\u629e",Deselect:"\u9078\u629e\u89e3\u9664",Transform:"\u5909\u5f62",Layers:"\u30ec\u30a4\u30e4\u30fc",Duplicate:"\u8907\u88fd","Merge down":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3068\u7d50\u5408","Merge group":"\u30b0\u30eb\u30fc\u30d7\u7d50\u5408","Merge all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u7d50\u5408","Add layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0","Delete mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664",
"Delete layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u524a\u9664","Apply mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Apply layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u9069\u7528","Disable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u7121\u52b9\u5316","Enable mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u6709\u52b9\u5316","Clip to the layer below":"\u4e0b\u306e\u30ec\u30a4\u30e4\u30fc\u3067\u30af\u30ea\u30c3\u30d4\u30f3\u30b0","Unclip from the layer below":"\u30af\u30ea\u30c3\u30d4\u30f3\u30b0\u89e3\u9664",
Effects:"\u52b9\u679c",Clear:"\u6d88\u53bb",Fill:"\u5857\u308a\u6f70\u3057","Flip horizontal":"\u5de6\u53f3\u53cd\u8ee2","Flip vertical":"\u4e0a\u4e0b\u53cd\u8ee2",Invert:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2","Box blur...":"\u307c\u304b\u3057","Box blur":"\u307c\u304b\u3057","Blur amount (pixels)":"\u307c\u304b\u3057\u91cf(\u30d4\u30af\u30bb\u30eb\u5358\u4f4d)","Iterations (1-8, larger gives smoother blur)":"\u53cd\u5fa9(1-8,\u5927\u304d\u3044\u307b\u3069\u307c\u304b\u3057\u304c\u6ed1\u3089\u304b)",
"Monochromatic noise":"\u5358\u8272\u30ce\u30a4\u30ba","Color noise":"\u30ab\u30e9\u30fc\u30ce\u30a4\u30ba",View:"\u8868\u793a","Full-screen mode":"\u30d5\u30eb\u30b9\u30af\u30ea\u30fc\u30f3\u30e2\u30fc\u30c9","Zoom in":"\u62e1\u5927","Zoom out":"\u7e2e\u5c0f","Zoom 100%":"100%","Smooth-out zoomed canvas":"\u30ba\u30fc\u30e0\u3092\u306a\u3081\u3089\u304b\u306b\u8868\u793a\u3059\u308b","Show grid":"\u30b0\u30ea\u30c3\u30c9\u3092\u8868\u793a","Grid options...":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a",
Palettes:"\u30d1\u30ec\u30c3\u30c8",Rearrange:"\u521d\u671f\u5316","Toggle palettes":"\u8868\u793a\u975e\u8868\u793a\u5207\u308a\u66ff\u3048","Use old icons":"\u53e4\u3044\u30a2\u30a4\u30b3\u30f3","Show tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Show color":"\u30ab\u30e9\u30fc","Show layers":"\u30ec\u30a4\u30e4\u30fc","Show misc":"\u64cd\u4f5c","Show stroke":"\u30b9\u30c8\u30ed\u30fc\u30af","Show swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Show textures":"\u30c6\u30af\u30b9\u30c1\u30e3",
"Show tools":"\u30c4\u30fc\u30eb",Help:"\u30d8\u30eb\u30d7","Tablet support":"\u30bf\u30d6\u30ec\u30c3\u30c8\u30b5\u30dd\u30fc\u30c8",Shortcuts:"\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8",About:"ChickenPaint Be\u306b\u3064\u3044\u3066","Removes all undo/redo information to regain memory":"\u5c65\u6b74\u3092\u30af\u30ea\u30a2\u3057\u3066\u30e1\u30e2\u30ea\u3092\u958b\u653e\u3057\u307e\u3059","Clears the selected area":"\u6d88\u53bb","Invert the image colors":"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2",
"Blur effect":"\u307c\u304b\u3057\u30d5\u30a3\u30eb\u30bf","Fills the selection with noise":"\u5358\u8272\u30ce\u30a4\u30ba\u3067\u5857\u308a\u6f70\u3057","Fills the selection with colored noise":"\u30ab\u30e9\u30fc\u30ce\u30a4\u30ba\u3067\u5857\u308a\u6f70\u3057","Linear interpolation is used to give a smoothed looked to the picture when zoomed in":"\u753b\u50cf\u306e\u62e1\u5927\u6642\u306b\u88dc\u5b8c\u3057\u3066\u6ed1\u3089\u304b\u306b\u8868\u793a\u3057\u307e\u3059","Rearrange the palette windows":"\u30d1\u30ec\u30c3\u30c8\u3092\u518d\u914d\u7f6e",
"Hides or shows all palettes":"\u30d1\u30ec\u30c3\u30c8\u306e\u8868\u793a/\u975e\u8868\u793a","You're about to clear the current Undo/Redo history.\nThis operation cannot be undone, are you sure you want to do that?":"\u30a2\u30f3\u30c9\u30a5\u30fb\u30ea\u30c9\u30a5\u306e\u5c65\u6b74\u3092\u6d88\u53bb\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u64cd\u4f5c\u306f\u5143\u306b\u623b\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u672c\u5f53\u306b\u5b9f\u884c\u3057\u307e\u3059\u304b?",
Misc:"\u64cd\u4f5c","Round Pixelated":"\u5186\u30d4\u30af\u30bb\u30eb","Round Hard Edge":"\u5186\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Round Soft":"\u5186\u30bd\u30d5\u30c8","Square Pixelated":"\u89d2\u30d4\u30af\u30bb\u30eb","Square Hard Edge":"\u89d2\u30cf\u30fc\u30c9\u30a8\u30c3\u30b8","Color (picker)":"\u30ab\u30e9\u30fc","Tool options":"\u30c4\u30fc\u30eb\u30aa\u30d7\u30b7\u30e7\u30f3","Brush size":"\u30d6\u30e9\u30b7\u30b5\u30a4\u30ba",Opacity:"\u4e0d\u900f\u660e\u5ea6",Color:"\u8272\u88dc\u5145",
Blend:"\u6df7\u8272",Spacing:"\u9593\u9694",Scattering:"\u6563\u4e71",Smoothing:"\u624b\u3076\u308c\u88dc\u6b63","Color swatches":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Color swatches (shorter)":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8",Remove:"\u524a\u9664","Replace with current color":"\u9078\u629e\u4e2d\u306e\u8272\u306b\u7f6e\u304d\u63db\u3048","Save swatches to your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u306b\u4fdd\u5b58","Load swatches from your computer...":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092PC\u304b\u3089\u8aad\u307f\u8fbc\u307f",
"Add the current brush color as a new swatch":"\u9078\u629e\u4e2d\u306e\u8272\u3092\u8ffd\u52a0","Sample all layers":"\u5168\u30ec\u30a4\u30e4\u30fc\u6df7\u5408","Lock transparency":"\u900f\u660e\u90e8\u5206\u3092\u4fdd\u8b77",Textures:"\u30c6\u30af\u30b9\u30c1\u30e3",Customize:"\u30ab\u30b9\u30bf\u30de\u30a4\u30ba",Inverse:"\u30cd\u30ac\u30dd\u30b8\u53cd\u8ee2",Mirror:"\u5de6\u53f3\u53cd\u8ee2",Brightness:"\u8f1d\u5ea6",Contrast:"\u30b3\u30f3\u30c8\u30e9\u30b9\u30c8",Reset:"\u30ea\u30bb\u30c3\u30c8",
"Layer blending mode":"\u5408\u6210\u30e2\u30fc\u30c9",Normal:"\u901a\u5e38",Multiply:"\u4e57\u7b97",Add:"\u52a0\u7b97",Screen:"\u30b9\u30af\u30ea\u30fc\u30f3",Lighten:"\u6bd4\u8f03(\u660e)",Darken:"\u6bd4\u8f03(\u6697)",Subtract:"\u6e1b\u7b97",Dodge:"\u8986\u3044\u713c\u304d",Burn:"\u713c\u304d\u8fbc\u307f",Overlay:"\u30aa\u30fc\u30d0\u30fc\u30ec\u30a4","Hard Light":"\u30cf\u30fc\u30c9\u30e9\u30a4\u30c8","Soft Light":"\u30bd\u30d5\u30c8\u30e9\u30a4\u30c8","Vivid Light":"\u30d3\u30d3\u30c3\u30c9\u30e9\u30a4\u30c8",
"Linear Light":"\u30ea\u30cb\u30a2\u30e9\u30a4\u30c8","Pin Light":"\u30d4\u30f3\u30e9\u30a4\u30c8",Passthrough:"\u901a\u904e",Stroke:"\u30b9\u30c8\u30ed\u30fc\u30af","Free-hand":"\u30d5\u30ea\u30fc\u30cf\u30f3\u30c9","Straight line":"\u76f4\u7dda","Bezier curve":"Bz\uff08\u30d9\u30b8\u30a7\uff09\u66f2\u7dda",Tools:"\u30c4\u30fc\u30eb",Marquee:"\u9078\u629e\u7bc4\u56f2","Move tool":"\u79fb\u52d5","Flood fill":"\u5857\u308a\u6f70\u3057","Gradient fill":"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3","Color picker":"\u30b9\u30dd\u30a4\u30c8",
"Rotate canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u56de\u8ee2","Grab canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u4f4d\u7f6e",Pencil:"\u925b\u7b46",Pen:"\u30da\u30f3",Airbrush:"\u30a8\u30a2\u30d6\u30e9\u30b7",Waterpaint:"\u6c34\u5f69",Eraser:"\u6d88\u3057\u30b4\u30e0","Soft eraser":"\u8584\u6d88\u3057",Smudge:"\u6307\u5148",Blender:"\u6df7\u8272","Dodge (tool)":"\u8986\u3044\u713c\u304d","Burn (tool)":"\u713c\u304d\u8fbc\u307f",Blur:"\u307c\u304b\u3057","Grid options":"\u30b0\u30ea\u30c3\u30c9\u306e\u8a2d\u5b9a",
"Grid size":"\u30b0\u30ea\u30c3\u30c9\u30b5\u30a4\u30ba","Rename...":"\u540d\u524d\u3092\u5909\u66f4","Add layer":"\u65b0\u898f\u30ec\u30a4\u30e4\u30fc","Delete layer":"\u30ec\u30a4\u30e4\u30fc\u524a\u9664","Add group":"\u65b0\u898f\u30b0\u30eb\u30fc\u30d7","Delete group":"\u30b0\u30eb\u30fc\u30d7\u524a\u9664","Add mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af\u8ffd\u52a0",Gradient:"\u30b0\u30e9\u30c7\u30fc\u30b7\u30e7\u30f3\u4f5c\u6210","Transform style":"\u5909\u5f62\u30b9\u30bf\u30a4\u30eb",
"Apply transform":"\u5909\u5f62\u78ba\u5b9a","Complete transform":"\u5909\u5f62\u3092\u5b8c\u4e86","Undo transform":"\u53d6\u308a\u6d88\u3057","You need to finish transforming this layer before you can do that. What would you like to do with the transform?":"\u7d9a\u884c\u3059\u308b\u305f\u3081\u306b\u5909\u5f62\u3092\u5b8c\u4e86\u3057\u307e\u3059\u3002",Smooth:"\u30b9\u30e0\u30fc\u30ba",Sharp:"\u30b7\u30e3\u30fc\u30d7","Opacity: ":"\u4e0d\u900f\u660e\u5ea6:","Please enter a color in hex format":"16\u9032\u5f62\u5f0f\u3067\u8272\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\uff08#xxxxxx\u306e\u5f62\uff09",
Cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",Ok:"OK",Okay:"OK",OK:"OK","Whoops! This layer is currently hidden":"\u975e\u8868\u793a\u30ec\u30a4\u30e4\u30fc\u3067\u3059\u3002","Whoops! This layer's opacity is currently 0%":"\u30ec\u30a4\u30e4\u30fc\u306e\u4e0d\u900f\u660e\u5ea6\u304c0%\u3067\u3059","Whoops! You can't draw on a group":"\u30b0\u30eb\u30fc\u30d7\u30d5\u30a9\u30eb\u30c0\u306b\u306f\u63cf\u3051\u307e\u305b\u3093","Whoops! All of the selected pixels are transparent!":"\u30ec\u30a4\u30e4\u30fc\u304c\u7a7a\u3067\u3059",
Image:"\u753b\u50cf","Layer mask":"\u30ec\u30a4\u30e4\u30fc\u30de\u30b9\u30af","Sorry, you can't remove the last remaining layer in the drawing.":"\u6700\u5f8c\u306e1\u3064\u306a\u306e\u3067\u524a\u9664\u3067\u304d\u307e\u305b\u3093\u3002","Are you sure you want to send your drawing to the server and finish drawing now?":"\u304a\u7d75\u304b\u304d\u3092\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f","Your drawing has unsaved changes! Are you sure to want to navigate away?":"\u304a\u7d75\u304b\u304d\u306b\u672a\u4fdd\u5b58\u306e\u5909\u66f4\u304c\u3042\u308a\u307e\u3059\u3002\u7d42\u4e86\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",
"Many of the menu options and painting tools have keyboard shortcuts which are written next to them or appear when you hover.":"\u5229\u7528\u53ef\u80fd\u306a\u30ad\u30fc\u30dc\u30fc\u30c9\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u306e\u3044\u304f\u3064\u304b\u306f\u30e1\u30cb\u30e5\u30fc\u306e\u6a2a\u3084\u30c4\u30fc\u30eb\u30c1\u30c3\u30d7\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002","Here are some other shortcuts which are not as obvious!":"\u3053\u306e\u4e00\u89a7\u306f\u305d\u308c\u4ee5\u5916\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3092\u307e\u3068\u3081\u305f\u3082\u306e\u3067\u3059\u3002",
Right:"\u53f3",Left:"\u5de6",Middle:"\u4e2d",or:"\u307e\u305f\u306f","Double click":"\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af","Color swatches palette":"\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8","Use as the drawing color":"\u30d1\u30ec\u30c3\u30c8\u306e\u8272\u3092\u53d6\u5f97","Remove or replace a color swatch":"\u30d1\u30ec\u30c3\u30c8\u306e\u5909\u66f4\uff65\u524a\u9664","Line drawing mode":"\u76f4\u7dda\u30e2\u30fc\u30c9","Snap line to nearest 45 degrees":"45\u00b0\u5358\u4f4d\u3067\u30b9\u30ca\u30c3\u30d7",
"Painting tools":"\u30c4\u30fc\u30eb","Change brush opacity":"\u30d6\u30e9\u30b7\u306e\u4e0d\u900f\u660e\u5ea6","Change brush size":"\u30d6\u30e9\u30b7\u30b5\u30a4\u30ba","Brush palette":"\u30d6\u30e9\u30b7\u30d1\u30ec\u30c3\u30c8","Adjust brush sliders more precisely":"\u30d6\u30e9\u30b7\u30b9\u30e9\u30a4\u30c0\u30fc\u3092\u3088\u308a\u7d30\u304b\u304f\u8abf\u6574","Drawing canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9","Move the canvas around":"\u30ad\u30e3\u30f3\u30d0\u30b9\u3092\u79fb\u52d5","Rotate the canvas":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u56de\u8ee2",
"Sample the color under the cursor":"\u30ad\u30e3\u30f3\u30d0\u30b9\u306e\u8272\u3092\u30b9\u30dd\u30a4\u30c8","Layers palette":"\u30ec\u30a4\u30e4\u30fc\u30d1\u30ec\u30c3\u30c8","Rename layer":"\u30ec\u30a4\u30e4\u30fc\u540d\u5909\u66f4","Toggle mask enable/disable":"\u30de\u30b9\u30af\u306e\u6709\u52b9/\u7121\u52b9\u5207\u308a\u66ff\u3048","Toggle mask View":"\u30de\u30b9\u30af\u306e\u8868\u793a/\u975e\u8868\u793a\u5207\u308a\u66ff\u3048","Save Oekaki":"\u4fdd\u5b58","Saving drawing...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u4e2d\u2026",
"Preparing your drawing to be saved, please wait...":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3059\u308b\u6e96\u5099\u3092\u3057\u3066\u3044\u307e\u3059\u3002\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u2026","Drawing saved!":"\u304a\u7d75\u304b\u304d\u3092\u4fdd\u5b58\u3057\u307e\u3057\u305f\uff01","Your drawing has been saved, would you like to post it to the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f",
"Yes, post it now":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059","No, keep drawing":"\u307e\u3060\u63cf\u304d\u307e\u3059","No, quit and I'll finish it later":"\u30a2\u30d7\u30ea\u3092\u7d42\u4e86\u3057\u3066\u7d9a\u304d\u3092\u5f8c\u3067\u63cf\u304f","Your drawing has been saved, would you like to view it on the forum now?":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u30d5\u30a9\u30fc\u30e9\u30e0\u3078\u6295\u7a3f\u3057\u307e\u3059\u304b\uff1f","Yes, view the post":"\u306f\u3044\u3001\u6295\u7a3f\u3057\u307e\u3059\u3002",
"Your drawing has been saved, redirecting you to view your new post now...":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3055\u308c\u307e\u3057\u305f\u3002\u6295\u7a3f\u5148\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002","Sorry, your drawing could not be saved, please try again later.":"\u304a\u7d75\u304b\u304d\u304c\u4fdd\u5b58\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u518d\u5ea6\u6295\u7a3f\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002","The error returned from the server was":"\u30b5\u30fc\u30d0\u304b\u3089\u8fd4\u3063\u3066\u6765\u305f\u30a8\u30e9\u30fc"}},
{}],54:[function(g,L,D){function z(k){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},z(k)}function h(k){if("function"!=typeof WeakMap)return null;var c=new WeakMap,f=new WeakMap;return(h=function(p){return p?f:c})(k)}function v(k,c){if(!c&&k&&k.__esModule)return k;if(null===k||"object"!=z(k)&&"function"!=typeof k)return{default:k};
if((c=h(c))&&c.has(k))return c.get(k);var f={__proto__:null},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in k)if("default"!==e&&Object.prototype.hasOwnProperty.call(k,e)){var n=p?Object.getOwnPropertyDescriptor(k,e):null;n&&(n.get||n.set)?Object.defineProperty(f,e,n):f[e]=k[e]}return f.default=k,c&&c.set(k,f),f}function E(k,c){var f="undefined"!==typeof Symbol&&k[Symbol.iterator]||k["@@iterator"];if(!f){if(Array.isArray(k)||(f=b(k))||c&&k&&"number"===typeof k.length){f&&(k=f);
var p=0;c=function(){};return{s:c,n:function(){return p>=k.length?{done:!0}:{done:!1,value:k[p++]}},e:function(A){throw A;},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var e=!0,n=!1,u;return{s:function(){f=f.call(k)},n:function(){var A=f.next();e=A.done;return A},e:function(A){n=!0;u=A},f:function(){try{e||null==f.return||f.return()}finally{if(n)throw u;}}}}function b(k,c){if(k){if("string"===
typeof k)return d(k,c);var f=Object.prototype.toString.call(k).slice(8,-1);"Object"===f&&k.constructor&&(f=k.constructor.name);if("Map"===f||"Set"===f)return Array.from(k);if("Arguments"===f||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return d(k,c)}}function d(k,c){if(null==c||c>k.length)c=k.length;for(var f=0,p=Array(c);f<c;f++)p[f]=k[f];return p}function w(k){k=k.split(/[-_]/,1)[0].toLowerCase();k in l?(q=l[k],r=k):(q=a,r="en")}Object.defineProperty(D,"__esModule",{value:!0});D._=function(k){return k in
q?q[k]:k};D.currentLanguage=function(){return r};D.guessLanguage=function(){try{if("undefined"!==typeof navigator){var k=navigator.languages;Array.isArray(k)||(k=[k]);var c=E(k),f;try{for(c.s();!(f=c.n()).done;){var p=f.value,e=/^(..)([-_].+)?$/.exec(p);if(e){e[1]=e[1].toLowerCase();if(e[1]in l){w(p);break}if("en"===e[1]){w("en");break}}}}catch(n){c.e(n)}finally{c.f()}}}catch(n){console.error(n)}};D.setLanguage=w;var a=v(g("./en.json")),l={ja:v(g("./ja.json")),en:a},q=a,r="en"},{"./en.json":52,"./ja.json":53}],
55:[function(g,L,D){function z(){}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;var h=function(v){return v&&v.__esModule?v:{default:v}}(g("./ArrayDataStream.js"));z.prototype.read=function(v){if(null==v)return null;v=new h.default(new Uint8Array(v));var E=[];if(1!=v.readU16BE())return null;var b=v.readU16BE();for(var d=0;d<b;d++)if(0==v.readU16BE()){var w=255*v.readU16BE()/65535,a=255*v.readU16BE()/65535,l=255*v.readU16BE()/65535;v.readU16BE();E.push(w<<16|a<<8|l)}return E};z.prototype.write=
function(v){var E=new Uint8Array(4+10*v.length);E=new h.default(E);E.writeU16BE(1);E.writeU16BE(v.length);for(var b=0;b<v.length;b++){var d=v[b];E.writeU16BE(0);E.writeU16BE(257*(d>>16&255));E.writeU16BE(257*(d>>8&255));E.writeU16BE(257*(d&255));E.writeU16BE(0)}return E.getAsDataArray()};L.exports=D.default},{"./ArrayDataStream.js":56}],56:[function(g,L,D){function z(h,v,E){this.data=h;this.eof=!1;this.start=void 0===v?0:v;this.end=void 0===E?h.length:E;this.pos=this.start}Object.defineProperty(D,
"__esModule",{value:!0});D.default=z;z.prototype.readChar=function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos++]);this.eof=!0;return-1};z.prototype.readByte=function(){if(this.pos<this.end)return this.data[this.pos++];this.eof=!0;return-1};z.prototype.readU8=z.prototype.readByte;z.prototype.readS8=function(){var h=this.readByte();return h&128?h|4294967040:h};z.prototype.unreadChar=function(h){this.pos--};z.prototype.peekChar=function(){if(this.pos<this.end)return String.fromCharCode(this.data[this.pos]);
this.eof=!0;return-1};z.prototype.readString=function(h){var v=Array(h),E;for(E=0;E<h;E++)v[E]=this.readChar();return v.join("")};z.prototype.readS16=function(){var h=this.readByte(),v=this.readByte();h=h<<8|v;return h&32768?h|4294901760:h};z.prototype.readU16BE=function(){var h=this.readByte(),v=this.readByte();return h<<8|v};z.prototype.readU16LE=function(){var h=this.readByte();return this.readByte()<<8|h};z.prototype.readU32BE=function(){var h=this.readByte(),v=this.readByte(),E=this.readByte(),
b=this.readByte();return(h<<24|v<<16|E<<8|b)>>>0};z.prototype.readU32LE=function(){var h=this.readByte(),v=this.readByte(),E=this.readByte();return(this.readByte()<<24|E<<16|v<<8|h)>>>0};z.prototype.readBytes=function(h){var v=this.data.subarray(this.pos,this.pos+h);this.pos+=h;this.pos>this.end&&(this.eof=!0);return v};z.prototype.skip=function(h){this.pos+=h;this.pos>this.end&&(this.eof=!0)};z.prototype.seek=function(h){this.pos=h};z.prototype.writeBytes=function(h){for(var v=0;v<h.length;v++)this.data[this.pos++]=
h[v]};z.prototype.writeByte=function(h){this.data[this.pos++]=h};z.prototype.writeU8=z.prototype.writeByte;z.prototype.writeU16LE=function(h){this.data[this.pos++]=h;this.data[this.pos++]=h>>8};z.prototype.writeU16BE=function(h){this.data[this.pos++]=h>>8;this.data[this.pos++]=h};z.prototype.writeU32BE=function(h){this.data[this.pos++]=h>>24;this.data[this.pos++]=h>>16;this.data[this.pos++]=h>>8;this.data[this.pos++]=h};z.prototype.writeU32LE=function(h){this.data[this.pos++]=h;this.data[this.pos++]=
h>>8;this.data[this.pos++]=h>>16;this.data[this.pos++]=h>>24};z.prototype.writeDoubleBE=function(h){h=new Uint8Array((new Float64Array([h])).buffer);for(var v=h.length-1;0<=v;v--)this.writeByte(h[v])};z.prototype.writeFloatBE=function(h){h=new Uint8Array((new Float32Array([h])).buffer);for(var v=h.length-1;0<=v;v--)this.writeByte(h[v])};z.prototype.writeString=function(h){for(var v=0;v<h.length;v++)this.data[this.pos++]=h.charCodeAt(v)};z.prototype.writeUnsignedIntBE=function(h,v){void 0===v&&(v=
this.measureUnsignedInt(h));switch(v){case 5:this.writeU8(Math.floor(h/4294967296));case 4:this.writeU8(h>>24);case 3:this.writeU8(h>>16);case 2:this.writeU8(h>>8);case 1:this.writeU8(h);break;default:throw"Bad UINT size "+v;}};z.prototype.measureUnsignedInt=function(h){return 256>h?1:65536>h?2:16777216>h?3:4294967296>h?4:5};z.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw"ArrayDataStream's pos lies beyond end of buffer";
};z.prototype.EOF=-1;L.exports=D.default},{}],57:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){var z=this;this.x0=this.y0=this.x1=this.y1=this.x2=this.y2=this.x3=this.y3=0;var h,v,E,b,d,w,a,l;this.compute=function(q,r,k){var c=1/k,f=3*c,p=f*c;c*=c*c;var e=2*p,n=6*c,u=z.x0-2*z.x1+z.x2,A=z.y0-2*z.y1+z.y2,C=3*(z.x1-z.x2)-z.x0+z.x3,B=3*(z.y1-z.y2)-z.y0+z.y3;h=z.x0;d=z.y0;v=(z.x1-z.x0)*f+u*p+C*c;w=(z.y1-z.y0)*f+A*p+B*c;E=u*e+C*n;a=A*e+B*n;b=C*n;l=B*n;q[0]=h;r[0]=
d;for(f=1;f<k;f++)h+=v,d+=w,v+=E,w+=a,E+=b,a+=l,q[f]=h,r[f]=d}};L.exports=D.default},{}],58:[function(g,L,D){function z(v){if(0==v.saturation)return v.value<<16|v.value<<8|v.value;var E=v.hue/60;E-=Math.floor(E);var b=v.saturation/255,d=~~(v.value*(1-b)),w=~~(v.value*(1-b*E));E=~~(v.value*(1-b*(1-E)));switch(~~(v.hue/60)){case 0:return v.value<<16|E<<8|d;case 1:return w<<16|v.value<<8|d;case 2:return d<<16|v.value<<8|E;case 3:return d<<16|w<<8|v.value;case 4:return E<<16|d<<8|v.value;case 5:return v.value<<
16|d<<8|w;default:return 0}}function h(v){this.value=this.saturation=this.hue=this.rgb=0;this.setRgb(v||0)}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;h.prototype.getRgb=function(){return this.rgb};h.prototype.getSaturation=function(){return this.saturation};h.prototype.getHue=function(){return this.hue};h.prototype.getValue=function(){return this.value};h.prototype.setRgbComponents=function(v,E,b){this.setRgb(v<<16|E<<8|b)};h.prototype.setRgb=function(v){this.rgb=v;var E=v>>16&255,
b=v>>8&255;v&=255;this.value=Math.max(E,Math.max(b,v));var d=Math.min(E,Math.min(b,v));this.saturation=0==this.value?0:~~((this.value-d)/this.value*255);if(0==this.saturation)this.hue=0;else{var w=(this.value-E)/(this.value-d),a=(this.value-b)/(this.value-d);d=(this.value-v)/(this.value-d);var l=0;this.value==E&&(l=d-a);this.value==b&&(l=2+w-d);this.value==v&&(l=4+a-w);l*=60;0>l&&(l+=360);this.hue=~~l}};h.prototype.setHsv=function(v,E,b){this.hue=v;this.saturation=E;this.value=b;this.rgb=z(this)};
h.prototype.setHue=function(v){this.hue=v;this.rgb=z(this)};h.prototype.setSaturation=function(v){this.saturation=v;this.rgb=z(this)};h.prototype.setValue=function(v){this.value=v;this.rgb=z(this)};h.prototype.setGreyscale=function(v){this.rgb=h.greyToRGB(v);this.saturation=this.hue=0;this.value=v};h.prototype.clone=function(){var v=new h(0);v.copyFrom(this);return v};h.prototype.copyFrom=function(v){this.rgb=v.rgb;this.hue=v.hue;this.saturation=v.saturation;this.value=v.value};h.prototype.isEqual=
function(v){return this.rgb==v.rgb&&this.hue==v.hue&&this.saturation==v.saturation&&this.value==v.value};h.greyToRGB=function(v){return v|v<<8|v<<16};L.exports=D.default},{}],59:[function(g,L,D){function z(h,v,E){this.r=h;this.g=v;this.b=E}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;z.prototype.toInt=function(){return Math.max(0,Math.min(255,Math.round(255*this.r)))<<16|Math.max(0,Math.min(255,Math.round(255*this.g)))<<8|Math.max(0,Math.min(255,Math.round(255*this.b)))};z.prototype.mixWith=
function(h,v){this.r=this.r*(1-v)+h.r*v;this.g=this.g*(1-v)+h.g*v;this.b=this.b*(1-v)+h.b*v};z.prototype.clone=function(){return new z(this.r,this.g,this.b)};z.createFromInt=function(h){return new z((h>>>16&255)/255,(h>>>8&255)/255,(h&255)/255)};L.exports=D.default},{}],60:[function(g,L,D){function z(v){for(var E=["imageSmoothingEnabled","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled"],b=0;b<E.length;b++)if(E[b]in v)return E[b];return null}Object.defineProperty(D,
"__esModule",{value:!0});D.isCanvasInterpolationSupported=function(){var v=(0,h.createCanvas)(0,0).getContext("2d");return!!z(v)};D.isCanvasSupported=function(){var v=(0,h.createCanvas)(0,0);return!(!v.getContext||!v.getContext("2d"))};D.isEventSupported=function(v){var E=v in window;E||(E=document.createElement("div"),E.setAttribute(v,"return;"),E="function"==typeof E[v]);return E};D.isFlexboxSupported=function(){return("string"==typeof document.body.style.flexBasis||"string"==typeof document.body.style.msFlexDirection)&&
!/Presto/.test(navigator.userAgent)};D.setCanvasInterpolation=function(v,E){var b=z(v);b&&(v[b]=E)};var h=g("./Canvas.js")},{"./Canvas.js":2}],61:[function(g,L,D){function z(h){this.points=h||[]}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;(function(h){return h&&h.__esModule?h:{default:h}})(g("./CPTransform.js"));z.prototype.clone=function(){for(var h=new z(Array(this.points.length)),v=0;v<this.points.length;v++)h.points[v]={x:this.points[v].x,y:this.points[v].y};return h};z.prototype.getTransformed=
function(h){for(var v=new z(Array(this.points.length)),E=0;E<this.points.length;E++)v.points[E]=h.getTransformedPoint(this.points[E]);return v};z.prototype.getCenter=function(){for(var h=this.points[0].x,v=this.points[0].y,E=1;E<this.points.length;E++)h+=this.points[E].x,v+=this.points[E].y;return{x:h/this.points.length,y:v/this.points.length}};z.prototype.containsPoint=function(h){var v,E=!1;var b=0;for(v=this.points.length-1;b<this.points.length;v=b++)this.points[b].y>h.y!=this.points[v].y>h.y&&
h.x<(this.points[v].x-this.points[b].x)*(h.y-this.points[b].y)/(this.points[v].y-this.points[b].y)+this.points[b].x&&(E=!E);return E};L.exports=D.default},{"./CPTransform.js":64}],62:[function(g,L,D){Object.defineProperty(D,"__esModule",{value:!0});D.default=function(){var z,h=!1;this.nextGaussian=function(){if(h)return h=!1,z;do{var v=2*Math.random()-1;var E=2*Math.random()-1;var b=v*v+E*E}while(1<=b||0==b);b=Math.sqrt(-2*Math.log(b)/b);z=E*b;h=!0;return v*b}};L.exports=D.default},{}],63:[function(g,
L,D){function z(v){"@babel/helpers - typeof";return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},z(v)}function h(v,E,b,d){this.left=v;this.top=E;this.right=b;this.bottom=d}Object.defineProperty(D,"__esModule",{value:!0});D.default=h;h.prototype.makeEmpty=function(){this.bottom=this.right=this.top=this.left=0};h.prototype.union=function(v){this.isEmpty()?
this.set(v):v.isEmpty()||(this.left=Math.min(this.left,v.left),this.top=Math.min(this.top,v.top),this.right=Math.max(this.right,v.right),this.bottom=Math.max(this.bottom,v.bottom))};h.prototype.getUnion=function(v){var E=this.clone();E.union(v);return E};h.prototype.getIntersection=function(v){return new h(Math.max(this.left,v.left),Math.max(this.top,v.top),Math.min(this.right,v.right),Math.min(this.bottom,v.bottom))};h.prototype.clipTo=function(v){this.isEmpty()||(v.isEmpty()?this.makeEmpty():(this.left=
Math.min(Math.max(this.left,v.left),v.right),this.top=Math.min(Math.max(this.top,v.top),v.bottom),this.right=Math.max(Math.min(this.right,v.right),v.left),this.bottom=Math.max(Math.min(this.bottom,v.bottom),v.top)));return this};h.prototype.containsPoint=function(v){return!(v.x<this.left||v.y<this.top||v.x>=this.right||v.y>=this.bottom)};h.prototype.isInside=function(v){return this.left>=v.left&&this.top>=v.top&&this.right<=v.right&&this.bottom<=v.bottom};h.prototype.clipSourceDest=function(v,E){E.right=
E.left+v.getWidth();E.bottom=E.top+v.getHeight();this.isEmpty()||E.left>=this.right||E.top>=this.bottom||E.right<=this.left||E.bottom<=this.top?(v.makeEmpty(),E.makeEmpty()):(E.right>this.right&&(v.right-=E.right-this.right,E.right=this.right),E.bottom>this.bottom&&(v.bottom-=E.bottom-this.bottom,E.bottom=this.bottom),E.left<this.left&&(v.left+=this.left-E.left,E.left=this.left),E.top<this.top&&(v.top+=this.top-E.top,E.top=this.top))};h.prototype.getWidth=function(){return this.right-this.left};h.prototype.getHeight=
function(){return this.bottom-this.top};h.prototype.getArea=function(){return this.getWidth()*this.getHeight()};h.prototype.isEmpty=function(){return this.right<=this.left||this.bottom<=this.top};h.prototype.set=function(v){this.left=v.left;this.top=v.top;this.right=v.right;this.bottom=v.bottom};h.prototype.clone=function(){return new h(this.left,this.top,this.right,this.bottom)};h.prototype.translate=function(v,E){this.left+=v;this.right+=v;this.top+=E;this.bottom+=E;return this};h.prototype.getTranslated=
function(v,E){var b=this.clone();b.translate(v,E);return b};h.prototype.moveTo=function(v,E){this.translate(v-this.left,E-this.top)};h.prototype.equals=function(v){return this.left==v.left&&this.right==v.right&&this.top==v.top&&this.bottom==v.bottom};h.prototype.grow=function(v,E){this.left-=v;this.right+=v;this.top-=E;this.bottom+=E};h.prototype.toString=function(){return"("+this.left+","+this.top+","+this.right+","+this.bottom+")"};h.prototype.toPoints=function(){return[{x:this.left,y:this.top},
{x:this.right,y:this.top},{x:this.right,y:this.bottom},{x:this.left,y:this.bottom}]};h.prototype.roundNearest=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);return this};h.prototype.roundContain=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);return this};h.createBoundingBox=function(v){if(0===v.length)return new h(0,
0,0,0);for(var E=new h(v[0].x,v[0].y,v[0].x,v[0].y),b=1;b<v.length;b++)E.left=Math.min(E.left,v[b].x),E.top=Math.min(E.top,v[b].y),E.right=Math.max(E.right,v[b].x),E.bottom=Math.max(E.bottom,v[b].y);return E};h.prototype.subtract=function(v){return h.subtract(this,v)};h.subtract=function(v,E){v instanceof h&&(v=[v]);E instanceof h&&(E=[E]);v=v.slice(0);for(var b=0;b<E.length;b++)for(var d=E[b],w=v.length,a=0;a<w;a++){var l=v[a];if(l){var q=l.getIntersection(d);if(!q.isEmpty()){var r=[];l.top<d.top&&
r.push(new h(l.left,l.top,l.right,q.top));l.bottom>d.bottom&&r.push(new h(l.left,q.bottom,l.right,l.bottom));l.left<d.left&&r.push(new h(l.left,q.top,q.left,q.bottom));l.right>d.right&&r.push(new h(q.right,q.top,l.right,q.bottom));r=r.filter(function(k){return!k.isEmpty()});if(0<r.length)for(v[a]=r[0],l=1;l<r.length;l++)v.push(r[l]);else v[a]=null}}}return v.filter(function(k){return null!=k})};h.union=function(v){if(v instanceof h)v=[v];else{v=v.slice(0);for(var E=0;E<v.length;E++){var b=v[E],d=
v.length;if(b)for(var w=E+1;w<d;w++){var a=v[w];if(a&&!b.getIntersection(a).isEmpty()){a=h.subtract(a,b);v[w]=a[0];for(var l=1;l<a.length;l++)v.push(a[l])}}}}return v.filter(function(q){return q&&!q.isEmpty()})};"object"==("undefined"===typeof window?"undefined":z(window))&&(window.cpRectGarbage=new h(1.5,2.5,3.5,4.5));L.exports=D.default},{}],64:[function(g,L,D){function z(){this.setToIdentity()}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;z.prototype.setToIdentity=function(){this.m=
[1,0,0,1,0,0]};z.prototype.multiply=function(h){var v=this.m[1]*h.m[0]+this.m[3]*h.m[1],E=this.m[0]*h.m[2]+this.m[2]*h.m[3],b=this.m[1]*h.m[2]+this.m[3]*h.m[3],d=this.m[0]*h.m[4]+this.m[2]*h.m[5]+this.m[4],w=this.m[1]*h.m[4]+this.m[3]*h.m[5]+this.m[5];this.m[0]=this.m[0]*h.m[0]+this.m[2]*h.m[1];this.m[1]=v;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=w};z.prototype.preMultiply=function(h){var v=h.m[1]*this.m[0]+h.m[3]*this.m[1],E=h.m[0]*this.m[2]+h.m[2]*this.m[3],b=h.m[1]*this.m[2]+h.m[3]*this.m[3],
d=h.m[0]*this.m[4]+h.m[2]*this.m[5]+h.m[4],w=h.m[1]*this.m[4]+h.m[3]*this.m[5]+h.m[5];this.m[0]=h.m[0]*this.m[0]+h.m[2]*this.m[1];this.m[1]=v;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=w};z.prototype.invert=function(){var h=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),v=-this.m[1]*h,E=-this.m[2]*h,b=this.m[0]*h,d=h*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),w=h*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=this.m[3]*h;this.m[1]=v;this.m[2]=E;this.m[3]=b;this.m[4]=d;this.m[5]=w};z.prototype.getInverted=
function(){var h=new z;h.m[0]=this.m[0];h.m[1]=this.m[1];h.m[2]=this.m[2];h.m[3]=this.m[3];h.m[4]=this.m[4];h.m[5]=this.m[5];h.invert();return h};z.prototype.rotate=function(h){var v=Math.cos(h);h=Math.sin(h);var E=this.m[1]*v+this.m[3]*h,b=this.m[0]*-h+this.m[2]*v,d=this.m[1]*-h+this.m[3]*v;this.m[0]=this.m[0]*v+this.m[2]*h;this.m[1]=E;this.m[2]=b;this.m[3]=d};z.prototype.rotateAroundPoint=function(h,v,E){this.translate(v,E);this.rotate(h);this.translate(-v,-E)};z.prototype.translate=function(h,
v){this.m[4]+=this.m[0]*h+this.m[2]*v;this.m[5]+=this.m[1]*h+this.m[3]*v};z.prototype.scale=function(h,v){this.m[0]*=h;this.m[1]*=h;this.m[2]*=v;this.m[3]*=v};z.prototype.scaleAroundPoint=function(h,v,E,b){this.translate(E,b);this.scale(h,v);this.translate(-E,-b)};z.prototype.shear=function(h,v){var E=this.m[1]+this.m[3]*v,b=this.m[2]+this.m[0]*h;h=this.m[3]+this.m[1]*h;this.m[0]+=this.m[2]*v;this.m[1]=E;this.m[2]=b;this.m[3]=h};z.prototype.getTransformedPoint=function(h){return{x:h.x*this.m[0]+h.y*
this.m[2]+this.m[4],y:h.x*this.m[1]+h.y*this.m[3]+this.m[5]}};z.prototype.transformPoints=function(h){for(var v=0;v<h.length;v++)h[v]=this.getTransformedPoint(h[v])};z.prototype.getTranslateX=function(){return this.m[4]};z.prototype.getTranslateY=function(){return this.m[5]};z.prototype.clone=function(){var h=new z;h.m[0]=this.m[0];h.m[1]=this.m[1];h.m[2]=this.m[2];h.m[3]=this.m[3];h.m[4]=this.m[4];h.m[5]=this.m[5];return h};z.prototype.getDeterminant=function(){return this.m[0]*this.m[3]-this.m[1]*
this.m[2]};z.prototype.decompose=function(){var h=this.getDeterminant(),v=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return{translate:{x:this.m[4],y:this.m[5]},rotate:Math.sign(this.m[1])*Math.acos(this.m[0]/v),scale:{x:v,y:h/v},shear:{x:Math.atan((this.m[0]*this.m[2]+this.m[1]*this.m[3])/(v*v)),y:0}}};z.prototype.toString=function(){return"["+this.m[0].toFixed(2)+" "+this.m[2].toFixed(2)+" "+this.m[4].toFixed(2)+"]\n["+this.m[1].toFixed(2)+" "+this.m[3].toFixed(2)+" "+this.m[5].toFixed(2)+
"]\n[0.00 0.00 1.00]"};Math.sign=Math.sign||function(h){h=+h;return 0===h||isNaN(h)?h:0<h?1:-1};L.exports=D.default},{}],65:[function(g,L,D){function z(h,v){this.x=h;this.y=v}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;z.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};z.prototype.normalize=function(){var h=this.getLength();this.x/=h;this.y/=h;return this};z.prototype.getDotProduct=function(h){return this.x*h.x+this.y*h.y};z.prototype.scale=function(h){this.x*=
h;this.y*=h;return this};z.prototype.getScaled=function(h){var v=new z(this.x,this.y);v.scale(h);return v};z.prototype.getRounded=function(){return new z(Math.round(this.x),Math.round(this.y))};z.prototype.getTruncated=function(){return new z(~~this.x,~~this.y)};z.prototype.getPerpendicular=function(){return new z(-this.y,this.x)};z.prototype.add=function(h){this.x+=h.x;this.y+=h.y;return this};z.prototype.subtract=function(h){this.x-=h.x;this.y-=h.y;return this};z.prototype.getSum=function(h){return new z(this.x+
h.x,this.y+h.y)};z.subtractPoints=function(h,v){return new z(h.x-v.x,h.y-v.y)};L.exports=D.default},{}],66:[function(g,L,D){function z(){var h=null,v,E=this;this.isPen=function(){if(h){var b=h.pointerType;return 1==b||3==b}return!1};this.getPressure=function(){return h?h.pressure:1};this.pluginLoaded=function(){console.log("Wacom tablet support loaded!");h=v.penAPI};this.isTabletPresent=function(){return!!h};this.detectTablet=function(){if(/Chrome/i.test(navigator.userAgent)&&!/OPR/.test(navigator.userAgent))console.log("Not attempting to load Wacom tablet plugin, since this is Chrome");
else{console.log("Attempting to load Wacom tablet support...");v=document.createElement("object");if("classid"in v)v.classid="CLSID:092dfa86-5807-5a94-bf3b-5a53ba9e5308";else{var b=document.createElement("param");b.name="onload";b.value="onWacomPluginLoaded";v.appendChild(b);v.type="application/x-wacomtabletplugin"}v.style.position="absolute";v.style.visibility="hidden";v.onload="onWacomPluginLoaded";document.body.appendChild(v);setTimeout(function(){E.isTabletPresent()||console.log("Looks like the Wacom plugin isn't installed, or failed to load.")},
5E3)}}}Object.defineProperty(D,"__esModule",{value:!0});D.default=z;z.getRef=function(){null==z.instance&&(z.instance=new z);return z.instance};window.onWacomPluginLoaded=function(){z.getRef().pluginLoaded()};L.exports=D.default},{}],67:[function(g,L,D){function z(h,v,E,b){var d,w=0;"boolean"!==typeof v&&(b=E,E=v,v=void 0);return function(){function a(){w=+new Date;E.apply(q,k)}function l(){d=void 0}var q=this,r=+new Date-w,k=arguments;b&&!d&&a();d&&clearTimeout(d);void 0===b&&r>h?a():!0!==v&&(d=
setTimeout(b?l:a,void 0===b?h-r:h))}}Object.defineProperty(D,"__esModule",{value:!0});D.debounce=function(h,v,E){return void 0===E?z(h,v,!1):z(h,E,!1!==v)};D.throttle=z},{}],68:[function(g,L,D){function z(h){for(var v={DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27," ":32,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,SHIFT:16,"[":219,"]":221,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"-":189,"=":187,"+":187,";":187,META:91,LEFTMETA:91,RIGHTMETA:91,ALT:18,ALTGRAPH:18,OPTION:18,CONTROL:17},
E=65;90>=E;E++){var b=String.fromCharCode(E);v[b]=E}h=h.toUpperCase();if(h in v)return v[h]}(function(h){function v(C,B){for(var I=C.length;I--;)if(C[I]===B)return I;return-1}function E(C){var B,I;var N=z(C.key);-1==v(n,N)&&n.push(N);if(N in k)for(B in k[N]=!0,f)f[B]==N&&(b[B]=!0);else{for(q in k)k[q]=C[u[q]];if(b.filter.call(this,C)&&N in r){var y=d();for(I=0;I<r[N].length;I++){var G=r[N][I];if(G.scope==y||"all"==G.scope){var H=0<G.mods.length;for(B in k)if(!k[B]&&-1<v(G.mods,+B)||k[B]&&-1==v(G.mods,
+B))H=!1;(0!=G.mods.length||k[16]||k[18]||k[17]||k[91])&&!H||!1!==G.method(C,G)||(C.preventDefault?C.preventDefault():C.returnValue=!1,C.stopPropagation&&C.stopPropagation(),C.cancelBubble&&(C.cancelBubble=!0))}}}}}function b(C,B,I){var N=w(C);void 0===I&&(I=B,B="all");for(var y=0;y<N.length;y++){var G=[];C=N[y].split("+");1<C.length&&(G=a(C),C=[C[C.length-1]]);C=C[0];C=e(C);C in r||(r[C]=[]);r[C].push({shortcut:N[y],scope:B,method:I,key:N[y],mods:G})}}function d(){return c||"all"}function w(C){C=
C.replace(/\s/g,"");C=C.split(",");""==C[C.length-1]&&(C[C.length-2]+=",");return C}function a(C){C=C.slice(0,C.length-1);for(var B=0;B<C.length;B++)C[B]=f[C[B]];return C}function l(C,B,I){C.addEventListener&&C.addEventListener(B,I,!1)}var q,r={},k={16:!1,18:!1,17:!1,91:!1},c="all",f={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},p={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,
"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},e=function(C){C=p[C]||C.toUpperCase().charCodeAt(0);return"function"===typeof C?C():C},n=[];for(q=1;20>q;q++)p["f"+q]=111+q;var u={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(q in f)b[q]=!1;l(document,"keydown",function(C){E(C)});l(document,"keyup",function(C){C=z(C.key);var B,I=v(n,C);0<=I&&n.splice(I,1);if(C in k)for(B in k[C]=!1,f)f[B]==C&&(b[B]=
!1)});l(window,"focus",function(){for(q in k)k[q]=!1;for(q in f)b[q]=!1});var A=h.key;h.key=b;h.key.setScope=function(C){c=C||"all"};h.key.getScope=d;h.key.deleteScope=function(C){var B,I;for(B in r){var N=r[B];for(I=0;I<N.length;)N[I].scope===C?N.splice(I,1):I++}};h.key.filter=function(C){C=(C.target||C.srcElement).tagName;return!("INPUT"==C||"SELECT"==C||"TEXTAREA"==C)};h.key.isPressed=function(C){"string"==typeof C&&(C=e(C));return-1!=v(n,C)};h.key.getPressedKeyCodes=function(){return n.slice(0)};
h.key.noConflict=function(){var C=h.key;h.key=A;return C};h.key.unbind=function(C,B){var I=[],N,y;var G=w(C);for(y=0;y<G.length;y++){C=G[y].split("+");1<C.length&&(I=a(C));C=C[C.length-1];C=e(C);void 0===B&&(B=d());if(!r[C])break;for(N=0;N<r[C].length;N++){var H=r[C][N];var O;if(O=H.scope===B)a:if(H=H.mods,H.length!=I.length)O=!1;else{for(O=0;O<H.length;O++)if(H[O]!==I[O]){O=!1;break a}O=!0}O&&(r[C][N]={})}}};"undefined"!==typeof L&&(L.exports=b)})({})},{}],69:[function(g,L,D){(function(){for(var z=
0,h=["ms","moz","webkit","o"],v=0;v<h.length&&!window.requestAnimationFrame;++v)window.requestAnimationFrame=window[h[v]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h[v]+"CancelAnimationFrame"]||window[h[v]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(E,b){var d=(new Date).getTime(),w=Math.max(0,16-(d-z));b=window.setTimeout(function(){E(d+w)},w);z=d+w;return b});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(E){clearTimeout(E)})})()},
{}],70:[function(g,L,D){g("../../modules/es.array.fill");g=g("../../internals/entry-unbind");L.exports=g("Array","fill")},{"../../internals/entry-unbind":126,"../../modules/es.array.fill":241}],71:[function(g,L,D){g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g=g("../../internals/entry-unbind");L.exports=g("Array","values")},{"../../internals/entry-unbind":126,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249}],72:[function(g,L,D){g("../../modules/es.array.iterator");
g("../../modules/es.map");g("../../modules/es.object.to-string");g("../../modules/es.string.iterator");g=g("../../internals/path");L.exports=g.Map},{"../../internals/path":199,"../../modules/es.array.iterator":242,"../../modules/es.map":246,"../../modules/es.object.to-string":249,"../../modules/es.string.iterator":264}],73:[function(g,L,D){g("../../modules/es.aggregate-error");g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g("../../modules/es.promise");g("../../modules/es.promise.all-settled");
g("../../modules/es.promise.any");g("../../modules/es.promise.finally");g("../../modules/es.string.iterator");g=g("../../internals/path");L.exports=g.Promise},{"../../internals/path":199,"../../modules/es.aggregate-error":239,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249,"../../modules/es.promise":256,"../../modules/es.promise.all-settled":250,"../../modules/es.promise.any":252,"../../modules/es.promise.finally":255,"../../modules/es.string.iterator":264}],74:[function(g,
L,D){g("../../modules/es.array.iterator");g("../../modules/es.object.to-string");g("../../modules/es.set");g("../../modules/es.string.iterator");g=g("../../internals/path");L.exports=g.Set},{"../../internals/path":199,"../../modules/es.array.iterator":242,"../../modules/es.object.to-string":249,"../../modules/es.set":262,"../../modules/es.string.iterator":264}],75:[function(g,L,D){g("../../modules/es.string.ends-with");g=g("../../internals/entry-unbind");L.exports=g("String","endsWith")},{"../../internals/entry-unbind":126,
"../../modules/es.string.ends-with":263}],76:[function(g,L,D){g("../../modules/es.array.concat");g("../../modules/es.object.to-string");g("../../modules/es.symbol");g("../../modules/es.symbol.async-iterator");g("../../modules/es.symbol.description");g("../../modules/es.symbol.has-instance");g("../../modules/es.symbol.is-concat-spreadable");g("../../modules/es.symbol.iterator");g("../../modules/es.symbol.match");g("../../modules/es.symbol.match-all");g("../../modules/es.symbol.replace");g("../../modules/es.symbol.search");
g("../../modules/es.symbol.species");g("../../modules/es.symbol.split");g("../../modules/es.symbol.to-primitive");g("../../modules/es.symbol.to-string-tag");g("../../modules/es.symbol.unscopables");g("../../modules/es.json.to-string-tag");g("../../modules/es.math.to-string-tag");g("../../modules/es.reflect.to-string-tag");g=g("../../internals/path");L.exports=g.Symbol},{"../../internals/path":199,"../../modules/es.array.concat":240,"../../modules/es.json.to-string-tag":244,"../../modules/es.math.to-string-tag":247,
"../../modules/es.object.to-string":249,"../../modules/es.reflect.to-string-tag":260,"../../modules/es.symbol":272,"../../modules/es.symbol.async-iterator":265,"../../modules/es.symbol.description":267,"../../modules/es.symbol.has-instance":269,"../../modules/es.symbol.is-concat-spreadable":270,"../../modules/es.symbol.iterator":271,"../../modules/es.symbol.match":275,"../../modules/es.symbol.match-all":274,"../../modules/es.symbol.replace":276,"../../modules/es.symbol.search":277,"../../modules/es.symbol.species":278,
"../../modules/es.symbol.split":279,"../../modules/es.symbol.to-primitive":280,"../../modules/es.symbol.to-string-tag":281,"../../modules/es.symbol.unscopables":282}],77:[function(g,L,D){g("../../modules/es.typed-array.fill")},{"../../modules/es.typed-array.fill":283}],78:[function(g,L,D){g("../../modules/es.typed-array.slice")},{"../../modules/es.typed-array.slice":284}],79:[function(g,L,D){var z=g("../internals/is-callable"),h=g("../internals/try-to-string"),v=TypeError;L.exports=function(E){if(z(E))return E;
throw new v(h(E)+" is not a function");}},{"../internals/is-callable":161,"../internals/try-to-string":228}],80:[function(g,L,D){var z=g("../internals/is-constructor"),h=g("../internals/try-to-string"),v=TypeError;L.exports=function(E){if(z(E))return E;throw new v(h(E)+" is not a constructor");}},{"../internals/is-constructor":162,"../internals/try-to-string":228}],81:[function(g,L,D){var z=g("../internals/is-callable"),h=String,v=TypeError;L.exports=function(E){if("object"==typeof E||z(E))return E;
throw new v("Can't set "+h(E)+" as a prototype");}},{"../internals/is-callable":161}],82:[function(g,L,D){D=g("../internals/well-known-symbol");var z=g("../internals/object-create");g=g("../internals/object-define-property").f;var h=D("unscopables"),v=Array.prototype;void 0===v[h]&&g(v,h,{configurable:!0,value:z(null)});L.exports=function(E){v[h][E]=!0}},{"../internals/object-create":182,"../internals/object-define-property":184,"../internals/well-known-symbol":237}],83:[function(g,L,D){var z=g("../internals/object-is-prototype-of"),
h=TypeError;L.exports=function(v,E){if(z(E,v))return v;throw new h("Incorrect invocation");}},{"../internals/object-is-prototype-of":191}],84:[function(g,L,D){var z=g("../internals/is-object"),h=String,v=TypeError;L.exports=function(E){if(z(E))return E;throw new v(h(E)+" is not an object");}},{"../internals/is-object":165}],85:[function(g,L,D){L.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],86:[function(g,L,D){g=g("../internals/fails");L.exports=g(function(){if("function"==
typeof ArrayBuffer){var z=new ArrayBuffer(8);Object.isExtensible(z)&&Object.defineProperty(z,"a",{value:8})}})},{"../internals/fails":132}],87:[function(g,L,D){var z=g("../internals/array-buffer-basic-detection"),h=g("../internals/descriptors"),v=g("../internals/global"),E=g("../internals/is-callable"),b=g("../internals/is-object"),d=g("../internals/has-own-property"),w=g("../internals/classof"),a=g("../internals/try-to-string");D=g("../internals/create-non-enumerable-property");var l=g("../internals/define-built-in"),
q=g("../internals/define-built-in-accessor"),r=g("../internals/object-is-prototype-of"),k=g("../internals/object-get-prototype-of"),c=g("../internals/object-set-prototype-of"),f=g("../internals/well-known-symbol"),p=g("../internals/uid"),e=g("../internals/internal-state");g=e.enforce;var n=e.get,u=v.Int8Array,A=u&&u.prototype;e=(e=v.Uint8ClampedArray)&&e.prototype;var C=u&&k(u),B=A&&k(A);u=Object.prototype;var I=v.TypeError;f=f("toStringTag");var N=p("TYPED_ARRAY_TAG"),y=z&&!!c&&"Opera"!==w(v.opera);
z=!1;var G,H,O={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},J={BigInt64Array:8,BigUint64Array:8},R=function(Y){Y=k(Y);if(b(Y)){var pa=n(Y);return pa&&d(pa,"TypedArrayConstructor")?pa.TypedArrayConstructor:R(Y)}},ea=function(Y){if(!b(Y))return!1;Y=w(Y);return d(O,Y)||d(J,Y)};for(G in O)(H=(p=v[G])&&p.prototype)?g(H).TypedArrayConstructor=p:y=!1;for(G in J)(H=(p=v[G])&&p.prototype)&&(g(H).TypedArrayConstructor=p);
if(!y||!E(C)||C===Function.prototype)if(C=function(){throw new I("Incorrect invocation");},y)for(G in O)v[G]&&c(v[G],C);if(!y||!B||B===u)if(B=C.prototype,y)for(G in O)v[G]&&c(v[G].prototype,B);y&&k(e)!==B&&c(e,B);if(h&&!d(B,f))for(G in z=!0,q(B,f,{configurable:!0,get:function(){return b(this)?this[N]:void 0}}),O)v[G]&&D(v[G],N,G);L.exports={NATIVE_ARRAY_BUFFER_VIEWS:y,TYPED_ARRAY_TAG:z&&N,aTypedArray:function(Y){if(ea(Y))return Y;throw new I("Target is not a typed array");},aTypedArrayConstructor:function(Y){if(E(Y)&&
(!c||r(C,Y)))return Y;throw new I(a(Y)+" is not a typed array constructor");},exportTypedArrayMethod:function(Y,pa,ka,Q){if(h){if(ka)for(var ja in O){var na=v[ja];if(na&&d(na.prototype,Y))try{delete na.prototype[Y]}catch(za){try{na.prototype[Y]=pa}catch(ia){}}}B[Y]&&!ka||l(B,Y,ka?pa:y&&A[Y]||pa,Q)}},exportTypedArrayStaticMethod:function(Y,pa,ka){var Q,ja;if(h){if(c){if(ka)for(Q in O)if((ja=v[Q])&&d(ja,Y))try{delete ja[Y]}catch(na){}if(!C[Y]||ka)try{return l(C,Y,ka?pa:y&&C[Y]||pa)}catch(na){}else return}for(Q in O)ja=
v[Q],!ja||ja[Y]&&!ka||l(ja,Y,pa)}},getTypedArrayConstructor:R,isView:function(Y){if(!b(Y))return!1;Y=w(Y);return"DataView"===Y||d(O,Y)||d(J,Y)},isTypedArray:ea,TypedArray:C,TypedArrayPrototype:B}},{"../internals/array-buffer-basic-detection":85,"../internals/classof":98,"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/global":147,"../internals/has-own-property":148,"../internals/internal-state":158,
"../internals/is-callable":161,"../internals/is-object":165,"../internals/object-get-prototype-of":189,"../internals/object-is-prototype-of":191,"../internals/object-set-prototype-of":195,"../internals/try-to-string":228,"../internals/uid":230,"../internals/well-known-symbol":237}],88:[function(g,L,D){var z=g("../internals/to-object"),h=g("../internals/to-absolute-index"),v=g("../internals/length-of-array-like");L.exports=function(E){var b=z(this),d=v(b),w=arguments.length,a=h(1<w?arguments[1]:void 0,
d);w=2<w?arguments[2]:void 0;for(d=void 0===w?d:h(w,d);d>a;)b[a++]=E;return b}},{"../internals/length-of-array-like":175,"../internals/to-absolute-index":218,"../internals/to-object":223}],89:[function(g,L,D){var z=g("../internals/to-indexed-object"),h=g("../internals/to-absolute-index"),v=g("../internals/length-of-array-like");g=function(E){return function(b,d,w){b=z(b);var a=v(b);w=h(w,a);if(E&&d!==d)for(;a>w;){if(d=b[w++],d!==d)return!0}else for(;a>w;w++)if((E||w in b)&&b[w]===d)return E||w||0;
return!E&&-1}};L.exports={includes:g(!0),indexOf:g(!1)}},{"../internals/length-of-array-like":175,"../internals/to-absolute-index":218,"../internals/to-indexed-object":220}],90:[function(g,L,D){var z=g("../internals/function-bind-context");D=g("../internals/function-uncurry-this");var h=g("../internals/indexed-object"),v=g("../internals/to-object"),E=g("../internals/length-of-array-like"),b=g("../internals/array-species-create"),d=D([].push);g=function(w){var a=1===w,l=2===w,q=3===w,r=4===w,k=6===
w,c=7===w,f=5===w||k;return function(p,e,n,u){var A=v(p),C=h(A);e=z(e,n);n=E(C);var B=0;u=u||b;p=a?u(p,n):l||c?u(p,0):void 0;for(var I;n>B;B++)if(f||B in C)if(u=C[B],I=e(u,B,A),w)if(a)p[B]=I;else if(I)switch(w){case 3:return!0;case 5:return u;case 6:return B;case 2:d(p,u)}else switch(w){case 4:return!1;case 7:d(p,u)}return k?-1:q||r?r:p}};L.exports={forEach:g(0),map:g(1),filter:g(2),some:g(3),every:g(4),find:g(5),findIndex:g(6),filterReject:g(7)}},{"../internals/array-species-create":95,"../internals/function-bind-context":135,
"../internals/function-uncurry-this":141,"../internals/indexed-object":153,"../internals/length-of-array-like":175,"../internals/to-object":223}],91:[function(g,L,D){var z=g("../internals/fails");D=g("../internals/well-known-symbol");var h=g("../internals/engine-v8-version"),v=D("species");L.exports=function(E){return 51<=h||!z(function(){var b=[];(b.constructor={})[v]=function(){return{foo:1}};return 1!==b[E](Boolean).foo})}},{"../internals/engine-v8-version":125,"../internals/fails":132,"../internals/well-known-symbol":237}],
92:[function(g,L,D){var z=g("../internals/to-absolute-index"),h=g("../internals/length-of-array-like"),v=g("../internals/create-property"),E=Array,b=Math.max;L.exports=function(d,w,a){var l=h(d);w=z(w,l);a=z(void 0===a?l:a,l);l=E(b(a-w,0));for(var q=0;w<a;w++,q++)v(l,q,d[w]);l.length=q;return l}},{"../internals/create-property":107,"../internals/length-of-array-like":175,"../internals/to-absolute-index":218}],93:[function(g,L,D){g=g("../internals/function-uncurry-this");L.exports=g([].slice)},{"../internals/function-uncurry-this":141}],
94:[function(g,L,D){var z=g("../internals/is-array"),h=g("../internals/is-constructor"),v=g("../internals/is-object"),E=g("../internals/well-known-symbol")("species"),b=Array;L.exports=function(d){if(z(d)){var w=d.constructor;h(w)&&(w===b||z(w.prototype))?w=void 0:v(w)&&(w=w[E],null===w&&(w=void 0))}return void 0===w?b:w}},{"../internals/is-array":160,"../internals/is-constructor":162,"../internals/is-object":165,"../internals/well-known-symbol":237}],95:[function(g,L,D){var z=g("../internals/array-species-constructor");
L.exports=function(h,v){return new (z(h))(0===v?0:v)}},{"../internals/array-species-constructor":94}],96:[function(g,L,D){var z=g("../internals/well-known-symbol")("iterator"),h=!1;try{var v=0;g={next:function(){return{done:!!v++}},"return":function(){h=!0}};g[z]=function(){return this};Array.from(g,function(){throw 2;})}catch(E){}L.exports=function(E,b){if(!b&&!h)return!1;var d=!1;try{b={},b[z]=function(){return{next:function(){return{done:d=!0}}}},E(b)}catch(w){}return d}},{"../internals/well-known-symbol":237}],
97:[function(g,L,D){g=g("../internals/function-uncurry-this");var z=g({}.toString),h=g("".slice);L.exports=function(v){return h(z(v),8,-1)}},{"../internals/function-uncurry-this":141}],98:[function(g,L,D){D=g("../internals/to-string-tag-support");var z=g("../internals/is-callable"),h=g("../internals/classof-raw"),v=g("../internals/well-known-symbol")("toStringTag"),E=Object,b="Arguments"===h(function(){return arguments}());L.exports=D?h:function(d){var w;if(void 0===d)var a="Undefined";else{if(null===
d)var l="Null";else{a:{var q=d=E(d);try{l=q[v];break a}catch(r){}l=void 0}l="string"==typeof(a=l)?a:b?h(d):"Object"===(w=h(d))&&z(d.callee)?"Arguments":w}a=l}return a}},{"../internals/classof-raw":97,"../internals/is-callable":161,"../internals/to-string-tag-support":226,"../internals/well-known-symbol":237}],99:[function(g,L,D){var z=g("../internals/object-create"),h=g("../internals/define-built-in-accessor"),v=g("../internals/define-built-ins"),E=g("../internals/function-bind-context"),b=g("../internals/an-instance"),
d=g("../internals/is-null-or-undefined"),w=g("../internals/iterate"),a=g("../internals/iterator-define"),l=g("../internals/create-iter-result-object"),q=g("../internals/set-species"),r=g("../internals/descriptors"),k=g("../internals/internal-metadata").fastKey;g=g("../internals/internal-state");var c=g.set,f=g.getterFor;L.exports={getConstructor:function(p,e,n,u){p=p(function(N,y){b(N,A);c(N,{type:e,index:z(null),first:void 0,last:void 0,size:0});r||(N.size=0);d(y)||w(y,N[u],{that:N,AS_ENTRIES:n})});
var A=p.prototype,C=f(e),B=function(N,y,G){var H=C(N),O=I(N,y),J,R;O?O.value=G:(H.last=O={index:R=k(y,!0),key:y,value:G,previous:J=H.last,next:void 0,removed:!1},H.first||(H.first=O),J&&(J.next=O),r?H.size++:N.size++,"F"!==R&&(H.index[R]=O));return N},I=function(N,y){N=C(N);var G=k(y);if("F"!==G)return N.index[G];for(N=N.first;N;N=N.next)if(N.key===y)return N};v(A,{clear:function(){for(var N=C(this),y=N.index,G=N.first;G;)G.removed=!0,G.previous&&(G.previous=G.previous.next=void 0),delete y[G.index],
G=G.next;N.first=N.last=void 0;r?N.size=0:this.size=0},"delete":function(N){var y=C(this);if(N=I(this,N)){var G=N.next,H=N.previous;delete y.index[N.index];N.removed=!0;H&&(H.next=G);G&&(G.previous=H);y.first===N&&(y.first=G);y.last===N&&(y.last=H);r?y.size--:this.size--}return!!N},forEach:function(N){for(var y=C(this),G=E(N,1<arguments.length?arguments[1]:void 0),H;H=H?H.next:y.first;)for(G(H.value,H.key,this);H&&H.removed;)H=H.previous},has:function(N){return!!I(this,N)}});v(A,n?{get:function(N){return(N=
I(this,N))&&N.value},set:function(N,y){return B(this,0===N?0:N,y)}}:{add:function(N){return B(this,N=0===N?0:N,N)}});r&&h(A,"size",{configurable:!0,get:function(){return C(this).size}});return p},setStrong:function(p,e,n){var u=e+" Iterator",A=f(e),C=f(u);a(p,e,function(B,I){c(this,{type:u,target:B,state:A(B),kind:I,last:void 0})},function(){for(var B=C(this),I=B.kind,N=B.last;N&&N.removed;)N=N.previous;return B.target&&(B.last=N=N?N.next:B.state.first)?"keys"===I?l(N.key,!1):"values"===I?l(N.value,
!1):l([N.key,N.value],!1):(B.target=void 0,l(void 0,!0))},n?"entries":"values",!n,!0);q(e)}}},{"../internals/an-instance":83,"../internals/create-iter-result-object":104,"../internals/define-built-in-accessor":108,"../internals/define-built-ins":110,"../internals/descriptors":112,"../internals/function-bind-context":135,"../internals/internal-metadata":157,"../internals/internal-state":158,"../internals/is-null-or-undefined":164,"../internals/iterate":169,"../internals/iterator-define":172,"../internals/object-create":182,
"../internals/set-species":207}],100:[function(g,L,D){var z=g("../internals/export"),h=g("../internals/global"),v=g("../internals/function-uncurry-this"),E=g("../internals/is-forced"),b=g("../internals/define-built-in"),d=g("../internals/internal-metadata"),w=g("../internals/iterate"),a=g("../internals/an-instance"),l=g("../internals/is-callable"),q=g("../internals/is-null-or-undefined"),r=g("../internals/is-object"),k=g("../internals/fails"),c=g("../internals/check-correctness-of-iteration"),f=g("../internals/set-to-string-tag"),
p=g("../internals/inherit-if-required");L.exports=function(e,n,u){var A=-1!==e.indexOf("Map"),C=-1!==e.indexOf("Weak"),B=A?"set":"add",I=h[e],N=I&&I.prototype,y=I,G={},H=function(pa){var ka=v(N[pa]);b(N,pa,"add"===pa?function(Q){ka(this,0===Q?0:Q);return this}:"delete"===pa?function(Q){return C&&!r(Q)?!1:ka(this,0===Q?0:Q)}:"get"===pa?function(Q){return C&&!r(Q)?void 0:ka(this,0===Q?0:Q)}:"has"===pa?function(Q){return C&&!r(Q)?!1:ka(this,0===Q?0:Q)}:function(Q,ja){ka(this,0===Q?0:Q,ja);return this})};
if(E(e,!l(I)||!(C||N.forEach&&!k(function(){(new I).entries().next()}))))y=u.getConstructor(n,e,A,B),d.enable();else if(E(e,!0)){var O=new y,J=O[B](C?{}:-0,1)!==O,R=k(function(){O.has(1)}),ea=c(function(pa){new I(pa)}),Y=!C&&k(function(){for(var pa=new I,ka=5;ka--;)pa[B](ka,ka);return!pa.has(-0)});ea||(y=n(function(pa,ka){a(pa,N);pa=p(new I,pa,y);q(ka)||w(ka,pa[B],{that:pa,AS_ENTRIES:A});return pa}),y.prototype=N,N.constructor=y);if(R||Y)H("delete"),H("has"),A&&H("get");(Y||J)&&H(B);C&&N.clear&&delete N.clear}G[e]=
y;z({global:!0,constructor:!0,forced:y!==I},G);f(y,e);C||u.setStrong(y,e,A);return y}},{"../internals/an-instance":83,"../internals/check-correctness-of-iteration":96,"../internals/define-built-in":109,"../internals/export":131,"../internals/fails":132,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/inherit-if-required":154,"../internals/internal-metadata":157,"../internals/is-callable":161,"../internals/is-forced":163,"../internals/is-null-or-undefined":164,"../internals/is-object":165,
"../internals/iterate":169,"../internals/set-to-string-tag":208}],101:[function(g,L,D){var z=g("../internals/has-own-property"),h=g("../internals/own-keys"),v=g("../internals/object-get-own-property-descriptor"),E=g("../internals/object-define-property");L.exports=function(b,d,w){for(var a=h(d),l=E.f,q=v.f,r=0;r<a.length;r++){var k=a[r];z(b,k)||w&&z(w,k)||l(b,k,q(d,k))}}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/object-get-own-property-descriptor":185,
"../internals/own-keys":198}],102:[function(g,L,D){var z=g("../internals/well-known-symbol")("match");L.exports=function(h){var v=/./;try{"/./"[h](v)}catch(E){try{return v[z]=!1,"/./"[h](v)}catch(b){}}return!1}},{"../internals/well-known-symbol":237}],103:[function(g,L,D){g=g("../internals/fails");L.exports=!g(function(){function z(){}z.prototype.constructor=null;return Object.getPrototypeOf(new z)!==z.prototype})},{"../internals/fails":132}],104:[function(g,L,D){L.exports=function(z,h){return{value:z,
done:h}}},{}],105:[function(g,L,D){D=g("../internals/descriptors");var z=g("../internals/object-define-property"),h=g("../internals/create-property-descriptor");L.exports=D?function(v,E,b){return z.f(v,E,h(1,b))}:function(v,E,b){v[E]=b;return v}},{"../internals/create-property-descriptor":106,"../internals/descriptors":112,"../internals/object-define-property":184}],106:[function(g,L,D){L.exports=function(z,h){return{enumerable:!(z&1),configurable:!(z&2),writable:!(z&4),value:h}}},{}],107:[function(g,
L,D){var z=g("../internals/to-property-key"),h=g("../internals/object-define-property"),v=g("../internals/create-property-descriptor");L.exports=function(E,b,d){b=z(b);b in E?h.f(E,b,v(0,d)):E[b]=d}},{"../internals/create-property-descriptor":106,"../internals/object-define-property":184,"../internals/to-property-key":225}],108:[function(g,L,D){var z=g("../internals/make-built-in"),h=g("../internals/object-define-property");L.exports=function(v,E,b){b.get&&z(b.get,E,{getter:!0});b.set&&z(b.set,E,
{setter:!0});return h.f(v,E,b)}},{"../internals/make-built-in":176,"../internals/object-define-property":184}],109:[function(g,L,D){var z=g("../internals/is-callable"),h=g("../internals/object-define-property"),v=g("../internals/make-built-in"),E=g("../internals/define-global-property");L.exports=function(b,d,w,a){a||={};var l=a.enumerable,q=void 0!==a.name?a.name:d;z(w)&&v(w,q,a);if(a.global)l?b[d]=w:E(d,w);else{try{a.unsafe?b[d]&&(l=!0):delete b[d]}catch(r){}l?b[d]=w:h.f(b,d,{value:w,enumerable:!1,
configurable:!a.nonConfigurable,writable:!a.nonWritable})}return b}},{"../internals/define-global-property":111,"../internals/is-callable":161,"../internals/make-built-in":176,"../internals/object-define-property":184}],110:[function(g,L,D){var z=g("../internals/define-built-in");L.exports=function(h,v,E){for(var b in v)z(h,b,v[b],E);return h}},{"../internals/define-built-in":109}],111:[function(g,L,D){var z=g("../internals/global"),h=Object.defineProperty;L.exports=function(v,E){try{h(z,v,{value:E,
configurable:!0,writable:!0})}catch(b){z[v]=E}return E}},{"../internals/global":147}],112:[function(g,L,D){g=g("../internals/fails");L.exports=!g(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":132}],113:[function(g,L,D){g="object"==typeof document&&document.all;L.exports={all:g,IS_HTMLDDA:"undefined"==typeof g&&void 0!==g}},{}],114:[function(g,L,D){D=g("../internals/global");g=g("../internals/is-object");var z=D.document,h=g(z)&&g(z.createElement);
L.exports=function(v){return h?z.createElement(v):{}}},{"../internals/global":147,"../internals/is-object":165}],115:[function(g,L,D){var z=TypeError;L.exports=function(h){if(9007199254740991<h)throw z("Maximum allowed index exceeded");return h}},{}],116:[function(g,L,D){L.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,
MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],117:[function(g,L,D){g=(g=g("../internals/document-create-element")("span").classList)&&g.constructor&&g.constructor.prototype;L.exports=g===Object.prototype?void 0:g},{"../internals/document-create-element":114}],118:[function(g,
L,D){D=g("../internals/engine-is-deno");g=g("../internals/engine-is-node");L.exports=!D&&!g&&"object"==typeof window&&"object"==typeof document},{"../internals/engine-is-deno":119,"../internals/engine-is-node":122}],119:[function(g,L,D){L.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},{}],120:[function(g,L,D){g=g("../internals/engine-user-agent");L.exports=/ipad|iphone|ipod/i.test(g)&&"undefined"!=typeof Pebble},{"../internals/engine-user-agent":124}],121:[function(g,L,D){g=g("../internals/engine-user-agent");
L.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(g)},{"../internals/engine-user-agent":124}],122:[function(g,L,D){D=g("../internals/global");g=g("../internals/classof-raw");L.exports="process"===g(D.process)},{"../internals/classof-raw":97,"../internals/global":147}],123:[function(g,L,D){g=g("../internals/engine-user-agent");L.exports=/web0s(?!.*chrome)/i.test(g)},{"../internals/engine-user-agent":124}],124:[function(g,L,D){L.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||
""},{}],125:[function(g,L,D){D=g("../internals/global");g=g("../internals/engine-user-agent");var z=D.process;D=D.Deno;D=(D=z&&z.versions||D&&D.version)&&D.v8;if(D){D=D.split(".");var h=0<D[0]&&4>D[0]?1:+(D[0]+D[1])}!h&&g&&(D=g.match(/Edge\/(\d+)/),(!D||74<=D[1])&&(D=g.match(/Chrome\/(\d+)/))&&(h=+D[1]));L.exports=h},{"../internals/engine-user-agent":124,"../internals/global":147}],126:[function(g,L,D){var z=g("../internals/global"),h=g("../internals/function-uncurry-this");L.exports=function(v,E){return h(z[v].prototype[E])}},
{"../internals/function-uncurry-this":141,"../internals/global":147}],127:[function(g,L,D){L.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},{}],128:[function(g,L,D){g=g("../internals/function-uncurry-this");var z=Error,h=g("".replace);g=String((new z("zxcasd")).stack);var v=/\n\s*at [^:]*:[^\n]*/,E=v.test(g);L.exports=function(b,d){if(E&&"string"==typeof b&&!z.prepareStackTrace)for(;d--;)b=h(b,v,"");return b}},{"../internals/function-uncurry-this":141}],
129:[function(g,L,D){var z=g("../internals/create-non-enumerable-property"),h=g("../internals/error-stack-clear"),v=g("../internals/error-stack-installable"),E=Error.captureStackTrace;L.exports=function(b,d,w,a){v&&(E?E(b,d):z(b,"stack",h(w,a)))}},{"../internals/create-non-enumerable-property":105,"../internals/error-stack-clear":128,"../internals/error-stack-installable":130}],130:[function(g,L,D){D=g("../internals/fails");var z=g("../internals/create-property-descriptor");L.exports=!D(function(){var h=
Error("a");if(!("stack"in h))return!0;Object.defineProperty(h,"stack",z(1,7));return 7!==h.stack})},{"../internals/create-property-descriptor":106,"../internals/fails":132}],131:[function(g,L,D){var z=g("../internals/global"),h=g("../internals/object-get-own-property-descriptor").f,v=g("../internals/create-non-enumerable-property"),E=g("../internals/define-built-in"),b=g("../internals/define-global-property"),d=g("../internals/copy-constructor-properties"),w=g("../internals/is-forced");L.exports=
function(a,l){var q=a.target,r=a.global,k=a.stat,c,f,p;if(f=r?z:k?z[q]||b(q,{}):(z[q]||{}).prototype)for(p in l){var e=l[p];var n=a.dontCallGetSet?(c=h(f,p))&&c.value:f[p];c=w(r?p:q+(k?".":"#")+p,a.forced);if(!c&&void 0!==n){if(typeof e==typeof n)continue;d(e,n)}(a.sham||n&&n.sham)&&v(e,"sham",!0);E(f,p,e,a)}}},{"../internals/copy-constructor-properties":101,"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/define-global-property":111,"../internals/global":147,
"../internals/is-forced":163,"../internals/object-get-own-property-descriptor":185}],132:[function(g,L,D){L.exports=function(z){try{return!!z()}catch(h){return!0}}},{}],133:[function(g,L,D){g=g("../internals/fails");L.exports=!g(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":132}],134:[function(g,L,D){g=g("../internals/function-bind-native");D=Function.prototype;var z=D.apply,h=D.call;L.exports="object"==typeof Reflect&&Reflect.apply||(g?h.bind(z):function(){return h.apply(z,
arguments)})},{"../internals/function-bind-native":136}],135:[function(g,L,D){D=g("../internals/function-uncurry-this-clause");var z=g("../internals/a-callable"),h=g("../internals/function-bind-native"),v=D(D.bind);L.exports=function(E,b){z(E);return void 0===b?E:h?v(E,b):function(){return E.apply(b,arguments)}}},{"../internals/a-callable":79,"../internals/function-bind-native":136,"../internals/function-uncurry-this-clause":140}],136:[function(g,L,D){g=g("../internals/fails");L.exports=!g(function(){var z=
function(){}.bind();return"function"!=typeof z||z.hasOwnProperty("prototype")})},{"../internals/fails":132}],137:[function(g,L,D){g=g("../internals/function-bind-native");var z=Function.prototype.call;L.exports=g?z.bind(z):function(){return z.apply(z,arguments)}},{"../internals/function-bind-native":136}],138:[function(g,L,D){D=g("../internals/descriptors");var z=g("../internals/has-own-property");g=Function.prototype;var h=D&&Object.getOwnPropertyDescriptor,v=(z=z(g,"name"))&&"something"===function(){}.name;
D=z&&(!D||D&&h(g,"name").configurable);L.exports={EXISTS:z,PROPER:v,CONFIGURABLE:D}},{"../internals/descriptors":112,"../internals/has-own-property":148}],139:[function(g,L,D){var z=g("../internals/function-uncurry-this"),h=g("../internals/a-callable");L.exports=function(v,E,b){try{return z(h(Object.getOwnPropertyDescriptor(v,E)[b]))}catch(d){}}},{"../internals/a-callable":79,"../internals/function-uncurry-this":141}],140:[function(g,L,D){var z=g("../internals/classof-raw"),h=g("../internals/function-uncurry-this");
L.exports=function(v){if("Function"===z(v))return h(v)}},{"../internals/classof-raw":97,"../internals/function-uncurry-this":141}],141:[function(g,L,D){g=g("../internals/function-bind-native");D=Function.prototype;var z=D.call;D=g&&D.bind.bind(z,z);L.exports=g?D:function(h){return function(){return z.apply(h,arguments)}}},{"../internals/function-bind-native":136}],142:[function(g,L,D){var z=g("../internals/global"),h=g("../internals/is-callable");L.exports=function(v,E){if(2>arguments.length){var b=
z[v];b=h(b)?b:void 0}else b=z[v]&&z[v][E];return b}},{"../internals/global":147,"../internals/is-callable":161}],143:[function(g,L,D){var z=g("../internals/classof"),h=g("../internals/get-method"),v=g("../internals/is-null-or-undefined"),E=g("../internals/iterators"),b=g("../internals/well-known-symbol")("iterator");L.exports=function(d){if(!v(d))return h(d,b)||h(d,"@@iterator")||E[z(d)]}},{"../internals/classof":98,"../internals/get-method":146,"../internals/is-null-or-undefined":164,"../internals/iterators":174,
"../internals/well-known-symbol":237}],144:[function(g,L,D){var z=g("../internals/function-call"),h=g("../internals/a-callable"),v=g("../internals/an-object"),E=g("../internals/try-to-string"),b=g("../internals/get-iterator-method"),d=TypeError;L.exports=function(w,a){var l=2>arguments.length?b(w):a;if(h(l))return v(z(l,w));throw new d(E(w)+" is not iterable");}},{"../internals/a-callable":79,"../internals/an-object":84,"../internals/function-call":137,"../internals/get-iterator-method":143,"../internals/try-to-string":228}],
145:[function(g,L,D){D=g("../internals/function-uncurry-this");var z=g("../internals/is-array"),h=g("../internals/is-callable"),v=g("../internals/classof-raw"),E=g("../internals/to-string"),b=D([].push);L.exports=function(d){if(h(d))return d;if(z(d)){for(var w=d.length,a=[],l=0;l<w;l++){var q=d[l];"string"==typeof q?b(a,q):("number"==typeof q||"Number"===v(q)||"String"===v(q))&&b(a,E(q))}var r=a.length,k=!0;return function(c,f){if(k)return k=!1,f;if(z(this))return f;for(var p=0;p<r;p++)if(a[p]===
c)return f}}}},{"../internals/classof-raw":97,"../internals/function-uncurry-this":141,"../internals/is-array":160,"../internals/is-callable":161,"../internals/to-string":227}],146:[function(g,L,D){var z=g("../internals/a-callable"),h=g("../internals/is-null-or-undefined");L.exports=function(v,E){v=v[E];return h(v)?void 0:z(v)}},{"../internals/a-callable":79,"../internals/is-null-or-undefined":164}],147:[function(g,L,D){(function(z){(function(){var h=function(v){return v&&v.Math===Math&&v};L.exports=
h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof z&&z)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],148:[function(g,L,D){D=g("../internals/function-uncurry-this");var z=g("../internals/to-object"),h=D({}.hasOwnProperty);L.exports=Object.hasOwn||function(v,E){return h(z(v),
E)}},{"../internals/function-uncurry-this":141,"../internals/to-object":223}],149:[function(g,L,D){L.exports={}},{}],150:[function(g,L,D){L.exports=function(z,h){try{1===arguments.length?console.error(z):console.error(z,h)}catch(v){}}},{}],151:[function(g,L,D){g=g("../internals/get-built-in");L.exports=g("document","documentElement")},{"../internals/get-built-in":142}],152:[function(g,L,D){D=g("../internals/descriptors");var z=g("../internals/fails"),h=g("../internals/document-create-element");L.exports=
!D&&!z(function(){return 7!==Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":112,"../internals/document-create-element":114,"../internals/fails":132}],153:[function(g,L,D){D=g("../internals/function-uncurry-this");var z=g("../internals/fails"),h=g("../internals/classof-raw"),v=Object,E=D("".split);L.exports=z(function(){return!v("z").propertyIsEnumerable(0)})?function(b){return"String"===h(b)?E(b,""):v(b)}:v},{"../internals/classof-raw":97,"../internals/fails":132,
"../internals/function-uncurry-this":141}],154:[function(g,L,D){var z=g("../internals/is-callable"),h=g("../internals/is-object"),v=g("../internals/object-set-prototype-of");L.exports=function(E,b,d){var w,a;v&&z(w=b.constructor)&&w!==d&&h(a=w.prototype)&&a!==d.prototype&&v(E,a);return E}},{"../internals/is-callable":161,"../internals/is-object":165,"../internals/object-set-prototype-of":195}],155:[function(g,L,D){D=g("../internals/function-uncurry-this");var z=g("../internals/is-callable");g=g("../internals/shared-store");
var h=D(Function.toString);z(g.inspectSource)||(g.inspectSource=function(v){return h(v)});L.exports=g.inspectSource},{"../internals/function-uncurry-this":141,"../internals/is-callable":161,"../internals/shared-store":210}],156:[function(g,L,D){var z=g("../internals/is-object"),h=g("../internals/create-non-enumerable-property");L.exports=function(v,E){z(E)&&"cause"in E&&h(v,"cause",E.cause)}},{"../internals/create-non-enumerable-property":105,"../internals/is-object":165}],157:[function(g,L,D){var z=
g("../internals/export"),h=g("../internals/function-uncurry-this");D=g("../internals/hidden-keys");var v=g("../internals/is-object"),E=g("../internals/has-own-property"),b=g("../internals/object-define-property").f,d=g("../internals/object-get-own-property-names"),w=g("../internals/object-get-own-property-names-external"),a=g("../internals/object-is-extensible"),l=g("../internals/uid"),q=g("../internals/freezing"),r=!1,k=l("meta"),c=0,f=function(e){b(e,k,{value:{objectID:"O"+c++,weakData:{}}})},p=
L.exports={enable:function(){p.enable=function(){};r=!0;var e=d.f,n=h([].splice),u={};u[k]=1;e(u).length&&(d.f=function(A){A=e(A);for(var C=0,B=A.length;C<B;C++)if(A[C]===k){n(A,C,1);break}return A},z({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:w.f}))},fastKey:function(e,n){if(!v(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!E(e,k)){if(!a(e))return"F";if(!n)return"E";f(e)}return e[k].objectID},getWeakData:function(e,n){if(!E(e,k)){if(!a(e))return!0;if(!n)return!1;f(e)}return e[k].weakData},
onFreeze:function(e){q&&r&&a(e)&&!E(e,k)&&f(e);return e}};D[k]=!0},{"../internals/export":131,"../internals/freezing":133,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/is-object":165,"../internals/object-define-property":184,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-names-external":186,"../internals/object-is-extensible":190,"../internals/uid":230}],158:[function(g,L,D){D=g("../internals/weak-map-basic-detection");
var z=g("../internals/global"),h=g("../internals/is-object"),v=g("../internals/create-non-enumerable-property"),E=g("../internals/has-own-property"),b=g("../internals/shared-store"),d=g("../internals/shared-key");g=g("../internals/hidden-keys");var w=z.TypeError;z=z.WeakMap;if(D||b.state){var a=b.state||(b.state=new z);a.get=a.get;a.has=a.has;a.set=a.set;var l=function(c,f){if(a.has(c))throw new w("Object already initialized");f.facade=c;a.set(c,f);return f};var q=function(c){return a.get(c)||{}};
var r=function(c){return a.has(c)}}else{var k=d("state");g[k]=!0;l=function(c,f){if(E(c,k))throw new w("Object already initialized");f.facade=c;v(c,k,f);return f};q=function(c){return E(c,k)?c[k]:{}};r=function(c){return E(c,k)}}L.exports={set:l,get:q,has:r,enforce:function(c){return r(c)?q(c):l(c,{})},getterFor:function(c){return function(f){var p;if(!h(f)||(p=q(f)).type!==c)throw new w("Incompatible receiver, "+c+" required");return p}}}},{"../internals/create-non-enumerable-property":105,"../internals/global":147,
"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/is-object":165,"../internals/shared-key":209,"../internals/shared-store":210,"../internals/weak-map-basic-detection":234}],159:[function(g,L,D){D=g("../internals/well-known-symbol");var z=g("../internals/iterators"),h=D("iterator"),v=Array.prototype;L.exports=function(E){return void 0!==E&&(z.Array===E||v[h]===E)}},{"../internals/iterators":174,"../internals/well-known-symbol":237}],160:[function(g,L,D){var z=g("../internals/classof-raw");
L.exports=Array.isArray||function(h){return"Array"===z(h)}},{"../internals/classof-raw":97}],161:[function(g,L,D){g=g("../internals/document-all");var z=g.all;L.exports=g.IS_HTMLDDA?function(h){return"function"==typeof h||h===z}:function(h){return"function"==typeof h}},{"../internals/document-all":113}],162:[function(g,L,D){var z=g("../internals/function-uncurry-this");D=g("../internals/fails");var h=g("../internals/is-callable"),v=g("../internals/classof"),E=g("../internals/get-built-in"),b=g("../internals/inspect-source"),
d=function(){},w=[],a=E("Reflect","construct"),l=/^\s*(?:class|function)\b/,q=z(l.exec),r=!l.test(d),k=function(c){if(!h(c))return!1;try{return a(d,w,c),!0}catch(f){return!1}};g=function(c){if(!h(c))return!1;switch(v(c)){case "AsyncFunction":case "GeneratorFunction":case "AsyncGeneratorFunction":return!1}try{return r||!!q(l,b(c))}catch(f){return!0}};g.sham=!0;L.exports=!a||D(function(){var c;return k(k.call)||!k(Object)||!k(function(){c=!0})||c})?g:k},{"../internals/classof":98,"../internals/fails":132,
"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/inspect-source":155,"../internals/is-callable":161}],163:[function(g,L,D){var z=g("../internals/fails"),h=g("../internals/is-callable"),v=/#|\.prototype\./;g=function(a,l){a=b[E(a)];return a===w?!0:a===d?!1:h(l)?z(l):!!l};var E=g.normalize=function(a){return String(a).replace(v,".").toLowerCase()},b=g.data={},d=g.NATIVE="N",w=g.POLYFILL="P";L.exports=g},{"../internals/fails":132,"../internals/is-callable":161}],
164:[function(g,L,D){L.exports=function(z){return null===z||void 0===z}},{}],165:[function(g,L,D){var z=g("../internals/is-callable");g=g("../internals/document-all");var h=g.all;L.exports=g.IS_HTMLDDA?function(v){return"object"==typeof v?null!==v:z(v)||v===h}:function(v){return"object"==typeof v?null!==v:z(v)}},{"../internals/document-all":113,"../internals/is-callable":161}],166:[function(g,L,D){L.exports=!1},{}],167:[function(g,L,D){var z=g("../internals/is-object"),h=g("../internals/classof-raw"),
v=g("../internals/well-known-symbol")("match");L.exports=function(E){var b;return z(E)&&(void 0!==(b=E[v])?!!b:"RegExp"===h(E))}},{"../internals/classof-raw":97,"../internals/is-object":165,"../internals/well-known-symbol":237}],168:[function(g,L,D){var z=g("../internals/get-built-in"),h=g("../internals/is-callable"),v=g("../internals/object-is-prototype-of");g=g("../internals/use-symbol-as-uid");var E=Object;L.exports=g?function(b){return"symbol"==typeof b}:function(b){var d=z("Symbol");return h(d)&&
v(d.prototype,E(b))}},{"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/object-is-prototype-of":191,"../internals/use-symbol-as-uid":231}],169:[function(g,L,D){var z=g("../internals/function-bind-context"),h=g("../internals/function-call"),v=g("../internals/an-object"),E=g("../internals/try-to-string"),b=g("../internals/is-array-iterator-method"),d=g("../internals/length-of-array-like"),w=g("../internals/object-is-prototype-of"),a=g("../internals/get-iterator"),l=g("../internals/get-iterator-method"),
q=g("../internals/iterator-close"),r=TypeError,k=function(f,p){this.stopped=f;this.result=p},c=k.prototype;L.exports=function(f,p,e){var n=!(!e||!e.AS_ENTRIES),u=!(!e||!e.IS_RECORD),A=!(!e||!e.IS_ITERATOR),C=!(!e||!e.INTERRUPTED),B=z(p,e&&e.that),I,N=function(G){y&&q(y,"normal",G);return new k(!0,G)};p=function(G){return n?(v(G),C?B(G[0],G[1],N):B(G[0],G[1])):C?B(G,N):B(G)};if(u)var y=f.iterator;else if(A)y=f;else{A=l(f);if(!A)throw new r(E(f)+" is not iterable");if(b(A)){u=0;for(A=d(f);A>u;u++)if((I=
p(f[u]))&&w(c,I))return I;return new k(!1)}y=a(f,A)}for(f=u?f.next:y.next;!(u=h(f,y)).done;){try{I=p(u.value)}catch(G){q(y,"throw",G)}if("object"==typeof I&&I&&w(c,I))return I}return new k(!1)}},{"../internals/an-object":84,"../internals/function-bind-context":135,"../internals/function-call":137,"../internals/get-iterator":144,"../internals/get-iterator-method":143,"../internals/is-array-iterator-method":159,"../internals/iterator-close":170,"../internals/length-of-array-like":175,"../internals/object-is-prototype-of":191,
"../internals/try-to-string":228}],170:[function(g,L,D){var z=g("../internals/function-call"),h=g("../internals/an-object"),v=g("../internals/get-method");L.exports=function(E,b,d){h(E);try{var w=v(E,"return");if(!w){if("throw"===b)throw d;return d}w=z(w,E)}catch(l){var a=!0;w=l}if("throw"===b)throw d;if(a)throw w;h(w);return d}},{"../internals/an-object":84,"../internals/function-call":137,"../internals/get-method":146}],171:[function(g,L,D){var z=g("../internals/iterators-core").IteratorPrototype,
h=g("../internals/object-create"),v=g("../internals/create-property-descriptor"),E=g("../internals/set-to-string-tag"),b=g("../internals/iterators"),d=function(){return this};L.exports=function(w,a,l,q){a+=" Iterator";w.prototype=h(z,{next:v(+!q,l)});E(w,a,!1,!0);b[a]=d;return w}},{"../internals/create-property-descriptor":106,"../internals/iterators":174,"../internals/iterators-core":173,"../internals/object-create":182,"../internals/set-to-string-tag":208}],172:[function(g,L,D){var z=g("../internals/export"),
h=g("../internals/function-call"),v=g("../internals/is-pure");D=g("../internals/function-name");var E=g("../internals/is-callable"),b=g("../internals/iterator-create-constructor"),d=g("../internals/object-get-prototype-of"),w=g("../internals/object-set-prototype-of"),a=g("../internals/set-to-string-tag"),l=g("../internals/create-non-enumerable-property"),q=g("../internals/define-built-in"),r=g("../internals/well-known-symbol"),k=g("../internals/iterators");g=g("../internals/iterators-core");var c=
D.PROPER,f=D.CONFIGURABLE,p=g.IteratorPrototype,e=g.BUGGY_SAFARI_ITERATORS,n=r("iterator"),u=function(){return this};L.exports=function(A,C,B,I,N,y,G){b(B,C,I);I=function(Q){if(Q===N&&ea)return ea;if(!e&&Q&&Q in J)return J[Q];switch(Q){case "keys":return function(){return new B(this,Q)};case "values":return function(){return new B(this,Q)};case "entries":return function(){return new B(this,Q)}}return function(){return new B(this)}};var H=C+" Iterator",O=!1,J=A.prototype,R=J[n]||J["@@iterator"]||N&&
J[N],ea=!e&&R||I(N),Y="Array"===C?J.entries||R:R,pa;Y&&(A=d(Y.call(new A)),A!==Object.prototype&&A.next&&(v||d(A)===p||(w?w(A,p):E(A[n])||q(A,n,u)),a(A,H,!0,!0),v&&(k[H]=u)));c&&"values"===N&&R&&"values"!==R.name&&(!v&&f?l(J,"name","values"):(O=!0,ea=function(){return h(R,this)}));if(N){var ka={values:I("values"),keys:y?ea:I("keys"),entries:I("entries")};if(G)for(pa in ka)!e&&!O&&pa in J||q(J,pa,ka[pa]);else z({target:C,proto:!0,forced:e||O},ka)}v&&!G||J[n]===ea||q(J,n,ea,{name:N});k[C]=ea;return ka}},
{"../internals/create-non-enumerable-property":105,"../internals/define-built-in":109,"../internals/export":131,"../internals/function-call":137,"../internals/function-name":138,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/iterator-create-constructor":171,"../internals/iterators":174,"../internals/iterators-core":173,"../internals/object-get-prototype-of":189,"../internals/object-set-prototype-of":195,"../internals/set-to-string-tag":208,"../internals/well-known-symbol":237}],
173:[function(g,L,D){D=g("../internals/fails");var z=g("../internals/is-callable"),h=g("../internals/is-object"),v=g("../internals/object-create"),E=g("../internals/object-get-prototype-of"),b=g("../internals/define-built-in"),d=g("../internals/well-known-symbol");g=g("../internals/is-pure");var w=d("iterator");d=!1;var a;if([].keys){var l=[].keys();"next"in l?(E=E(E(l)),E!==Object.prototype&&(a=E)):d=!0}!h(a)||D(function(){var q={};return a[w].call(q)!==q})?a={}:g&&(a=v(a));z(a[w])||b(a,w,function(){return this});
L.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:d}},{"../internals/define-built-in":109,"../internals/fails":132,"../internals/is-callable":161,"../internals/is-object":165,"../internals/is-pure":166,"../internals/object-create":182,"../internals/object-get-prototype-of":189,"../internals/well-known-symbol":237}],174:[function(g,L,D){arguments[4][149][0].apply(D,arguments)},{dup:149}],175:[function(g,L,D){var z=g("../internals/to-length");L.exports=function(h){return z(h.length)}},{"../internals/to-length":222}],
176:[function(g,L,D){D=g("../internals/function-uncurry-this");var z=g("../internals/fails"),h=g("../internals/is-callable"),v=g("../internals/has-own-property"),E=g("../internals/descriptors"),b=g("../internals/function-name").CONFIGURABLE,d=g("../internals/inspect-source");g=g("../internals/internal-state");var w=g.enforce,a=g.get,l=String,q=Object.defineProperty,r=D("".slice),k=D("".replace),c=D([].join),f=E&&!z(function(){return 8!==q(function(){},"length",{value:8}).length}),p=String(String).split("String");
L=L.exports=function(e,n,u){"Symbol("===r(l(n),0,7)&&(n="["+k(l(n),/^Symbol\(([^)]*)\)/,"$1")+"]");u&&u.getter&&(n="get "+n);u&&u.setter&&(n="set "+n);if(!v(e,"name")||b&&e.name!==n)E?q(e,"name",{value:n,configurable:!0}):e.name=n;f&&u&&v(u,"arity")&&e.length!==u.arity&&q(e,"length",{value:u.arity});try{u&&v(u,"constructor")&&u.constructor?E&&q(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(A){}u=w(e);v(u,"source")||(u.source=c(p,"string"==typeof n?n:""));return e};Function.prototype.toString=
L(function(){return h(this)&&a(this).source||d(this)},"toString")},{"../internals/descriptors":112,"../internals/fails":132,"../internals/function-name":138,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/inspect-source":155,"../internals/internal-state":158,"../internals/is-callable":161}],177:[function(g,L,D){var z=Math.ceil,h=Math.floor;L.exports=Math.trunc||function(v){v=+v;return(0<v?h:z)(v)}},{}],178:[function(g,L,D){var z=g("../internals/global");
D=g("../internals/function-bind-context");var h=g("../internals/object-get-own-property-descriptor").f,v=g("../internals/task").set,E=g("../internals/queue"),b=g("../internals/engine-is-ios"),d=g("../internals/engine-is-ios-pebble"),w=g("../internals/engine-is-webos-webkit"),a=g("../internals/engine-is-node"),l=z.MutationObserver||z.WebKitMutationObserver,q=z.document,r=z.process;g=z.Promise;h=(h=h(z,"queueMicrotask"))&&h.value;if(!h){var k=new E,c=function(){var u,A;for(a&&(u=r.domain)&&u.exit();A=
k.get();)try{A()}catch(C){throw k.head&&p(),C;}u&&u.enter()};if(b||a||w||!l||!q)if(!d&&g&&g.resolve){z=g.resolve(void 0);z.constructor=g;var f=D(z.then,z);var p=function(){f(c)}}else a?p=function(){r.nextTick(c)}:(v=D(v,z),p=function(){v(c)});else{var e=!0;var n=q.createTextNode("");(new l(c)).observe(n,{characterData:!0});p=function(){n.data=e=!e}}h=function(u){k.head||p();k.add(u)}}L.exports=h},{"../internals/engine-is-ios":121,"../internals/engine-is-ios-pebble":120,"../internals/engine-is-node":122,
"../internals/engine-is-webos-webkit":123,"../internals/function-bind-context":135,"../internals/global":147,"../internals/object-get-own-property-descriptor":185,"../internals/queue":205,"../internals/task":217}],179:[function(g,L,D){var z=g("../internals/a-callable"),h=TypeError,v=function(E){var b,d;this.promise=new E(function(w,a){if(void 0!==b||void 0!==d)throw new h("Bad Promise constructor");b=w;d=a});this.resolve=z(b);this.reject=z(d)};L.exports.f=function(E){return new v(E)}},{"../internals/a-callable":79}],
180:[function(g,L,D){var z=g("../internals/to-string");L.exports=function(h,v){return void 0===h?2>arguments.length?"":v:z(h)}},{"../internals/to-string":227}],181:[function(g,L,D){var z=g("../internals/is-regexp"),h=TypeError;L.exports=function(v){if(z(v))throw new h("The method doesn't accept regular expressions");return v}},{"../internals/is-regexp":167}],182:[function(g,L,D){var z=g("../internals/an-object"),h=g("../internals/object-define-properties"),v=g("../internals/enum-bug-keys");D=g("../internals/hidden-keys");
var E=g("../internals/html"),b=g("../internals/document-create-element"),d=g("../internals/shared-key")("IE_PROTO"),w=function(){},a=function(r){r.write("<script>\x3c/script>");r.close();return r.parentWindow.Object},l,q=function(){try{l=new ActiveXObject("htmlfile")}catch(k){}if("undefined"!=typeof document)if(document.domain&&l)var r=a(l);else r=b("iframe"),r.style.display="none",E.appendChild(r),r.src="javascript:",r=r.contentWindow.document,r.open(),r.write("<script>document.F=Object\x3c/script>"),
r.close(),r=r.F;else r=a(l);q=r;for(r=v.length;r--;)delete q.prototype[v[r]];return q()};D[d]=!0;L.exports=Object.create||function(r,k){if(null!==r){w.prototype=z(r);var c=new w;w.prototype=null;c[d]=r}else c=q();return void 0===k?c:h.f(c,k)}},{"../internals/an-object":84,"../internals/document-create-element":114,"../internals/enum-bug-keys":127,"../internals/hidden-keys":149,"../internals/html":151,"../internals/object-define-properties":183,"../internals/shared-key":209}],183:[function(g,L,D){L=
g("../internals/descriptors");var z=g("../internals/v8-prototype-define-bug"),h=g("../internals/object-define-property"),v=g("../internals/an-object"),E=g("../internals/to-indexed-object"),b=g("../internals/object-keys");D.f=L&&!z?Object.defineProperties:function(d,w){v(d);var a=E(w);w=b(w);for(var l=w.length,q=0,r;l>q;)h.f(d,r=w[q++],a[r]);return d}},{"../internals/an-object":84,"../internals/descriptors":112,"../internals/object-define-property":184,"../internals/object-keys":193,"../internals/to-indexed-object":220,
"../internals/v8-prototype-define-bug":232}],184:[function(g,L,D){L=g("../internals/descriptors");var z=g("../internals/ie8-dom-define"),h=g("../internals/v8-prototype-define-bug"),v=g("../internals/an-object"),E=g("../internals/to-property-key"),b=TypeError,d=Object.defineProperty,w=Object.getOwnPropertyDescriptor;D.f=L?h?function(a,l,q){v(a);l=E(l);v(q);if("function"===typeof a&&"prototype"===l&&"value"in q&&"writable"in q&&!q.writable){var r=w(a,l);r&&r.writable&&(a[l]=q.value,q={configurable:"configurable"in
q?q.configurable:r.configurable,enumerable:"enumerable"in q?q.enumerable:r.enumerable,writable:!1})}return d(a,l,q)}:d:function(a,l,q){v(a);l=E(l);v(q);if(z)try{return d(a,l,q)}catch(r){}if("get"in q||"set"in q)throw new b("Accessors not supported");"value"in q&&(a[l]=q.value);return a}},{"../internals/an-object":84,"../internals/descriptors":112,"../internals/ie8-dom-define":152,"../internals/to-property-key":225,"../internals/v8-prototype-define-bug":232}],185:[function(g,L,D){L=g("../internals/descriptors");
var z=g("../internals/function-call"),h=g("../internals/object-property-is-enumerable"),v=g("../internals/create-property-descriptor"),E=g("../internals/to-indexed-object"),b=g("../internals/to-property-key"),d=g("../internals/has-own-property"),w=g("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;D.f=L?a:function(l,q){l=E(l);q=b(q);if(w)try{return a(l,q)}catch(r){}if(d(l,q))return v(!z(h.f,l,q),l[q])}},{"../internals/create-property-descriptor":106,"../internals/descriptors":112,
"../internals/function-call":137,"../internals/has-own-property":148,"../internals/ie8-dom-define":152,"../internals/object-property-is-enumerable":194,"../internals/to-indexed-object":220,"../internals/to-property-key":225}],186:[function(g,L,D){var z=g("../internals/classof-raw"),h=g("../internals/to-indexed-object"),v=g("../internals/object-get-own-property-names").f,E=g("../internals/array-slice-simple"),b="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):
[];L.exports.f=function(d){if(b&&"Window"===z(d))try{var w=v(d)}catch(a){w=E(b)}else w=v(h(d));return w}},{"../internals/array-slice-simple":92,"../internals/classof-raw":97,"../internals/object-get-own-property-names":187,"../internals/to-indexed-object":220}],187:[function(g,L,D){var z=g("../internals/object-keys-internal"),h=g("../internals/enum-bug-keys").concat("length","prototype");D.f=Object.getOwnPropertyNames||function(v){return z(v,h)}},{"../internals/enum-bug-keys":127,"../internals/object-keys-internal":192}],
188:[function(g,L,D){D.f=Object.getOwnPropertySymbols},{}],189:[function(g,L,D){var z=g("../internals/has-own-property"),h=g("../internals/is-callable"),v=g("../internals/to-object");D=g("../internals/shared-key");g=g("../internals/correct-prototype-getter");var E=D("IE_PROTO"),b=Object,d=b.prototype;L.exports=g?b.getPrototypeOf:function(w){w=v(w);if(z(w,E))return w[E];var a=w.constructor;return h(a)&&w instanceof a?a.prototype:w instanceof b?d:null}},{"../internals/correct-prototype-getter":103,
"../internals/has-own-property":148,"../internals/is-callable":161,"../internals/shared-key":209,"../internals/to-object":223}],190:[function(g,L,D){D=g("../internals/fails");var z=g("../internals/is-object"),h=g("../internals/classof-raw"),v=g("../internals/array-buffer-non-extensible"),E=Object.isExtensible;g=D(function(){E(1)});L.exports=g||v?function(b){return!z(b)||v&&"ArrayBuffer"===h(b)?!1:E?E(b):!0}:E},{"../internals/array-buffer-non-extensible":86,"../internals/classof-raw":97,"../internals/fails":132,
"../internals/is-object":165}],191:[function(g,L,D){g=g("../internals/function-uncurry-this");L.exports=g({}.isPrototypeOf)},{"../internals/function-uncurry-this":141}],192:[function(g,L,D){D=g("../internals/function-uncurry-this");var z=g("../internals/has-own-property"),h=g("../internals/to-indexed-object"),v=g("../internals/array-includes").indexOf,E=g("../internals/hidden-keys"),b=D([].push);L.exports=function(d,w){d=h(d);var a=0,l=[],q;for(q in d)!z(E,q)&&z(d,q)&&b(l,q);for(;w.length>a;)z(d,
q=w[a++])&&(~v(l,q)||b(l,q));return l}},{"../internals/array-includes":89,"../internals/function-uncurry-this":141,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/to-indexed-object":220}],193:[function(g,L,D){var z=g("../internals/object-keys-internal"),h=g("../internals/enum-bug-keys");L.exports=Object.keys||function(v){return z(v,h)}},{"../internals/enum-bug-keys":127,"../internals/object-keys-internal":192}],194:[function(g,L,D){g={}.propertyIsEnumerable;var z=
Object.getOwnPropertyDescriptor;L=z&&!g.call({1:2},1);D.f=L?function(h){h=z(this,h);return!!h&&h.enumerable}:g},{}],195:[function(g,L,D){var z=g("../internals/function-uncurry-this-accessor"),h=g("../internals/an-object"),v=g("../internals/a-possible-prototype");L.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var E=!1,b={};try{var d=z(Object.prototype,"__proto__","set");d(b,[]);E=b instanceof Array}catch(w){}return function(w,a){h(w);v(a);E?d(w,a):w.__proto__=a;return w}}():void 0)},
{"../internals/a-possible-prototype":81,"../internals/an-object":84,"../internals/function-uncurry-this-accessor":139}],196:[function(g,L,D){D=g("../internals/to-string-tag-support");var z=g("../internals/classof");L.exports=D?{}.toString:function(){return"[object "+z(this)+"]"}},{"../internals/classof":98,"../internals/to-string-tag-support":226}],197:[function(g,L,D){var z=g("../internals/function-call"),h=g("../internals/is-callable"),v=g("../internals/is-object"),E=TypeError;L.exports=function(b,
d){var w,a;if("string"===d&&h(w=b.toString)&&!v(a=z(w,b))||h(w=b.valueOf)&&!v(a=z(w,b))||"string"!==d&&h(w=b.toString)&&!v(a=z(w,b)))return a;throw new E("Can't convert object to primitive value");}},{"../internals/function-call":137,"../internals/is-callable":161,"../internals/is-object":165}],198:[function(g,L,D){D=g("../internals/get-built-in");var z=g("../internals/function-uncurry-this"),h=g("../internals/object-get-own-property-names"),v=g("../internals/object-get-own-property-symbols"),E=g("../internals/an-object"),
b=z([].concat);L.exports=D("Reflect","ownKeys")||function(d){var w=h.f(E(d)),a=v.f;return a?b(w,a(d)):w}},{"../internals/an-object":84,"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-symbols":188}],199:[function(g,L,D){g=g("../internals/global");L.exports=g},{"../internals/global":147}],200:[function(g,L,D){L.exports=function(z){try{return{error:!1,value:z()}}catch(h){return{error:!0,value:h}}}},
{}],201:[function(g,L,D){D=g("../internals/global");var z=g("../internals/promise-native-constructor"),h=g("../internals/is-callable"),v=g("../internals/is-forced"),E=g("../internals/inspect-source"),b=g("../internals/well-known-symbol"),d=g("../internals/engine-is-browser"),w=g("../internals/engine-is-deno"),a=g("../internals/is-pure"),l=g("../internals/engine-v8-version"),q=z&&z.prototype,r=b("species"),k=!1,c=h(D.PromiseRejectionEvent);g=v("Promise",function(){var f=E(z),p=f!==String(z);if(!p&&
66===l||a&&(!q["catch"]||!q["finally"]))return!0;if(!l||51>l||!/native code/.test(f)){f=new z(function(n){n(1)});var e=function(n){n(function(){},function(){})};(f.constructor={})[r]=e;k=f.then(function(){})instanceof e;if(!k)return!0}return!p&&(d||w)&&!c});L.exports={CONSTRUCTOR:g,REJECTION_EVENT:c,SUBCLASSING:k}},{"../internals/engine-is-browser":118,"../internals/engine-is-deno":119,"../internals/engine-v8-version":125,"../internals/global":147,"../internals/inspect-source":155,"../internals/is-callable":161,
"../internals/is-forced":163,"../internals/is-pure":166,"../internals/promise-native-constructor":202,"../internals/well-known-symbol":237}],202:[function(g,L,D){g=g("../internals/global");L.exports=g.Promise},{"../internals/global":147}],203:[function(g,L,D){var z=g("../internals/an-object"),h=g("../internals/is-object"),v=g("../internals/new-promise-capability");L.exports=function(E,b){z(E);if(h(b)&&b.constructor===E)return b;E=v.f(E);var d=E.resolve;d(b);return E.promise}},{"../internals/an-object":84,
"../internals/is-object":165,"../internals/new-promise-capability":179}],204:[function(g,L,D){var z=g("../internals/promise-native-constructor");D=g("../internals/check-correctness-of-iteration");g=g("../internals/promise-constructor-detection").CONSTRUCTOR;L.exports=g||!D(function(h){z.all(h).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":96,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202}],205:[function(g,L,D){g=function(){this.tail=
this.head=null};g.prototype={add:function(z){z={item:z,next:null};var h=this.tail;h?h.next=z:this.head=z;this.tail=z},get:function(){var z=this.head;if(z)return null===(this.head=z.next)&&(this.tail=null),z.item}};L.exports=g},{}],206:[function(g,L,D){var z=g("../internals/is-null-or-undefined"),h=TypeError;L.exports=function(v){if(z(v))throw new h("Can't call method on "+v);return v}},{"../internals/is-null-or-undefined":164}],207:[function(g,L,D){var z=g("../internals/get-built-in"),h=g("../internals/define-built-in-accessor");
D=g("../internals/well-known-symbol");var v=g("../internals/descriptors"),E=D("species");L.exports=function(b){b=z(b);v&&b&&!b[E]&&h(b,E,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/get-built-in":142,"../internals/well-known-symbol":237}],208:[function(g,L,D){var z=g("../internals/object-define-property").f,h=g("../internals/has-own-property"),v=g("../internals/well-known-symbol")("toStringTag");L.exports=
function(E,b,d){E&&!d&&(E=E.prototype);E&&!h(E,v)&&z(E,v,{configurable:!0,value:b})}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/well-known-symbol":237}],209:[function(g,L,D){D=g("../internals/shared");var z=g("../internals/uid"),h=D("keys");L.exports=function(v){return h[v]||(h[v]=z(v))}},{"../internals/shared":211,"../internals/uid":230}],210:[function(g,L,D){D=g("../internals/global");g=g("../internals/define-global-property");g=D["__core-js_shared__"]||
g("__core-js_shared__",{});L.exports=g},{"../internals/define-global-property":111,"../internals/global":147}],211:[function(g,L,D){D=g("../internals/is-pure");var z=g("../internals/shared-store");(L.exports=function(h,v){return z[h]||(z[h]=void 0!==v?v:{})})("versions",[]).push({version:"3.33.2",mode:D?"pure":"global",copyright:"\u00a9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":166,
"../internals/shared-store":210}],212:[function(g,L,D){var z=g("../internals/an-object"),h=g("../internals/a-constructor"),v=g("../internals/is-null-or-undefined"),E=g("../internals/well-known-symbol")("species");L.exports=function(b,d){b=z(b).constructor;var w;return void 0===b||v(w=z(b)[E])?d:h(w)}},{"../internals/a-constructor":80,"../internals/an-object":84,"../internals/is-null-or-undefined":164,"../internals/well-known-symbol":237}],213:[function(g,L,D){D=g("../internals/function-uncurry-this");
var z=g("../internals/to-integer-or-infinity"),h=g("../internals/to-string"),v=g("../internals/require-object-coercible"),E=D("".charAt),b=D("".charCodeAt),d=D("".slice);g=function(w){return function(a,l){a=h(v(a));l=z(l);var q=a.length,r;if(0>l||l>=q)return w?"":void 0;var k=b(a,l);return 55296>k||56319<k||l+1===q||56320>(r=b(a,l+1))||57343<r?w?E(a,l):k:w?d(a,l,l+2):(k-55296<<10)+(r-56320)+65536}};L.exports={codeAt:g(!1),charAt:g(!0)}},{"../internals/function-uncurry-this":141,"../internals/require-object-coercible":206,
"../internals/to-integer-or-infinity":221,"../internals/to-string":227}],214:[function(g,L,D){var z=g("../internals/engine-v8-version");D=g("../internals/fails");var h=g("../internals/global").String;L.exports=!!Object.getOwnPropertySymbols&&!D(function(){var v=Symbol("symbol detection");return!h(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&z&&41>z})},{"../internals/engine-v8-version":125,"../internals/fails":132,"../internals/global":147}],215:[function(g,L,D){var z=g("../internals/function-call"),
h=g("../internals/get-built-in"),v=g("../internals/well-known-symbol"),E=g("../internals/define-built-in");L.exports=function(){var b=h("Symbol"),d=(b=b&&b.prototype)&&b.valueOf,w=v("toPrimitive");b&&!b[w]&&E(b,w,function(a){return z(d,this)},{arity:1})}},{"../internals/define-built-in":109,"../internals/function-call":137,"../internals/get-built-in":142,"../internals/well-known-symbol":237}],216:[function(g,L,D){g=g("../internals/symbol-constructor-detection");L.exports=g&&!!Symbol["for"]&&!!Symbol.keyFor},
{"../internals/symbol-constructor-detection":214}],217:[function(g,L,D){var z=g("../internals/global"),h=g("../internals/function-apply");D=g("../internals/function-bind-context");var v=g("../internals/is-callable"),E=g("../internals/has-own-property"),b=g("../internals/fails"),d=g("../internals/html"),w=g("../internals/array-slice"),a=g("../internals/document-create-element"),l=g("../internals/validate-arguments-length"),q=g("../internals/engine-is-ios"),r=g("../internals/engine-is-node");g=z.setImmediate;
var k=z.clearImmediate,c=z.process,f=z.Dispatch,p=z.Function,e=z.MessageChannel,n=z.String,u=0,A={},C;b(function(){C=z.location});var B=function(H){if(E(A,H)){var O=A[H];delete A[H];O()}},I=function(H){return function(){B(H)}},N=function(H){B(H.data)},y=function(H){z.postMessage(n(H),C.protocol+"//"+C.host)};if(!g||!k)if(g=function(H){l(arguments.length,1);var O=v(H)?H:p(H),J=w(arguments,1);A[++u]=function(){h(O,void 0,J)};G(u);return u},k=function(H){delete A[H]},r)var G=function(H){c.nextTick(I(H))};
else f&&f.now?G=function(H){f.now(I(H))}:e&&!q?(b=new e,q=b.port2,b.port1.onmessage=N,G=D(q.postMessage,q)):z.addEventListener&&v(z.postMessage)&&!z.importScripts&&C&&"file:"!==C.protocol&&!b(y)?(G=y,z.addEventListener("message",N,!1)):G="onreadystatechange"in a("script")?function(H){d.appendChild(a("script")).onreadystatechange=function(){d.removeChild(this);B(H)}}:function(H){setTimeout(I(H),0)};L.exports={set:g,clear:k}},{"../internals/array-slice":93,"../internals/document-create-element":114,
"../internals/engine-is-ios":121,"../internals/engine-is-node":122,"../internals/fails":132,"../internals/function-apply":134,"../internals/function-bind-context":135,"../internals/global":147,"../internals/has-own-property":148,"../internals/html":151,"../internals/is-callable":161,"../internals/validate-arguments-length":233}],218:[function(g,L,D){var z=g("../internals/to-integer-or-infinity"),h=Math.max,v=Math.min;L.exports=function(E,b){E=z(E);return 0>E?h(E+b,0):v(E,b)}},{"../internals/to-integer-or-infinity":221}],
219:[function(g,L,D){var z=g("../internals/to-primitive"),h=TypeError;L.exports=function(v){v=z(v,"number");if("number"==typeof v)throw new h("Can't convert number to bigint");return BigInt(v)}},{"../internals/to-primitive":224}],220:[function(g,L,D){var z=g("../internals/indexed-object"),h=g("../internals/require-object-coercible");L.exports=function(v){return z(h(v))}},{"../internals/indexed-object":153,"../internals/require-object-coercible":206}],221:[function(g,L,D){var z=g("../internals/math-trunc");
L.exports=function(h){h=+h;return h!==h||0===h?0:z(h)}},{"../internals/math-trunc":177}],222:[function(g,L,D){var z=g("../internals/to-integer-or-infinity"),h=Math.min;L.exports=function(v){return 0<v?h(z(v),9007199254740991):0}},{"../internals/to-integer-or-infinity":221}],223:[function(g,L,D){var z=g("../internals/require-object-coercible"),h=Object;L.exports=function(v){return h(z(v))}},{"../internals/require-object-coercible":206}],224:[function(g,L,D){var z=g("../internals/function-call"),h=
g("../internals/is-object"),v=g("../internals/is-symbol"),E=g("../internals/get-method"),b=g("../internals/ordinary-to-primitive");g=g("../internals/well-known-symbol");var d=TypeError,w=g("toPrimitive");L.exports=function(a,l){if(!h(a)||v(a))return a;var q=E(a,w);if(q){void 0===l&&(l="default");a=z(q,a,l);if(!h(a)||v(a))return a;throw new d("Can't convert object to primitive value");}void 0===l&&(l="number");return b(a,l)}},{"../internals/function-call":137,"../internals/get-method":146,"../internals/is-object":165,
"../internals/is-symbol":168,"../internals/ordinary-to-primitive":197,"../internals/well-known-symbol":237}],225:[function(g,L,D){var z=g("../internals/to-primitive"),h=g("../internals/is-symbol");L.exports=function(v){v=z(v,"string");return h(v)?v:v+""}},{"../internals/is-symbol":168,"../internals/to-primitive":224}],226:[function(g,L,D){g=g("../internals/well-known-symbol")("toStringTag");D={};D[g]="z";L.exports="[object z]"===String(D)},{"../internals/well-known-symbol":237}],227:[function(g,L,
D){var z=g("../internals/classof"),h=String;L.exports=function(v){if("Symbol"===z(v))throw new TypeError("Cannot convert a Symbol value to a string");return h(v)}},{"../internals/classof":98}],228:[function(g,L,D){var z=String;L.exports=function(h){try{return z(h)}catch(v){return"Object"}}},{}],229:[function(g,L,D){D=g("../internals/array-buffer-view-core");var z=g("../internals/species-constructor"),h=D.aTypedArrayConstructor,v=D.getTypedArrayConstructor;L.exports=function(E){return h(z(E,v(E)))}},
{"../internals/array-buffer-view-core":87,"../internals/species-constructor":212}],230:[function(g,L,D){g=g("../internals/function-uncurry-this");var z=0,h=Math.random(),v=g((1).toString);L.exports=function(E){return"Symbol("+(void 0===E?"":E)+")_"+v(++z+h,36)}},{"../internals/function-uncurry-this":141}],231:[function(g,L,D){g=g("../internals/symbol-constructor-detection");L.exports=g&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/symbol-constructor-detection":214}],232:[function(g,
L,D){D=g("../internals/descriptors");g=g("../internals/fails");L.exports=D&&g(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},{"../internals/descriptors":112,"../internals/fails":132}],233:[function(g,L,D){var z=TypeError;L.exports=function(h,v){if(h<v)throw new z("Not enough arguments");return h}},{}],234:[function(g,L,D){D=g("../internals/global");g=g("../internals/is-callable");D=D.WeakMap;L.exports=g(D)&&/native code/.test(String(D))},
{"../internals/global":147,"../internals/is-callable":161}],235:[function(g,L,D){var z=g("../internals/path"),h=g("../internals/has-own-property"),v=g("../internals/well-known-symbol-wrapped"),E=g("../internals/object-define-property").f;L.exports=function(b){var d=z.Symbol||(z.Symbol={});h(d,b)||E(d,b,{value:v.f(b)})}},{"../internals/has-own-property":148,"../internals/object-define-property":184,"../internals/path":199,"../internals/well-known-symbol-wrapped":236}],236:[function(g,L,D){g=g("../internals/well-known-symbol");
D.f=g},{"../internals/well-known-symbol":237}],237:[function(g,L,D){D=g("../internals/global");var z=g("../internals/shared"),h=g("../internals/has-own-property"),v=g("../internals/uid"),E=g("../internals/symbol-constructor-detection");g=g("../internals/use-symbol-as-uid");var b=D.Symbol,d=z("wks"),w=g?b["for"]||b:b&&b.withoutSetter||v;L.exports=function(a){h(d,a)||(d[a]=E&&h(b,a)?b[a]:w("Symbol."+a));return d[a]}},{"../internals/global":147,"../internals/has-own-property":148,"../internals/shared":211,
"../internals/symbol-constructor-detection":214,"../internals/uid":230,"../internals/use-symbol-as-uid":231}],238:[function(g,L,D){L=g("../internals/export");var z=g("../internals/object-is-prototype-of"),h=g("../internals/object-get-prototype-of"),v=g("../internals/object-set-prototype-of");D=g("../internals/copy-constructor-properties");var E=g("../internals/object-create"),b=g("../internals/create-non-enumerable-property"),d=g("../internals/create-property-descriptor"),w=g("../internals/install-error-cause"),
a=g("../internals/error-stack-install"),l=g("../internals/iterate"),q=g("../internals/normalize-string-argument"),r=g("../internals/well-known-symbol")("toStringTag"),k=Error,c=[].push,f=function(e,n){var u=z(p,this);v?u=v(new k,u?h(this):p):(u=u?this:E(p),b(u,r,"Error"));void 0!==n&&b(u,"message",q(n));a(u,f,u.stack,1);2<arguments.length&&w(u,arguments[2]);var A=[];l(e,c,{that:A});b(u,"errors",A);return u};v?v(f,k):D(f,k,{name:!0});var p=f.prototype=E(k.prototype,{constructor:d(1,f),message:d(1,
""),name:d(1,"AggregateError")});L({global:!0,constructor:!0,arity:2},{AggregateError:f})},{"../internals/copy-constructor-properties":101,"../internals/create-non-enumerable-property":105,"../internals/create-property-descriptor":106,"../internals/error-stack-install":129,"../internals/export":131,"../internals/install-error-cause":156,"../internals/iterate":169,"../internals/normalize-string-argument":180,"../internals/object-create":182,"../internals/object-get-prototype-of":189,"../internals/object-is-prototype-of":191,
"../internals/object-set-prototype-of":195,"../internals/well-known-symbol":237}],239:[function(g,L,D){g("../modules/es.aggregate-error.constructor")},{"../modules/es.aggregate-error.constructor":238}],240:[function(g,L,D){L=g("../internals/export");D=g("../internals/fails");var z=g("../internals/is-array"),h=g("../internals/is-object"),v=g("../internals/to-object"),E=g("../internals/length-of-array-like"),b=g("../internals/does-not-exceed-safe-integer"),d=g("../internals/create-property"),w=g("../internals/array-species-create"),
a=g("../internals/array-method-has-species-support"),l=g("../internals/well-known-symbol");g=g("../internals/engine-v8-version");var q=l("isConcatSpreadable");g=!(51<=g||!D(function(){var r=[];r[q]=!1;return r.concat()[0]!==r}))||!a("concat");L({target:"Array",proto:!0,arity:1,forced:g},{concat:function(r){var k=v(this),c=w(k,0),f=0,p;var e=-1;for(p=arguments.length;e<p;e++){var n=-1===e?k:arguments[e];var u=n;if(h(u)){var A=u[q];u=void 0!==A?!!A:z(u)}else u=!1;if(u)for(A=E(n),b(f+A),u=0;u<A;u++,
f++)u in n&&d(c,f,n[u]);else b(f+1),d(c,f++,n)}c.length=f;return c}})},{"../internals/array-method-has-species-support":91,"../internals/array-species-create":95,"../internals/create-property":107,"../internals/does-not-exceed-safe-integer":115,"../internals/engine-v8-version":125,"../internals/export":131,"../internals/fails":132,"../internals/is-array":160,"../internals/is-object":165,"../internals/length-of-array-like":175,"../internals/to-object":223,"../internals/well-known-symbol":237}],241:[function(g,
L,D){L=g("../internals/export");D=g("../internals/array-fill");g=g("../internals/add-to-unscopables");L({target:"Array",proto:!0},{fill:D});g("fill")},{"../internals/add-to-unscopables":82,"../internals/array-fill":88,"../internals/export":131}],242:[function(g,L,D){var z=g("../internals/to-indexed-object");D=g("../internals/add-to-unscopables");var h=g("../internals/iterators"),v=g("../internals/internal-state"),E=g("../internals/object-define-property").f,b=g("../internals/iterator-define"),d=g("../internals/create-iter-result-object"),
w=g("../internals/is-pure");g=g("../internals/descriptors");var a=v.set,l=v.getterFor("Array Iterator");L.exports=b(Array,"Array",function(q,r){a(this,{type:"Array Iterator",target:z(q),index:0,kind:r})},function(){var q=l(this),r=q.target,k=q.index++;if(!r||k>=r.length)return q.target=void 0,d(void 0,!0);switch(q.kind){case "keys":return d(k,!1);case "values":return d(r[k],!1)}return d([k,r[k]],!1)},"values");L=h.Arguments=h.Array;D("keys");D("values");D("entries");if(!w&&g&&"values"!==L.name)try{E(L,
"name",{value:"values"})}catch(q){}},{"../internals/add-to-unscopables":82,"../internals/create-iter-result-object":104,"../internals/descriptors":112,"../internals/internal-state":158,"../internals/is-pure":166,"../internals/iterator-define":172,"../internals/iterators":174,"../internals/object-define-property":184,"../internals/to-indexed-object":220}],243:[function(g,L,D){L=g("../internals/export");var z=g("../internals/get-built-in"),h=g("../internals/function-apply"),v=g("../internals/function-call");
D=g("../internals/function-uncurry-this");var E=g("../internals/fails"),b=g("../internals/is-callable"),d=g("../internals/is-symbol"),w=g("../internals/array-slice"),a=g("../internals/get-json-replacer-function");g=g("../internals/symbol-constructor-detection");var l=String,q=z("JSON","stringify"),r=D(/./.exec),k=D("".charAt),c=D("".charCodeAt),f=D("".replace),p=D((1).toString),e=/[\uD800-\uDFFF]/g,n=/^[\uD800-\uDBFF]$/,u=/^[\uDC00-\uDFFF]$/,A=!g||E(function(){var N=z("Symbol")("stringify detection");
return"[null]"!==q([N])||"{}"!==q({a:N})||"{}"!==q(Object(N))}),C=E(function(){return'"\\udf06\\ud834"'!==q("\udf06\ud834")||'"\\udead"'!==q("\udead")}),B=function(N,y){var G=w(arguments),H=a(y);if(b(H)||void 0!==N&&!d(N))return G[1]=function(O,J){b(H)&&(J=v(H,this,l(O),J));if(!d(J))return J},h(q,null,G)},I=function(N,y,G){var H=k(G,y-1);y=k(G,y+1);return r(n,N)&&!r(u,y)||r(u,N)&&!r(n,H)?"\\u"+p(c(N,0),16):N};q&&L({target:"JSON",stat:!0,arity:3,forced:A||C},{stringify:function(N,y,G){var H=w(arguments);
H=h(A?B:q,null,H);return C&&"string"==typeof H?f(H,e,I):H}})},{"../internals/array-slice":93,"../internals/export":131,"../internals/fails":132,"../internals/function-apply":134,"../internals/function-call":137,"../internals/function-uncurry-this":141,"../internals/get-built-in":142,"../internals/get-json-replacer-function":145,"../internals/is-callable":161,"../internals/is-symbol":168,"../internals/symbol-constructor-detection":214}],244:[function(g,L,D){L=g("../internals/global");g("../internals/set-to-string-tag")(L.JSON,
"JSON",!0)},{"../internals/global":147,"../internals/set-to-string-tag":208}],245:[function(g,L,D){L=g("../internals/collection");g=g("../internals/collection-strong");L("Map",function(z){return function(){return z(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":100,"../internals/collection-strong":99}],246:[function(g,L,D){g("../modules/es.map.constructor")},{"../modules/es.map.constructor":245}],247:[function(g,L,D){g("../internals/set-to-string-tag")(Math,"Math",!0)},
{"../internals/set-to-string-tag":208}],248:[function(g,L,D){L=g("../internals/export");D=g("../internals/symbol-constructor-detection");var z=g("../internals/fails"),h=g("../internals/object-get-own-property-symbols"),v=g("../internals/to-object");g=!D||z(function(){h.f(1)});L({target:"Object",stat:!0,forced:g},{getOwnPropertySymbols:function(E){var b=h.f;return b?b(v(E)):[]}})},{"../internals/export":131,"../internals/fails":132,"../internals/object-get-own-property-symbols":188,"../internals/symbol-constructor-detection":214,
"../internals/to-object":223}],249:[function(g,L,D){L=g("../internals/to-string-tag-support");D=g("../internals/define-built-in");g=g("../internals/object-to-string");L||D(Object.prototype,"toString",g,{unsafe:!0})},{"../internals/define-built-in":109,"../internals/object-to-string":196,"../internals/to-string-tag-support":226}],250:[function(g,L,D){L=g("../internals/export");var z=g("../internals/function-call"),h=g("../internals/a-callable"),v=g("../internals/new-promise-capability"),E=g("../internals/perform"),
b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");L({target:"Promise",stat:!0,forced:g},{allSettled:function(d){var w=this,a=v.f(w),l=a.resolve,q=a.reject,r=E(function(){var k=h(w.resolve),c=[],f=0,p=1;b(d,function(e){var n=f++,u=!1;p++;z(k,w,e).then(function(A){u||(u=!0,c[n]={status:"fulfilled",value:A},--p||l(c))},function(A){u||(u=!0,c[n]={status:"rejected",reason:A},--p||l(c))})});--p||l(c)});r.error&&q(r.value);return a.promise}})},{"../internals/a-callable":79,
"../internals/export":131,"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],251:[function(g,L,D){L=g("../internals/export");var z=g("../internals/function-call"),h=g("../internals/a-callable"),v=g("../internals/new-promise-capability"),E=g("../internals/perform"),b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");L({target:"Promise",
stat:!0,forced:g},{all:function(d){var w=this,a=v.f(w),l=a.resolve,q=a.reject,r=E(function(){var k=h(w.resolve),c=[],f=0,p=1;b(d,function(e){var n=f++,u=!1;p++;z(k,w,e).then(function(A){u||(u=!0,c[n]=A,--p||l(c))},q)});--p||l(c)});r.error&&q(r.value);return a.promise}})},{"../internals/a-callable":79,"../internals/export":131,"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],
252:[function(g,L,D){L=g("../internals/export");var z=g("../internals/function-call"),h=g("../internals/a-callable"),v=g("../internals/get-built-in"),E=g("../internals/new-promise-capability"),b=g("../internals/perform"),d=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");L({target:"Promise",stat:!0,forced:g},{any:function(w){var a=this,l=v("AggregateError"),q=E.f(a),r=q.resolve,k=q.reject,c=b(function(){var f=h(a.resolve),p=[],e=0,n=1,u=!1;d(w,function(A){var C=e++,
B=!1;n++;z(f,a,A).then(function(I){B||u||(u=!0,r(I))},function(I){B||u||(B=!0,p[C]=I,--n||k(new l(p,"No one promise resolved")))})});--n||k(new l(p,"No one promise resolved"))});c.error&&k(c.value);return q.promise}})},{"../internals/a-callable":79,"../internals/export":131,"../internals/function-call":137,"../internals/get-built-in":142,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],253:[function(g,
L,D){L=g("../internals/export");D=g("../internals/is-pure");var z=g("../internals/promise-constructor-detection").CONSTRUCTOR,h=g("../internals/promise-native-constructor"),v=g("../internals/get-built-in"),E=g("../internals/is-callable");g=g("../internals/define-built-in");var b=h&&h.prototype;L({target:"Promise",proto:!0,forced:z,real:!0},{"catch":function(d){return this.then(void 0,d)}});!D&&E(h)&&(L=v("Promise").prototype["catch"],b["catch"]!==L&&g(b,"catch",L,{unsafe:!0}))},{"../internals/define-built-in":109,
"../internals/export":131,"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202}],254:[function(g,L,D){L=g("../internals/export");D=g("../internals/is-pure");var z=g("../internals/engine-is-node"),h=g("../internals/global"),v=g("../internals/function-call"),E=g("../internals/define-built-in"),b=g("../internals/object-set-prototype-of"),d=g("../internals/set-to-string-tag"),
w=g("../internals/set-species"),a=g("../internals/a-callable"),l=g("../internals/is-callable"),q=g("../internals/is-object"),r=g("../internals/an-instance"),k=g("../internals/species-constructor"),c=g("../internals/task").set,f=g("../internals/microtask"),p=g("../internals/host-report-errors"),e=g("../internals/perform"),n=g("../internals/queue"),u=g("../internals/internal-state"),A=g("../internals/promise-native-constructor"),C=g("../internals/promise-constructor-detection");g=g("../internals/new-promise-capability");
var B=C.CONSTRUCTOR,I=C.REJECTION_EVENT;C=C.SUBCLASSING;var N=u.getterFor("Promise"),y=u.set;u=A&&A.prototype;var G=A,H=u,O=h.TypeError,J=h.document,R=h.process,ea=g.f,Y=ea,pa=!!(J&&J.createEvent&&h.dispatchEvent),ka=function(Z){var sa;return q(Z)&&l(sa=Z.then)?sa:!1},Q=function(Z,sa){var Fa=sa.value,Ra=1===sa.state,wb=Ra?Z.ok:Z.fail,Ib=Z.resolve,qa=Z.reject,Aa=Z.domain,Ea;try{if(wb){Ra||(2===sa.rejection&&ia(sa),sa.rejection=1);if(!0===wb)var Ha=Fa;else if(Aa&&Aa.enter(),Ha=wb(Fa),Aa){Aa.exit();
var db=!0}Ha===Z.promise?qa(new O("Promise-chain cycle")):(Ea=ka(Ha))?v(Ea,Ha,Ib,qa):Ib(Ha)}else qa(Fa)}catch(tb){Aa&&!db&&Aa.exit(),qa(tb)}},ja=function(Z,sa){Z.notified||(Z.notified=!0,f(function(){for(var Fa=Z.reactions,Ra;Ra=Fa.get();)Q(Ra,Z);Z.notified=!1;sa&&!Z.rejection&&za(Z)}))},na=function(Z,sa,Fa){var Ra;if(pa){var wb=J.createEvent("Event");wb.promise=sa;wb.reason=Fa;wb.initEvent(Z,!1,!0);h.dispatchEvent(wb)}else wb={promise:sa,reason:Fa};!I&&(Ra=h["on"+Z])?Ra(wb):"unhandledrejection"===
Z&&p("Unhandled promise rejection",Fa)},za=function(Z){v(c,h,function(){var sa=Z.facade,Fa=Z.value;if(1!==Z.rejection&&!Z.parent){var Ra=e(function(){z?R.emit("unhandledRejection",Fa,sa):na("unhandledrejection",sa,Fa)});Z.rejection=z||1!==Z.rejection&&!Z.parent?2:1;if(Ra.error)throw Ra.value;}})},ia=function(Z){v(c,h,function(){var sa=Z.facade;z?R.emit("rejectionHandled",sa):na("rejectionhandled",sa,Z.value)})},va=function(Z,sa,Fa){return function(Ra){Z(sa,Ra,Fa)}},ta=function(Z,sa,Fa){Z.done||(Z.done=
!0,Fa&&(Z=Fa),Z.value=sa,Z.state=2,ja(Z,!0))},ua=function(Z,sa,Fa){if(!Z.done){Z.done=!0;Fa&&(Z=Fa);try{if(Z.facade===sa)throw new O("Promise can't be resolved itself");var Ra=ka(sa);Ra?f(function(){var wb={done:!1};try{v(Ra,sa,va(ua,wb,Z),va(ta,wb,Z))}catch(Ib){ta(wb,Ib,Z)}}):(Z.value=sa,Z.state=1,ja(Z,!1))}catch(wb){ta({done:!1},wb,Z)}}};if(B){G=function(Z){r(this,H);a(Z);v(Ya,this);var sa=N(this);try{Z(va(ua,sa),va(ta,sa))}catch(Fa){ta(sa,Fa)}};H=G.prototype;var Ya=function(Z){y(this,{type:"Promise",
done:!1,notified:!1,parent:!1,reactions:new n,rejection:!1,state:0,value:void 0})};Ya.prototype=E(H,"then",function(Z,sa){var Fa=N(this),Ra=ea(k(this,G));Fa.parent=!0;Ra.ok=l(Z)?Z:!0;Ra.fail=l(sa)&&sa;Ra.domain=z?R.domain:void 0;0===Fa.state?Fa.reactions.add(Ra):f(function(){Q(Ra,Fa)});return Ra.promise});var Xa=function(){var Z=new Ya,sa=N(Z);this.promise=Z;this.resolve=va(ua,sa);this.reject=va(ta,sa)};g.f=ea=function(Z){return Z===G||void 0===Z?new Xa(Z):Y(Z)};if(!D&&l(A)&&u!==Object.prototype){var T=
u.then;C||E(u,"then",function(Z,sa){var Fa=this;return(new G(function(Ra,wb){v(T,Fa,Ra,wb)})).then(Z,sa)},{unsafe:!0});try{delete u.constructor}catch(Z){}b&&b(u,H)}}L({global:!0,constructor:!0,wrap:!0,forced:B},{Promise:G});d(G,"Promise",!1,!0);w("Promise")},{"../internals/a-callable":79,"../internals/an-instance":83,"../internals/define-built-in":109,"../internals/engine-is-node":122,"../internals/export":131,"../internals/function-call":137,"../internals/global":147,"../internals/host-report-errors":150,
"../internals/internal-state":158,"../internals/is-callable":161,"../internals/is-object":165,"../internals/is-pure":166,"../internals/microtask":178,"../internals/new-promise-capability":179,"../internals/object-set-prototype-of":195,"../internals/perform":200,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202,"../internals/queue":205,"../internals/set-species":207,"../internals/set-to-string-tag":208,"../internals/species-constructor":212,"../internals/task":217}],
255:[function(g,L,D){L=g("../internals/export");D=g("../internals/is-pure");var z=g("../internals/promise-native-constructor"),h=g("../internals/fails"),v=g("../internals/get-built-in"),E=g("../internals/is-callable"),b=g("../internals/species-constructor"),d=g("../internals/promise-resolve");g=g("../internals/define-built-in");var w=z&&z.prototype;h=!!z&&h(function(){w["finally"].call({then:function(){}},function(){})});L({target:"Promise",proto:!0,real:!0,forced:h},{"finally":function(a){var l=
b(this,v("Promise")),q=E(a);return this.then(q?function(r){return d(l,a()).then(function(){return r})}:a,q?function(r){return d(l,a()).then(function(){throw r;})}:a)}});!D&&E(z)&&(L=v("Promise").prototype["finally"],w["finally"]!==L&&g(w,"finally",L,{unsafe:!0}))},{"../internals/define-built-in":109,"../internals/export":131,"../internals/fails":132,"../internals/get-built-in":142,"../internals/is-callable":161,"../internals/is-pure":166,"../internals/promise-native-constructor":202,"../internals/promise-resolve":203,
"../internals/species-constructor":212}],256:[function(g,L,D){g("../modules/es.promise.constructor");g("../modules/es.promise.all");g("../modules/es.promise.catch");g("../modules/es.promise.race");g("../modules/es.promise.reject");g("../modules/es.promise.resolve")},{"../modules/es.promise.all":251,"../modules/es.promise.catch":253,"../modules/es.promise.constructor":254,"../modules/es.promise.race":257,"../modules/es.promise.reject":258,"../modules/es.promise.resolve":259}],257:[function(g,L,D){L=
g("../internals/export");var z=g("../internals/function-call"),h=g("../internals/a-callable"),v=g("../internals/new-promise-capability"),E=g("../internals/perform"),b=g("../internals/iterate");g=g("../internals/promise-statics-incorrect-iteration");L({target:"Promise",stat:!0,forced:g},{race:function(d){var w=this,a=v.f(w),l=a.reject,q=E(function(){var r=h(w.resolve);b(d,function(k){z(r,w,k).then(a.resolve,l)})});q.error&&l(q.value);return a.promise}})},{"../internals/a-callable":79,"../internals/export":131,
"../internals/function-call":137,"../internals/iterate":169,"../internals/new-promise-capability":179,"../internals/perform":200,"../internals/promise-statics-incorrect-iteration":204}],258:[function(g,L,D){L=g("../internals/export");var z=g("../internals/function-call"),h=g("../internals/new-promise-capability");g=g("../internals/promise-constructor-detection").CONSTRUCTOR;L({target:"Promise",stat:!0,forced:g},{reject:function(v){var E=h.f(this);z(E.reject,void 0,v);return E.promise}})},{"../internals/export":131,
"../internals/function-call":137,"../internals/new-promise-capability":179,"../internals/promise-constructor-detection":201}],259:[function(g,L,D){L=g("../internals/export");D=g("../internals/get-built-in");var z=g("../internals/is-pure"),h=g("../internals/promise-native-constructor"),v=g("../internals/promise-constructor-detection").CONSTRUCTOR,E=g("../internals/promise-resolve"),b=D("Promise"),d=z&&!v;L({target:"Promise",stat:!0,forced:z||v},{resolve:function(w){return E(d&&this===b?h:this,w)}})},
{"../internals/export":131,"../internals/get-built-in":142,"../internals/is-pure":166,"../internals/promise-constructor-detection":201,"../internals/promise-native-constructor":202,"../internals/promise-resolve":203}],260:[function(g,L,D){L=g("../internals/export");D=g("../internals/global");g=g("../internals/set-to-string-tag");L({global:!0},{Reflect:{}});g(D.Reflect,"Reflect",!0)},{"../internals/export":131,"../internals/global":147,"../internals/set-to-string-tag":208}],261:[function(g,L,D){L=
g("../internals/collection");g=g("../internals/collection-strong");L("Set",function(z){return function(){return z(this,arguments.length?arguments[0]:void 0)}},g)},{"../internals/collection":100,"../internals/collection-strong":99}],262:[function(g,L,D){g("../modules/es.set.constructor")},{"../modules/es.set.constructor":261}],263:[function(g,L,D){L=g("../internals/export");D=g("../internals/function-uncurry-this-clause");var z=g("../internals/object-get-own-property-descriptor").f,h=g("../internals/to-length"),
v=g("../internals/to-string"),E=g("../internals/not-a-regexp"),b=g("../internals/require-object-coercible"),d=g("../internals/correct-is-regexp-logic");g=g("../internals/is-pure");var w=D("".endsWith),a=D("".slice),l=Math.min;D=d("endsWith");g=!g&&!D&&!!function(){var q=z(String.prototype,"endsWith");return q&&!q.writable}();L({target:"String",proto:!0,forced:!g&&!D},{endsWith:function(q){var r=v(b(this));E(q);var k=1<arguments.length?arguments[1]:void 0,c=r.length;k=void 0===k?c:l(h(k),c);c=v(q);
return w?w(r,c,k):a(r,k-c.length,k)===c}})},{"../internals/correct-is-regexp-logic":102,"../internals/export":131,"../internals/function-uncurry-this-clause":140,"../internals/is-pure":166,"../internals/not-a-regexp":181,"../internals/object-get-own-property-descriptor":185,"../internals/require-object-coercible":206,"../internals/to-length":222,"../internals/to-string":227}],264:[function(g,L,D){var z=g("../internals/string-multibyte").charAt,h=g("../internals/to-string");L=g("../internals/internal-state");
D=g("../internals/iterator-define");var v=g("../internals/create-iter-result-object"),E=L.set,b=L.getterFor("String Iterator");D(String,"String",function(d){E(this,{type:"String Iterator",string:h(d),index:0})},function(){var d=b(this),w=d.string,a=d.index;if(a>=w.length)return v(void 0,!0);w=z(w,a);d.index+=w.length;return v(w,!1)})},{"../internals/create-iter-result-object":104,"../internals/internal-state":158,"../internals/iterator-define":172,"../internals/string-multibyte":213,"../internals/to-string":227}],
265:[function(g,L,D){g("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":235}],266:[function(g,L,D){L=g("../internals/export");var z=g("../internals/global"),h=g("../internals/function-call"),v=g("../internals/function-uncurry-this");D=g("../internals/is-pure");var E=g("../internals/descriptors"),b=g("../internals/symbol-constructor-detection"),d=g("../internals/fails"),w=g("../internals/has-own-property"),a=g("../internals/object-is-prototype-of"),
l=g("../internals/an-object"),q=g("../internals/to-indexed-object"),r=g("../internals/to-property-key"),k=g("../internals/to-string"),c=g("../internals/create-property-descriptor"),f=g("../internals/object-create"),p=g("../internals/object-keys"),e=g("../internals/object-get-own-property-names"),n=g("../internals/object-get-own-property-names-external"),u=g("../internals/object-get-own-property-symbols"),A=g("../internals/object-get-own-property-descriptor"),C=g("../internals/object-define-property"),
B=g("../internals/object-define-properties"),I=g("../internals/object-property-is-enumerable"),N=g("../internals/define-built-in"),y=g("../internals/define-built-in-accessor"),G=g("../internals/shared"),H=g("../internals/shared-key"),O=g("../internals/hidden-keys"),J=g("../internals/uid"),R=g("../internals/well-known-symbol"),ea=g("../internals/well-known-symbol-wrapped"),Y=g("../internals/well-known-symbol-define"),pa=g("../internals/symbol-define-to-primitive"),ka=g("../internals/set-to-string-tag"),
Q=g("../internals/internal-state"),ja=g("../internals/array-iteration").forEach,na=H("hidden"),za=Q.set,ia=Q.getterFor("Symbol"),va=Object.prototype,ta=(g=z.Symbol)&&g.prototype,ua=z.RangeError,Ya=z.TypeError;H=z.QObject;var Xa=A.f,T=C.f,Z=n.f,sa=I.f,Fa=v([].push),Ra=G("symbols"),wb=G("op-symbols");v=G("wks");var Ib=!H||!H.prototype||!H.prototype.findChild,qa=function(Oa,ra,oa){var Da=Xa(va,ra);Da&&delete va[ra];T(Oa,ra,oa);Da&&Oa!==va&&T(va,ra,Da)},Aa=E&&d(function(){return 7!==f(T({},"a",{get:function(){return T(this,
"a",{value:7}).a}})).a})?qa:T,Ea=function(Oa,ra){var oa=Ra[Oa]=f(ta);za(oa,{type:"Symbol",tag:Oa,description:ra});E||(oa.description=ra);return oa},Ha=function(Oa,ra,oa){Oa===va&&Ha(wb,ra,oa);l(Oa);ra=r(ra);l(oa);return w(Ra,ra)?(oa.enumerable?(w(Oa,na)&&Oa[na][ra]&&(Oa[na][ra]=!1),oa=f(oa,{enumerable:c(0,!1)})):(w(Oa,na)||T(Oa,na,c(1,{})),Oa[na][ra]=!0),Aa(Oa,ra,oa)):T(Oa,ra,oa)},db=function(Oa,ra){l(Oa);var oa=q(ra);ra=p(oa).concat(qb(oa));ja(ra,function(Da){E&&!h(tb,oa,Da)||Ha(Oa,Da,oa[Da])});
return Oa},tb=function(Oa){Oa=r(Oa);var ra=h(sa,this,Oa);return this===va&&w(Ra,Oa)&&!w(wb,Oa)?!1:ra||!w(this,Oa)||!w(Ra,Oa)||w(this,na)&&this[na][Oa]?ra:!0};d=function(Oa,ra){Oa=q(Oa);ra=r(ra);if(Oa!==va||!w(Ra,ra)||w(wb,ra)){var oa=Xa(Oa,ra);!oa||!w(Ra,ra)||w(Oa,na)&&Oa[na][ra]||(oa.enumerable=!0);return oa}};G=function(Oa){Oa=Z(q(Oa));var ra=[];ja(Oa,function(oa){w(Ra,oa)||w(O,oa)||Fa(ra,oa)});return ra};var qb=function(Oa){var ra=Oa===va;Oa=Z(ra?wb:q(Oa));var oa=[];ja(Oa,function(Da){!w(Ra,Da)||
ra&&!w(va,Da)||Fa(oa,Ra[Da])});return oa};b||(g=function(){if(a(ta,this))throw new Ya("Symbol is not a constructor");var Oa=arguments.length&&void 0!==arguments[0]?k(arguments[0]):void 0,ra=J(Oa),oa=function(Da){var La=void 0===this?z:this;La===va&&h(oa,wb,Da);w(La,na)&&w(La[na],ra)&&(La[na][ra]=!1);Da=c(1,Da);try{Aa(La,ra,Da)}catch(Ua){if(!(Ua instanceof ua))throw Ua;qa(La,ra,Da)}};E&&Ib&&Aa(va,ra,{configurable:!0,set:oa});return Ea(ra,Oa)},ta=g.prototype,N(ta,"toString",function(){return ia(this).tag}),
N(g,"withoutSetter",function(Oa){return Ea(J(Oa),Oa)}),I.f=tb,C.f=Ha,B.f=db,A.f=d,e.f=n.f=G,u.f=qb,ea.f=function(Oa){return Ea(R(Oa),Oa)},E&&(y(ta,"description",{configurable:!0,get:function(){return ia(this).description}}),D||N(va,"propertyIsEnumerable",tb,{unsafe:!0})));L({global:!0,constructor:!0,wrap:!0,forced:!b,sham:!b},{Symbol:g});ja(p(v),function(Oa){Y(Oa)});L({target:"Symbol",stat:!0,forced:!b},{useSetter:function(){Ib=!0},useSimple:function(){Ib=!1}});L({target:"Object",stat:!0,forced:!b,
sham:!E},{create:function(Oa,ra){return void 0===ra?f(Oa):db(f(Oa),ra)},defineProperty:Ha,defineProperties:db,getOwnPropertyDescriptor:d});L({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:G});pa();ka(g,"Symbol");O[na]=!0},{"../internals/an-object":84,"../internals/array-iteration":90,"../internals/create-property-descriptor":106,"../internals/define-built-in":109,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/export":131,"../internals/fails":132,
"../internals/function-call":137,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/has-own-property":148,"../internals/hidden-keys":149,"../internals/internal-state":158,"../internals/is-pure":166,"../internals/object-create":182,"../internals/object-define-properties":183,"../internals/object-define-property":184,"../internals/object-get-own-property-descriptor":185,"../internals/object-get-own-property-names":187,"../internals/object-get-own-property-names-external":186,
"../internals/object-get-own-property-symbols":188,"../internals/object-is-prototype-of":191,"../internals/object-keys":193,"../internals/object-property-is-enumerable":194,"../internals/set-to-string-tag":208,"../internals/shared":211,"../internals/shared-key":209,"../internals/symbol-constructor-detection":214,"../internals/symbol-define-to-primitive":215,"../internals/to-indexed-object":220,"../internals/to-property-key":225,"../internals/to-string":227,"../internals/uid":230,"../internals/well-known-symbol":237,
"../internals/well-known-symbol-define":235,"../internals/well-known-symbol-wrapped":236}],267:[function(g,L,D){L=g("../internals/export");var z=g("../internals/descriptors"),h=g("../internals/global");D=g("../internals/function-uncurry-this");var v=g("../internals/has-own-property"),E=g("../internals/is-callable"),b=g("../internals/object-is-prototype-of"),d=g("../internals/to-string"),w=g("../internals/define-built-in-accessor");g=g("../internals/copy-constructor-properties");var a=h.Symbol,l=a&&
a.prototype;if(z&&E(a)&&(!("description"in l)||void 0!==a().description)){var q={};z=function(){var n=1>arguments.length||void 0===arguments[0]?void 0:d(arguments[0]),u=b(l,this)?new a(n):void 0===n?a():a(n);""===n&&(q[u]=!0);return u};g(z,a);z.prototype=l;l.constructor=z;var r="Symbol(description detection)"===String(a("description detection")),k=D(l.valueOf),c=D(l.toString),f=/^Symbol\((.*)\)[^)]+$/,p=D("".replace),e=D("".slice);w(l,"description",{configurable:!0,get:function(){var n=k(this);if(v(q,
n))return"";n=c(n);n=r?e(n,7,-1):p(n,f,"$1");return""===n?void 0:n}});L({global:!0,constructor:!0,forced:!0},{Symbol:z})}},{"../internals/copy-constructor-properties":101,"../internals/define-built-in-accessor":108,"../internals/descriptors":112,"../internals/export":131,"../internals/function-uncurry-this":141,"../internals/global":147,"../internals/has-own-property":148,"../internals/is-callable":161,"../internals/object-is-prototype-of":191,"../internals/to-string":227}],268:[function(g,L,D){L=
g("../internals/export");var z=g("../internals/get-built-in"),h=g("../internals/has-own-property"),v=g("../internals/to-string");D=g("../internals/shared");g=g("../internals/symbol-registry-detection");var E=D("string-to-symbol-registry"),b=D("symbol-to-string-registry");L({target:"Symbol",stat:!0,forced:!g},{"for":function(d){d=v(d);if(h(E,d))return E[d];var w=z("Symbol")(d);E[d]=w;b[w]=d;return w}})},{"../internals/export":131,"../internals/get-built-in":142,"../internals/has-own-property":148,
"../internals/shared":211,"../internals/symbol-registry-detection":216,"../internals/to-string":227}],269:[function(g,L,D){g("../internals/well-known-symbol-define")("hasInstance")},{"../internals/well-known-symbol-define":235}],270:[function(g,L,D){g("../internals/well-known-symbol-define")("isConcatSpreadable")},{"../internals/well-known-symbol-define":235}],271:[function(g,L,D){g("../internals/well-known-symbol-define")("iterator")},{"../internals/well-known-symbol-define":235}],272:[function(g,
L,D){g("../modules/es.symbol.constructor");g("../modules/es.symbol.for");g("../modules/es.symbol.key-for");g("../modules/es.json.stringify");g("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":243,"../modules/es.object.get-own-property-symbols":248,"../modules/es.symbol.constructor":266,"../modules/es.symbol.for":268,"../modules/es.symbol.key-for":273}],273:[function(g,L,D){L=g("../internals/export");var z=g("../internals/has-own-property"),h=g("../internals/is-symbol"),
v=g("../internals/try-to-string");D=g("../internals/shared");g=g("../internals/symbol-registry-detection");var E=D("symbol-to-string-registry");L({target:"Symbol",stat:!0,forced:!g},{keyFor:function(b){if(!h(b))throw new TypeError(v(b)+" is not a symbol");if(z(E,b))return E[b]}})},{"../internals/export":131,"../internals/has-own-property":148,"../internals/is-symbol":168,"../internals/shared":211,"../internals/symbol-registry-detection":216,"../internals/try-to-string":228}],274:[function(g,L,D){g("../internals/well-known-symbol-define")("matchAll")},
{"../internals/well-known-symbol-define":235}],275:[function(g,L,D){g("../internals/well-known-symbol-define")("match")},{"../internals/well-known-symbol-define":235}],276:[function(g,L,D){g("../internals/well-known-symbol-define")("replace")},{"../internals/well-known-symbol-define":235}],277:[function(g,L,D){g("../internals/well-known-symbol-define")("search")},{"../internals/well-known-symbol-define":235}],278:[function(g,L,D){g("../internals/well-known-symbol-define")("species")},{"../internals/well-known-symbol-define":235}],
279:[function(g,L,D){g("../internals/well-known-symbol-define")("split")},{"../internals/well-known-symbol-define":235}],280:[function(g,L,D){L=g("../internals/well-known-symbol-define");g=g("../internals/symbol-define-to-primitive");L("toPrimitive");g()},{"../internals/symbol-define-to-primitive":215,"../internals/well-known-symbol-define":235}],281:[function(g,L,D){L=g("../internals/get-built-in");D=g("../internals/well-known-symbol-define");g=g("../internals/set-to-string-tag");D("toStringTag");
g(L("Symbol"),"Symbol")},{"../internals/get-built-in":142,"../internals/set-to-string-tag":208,"../internals/well-known-symbol-define":235}],282:[function(g,L,D){g("../internals/well-known-symbol-define")("unscopables")},{"../internals/well-known-symbol-define":235}],283:[function(g,L,D){D=g("../internals/array-buffer-view-core");var z=g("../internals/array-fill"),h=g("../internals/to-big-int"),v=g("../internals/classof"),E=g("../internals/function-call");L=g("../internals/function-uncurry-this");
g=g("../internals/fails");var b=D.aTypedArray;D=D.exportTypedArrayMethod;var d=L("".slice);g=g(function(){var w=0;(new Int8Array(2)).fill({valueOf:function(){return w++}});return 1!==w});D("fill",function(w){var a=arguments.length;b(this);var l="Big"===d(v(this),0,3)?h(w):+w;return E(z,this,l,1<a?arguments[1]:void 0,2<a?arguments[2]:void 0)},g)},{"../internals/array-buffer-view-core":87,"../internals/array-fill":88,"../internals/classof":98,"../internals/fails":132,"../internals/function-call":137,
"../internals/function-uncurry-this":141,"../internals/to-big-int":219}],284:[function(g,L,D){D=g("../internals/array-buffer-view-core");var z=g("../internals/typed-array-species-constructor");L=g("../internals/fails");var h=g("../internals/array-slice"),v=D.aTypedArray;g=D.exportTypedArrayMethod;L=L(function(){(new Int8Array(1)).slice()});g("slice",function(E,b){E=h(v(this),E,b);var d=z(this);b=0;var w=E.length;for(d=new d(w);w>b;)d[b]=E[b++];return d},L)},{"../internals/array-buffer-view-core":87,
"../internals/array-slice":93,"../internals/fails":132,"../internals/typed-array-species-constructor":229}],285:[function(g,L,D){L=g("../internals/global");var z=g("../internals/dom-iterables");D=g("../internals/dom-token-list-prototype");var h=g("../modules/es.array.iterator"),v=g("../internals/create-non-enumerable-property");g=g("../internals/well-known-symbol");var E=g("iterator"),b=g("toStringTag"),d=h.values;g=function(a,l){if(a){if(a[E]!==d)try{v(a,E,d)}catch(r){a[E]=d}a[b]||v(a,b,l);if(z[l])for(var q in h)if(a[q]!==
h[q])try{v(a,q,h[q])}catch(r){a[q]=h[q]}}};for(var w in z)g(L[w]&&L[w].prototype,w);g(D,"DOMTokenList")},{"../internals/create-non-enumerable-property":105,"../internals/dom-iterables":116,"../internals/dom-token-list-prototype":117,"../internals/global":147,"../internals/well-known-symbol":237,"../modules/es.array.iterator":242}],286:[function(g,L,D){g=g("../../es/array/fill");L.exports=g},{"../../es/array/fill":70}],287:[function(g,L,D){g=g("../../es/array/iterator");L.exports=g},{"../../es/array/iterator":71}],
288:[function(g,L,D){D=g("../../es/map");g("../../modules/web.dom-collections.iterator");L.exports=D},{"../../es/map":72,"../../modules/web.dom-collections.iterator":285}],289:[function(g,L,D){D=g("../../es/promise");g("../../modules/web.dom-collections.iterator");L.exports=D},{"../../es/promise":73,"../../modules/web.dom-collections.iterator":285}],290:[function(g,L,D){D=g("../../es/set");g("../../modules/web.dom-collections.iterator");L.exports=D},{"../../es/set":74,"../../modules/web.dom-collections.iterator":285}],
291:[function(g,L,D){g=g("../../es/string/ends-with");L.exports=g},{"../../es/string/ends-with":75}],292:[function(g,L,D){D=g("../../es/symbol");g("../../modules/web.dom-collections.iterator");L.exports=D},{"../../es/symbol":76,"../../modules/web.dom-collections.iterator":285}],293:[function(g,L,D){g=g("../../es/typed-array/fill");L.exports=g},{"../../es/typed-array/fill":77}],294:[function(g,L,D){g=g("../../es/typed-array/slice");L.exports=g},{"../../es/typed-array/slice":78}],295:[function(g,L,
D){(function(z){(function(){(function(h,v){"undefined"!=typeof D?v():(v(),h.FileSaver={})})(this,function(){function h(l,q){return"undefined"==typeof q?q={autoBom:!1}:"object"!=typeof q&&(console.warn("Deprecated: Expected third argument to be a object"),q={autoBom:!q}),q.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\ufeff",l],{type:l.type}):l}function v(l,q,r){var k=new XMLHttpRequest;k.open("GET",l);k.responseType="blob";k.onload=
function(){a(k.response,q,r)};k.onerror=function(){console.error("could not download file")};k.send()}function E(l){var q=new XMLHttpRequest;q.open("HEAD",l,!1);try{q.send()}catch(r){}return 200<=q.status&&299>=q.status}function b(l){try{l.dispatchEvent(new MouseEvent("click"))}catch(r){var q=document.createEvent("MouseEvents");q.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);l.dispatchEvent(q)}}var d="object"==typeof window&&window.window===window?window:"object"==typeof self&&
self.self===self?self:"object"==typeof z&&z.global===z?z:void 0,w=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=d.saveAs||("object"!=typeof window||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!w?function(l,q,r){var k=d.URL||d.webkitURL,c=document.createElement("a");q=q||l.name||"download";c.download=q;c.rel="noopener";"string"==typeof l?(c.href=l,c.origin===location.origin?b(c):E(c.href)?v(l,
q,r):b(c,c.target="_blank")):(c.href=k.createObjectURL(l),setTimeout(function(){k.revokeObjectURL(c.href)},4E4),setTimeout(function(){b(c)},0))}:"msSaveOrOpenBlob"in navigator?function(l,q,r){if(q=q||l.name||"download","string"!=typeof l)navigator.msSaveOrOpenBlob(h(l,r),q);else if(E(l))v(l,q,r);else{var k=document.createElement("a");k.href=l;k.target="_blank";setTimeout(function(){b(k)})}}:function(l,q,r,k){if(k=k||open("","_blank"),k&&(k.document.title=k.document.body.innerText="downloading..."),
"string"==typeof l)return v(l,q,r);q="application/octet-stream"===l.type;r=/constructor/i.test(d.HTMLElement)||d.safari;var c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||q&&r||w)&&"undefined"!=typeof FileReader){var f=new FileReader;f.onloadend=function(){var n=f.result;n=c?n:n.replace(/^data:[^;]*;/,"data:attachment/file;");k?k.location.href=n:location=n;k=null};f.readAsDataURL(l)}else{var p=d.URL||d.webkitURL,e=p.createObjectURL(l);k?k.location=e:location.href=e;k=null;setTimeout(function(){p.revokeObjectURL(e)},
4E4)}});d.saveAs=a.saveAs=a;"undefined"!=typeof L&&(L.exports=a)})}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],296:[function(g,L,D){(function(z,h){"object"===typeof L&&"object"===typeof L.exports?L.exports=z.document?h(z,!0):function(v){if(!v.document)throw Error("jQuery requires a window with a document");return h(v)}:h(z)})("undefined"!==typeof window?window:this,function(z,h){function v(m,x,F){F=F||sb;var M,
S=F.createElement("script");S.text=m;if(x)for(M in ic)(m=x[M]||x.getAttribute&&x.getAttribute(M))&&S.setAttribute(M,m);F.head.appendChild(S).parentNode.removeChild(S)}function E(m){return null==m?m+"":"object"===typeof m||"function"===typeof m?La[Ua.call(m)]||"object":typeof m}function b(m){var x=!!m&&"length"in m&&m.length,F=E(m);return Qa(m)||Ja(m)?!1:"array"===F||0===x||"number"===typeof x&&0<x&&x-1 in m}function d(m,x){return m.nodeName&&m.nodeName.toLowerCase()===x.toLowerCase()}function w(m,
x){return x?"\x00"===m?"\ufffd":m.slice(0,-1)+"\\"+m.charCodeAt(m.length-1).toString(16)+" ":"\\"+m}function a(m,x,F){return Qa(x)?P.grep(m,function(M,S){return!!x.call(M,S,M)!==F}):x.nodeType?P.grep(m,function(M){return M===x!==F}):"string"!==typeof x?P.grep(m,function(M){return-1<Da.call(x,M)!==F}):P.filter(x,m,F)}function l(m,x){for(;(m=m[x])&&1!==m.nodeType;);return m}function q(m){var x={};P.each(m.match(Fb)||[],function(F,M){x[M]=!0});return x}function r(m){return m}function k(m){throw m;}function c(m,
x,F,M){var S;try{m&&Qa(S=m.promise)?S.call(m).done(x).fail(F):m&&Qa(S=m.then)?S.call(m,x,F):x.apply(void 0,[m].slice(M))}catch(V){F.apply(void 0,[V])}}function f(){sb.removeEventListener("DOMContentLoaded",f);z.removeEventListener("load",f);P.ready()}function p(m,x){return x.toUpperCase()}function e(m){return m.replace(Rb,"ms-").replace(pb,p)}function n(){this.expando=P.expando+n.uid++}function u(m,x,F){if(void 0===F&&1===m.nodeType)if(F="data-"+x.replace(kc,"-$&").toLowerCase(),F=m.getAttribute(F),
"string"===typeof F){try{var M=F;F="true"===M?!0:"false"===M?!1:"null"===M?null:M===+M+""?+M:vc.test(M)?JSON.parse(M):M}catch(S){}ac.set(m,x,F)}else F=void 0;return F}function A(m,x,F,M){var S,V=20,X=M?function(){return M.cur()}:function(){return P.css(m,x,"")},la=X(),ca=F&&F[3]||(P.cssNumber[x]?"":"px"),da=m.nodeType&&(P.cssNumber[x]||"px"!==ca&&+la)&&gc.exec(P.css(m,x));if(da&&da[3]!==ca){la/=2;ca=ca||da[3];for(da=+la||1;V--;)P.style(m,x,da+ca),0>=(1-S)*(1-(S=X()/la||.5))&&(V=0),da/=S;da*=2;P.style(m,
x,da+ca);F=F||[]}if(F){da=+da||+la||0;var Ga=F[1]?da+(F[1]+1)*F[2]:+F[2];M&&(M.unit=ca,M.start=da,M.end=Ga)}return Ga}function C(m,x){for(var F,M,S=[],V=0,X=m.length;V<X;V++)if(M=m[V],M.style)if(F=M.style.display,x){if("none"===F&&(S[V]=ib.get(M,"display")||null,S[V]||(M.style.display="")),""===M.style.display&&yc(M)){F=V;var la=M.ownerDocument;M=M.nodeName;var ca=Dc[M];ca||(la=la.body.appendChild(la.createElement(M)),ca=P.css(la,"display"),la.parentNode.removeChild(la),"none"===ca&&(ca="block"),
Dc[M]=ca);la=ca;S[F]=la}}else"none"!==F&&(S[V]="none",ib.set(M,"display",F));for(V=0;V<X;V++)null!=S[V]&&(m[V].style.display=S[V]);return m}function B(m,x){var F="undefined"!==typeof m.getElementsByTagName?m.getElementsByTagName(x||"*"):"undefined"!==typeof m.querySelectorAll?m.querySelectorAll(x||"*"):[];return void 0===x||x&&d(m,x)?P.merge([m],F):F}function I(m,x){for(var F=0,M=m.length;F<M;F++)ib.set(m[F],"globalEval",!x||ib.get(x[F],"globalEval"))}function N(m,x,F,M,S){for(var V,X,la,ca=x.createDocumentFragment(),
da=[],Ga=0,Ma=m.length;Ga<Ma;Ga++)if((V=m[Ga])||0===V)if("object"===E(V))P.merge(da,V.nodeType?[V]:V);else if(Na.test(V)){X=X||ca.appendChild(x.createElement("div"));la=(Cc.exec(V)||["",""])[1].toLowerCase();la=Ba[la]||Ba._default;X.innerHTML=la[1]+P.htmlPrefilter(V)+la[2];for(la=la[0];la--;)X=X.lastChild;P.merge(da,X.childNodes);X=ca.firstChild;X.textContent=""}else da.push(x.createTextNode(V));ca.textContent="";for(Ga=0;V=da[Ga++];)if(M&&-1<P.inArray(V,M))S&&S.push(V);else if(m=xc(V),X=B(ca.appendChild(V),
"script"),m&&I(X),F)for(la=0;V=X[la++];)aa.test(V.type||"")&&F.push(V);return ca}function y(){return!0}function G(){return!1}function H(m,x,F,M,S,V){var X;if("object"===typeof x){"string"!==typeof F&&(M=M||F,F=void 0);for(X in x)H(m,X,F,M,x[X],V);return m}null==M&&null==S?(S=F,M=F=void 0):null==S&&("string"===typeof F?(S=M,M=void 0):(S=M,M=F,F=void 0));if(!1===S)S=G;else if(!S)return m;if(1===V){var la=S;S=function(ca){P().off(ca);return la.apply(this,arguments)};S.guid=la.guid||(la.guid=P.guid++)}return m.each(function(){P.event.add(this,
x,S,M,F)})}function O(m,x,F){F?(ib.set(m,x,!1),P.event.add(m,x,{namespace:!1,handler:function(M){var S=ib.get(this,x);if(M.isTrigger&1&&this[x])if(S)(P.event.special[x]||{}).delegateType&&M.stopPropagation();else{S=Oa.call(arguments);ib.set(this,x,S);this[x]();var V=ib.get(this,x);ib.set(this,x,!1);if(S!==V)return M.stopImmediatePropagation(),M.preventDefault(),V}else S&&(ib.set(this,x,P.event.trigger(S[0],S.slice(1),this)),M.stopPropagation(),M.isImmediatePropagationStopped=y)}})):void 0===ib.get(m,
x)&&P.event.add(m,x,y)}function J(m,x){return d(m,"table")&&d(11!==x.nodeType?x:x.firstChild,"tr")?P(m).children("tbody")[0]||m:m}function R(m){m.type=(null!==m.getAttribute("type"))+"/"+m.type;return m}function ea(m){"true/"===(m.type||"").slice(0,5)?m.type=m.type.slice(5):m.removeAttribute("type");return m}function Y(m,x){var F,M,S;if(1===x.nodeType){if(ib.hasData(m)){var V=ib.get(m);if(S=V.events)for(M in ib.remove(x,"handle events"),S)for(V=0,F=S[M].length;V<F;V++)P.event.add(x,M,S[M][V])}ac.hasData(m)&&
(m=ac.access(m),m=P.extend({},m),ac.set(x,m))}}function pa(m,x,F,M){x=ra(x);var S,V=0,X=m.length,la=X-1,ca=x[0],da=Qa(ca);if(da||1<X&&"string"===typeof ca&&!Pa.checkClone&&U.test(ca))return m.each(function(gb){var hb=m.eq(gb);da&&(x[0]=ca.call(this,gb,hb.html()));pa(hb,x,F,M)});if(X){var Ga=N(x,m[0].ownerDocument,!1,m,M);var Ma=Ga.firstChild;1===Ga.childNodes.length&&(Ga=Ma);if(Ma||M){Ma=P.map(B(Ga,"script"),R);for(S=Ma.length;V<X;V++){var Sa=Ga;V!==la&&(Sa=P.clone(Sa,!0,!0),S&&P.merge(Ma,B(Sa,"script")));
F.call(m[V],Sa,V)}if(S)for(Ga=Ma[Ma.length-1].ownerDocument,P.map(Ma,ea),V=0;V<S;V++)Sa=Ma[V],aa.test(Sa.type||"")&&!ib.access(Sa,"globalEval")&&P.contains(Ga,Sa)&&(Sa.src&&"module"!==(Sa.type||"").toLowerCase()?P._evalUrl&&!Sa.noModule&&P._evalUrl(Sa.src,{nonce:Sa.nonce||Sa.getAttribute("nonce")},Ga):v(Sa.textContent.replace(ha,""),Sa,Ga))}}return m}function ka(m,x,F){for(var M=x?P.filter(x,m):m,S=0;null!=(x=M[S]);S++)F||1!==x.nodeType||P.cleanData(B(x)),x.parentNode&&(F&&xc(x)&&I(B(x,"script")),
x.parentNode.removeChild(x));return m}function Q(m,x,F){var M=ba.test(x);var S=m.style;if(F=F||wa(m)){var V=F.getPropertyValue(x)||F[x];M&&V&&(V=V.replace(Qb,"$1")||void 0);""!==V||xc(m)||(V=P.style(m,x));!Pa.pixelBoxStyles()&&Ca.test(V)&&Wa.test(x)&&(m=S.width,x=S.minWidth,M=S.maxWidth,S.minWidth=S.maxWidth=S.width=V,V=F.width,S.width=m,S.minWidth=x,S.maxWidth=M)}return void 0!==V?V+"":V}function ja(m,x){return{get:function(){if(m())delete this.get;else return(this.get=x).apply(this,arguments)}}}
function na(m){var x=P.cssProps[m]||bb[m];if(x)return x;if(m in $a)return m;a:{x=m;for(var F=x[0].toUpperCase()+x.slice(1),M=Ka.length;M--;)if(x=Ka[M]+F,x in $a)break a;x=void 0}return bb[m]=x||m}function za(m,x,F){return(m=gc.exec(x))?Math.max(0,m[2]-(F||0))+(m[3]||"px"):x}function ia(m,x,F,M,S,V){var X="width"===x?1:0,la=0,ca=0,da=0;if(F===(M?"border":"content"))return 0;for(;4>X;X+=2)"margin"===F&&(da+=P.css(m,F+fc[X],!0,S)),M?("content"===F&&(ca-=P.css(m,"padding"+fc[X],!0,S)),"margin"!==F&&(ca-=
P.css(m,"border"+fc[X]+"Width",!0,S))):(ca+=P.css(m,"padding"+fc[X],!0,S),"padding"!==F?ca+=P.css(m,"border"+fc[X]+"Width",!0,S):la+=P.css(m,"border"+fc[X]+"Width",!0,S));!M&&0<=V&&(ca+=Math.max(0,Math.ceil(m["offset"+x[0].toUpperCase()+x.slice(1)]-V-ca-la-.5))||0);return ca+da}function va(m,x,F){var M=wa(m),S=(!Pa.boxSizingReliable()||F)&&"border-box"===P.css(m,"boxSizing",!1,M),V=S,X=Q(m,x,M),la="offset"+x[0].toUpperCase()+x.slice(1);if(Ca.test(X)){if(!F)return X;X="auto"}(!Pa.boxSizingReliable()&&
S||!Pa.reliableTrDimensions()&&d(m,"tr")||"auto"===X||!parseFloat(X)&&"inline"===P.css(m,"display",!1,M))&&m.getClientRects().length&&(S="border-box"===P.css(m,"boxSizing",!1,M),(V=la in m)&&(X=m[la]));X=parseFloat(X)||0;return X+ia(m,x,F||(S?"border":"content"),V,M,X)+"px"}function ta(m,x,F,M,S){return new ta.prototype.init(m,x,F,M,S)}function ua(){oc&&(!1===sb.hidden&&z.requestAnimationFrame?z.requestAnimationFrame(ua):z.setTimeout(ua,P.fx.interval),P.fx.tick())}function Ya(){z.setTimeout(function(){Nb=
void 0});return Nb=Date.now()}function Xa(m,x){var F=0,M={height:m};for(x=x?1:0;4>F;F+=2-x){var S=fc[F];M["margin"+S]=M["padding"+S]=m}x&&(M.opacity=M.width=m);return M}function T(m,x,F){for(var M,S=(sa.tweeners[x]||[]).concat(sa.tweeners["*"]),V=0,X=S.length;V<X;V++)if(M=S[V].call(F,x,m))return M}function Z(m,x){var F,M;for(F in m){var S=e(F);var V=x[S];var X=m[F];Array.isArray(X)&&(V=X[1],X=m[F]=X[0]);F!==S&&(m[S]=X,delete m[F]);if((M=P.cssHooks[S])&&"expand"in M)for(F in X=M.expand(X),delete m[S],
X)F in m||(m[F]=X[F],x[F]=V);else x[S]=V}}function sa(m,x,F){var M,S=0,V=sa.prefilters.length,X=P.Deferred().always(function(){delete la.elem}),la=function(){if(M)return!1;var da=Nb||Ya();da=Math.max(0,ca.startTime+ca.duration-da);for(var Ga=1-(da/ca.duration||0),Ma=0,Sa=ca.tweens.length;Ma<Sa;Ma++)ca.tweens[Ma].run(Ga);X.notifyWith(m,[ca,Ga,da]);if(1>Ga&&Sa)return da;Sa||X.notifyWith(m,[ca,1,0]);X.resolveWith(m,[ca]);return!1},ca=X.promise({elem:m,props:P.extend({},x),opts:P.extend(!0,{specialEasing:{},
easing:P.easing._default},F),originalProperties:x,originalOptions:F,startTime:Nb||Ya(),duration:F.duration,tweens:[],createTween:function(da,Ga){da=P.Tween(m,ca.opts,da,Ga,ca.opts.specialEasing[da]||ca.opts.easing);ca.tweens.push(da);return da},stop:function(da){var Ga=0,Ma=da?ca.tweens.length:0;if(M)return this;for(M=!0;Ga<Ma;Ga++)ca.tweens[Ga].run(1);da?(X.notifyWith(m,[ca,1,0]),X.resolveWith(m,[ca,da])):X.rejectWith(m,[ca,da]);return this}});F=ca.props;for(Z(F,ca.opts.specialEasing);S<V;S++)if(x=
sa.prefilters[S].call(ca,m,F,ca.opts))return Qa(x.stop)&&(P._queueHooks(ca.elem,ca.opts.queue).stop=x.stop.bind(x)),x;P.map(F,T,ca);Qa(ca.opts.start)&&ca.opts.start.call(m,ca);ca.progress(ca.opts.progress).done(ca.opts.done,ca.opts.complete).fail(ca.opts.fail).always(ca.opts.always);P.fx.timer(P.extend(la,{elem:m,anim:ca,queue:ca.opts.queue}));return ca}function Fa(m){return(m.match(Fb)||[]).join(" ")}function Ra(m){return m.getAttribute&&m.getAttribute("class")||""}function wb(m){return Array.isArray(m)?
m:"string"===typeof m?m.match(Fb)||[]:[]}function Ib(m,x,F,M){var S;if(Array.isArray(x))P.each(x,function(V,X){F||hd.test(m)?M(m,X):Ib(m+"["+("object"===typeof X&&null!=X?V:"")+"]",X,F,M)});else if(F||"object"!==E(x))M(m,x);else for(S in x)Ib(m+"["+S+"]",x[S],F,M)}function qa(m){return function(x,F){"string"!==typeof x&&(F=x,x="*");var M=0,S=x.toLowerCase().match(Fb)||[];if(Qa(F))for(;x=S[M++];)"+"===x[0]?(x=x.slice(1)||"*",(m[x]=m[x]||[]).unshift(F)):(m[x]=m[x]||[]).push(F)}}function Aa(m,x,F,M){function S(la){var ca;
V[la]=!0;P.each(m[la]||[],function(da,Ga){da=Ga(x,F,M);if("string"===typeof da&&!X&&!V[da])return x.dataTypes.unshift(da),S(da),!1;if(X)return!(ca=da)});return ca}var V={},X=m===Uc;return S(x.dataTypes[0])||!V["*"]&&S("*")}function Ea(m,x){var F,M,S=P.ajaxSettings.flatOptions||{};for(F in x)void 0!==x[F]&&((S[F]?m:M||={})[F]=x[F]);M&&P.extend(!0,m,M);return m}function Ha(m,x,F){for(var M,S,V,X,la=m.contents,ca=m.dataTypes;"*"===ca[0];)ca.shift(),void 0===M&&(M=m.mimeType||x.getResponseHeader("Content-Type"));
if(M)for(S in la)if(la[S]&&la[S].test(M)){ca.unshift(S);break}if(ca[0]in F)V=ca[0];else{for(S in F){if(!ca[0]||m.converters[S+" "+ca[0]]){V=S;break}X||=S}V=V||X}if(V)return V!==ca[0]&&ca.unshift(V),F[V]}function db(m,x,F,M){var S,V,X={},la=m.dataTypes.slice();if(la[1])for(da in m.converters)X[da.toLowerCase()]=m.converters[da];for(V=la.shift();V;){m.responseFields[V]&&(F[m.responseFields[V]]=x);!ca&&M&&m.dataFilter&&(x=m.dataFilter(x,m.dataType));var ca=V;if(V=la.shift())if("*"===V)V=ca;else if("*"!==
ca&&ca!==V){var da=X[ca+" "+V]||X["* "+V];if(!da)for(S in X){var Ga=S.split(" ");if(Ga[1]===V&&(da=X[ca+" "+Ga[0]]||X["* "+Ga[0]])){!0===da?da=X[S]:!0!==X[S]&&(V=Ga[0],la.unshift(Ga[1]));break}}if(!0!==da)if(da&&m.throws)x=da(x);else try{x=da(x)}catch(Ma){return{state:"parsererror",error:da?Ma:"No conversion from "+ca+" to "+V}}}}return{state:"success",data:x}}var tb=[],qb=Object.getPrototypeOf,Oa=tb.slice,ra=tb.flat?function(m){return tb.flat.call(m)}:function(m){return tb.concat.apply([],m)},oa=
tb.push,Da=tb.indexOf,La={},Ua=La.toString,lb=La.hasOwnProperty,ob=lb.toString,Ab=ob.call(Object),Pa={},Qa=function(m){return"function"===typeof m&&"number"!==typeof m.nodeType&&"function"!==typeof m.item},Ja=function(m){return null!=m&&m===m.window},sb=z.document,ic={type:!0,src:!0,nonce:!0,noModule:!0},ub=/HTML$/i,P=function(m,x){return new P.fn.init(m,x)};P.fn=P.prototype={jquery:"3.7.1",constructor:P,length:0,toArray:function(){return Oa.call(this)},get:function(m){return null==m?Oa.call(this):
0>m?this[m+this.length]:this[m]},pushStack:function(m){m=P.merge(this.constructor(),m);m.prevObject=this;return m},each:function(m){return P.each(this,m)},map:function(m){return this.pushStack(P.map(this,function(x,F){return m.call(x,F,x)}))},slice:function(){return this.pushStack(Oa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(m,x){return(x+1)%2}))},odd:function(){return this.pushStack(P.grep(this,
function(m,x){return x%2}))},eq:function(m){var x=this.length;m=+m+(0>m?x:0);return this.pushStack(0<=m&&m<x?[this[m]]:[])},end:function(){return this.prevObject||this.constructor()},push:oa,sort:tb.sort,splice:tb.splice};P.extend=P.fn.extend=function(){var m,x,F,M=arguments[0]||{},S=1,V=arguments.length,X=!1;"boolean"===typeof M&&(X=M,M=arguments[S]||{},S++);"object"===typeof M||Qa(M)||(M={});S===V&&(M=this,S--);for(;S<V;S++)if(null!=(m=arguments[S]))for(x in m){var la=m[x];if("__proto__"!==x&&M!==
la)if(X&&la&&(P.isPlainObject(la)||(F=Array.isArray(la)))){var ca=M[x];ca=F&&!Array.isArray(ca)?[]:F||P.isPlainObject(ca)?ca:{};F=!1;M[x]=P.extend(X,ca,la)}else void 0!==la&&(M[x]=la)}return M};P.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(m){throw Error(m);},noop:function(){},isPlainObject:function(m){if(!m||"[object Object]"!==Ua.call(m))return!1;m=qb(m);if(!m)return!0;m=lb.call(m,"constructor")&&m.constructor;return"function"===typeof m&&ob.call(m)===
Ab},isEmptyObject:function(m){for(var x in m)return!1;return!0},globalEval:function(m,x,F){v(m,{nonce:x&&x.nonce},F)},each:function(m,x){var F,M=0;if(b(m))for(F=m.length;M<F&&!1!==x.call(m[M],M,m[M]);M++);else for(M in m)if(!1===x.call(m[M],M,m[M]))break;return m},text:function(m){var x,F="",M=0,S=m.nodeType;if(!S)for(;x=m[M++];)F+=P.text(x);return 1===S||11===S?m.textContent:9===S?m.documentElement.textContent:3===S||4===S?m.nodeValue:F},makeArray:function(m,x){x=x||[];null!=m&&(b(Object(m))?P.merge(x,
"string"===typeof m?[m]:m):oa.call(x,m));return x},inArray:function(m,x,F){return null==x?-1:Da.call(x,m,F)},isXMLDoc:function(m){var x=m&&(m.ownerDocument||m).documentElement;return!ub.test(m&&m.namespaceURI||x&&x.nodeName||"HTML")},merge:function(m,x){for(var F=+x.length,M=0,S=m.length;M<F;M++)m[S++]=x[M];m.length=S;return m},grep:function(m,x,F){for(var M=[],S=0,V=m.length,X=!F;S<V;S++)F=!x(m[S],S),F!==X&&M.push(m[S]);return M},map:function(m,x,F){var M,S=0,V=[];if(b(m))for(M=m.length;S<M;S++){var X=
x(m[S],S,F);null!=X&&V.push(X)}else for(S in m)X=x(m[S],S,F),null!=X&&V.push(X);return ra(V)},guid:1,support:Pa});"function"===typeof Symbol&&(P.fn[Symbol.iterator]=tb[Symbol.iterator]);P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(m,x){La["[object "+x+"]"]=x.toLowerCase()});var kb=tb.pop,qc=tb.sort,jc=tb.splice,Qb=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");P.contains=function(m,x){x=x&&x.parentNode;return m===
x||!!(x&&1===x.nodeType&&(m.contains?m.contains(x):m.compareDocumentPosition&&m.compareDocumentPosition(x)&16))};var eb=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;P.escapeSelector=function(m){return(m+"").replace(eb,w)};var bc=sb;(function(){function m(fa,ya,xa,Ta){var Za,fb,nb,Eb,cb=ya&&ya.ownerDocument;var zb=ya?ya.nodeType:9;xa=xa||[];if("string"!==typeof fa||!fa||1!==zb&&9!==zb&&11!==zb)return xa;if(!Ta&&(da(ya),ya=ya||Jb,pc)){if(11!==zb&&(Eb=xd.exec(fa)))if(Za=Eb[1])if(9===zb)if(fb=ya.getElementById(Za)){if(fb.id===
Za)return mc.call(xa,fb),xa}else return xa;else{if(cb&&(fb=cb.getElementById(Za))&&m.contains(ya,fb)&&fb.id===Za)return mc.call(xa,fb),xa}else{if(Eb[2])return mc.apply(xa,ya.getElementsByTagName(fa)),xa;if((Za=Eb[3])&&ya.getElementsByClassName)return mc.apply(xa,ya.getElementsByClassName(Za)),xa}if(!(ad[fa+" "]||sc&&sc.test(fa))){Za=fa;cb=ya;if(1===zb&&(yd.test(fa)||td.test(fa))){cb=pd.test(fa)&&ca(ya.parentNode)||ya;cb==ya&&Pa.scope||((nb=ya.getAttribute("id"))?nb=P.escapeSelector(nb):ya.setAttribute("id",
nb=dc));Za=Ma(fa);for(zb=Za.length;zb--;)Za[zb]=(nb?"#"+nb:":scope")+" "+Sa(Za[zb]);Za=Za.join(",")}try{return mc.apply(xa,cb.querySelectorAll(Za)),xa}catch(Gb){ad(fa,!0)}finally{nb===dc&&ya.removeAttribute("id")}}}return Ub(fa.replace(Qb,"$1"),ya,xa,Ta)}function x(){function fa(xa,Ta){ya.push(xa+" ")>Pb.cacheLength&&delete fa[ya.shift()];return fa[xa+" "]=Ta}var ya=[];return fa}function F(fa){fa[dc]=!0;return fa}function M(fa){var ya=Jb.createElement("fieldset");try{return!!fa(ya)}catch(xa){return!1}finally{ya.parentNode&&
ya.parentNode.removeChild(ya)}}function S(fa){return function(ya){return d(ya,"input")&&ya.type===fa}}function V(fa){return function(ya){return(d(ya,"input")||d(ya,"button"))&&ya.type===fa}}function X(fa){return function(ya){return"form"in ya?ya.parentNode&&!1===ya.disabled?"label"in ya?"label"in ya.parentNode?ya.parentNode.disabled===fa:ya.disabled===fa:ya.isDisabled===fa||ya.isDisabled!==!fa&&zd(ya)===fa:ya.disabled===fa:"label"in ya?ya.disabled===fa:!1}}function la(fa){return F(function(ya){ya=
+ya;return F(function(xa,Ta){for(var Za,fb=fa([],xa.length,ya),nb=fb.length;nb--;)xa[Za=fb[nb]]&&(xa[Za]=!(Ta[Za]=xa[Za]))})})}function ca(fa){return fa&&"undefined"!==typeof fa.getElementsByTagName&&fa}function da(fa){var ya;fa=fa?fa.ownerDocument||fa:bc;if(fa==Jb||9!==fa.nodeType||!fa.documentElement)return Jb;Jb=fa;Bc=Jb.documentElement;pc=!P.isXMLDoc(Jb);qd=Bc.matches||Bc.webkitMatchesSelector||Bc.msMatchesSelector;Bc.msMatchesSelector&&bc!=Jb&&(ya=Jb.defaultView)&&ya.top!==ya&&ya.addEventListener("unload",
Ad);Pa.getById=M(function(xa){Bc.appendChild(xa).id=P.expando;return!Jb.getElementsByName||!Jb.getElementsByName(P.expando).length});Pa.disconnectedMatch=M(function(xa){return qd.call(xa,"*")});Pa.scope=M(function(){return Jb.querySelectorAll(":scope")});Pa.cssHas=M(function(){try{return Jb.querySelector(":has(*,:jqfake)"),!1}catch(xa){return!0}});Pa.getById?(Pb.filter.ID=function(xa){var Ta=xa.replace(Jc,Kc);return function(Za){return Za.getAttribute("id")===Ta}},Pb.find.ID=function(xa,Ta){if("undefined"!==
typeof Ta.getElementById&&pc)return(xa=Ta.getElementById(xa))?[xa]:[]}):(Pb.filter.ID=function(xa){var Ta=xa.replace(Jc,Kc);return function(Za){return(Za="undefined"!==typeof Za.getAttributeNode&&Za.getAttributeNode("id"))&&Za.value===Ta}},Pb.find.ID=function(xa,Ta){if("undefined"!==typeof Ta.getElementById&&pc){var Za,fb=Ta.getElementById(xa);if(fb){if((Za=fb.getAttributeNode("id"))&&Za.value===xa)return[fb];var nb=Ta.getElementsByName(xa);for(Ta=0;fb=nb[Ta++];)if((Za=fb.getAttributeNode("id"))&&
Za.value===xa)return[fb]}return[]}});Pb.find.TAG=function(xa,Ta){return"undefined"!==typeof Ta.getElementsByTagName?Ta.getElementsByTagName(xa):Ta.querySelectorAll(xa)};Pb.find.CLASS=function(xa,Ta){if("undefined"!==typeof Ta.getElementsByClassName&&pc)return Ta.getElementsByClassName(xa)};sc=[];M(function(xa){Bc.appendChild(xa).innerHTML="<a id='"+dc+"' href='' disabled='disabled'></a><select id='"+dc+"-\r\\' disabled='disabled'><option selected=''></option></select>";xa.querySelectorAll("[selected]").length||
sc.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");xa.querySelectorAll("[id~="+dc+"-]").length||sc.push("~=");xa.querySelectorAll("a#"+dc+"+*").length||sc.push(".#.+[+~]");xa.querySelectorAll(":checked").length||sc.push(":checked");var Ta=Jb.createElement("input");Ta.setAttribute("type","hidden");xa.appendChild(Ta).setAttribute("name","D");Bc.appendChild(xa).disabled=!0;2!==xa.querySelectorAll(":disabled").length&&
sc.push(":enabled",":disabled");Ta=Jb.createElement("input");Ta.setAttribute("name","");xa.appendChild(Ta);xa.querySelectorAll("[name='']").length||sc.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")")});Pa.cssHas||sc.push(":has");sc=sc.length&&new RegExp(sc.join("|"));rd=function(xa,Ta){if(xa===Ta)return uc=!0,0;var Za=!xa.compareDocumentPosition-!Ta.compareDocumentPosition;if(Za)return Za;Za=(xa.ownerDocument||xa)==(Ta.ownerDocument||Ta)?xa.compareDocumentPosition(Ta):
1;return Za&1||!Pa.sortDetached&&Ta.compareDocumentPosition(xa)===Za?xa===Jb||xa.ownerDocument==bc&&m.contains(bc,xa)?-1:Ta===Jb||Ta.ownerDocument==bc&&m.contains(bc,Ta)?1:Zb?Da.call(Zb,xa)-Da.call(Zb,Ta):0:Za&4?-1:1};return Jb}function Ga(){}function Ma(fa,ya){var xa,Ta,Za,fb,nb;if(fb=ud[fa+" "])return ya?0:fb.slice(0);fb=fa;var Eb=[];for(nb=Pb.preFilter;fb;){if(!cb||(xa=Bd.exec(fb)))xa&&(fb=fb.slice(xa[0].length)||fb),Eb.push(Ta=[]);var cb=!1;if(xa=td.exec(fb))cb=xa.shift(),Ta.push({value:cb,type:xa[0].replace(Qb,
" ")}),fb=fb.slice(cb.length);for(Za in Pb.filter)!(xa=bd[Za].exec(fb))||nb[Za]&&!(xa=nb[Za](xa))||(cb=xa.shift(),Ta.push({value:cb,type:Za,matches:xa}),fb=fb.slice(cb.length));if(!cb)break}return ya?fb.length:fb?m.error(fa):ud(fa,Eb).slice(0)}function Sa(fa){for(var ya=0,xa=fa.length,Ta="";ya<xa;ya++)Ta+=fa[ya].value;return Ta}function gb(fa,ya,xa){var Ta=ya.dir,Za=ya.next,fb=Za||Ta,nb=xa&&"parentNode"===fb,Eb=Cd++;return ya.first?function(cb,zb,Gb){for(;cb=cb[Ta];)if(1===cb.nodeType||nb)return fa(cb,
zb,Gb);return!1}:function(cb,zb,Gb){var vb,Xb=[Lc,Eb];if(Gb)for(;cb=cb[Ta];){if((1===cb.nodeType||nb)&&fa(cb,zb,Gb))return!0}else for(;cb=cb[Ta];)if(1===cb.nodeType||nb){var ec=cb[dc]||(cb[dc]={});if(Za&&d(cb,Za))cb=cb[Ta]||cb;else{if((vb=ec[fb])&&vb[0]===Lc&&vb[1]===Eb)return Xb[2]=vb[2];ec[fb]=Xb;if(Xb[2]=fa(cb,zb,Gb))return!0}}return!1}}function hb(fa){return 1<fa.length?function(ya,xa,Ta){for(var Za=fa.length;Za--;)if(!fa[Za](ya,xa,Ta))return!1;return!0}:fa[0]}function Bb(fa,ya,xa,Ta,Za){for(var fb,
nb=[],Eb=0,cb=fa.length,zb=null!=ya;Eb<cb;Eb++)if(fb=fa[Eb])if(!xa||xa(fb,Ta,Za))nb.push(fb),zb&&ya.push(Eb);return nb}function Cb(fa,ya,xa,Ta,Za,fb){Ta&&!Ta[dc]&&(Ta=Cb(Ta));Za&&!Za[dc]&&(Za=Cb(Za,fb));return F(function(nb,Eb,cb,zb){var Gb,vb,Xb=[],ec=[],Ic=Eb.length;if(!(vb=nb)){vb=ya||"*";for(var hc=cb.nodeType?[cb]:cb,Yb=[],Ec=0,cd=hc.length;Ec<cd;Ec++)m(vb,hc[Ec],Yb);vb=Yb}hc=!fa||!nb&&ya?vb:Bb(vb,Xb,fa,cb,zb);xa?(vb=Za||(nb?fa:Ic||Ta)?[]:Eb,xa(hc,vb,cb,zb)):vb=hc;if(Ta){var Fc=Bb(vb,ec);Ta(Fc,
[],cb,zb);for(cb=Fc.length;cb--;)if(Gb=Fc[cb])vb[ec[cb]]=!(hc[ec[cb]]=Gb)}if(nb){if(Za||fa){if(Za){Fc=[];for(cb=vb.length;cb--;)(Gb=vb[cb])&&Fc.push(hc[cb]=Gb);Za(null,vb=[],Fc,zb)}for(cb=vb.length;cb--;)(Gb=vb[cb])&&-1<(Fc=Za?Da.call(nb,Gb):Xb[cb])&&(nb[Fc]=!(Eb[Fc]=Gb))}}else vb=Bb(vb===Eb?vb.splice(Ic,vb.length):vb),Za?Za(null,Eb,vb,zb):mc.apply(Eb,vb)})}function $b(fa){var ya,xa,Ta=fa.length,Za=Pb.relative[fa[0].type];var fb=Za||Pb.relative[" "];for(var nb=Za?1:0,Eb=gb(function(Gb){return Gb===
ya},fb,!0),cb=gb(function(Gb){return-1<Da.call(ya,Gb)},fb,!0),zb=[function(Gb,vb,Xb){Gb=!Za&&(Xb||vb!=Wb)||((ya=vb).nodeType?Eb(Gb,vb,Xb):cb(Gb,vb,Xb));ya=null;return Gb}];nb<Ta;nb++)if(fb=Pb.relative[fa[nb].type])zb=[gb(hb(zb),fb)];else{fb=Pb.filter[fa[nb].type].apply(null,fa[nb].matches);if(fb[dc]){for(xa=++nb;xa<Ta&&!Pb.relative[fa[xa].type];xa++);return Cb(1<nb&&hb(zb),1<nb&&Sa(fa.slice(0,nb-1).concat({value:" "===fa[nb-2].type?"*":""})).replace(Qb,"$1"),fb,nb<xa&&$b(fa.slice(nb,xa)),xa<Ta&&$b(fa=
fa.slice(xa)),xa<Ta&&Sa(fa))}zb.push(fb)}return hb(zb)}function yb(fa,ya){var xa=0<ya.length,Ta=0<fa.length,Za=function(fb,nb,Eb,cb,zb){var Gb,vb,Xb=0,ec="0",Ic=fb&&[],hc=[],Yb=Wb,Ec=fb||Ta&&Pb.find.TAG("*",zb),cd=Lc+=null==Yb?1:Math.random()||.1,Fc=Ec.length;for(zb&&(Wb=nb==Jb||nb||zb);ec!==Fc&&null!=(Gb=Ec[ec]);ec++){if(Ta&&Gb){var sd=0;nb||Gb.ownerDocument==Jb||(da(Gb),Eb=!pc);for(;vb=fa[sd++];)if(vb(Gb,nb||Jb,Eb)){mc.call(cb,Gb);break}zb&&(Lc=cd)}xa&&((Gb=!vb&&Gb)&&Xb--,fb&&Ic.push(Gb))}Xb+=ec;
if(xa&&ec!==Xb){for(sd=0;vb=ya[sd++];)vb(Ic,hc,nb,Eb);if(fb){if(0<Xb)for(;ec--;)Ic[ec]||hc[ec]||(hc[ec]=kb.call(cb));hc=Bb(hc)}mc.apply(cb,hc);zb&&!fb&&0<hc.length&&1<Xb+ya.length&&P.uniqueSort(cb)}zb&&(Lc=cd,Wb=Yb);return Ic};return xa?F(Za):Za}function Kb(fa,ya){var xa,Ta=[],Za=[],fb=vd[fa+" "];if(!fb){ya||=Ma(fa);for(xa=ya.length;xa--;)fb=$b(ya[xa]),fb[dc]?Ta.push(fb):Za.push(fb);fb=vd(fa,yb(Za,Ta));fb.selector=fa}return fb}function Ub(fa,ya,xa,Ta){var Za,fb,nb,Eb="function"===typeof fa&&fa,cb=
!Ta&&Ma(fa=Eb.selector||fa);xa=xa||[];if(1===cb.length){var zb=cb[0]=cb[0].slice(0);if(2<zb.length&&"ID"===(fb=zb[0]).type&&9===ya.nodeType&&pc&&Pb.relative[zb[1].type]){ya=(Pb.find.ID(fb.matches[0].replace(Jc,Kc),ya)||[])[0];if(!ya)return xa;Eb&&(ya=ya.parentNode);fa=fa.slice(zb.shift().value.length)}for(Za=bd.needsContext.test(fa)?0:zb.length;Za--;){fb=zb[Za];if(Pb.relative[nb=fb.type])break;if(nb=Pb.find[nb])if(Ta=nb(fb.matches[0].replace(Jc,Kc),pd.test(zb[0].type)&&ca(ya.parentNode)||ya)){zb.splice(Za,
1);fa=Ta.length&&Sa(zb);if(!fa)return mc.apply(xa,Ta),xa;break}}}(Eb||Kb(fa,cb))(Ta,ya,!pc,xa,!ya||pd.test(fa)&&ca(ya.parentNode)||ya);return xa}var xb,Wb,Zb,uc,mc=oa,Jb,Bc,pc,sc,qd,dc=P.expando,Lc=0,Cd=0,wd=x(),ud=x(),vd=x(),ad=x(),rd=function(fa,ya){fa===ya&&(uc=!0);return 0},Dd=RegExp("[\\x20\\t\\r\\n\\f]+","g"),Bd=RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),td=RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),yd=RegExp("[\\x20\\t\\r\\n\\f]|>"),Ed=RegExp(":((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
Fd=RegExp("^(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+$"),bd={ID:RegExp("^#((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),CLASS:RegExp("^\\.((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)"),TAG:RegExp("^((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+|[*])"),ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\]"),
PSEUDO:RegExp("^:((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\x00-\\x7f])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},Gd=/^(?:input|select|textarea|button)$/i,Hd=/^h\d$/i,xd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pd=/[+~]/,Jc=RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),Kc=function(fa,ya){fa="0x"+fa.slice(1)-65536;return ya?ya:0>fa?String.fromCharCode(fa+65536):String.fromCharCode(fa>>10|55296,fa&1023|56320)},Ad=function(){da()},zd=gb(function(fa){return!0===fa.disabled&&d(fa,"fieldset")},{dir:"parentNode",next:"legend"});try{mc.apply(tb=Oa.call(bc.childNodes),bc.childNodes),tb[bc.childNodes.length].nodeType}catch(fa){mc=
{apply:function(ya,xa){oa.apply(ya,Oa.call(xa))},call:function(ya){oa.apply(ya,Oa.call(arguments,1))}}}m.matches=function(fa,ya){return m(fa,null,null,ya)};m.matchesSelector=function(fa,ya){da(fa);if(!(!pc||ad[ya+" "]||sc&&sc.test(ya)))try{var xa=qd.call(fa,ya);if(xa||Pa.disconnectedMatch||fa.document&&11!==fa.document.nodeType)return xa}catch(Ta){ad(ya,!0)}return 0<m(ya,Jb,null,[fa]).length};m.contains=function(fa,ya){(fa.ownerDocument||fa)!=Jb&&da(fa);return P.contains(fa,ya)};m.attr=function(fa,
ya){(fa.ownerDocument||fa)!=Jb&&da(fa);var xa=Pb.attrHandle[ya.toLowerCase()];xa=xa&&lb.call(Pb.attrHandle,ya.toLowerCase())?xa(fa,ya,!pc):void 0;return void 0!==xa?xa:fa.getAttribute(ya)};m.error=function(fa){throw Error("Syntax error, unrecognized expression: "+fa);};P.uniqueSort=function(fa){var ya,xa=[],Ta=0,Za=0;uc=!Pa.sortStable;Zb=!Pa.sortStable&&Oa.call(fa,0);qc.call(fa,rd);if(uc){for(;ya=fa[Za++];)ya===fa[Za]&&(Ta=xa.push(Za));for(;Ta--;)jc.call(fa,xa[Ta],1)}Zb=null;return fa};P.fn.uniqueSort=
function(){return this.pushStack(P.uniqueSort(Oa.apply(this)))};var Pb=P.expr={cacheLength:50,createPseudo:F,match:bd,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(fa){fa[1]=fa[1].replace(Jc,Kc);fa[3]=(fa[3]||fa[4]||fa[5]||"").replace(Jc,Kc);"~="===fa[2]&&(fa[3]=" "+fa[3]+" ");return fa.slice(0,4)},CHILD:function(fa){fa[1]=fa[1].toLowerCase();"nth"===fa[1].slice(0,3)?
(fa[3]||m.error(fa[0]),fa[4]=+(fa[4]?fa[5]+(fa[6]||1):2*("even"===fa[3]||"odd"===fa[3])),fa[5]=+(fa[7]+fa[8]||"odd"===fa[3])):fa[3]&&m.error(fa[0]);return fa},PSEUDO:function(fa){var ya,xa=!fa[6]&&fa[2];if(bd.CHILD.test(fa[0]))return null;fa[3]?fa[2]=fa[4]||fa[5]||"":xa&&Ed.test(xa)&&(ya=Ma(xa,!0))&&(ya=xa.indexOf(")",xa.length-ya)-xa.length)&&(fa[0]=fa[0].slice(0,ya),fa[2]=xa.slice(0,ya));return fa.slice(0,3)}},filter:{TAG:function(fa){var ya=fa.replace(Jc,Kc).toLowerCase();return"*"===fa?function(){return!0}:
function(xa){return d(xa,ya)}},CLASS:function(fa){var ya=wd[fa+" "];return ya||(ya=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+fa+"([\\x20\\t\\r\\n\\f]|$)"),wd(fa,function(xa){return ya.test("string"===typeof xa.className&&xa.className||"undefined"!==typeof xa.getAttribute&&xa.getAttribute("class")||"")}))},ATTR:function(fa,ya,xa){return function(Ta){Ta=m.attr(Ta,fa);if(null==Ta)return"!="===ya;if(!ya)return!0;Ta+="";return"="===ya?Ta===xa:"!="===ya?Ta!==xa:"^="===ya?xa&&0===Ta.indexOf(xa):"*="===ya?xa&&
-1<Ta.indexOf(xa):"$="===ya?xa&&Ta.slice(-xa.length)===xa:"~="===ya?-1<(" "+Ta.replace(Dd," ")+" ").indexOf(xa):"|="===ya?Ta===xa||Ta.slice(0,xa.length+1)===xa+"-":!1}},CHILD:function(fa,ya,xa,Ta,Za){var fb="nth"!==fa.slice(0,3),nb="last"!==fa.slice(-4),Eb="of-type"===ya;return 1===Ta&&0===Za?function(cb){return!!cb.parentNode}:function(cb,zb,Gb){var vb,Xb;zb=fb!==nb?"nextSibling":"previousSibling";var ec=cb.parentNode,Ic=Eb&&cb.nodeName.toLowerCase(),hc=!Gb&&!Eb;var Yb=!1;if(ec){if(fb){for(;zb;){for(vb=
cb;vb=vb[zb];)if(Eb?d(vb,Ic):1===vb.nodeType)return!1;var Ec=zb="only"===fa&&!Ec&&"nextSibling"}return!0}Ec=[nb?ec.firstChild:ec.lastChild];if(nb&&hc)for(Gb=ec[dc]||(ec[dc]={}),Yb=Gb[fa]||[],Yb=(Xb=Yb[0]===Lc&&Yb[1])&&Yb[2],vb=Xb&&ec.childNodes[Xb];vb=++Xb&&vb&&vb[zb]||(Yb=Xb=0)||Ec.pop();){if(1===vb.nodeType&&++Yb&&vb===cb){Gb[fa]=[Lc,Xb,Yb];break}}else if(hc&&(Gb=cb[dc]||(cb[dc]={}),Yb=Gb[fa]||[],Yb=Xb=Yb[0]===Lc&&Yb[1]),!1===Yb)for(;(vb=++Xb&&vb&&vb[zb]||(Yb=Xb=0)||Ec.pop())&&((Eb?!d(vb,Ic):1!==
vb.nodeType)||!++Yb||(hc&&(Gb=vb[dc]||(vb[dc]={}),Gb[fa]=[Lc,Yb]),vb!==cb)););Yb-=Za;return Yb===Ta||0===Yb%Ta&&0<=Yb/Ta}}},PSEUDO:function(fa,ya){var xa=Pb.pseudos[fa]||Pb.setFilters[fa.toLowerCase()]||m.error("unsupported pseudo: "+fa);if(xa[dc])return xa(ya);if(1<xa.length){var Ta=[fa,fa,"",ya];return Pb.setFilters.hasOwnProperty(fa.toLowerCase())?F(function(Za,fb){for(var nb,Eb=xa(Za,ya),cb=Eb.length;cb--;)nb=Da.call(Za,Eb[cb]),Za[nb]=!(fb[nb]=Eb[cb])}):function(Za){return xa(Za,0,Ta)}}return xa}},
pseudos:{not:F(function(fa){var ya=[],xa=[],Ta=Kb(fa.replace(Qb,"$1"));return Ta[dc]?F(function(Za,fb,nb,Eb){Eb=Ta(Za,null,Eb,[]);for(var cb=Za.length;cb--;)if(nb=Eb[cb])Za[cb]=!(fb[cb]=nb)}):function(Za,fb,nb){ya[0]=Za;Ta(ya,null,nb,xa);ya[0]=null;return!xa.pop()}}),has:F(function(fa){return function(ya){return 0<m(fa,ya).length}}),contains:F(function(fa){fa=fa.replace(Jc,Kc);return function(ya){return-1<(ya.textContent||P.text(ya)).indexOf(fa)}}),lang:F(function(fa){Fd.test(fa||"")||m.error("unsupported lang: "+
fa);fa=fa.replace(Jc,Kc).toLowerCase();return function(ya){var xa;do if(xa=pc?ya.lang:ya.getAttribute("xml:lang")||ya.getAttribute("lang"))return xa=xa.toLowerCase(),xa===fa||0===xa.indexOf(fa+"-");while((ya=ya.parentNode)&&1===ya.nodeType);return!1}}),target:function(fa){var ya=z.location&&z.location.hash;return ya&&ya.slice(1)===fa.id},root:function(fa){return fa===Bc},focus:function(fa){a:{try{var ya=Jb.activeElement;break a}catch(xa){}ya=void 0}return fa===ya&&Jb.hasFocus()&&!!(fa.type||fa.href||
~fa.tabIndex)},enabled:X(!1),disabled:X(!0),checked:function(fa){return d(fa,"input")&&!!fa.checked||d(fa,"option")&&!!fa.selected},selected:function(fa){fa.parentNode&&fa.parentNode.selectedIndex;return!0===fa.selected},empty:function(fa){for(fa=fa.firstChild;fa;fa=fa.nextSibling)if(6>fa.nodeType)return!1;return!0},parent:function(fa){return!Pb.pseudos.empty(fa)},header:function(fa){return Hd.test(fa.nodeName)},input:function(fa){return Gd.test(fa.nodeName)},button:function(fa){return d(fa,"input")&&
"button"===fa.type||d(fa,"button")},text:function(fa){var ya;return d(fa,"input")&&"text"===fa.type&&(null==(ya=fa.getAttribute("type"))||"text"===ya.toLowerCase())},first:la(function(){return[0]}),last:la(function(fa,ya){return[ya-1]}),eq:la(function(fa,ya,xa){return[0>xa?xa+ya:xa]}),even:la(function(fa,ya){for(var xa=0;xa<ya;xa+=2)fa.push(xa);return fa}),odd:la(function(fa,ya){for(var xa=1;xa<ya;xa+=2)fa.push(xa);return fa}),lt:la(function(fa,ya,xa){for(ya=0>xa?xa+ya:xa>ya?ya:xa;0<=--ya;)fa.push(ya);
return fa}),gt:la(function(fa,ya,xa){for(xa=0>xa?xa+ya:xa;++xa<ya;)fa.push(xa);return fa})}};Pb.pseudos.nth=Pb.pseudos.eq;for(xb in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Pb.pseudos[xb]=S(xb);for(xb in{submit:!0,reset:!0})Pb.pseudos[xb]=V(xb);Ga.prototype=Pb.filters=Pb.pseudos;Pb.setFilters=new Ga;Pa.sortStable=dc.split("").sort(rd).join("")===dc;da();Pa.sortDetached=M(function(fa){return fa.compareDocumentPosition(Jb.createElement("fieldset"))&1});P.find=m;P.expr[":"]=P.expr.pseudos;
P.unique=P.uniqueSort;m.compile=Kb;m.select=Ub;m.setDocument=da;m.tokenize=Ma;m.escape=P.escapeSelector;m.getText=P.text;m.isXML=P.isXMLDoc;m.selectors=P.expr;m.support=P.support;m.uniqueSort=P.uniqueSort})();var Va=function(m,x,F){for(var M=[],S=void 0!==F;(m=m[x])&&9!==m.nodeType;)if(1===m.nodeType){if(S&&P(m).is(F))break;M.push(m)}return M},rb=function(m,x){for(var F=[];m;m=m.nextSibling)1===m.nodeType&&m!==x&&F.push(m);return F},Hb=P.expr.match.needsContext,cc=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
P.filter=function(m,x,F){var M=x[0];F&&(m=":not("+m+")");return 1===x.length&&1===M.nodeType?P.find.matchesSelector(M,m)?[M]:[]:P.find.matches(m,P.grep(x,function(S){return 1===S.nodeType}))};P.fn.extend({find:function(m){var x,F=this.length,M=this;if("string"!==typeof m)return this.pushStack(P(m).filter(function(){for(x=0;x<F;x++)if(P.contains(M[x],this))return!0}));var S=this.pushStack([]);for(x=0;x<F;x++)P.find(m,M[x],S);return 1<F?P.uniqueSort(S):S},filter:function(m){return this.pushStack(a(this,
m||[],!1))},not:function(m){return this.pushStack(a(this,m||[],!0))},is:function(m){return!!a(this,"string"===typeof m&&Hb.test(m)?P(m):m||[],!1).length}});var Mb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(m,x,F){if(!m)return this;F=F||tc;if("string"===typeof m){var M="<"===m[0]&&">"===m[m.length-1]&&3<=m.length?[null,m,null]:Mb.exec(m);if(!M||!M[1]&&x)return!x||x.jquery?(x||F).find(m):this.constructor(x).find(m);if(M[1]){if(x=x instanceof P?x[0]:x,P.merge(this,P.parseHTML(M[1],x&&
x.nodeType?x.ownerDocument||x:sb,!0)),cc.test(M[1])&&P.isPlainObject(x))for(M in x)if(Qa(this[M]))this[M](x[M]);else this.attr(M,x[M])}else if(m=sb.getElementById(M[2]))this[0]=m,this.length=1;return this}return m.nodeType?(this[0]=m,this.length=1,this):Qa(m)?void 0!==F.ready?F.ready(m):m(P):P.makeArray(m,this)}).prototype=P.fn;var tc=P(sb);var rc=/^(?:parents|prev(?:Until|All))/,wc={children:!0,contents:!0,next:!0,prev:!0};P.fn.extend({has:function(m){var x=P(m,this),F=x.length;return this.filter(function(){for(var M=
0;M<F;M++)if(P.contains(this,x[M]))return!0})},closest:function(m,x){var F,M=0,S=this.length,V=[],X="string"!==typeof m&&P(m);if(!Hb.test(m))for(;M<S;M++)for(F=this[M];F&&F!==x;F=F.parentNode)if(11>F.nodeType&&(X?-1<X.index(F):1===F.nodeType&&P.find.matchesSelector(F,m))){V.push(F);break}return this.pushStack(1<V.length?P.uniqueSort(V):V)},index:function(m){return m?"string"===typeof m?Da.call(P(m),this[0]):Da.call(this,m.jquery?m[0]:m):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},
add:function(m,x){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(m,x))))},addBack:function(m){return this.add(null==m?this.prevObject:this.prevObject.filter(m))}});P.each({parent:function(m){return(m=m.parentNode)&&11!==m.nodeType?m:null},parents:function(m){return Va(m,"parentNode")},parentsUntil:function(m,x,F){return Va(m,"parentNode",F)},next:function(m){return l(m,"nextSibling")},prev:function(m){return l(m,"previousSibling")},nextAll:function(m){return Va(m,"nextSibling")},prevAll:function(m){return Va(m,
"previousSibling")},nextUntil:function(m,x,F){return Va(m,"nextSibling",F)},prevUntil:function(m,x,F){return Va(m,"previousSibling",F)},siblings:function(m){return rb((m.parentNode||{}).firstChild,m)},children:function(m){return rb(m.firstChild)},contents:function(m){if(null!=m.contentDocument&&qb(m.contentDocument))return m.contentDocument;d(m,"template")&&(m=m.content||m);return P.merge([],m.childNodes)}},function(m,x){P.fn[m]=function(F,M){var S=P.map(this,x,F);"Until"!==m.slice(-5)&&(M=F);M&&
"string"===typeof M&&(S=P.filter(M,S));1<this.length&&(wc[m]||P.uniqueSort(S),rc.test(m)&&S.reverse());return this.pushStack(S)}});var Fb=/[^\x20\t\r\n\f]+/g;P.Callbacks=function(m){m="string"===typeof m?q(m):P.extend({},m);var x,F,M,S,V=[],X=[],la=-1,ca=function(){S=S||m.once;for(M=x=!0;X.length;la=-1)for(F=X.shift();++la<V.length;)!1===V[la].apply(F[0],F[1])&&m.stopOnFalse&&(la=V.length,F=!1);m.memory||(F=!1);x=!1;S&&(V=F?[]:"")},da={add:function(){V&&(F&&!x&&(la=V.length-1,X.push(F)),function Sa(Ma){P.each(Ma,
function(gb,hb){Qa(hb)?m.unique&&da.has(hb)||V.push(hb):hb&&hb.length&&"string"!==E(hb)&&Sa(hb)})}(arguments),F&&!x&&ca());return this},remove:function(){P.each(arguments,function(Ga,Ma){for(var Sa;-1<(Sa=P.inArray(Ma,V,Sa));)V.splice(Sa,1),Sa<=la&&la--});return this},has:function(Ga){return Ga?-1<P.inArray(Ga,V):0<V.length},empty:function(){V&&=[];return this},disable:function(){S=X=[];V=F="";return this},disabled:function(){return!V},lock:function(){S=X=[];F||x||(V=F="");return this},locked:function(){return!!S},
fireWith:function(Ga,Ma){S||(Ma=Ma||[],Ma=[Ga,Ma.slice?Ma.slice():Ma],X.push(Ma),x||ca());return this},fire:function(){da.fireWith(this,arguments);return this},fired:function(){return!!M}};return da};P.extend({Deferred:function(m){var x=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],F="pending",M={state:function(){return F},
always:function(){S.done(arguments).fail(arguments);return this},"catch":function(V){return M.then(null,V)},pipe:function(){var V=arguments;return P.Deferred(function(X){P.each(x,function(la,ca){var da=Qa(V[ca[4]])&&V[ca[4]];S[ca[1]](function(){var Ga=da&&da.apply(this,arguments);if(Ga&&Qa(Ga.promise))Ga.promise().progress(X.notify).done(X.resolve).fail(X.reject);else X[ca[0]+"With"](this,da?[Ga]:arguments)})});V=null}).promise()},then:function(V,X,la){function ca(Ga,Ma,Sa,gb){return function(){var hb=
this,Bb=arguments,Cb=function(){if(!(Ga<da)){var yb=Sa.apply(hb,Bb);if(yb===Ma.promise())throw new TypeError("Thenable self-resolution");var Kb=yb&&("object"===typeof yb||"function"===typeof yb)&&yb.then;Qa(Kb)?gb?Kb.call(yb,ca(da,Ma,r,gb),ca(da,Ma,k,gb)):(da++,Kb.call(yb,ca(da,Ma,r,gb),ca(da,Ma,k,gb),ca(da,Ma,r,Ma.notifyWith))):(Sa!==r&&(hb=void 0,Bb=[yb]),(gb||Ma.resolveWith)(hb,Bb))}},$b=gb?Cb:function(){try{Cb()}catch(yb){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(yb,$b.error),Ga+1>=da&&
(Sa!==k&&(hb=void 0,Bb=[yb]),Ma.rejectWith(hb,Bb))}};Ga?$b():(P.Deferred.getErrorHook?$b.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&($b.error=P.Deferred.getStackHook()),z.setTimeout($b))}}var da=0;return P.Deferred(function(Ga){x[0][3].add(ca(0,Ga,Qa(la)?la:r,Ga.notifyWith));x[1][3].add(ca(0,Ga,Qa(V)?V:r));x[2][3].add(ca(0,Ga,Qa(X)?X:k))}).promise()},promise:function(V){return null!=V?P.extend(V,M):M}},S={};P.each(x,function(V,X){var la=X[2],ca=X[5];M[X[1]]=la.add;ca&&la.add(function(){F=
ca},x[3-V][2].disable,x[3-V][3].disable,x[0][2].lock,x[0][3].lock);la.add(X[3].fire);S[X[0]]=function(){S[X[0]+"With"](this===S?void 0:this,arguments);return this};S[X[0]+"With"]=la.fireWith});M.promise(S);m&&m.call(S,S);return S},when:function(m){var x=arguments.length,F=x,M=Array(F),S=Oa.call(arguments),V=P.Deferred(),X=function(la){return function(ca){M[la]=this;S[la]=1<arguments.length?Oa.call(arguments):ca;--x||V.resolveWith(M,S)}};if(1>=x&&(c(m,V.done(X(F)).resolve,V.reject,!x),"pending"===
V.state()||Qa(S[F]&&S[F].then)))return V.then();for(;F--;)c(S[F],X(F),V.reject);return V.promise()}});var Sb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(m,x){z.console&&z.console.warn&&m&&Sb.test(m.name)&&z.console.warn("jQuery.Deferred exception: "+m.message,m.stack,x)};P.readyException=function(m){z.setTimeout(function(){throw m;})};var Ob=P.Deferred();P.fn.ready=function(m){Ob.then(m).catch(function(x){P.readyException(x)});return this};P.extend({isReady:!1,
readyWait:1,ready:function(m){(!0===m?--P.readyWait:P.isReady)||(P.isReady=!0,!0!==m&&0<--P.readyWait||Ob.resolveWith(sb,[P]))}});P.ready.then=Ob.then;"complete"===sb.readyState||"loading"!==sb.readyState&&!sb.documentElement.doScroll?z.setTimeout(P.ready):(sb.addEventListener("DOMContentLoaded",f),z.addEventListener("load",f));var Tb=function(m,x,F,M,S,V,X){var la=0,ca=m.length,da=null==F;if("object"===E(F))for(la in S=!0,F)Tb(m,x,la,F[la],!0,V,X);else if(void 0!==M&&(S=!0,Qa(M)||(X=!0),da&&(X?(x.call(m,
M),x=null):(da=x,x=function(Ga,Ma,Sa){return da.call(P(Ga),Sa)})),x))for(;la<ca;la++)x(m[la],F,X?M:M.call(m[la],la,x(m[la],F)));return S?m:da?x.call(m):ca?x(m[0],F):V},Rb=/^-ms-/,pb=/-([a-z])/g,Vb=function(m){return 1===m.nodeType||9===m.nodeType||!+m.nodeType};n.uid=1;n.prototype={cache:function(m){var x=m[this.expando];x||(x={},Vb(m)&&(m.nodeType?m[this.expando]=x:Object.defineProperty(m,this.expando,{value:x,configurable:!0})));return x},set:function(m,x,F){var M;m=this.cache(m);if("string"===
typeof x)m[e(x)]=F;else for(M in x)m[e(M)]=x[M];return m},get:function(m,x){return void 0===x?this.cache(m):m[this.expando]&&m[this.expando][e(x)]},access:function(m,x,F){if(void 0===x||x&&"string"===typeof x&&void 0===F)return this.get(m,x);this.set(m,x,F);return void 0!==F?F:x},remove:function(m,x){var F,M=m[this.expando];if(void 0!==M){if(void 0!==x)for(Array.isArray(x)?x=x.map(e):(x=e(x),x=x in M?[x]:x.match(Fb)||[]),F=x.length;F--;)delete M[x[F]];if(void 0===x||P.isEmptyObject(M))m.nodeType?
m[this.expando]=void 0:delete m[this.expando]}},hasData:function(m){m=m[this.expando];return void 0!==m&&!P.isEmptyObject(m)}};var ib=new n,ac=new n,vc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kc=/[A-Z]/g;P.extend({hasData:function(m){return ac.hasData(m)||ib.hasData(m)},data:function(m,x,F){return ac.access(m,x,F)},removeData:function(m,x){ac.remove(m,x)},_data:function(m,x,F){return ib.access(m,x,F)},_removeData:function(m,x){ib.remove(m,x)}});P.fn.extend({data:function(m,x){var F,M=this[0],S=M&&M.attributes;
if(void 0===m){if(this.length){var V=ac.get(M);if(1===M.nodeType&&!ib.get(M,"hasDataAttrs")){for(F=S.length;F--;)if(S[F]){var X=S[F].name;0===X.indexOf("data-")&&(X=e(X.slice(5)),u(M,X,V[X]))}ib.set(M,"hasDataAttrs",!0)}}return V}return"object"===typeof m?this.each(function(){ac.set(this,m)}):Tb(this,function(la){if(M&&void 0===la){var ca=ac.get(M,m);if(void 0!==ca)return ca;ca=u(M,m);if(void 0!==ca)return ca}else this.each(function(){ac.set(this,m,la)})},null,x,1<arguments.length,null,!0)},removeData:function(m){return this.each(function(){ac.remove(this,
m)})}});P.extend({queue:function(m,x,F){if(m){x=(x||"fx")+"queue";var M=ib.get(m,x);F&&(!M||Array.isArray(F)?M=ib.access(m,x,P.makeArray(F)):M.push(F));return M||[]}},dequeue:function(m,x){x=x||"fx";var F=P.queue(m,x),M=F.length,S=F.shift(),V=P._queueHooks(m,x),X=function(){P.dequeue(m,x)};"inprogress"===S&&(S=F.shift(),M--);S&&("fx"===x&&F.unshift("inprogress"),delete V.stop,S.call(m,X,V));!M&&V&&V.empty.fire()},_queueHooks:function(m,x){var F=x+"queueHooks";return ib.get(m,F)||ib.access(m,F,{empty:P.Callbacks("once memory").add(function(){ib.remove(m,
[x+"queue",F])})})}});P.fn.extend({queue:function(m,x){var F=2;"string"!==typeof m&&(x=m,m="fx",F--);return arguments.length<F?P.queue(this[0],m):void 0===x?this:this.each(function(){var M=P.queue(this,m,x);P._queueHooks(this,m);"fx"===m&&"inprogress"!==M[0]&&P.dequeue(this,m)})},dequeue:function(m){return this.each(function(){P.dequeue(this,m)})},clearQueue:function(m){return this.queue(m||"fx",[])},promise:function(m,x){var F,M=1,S=P.Deferred(),V=this,X=this.length,la=function(){--M||S.resolveWith(V,
[V])};"string"!==typeof m&&(x=m,m=void 0);for(m=m||"fx";X--;)(F=ib.get(V[X],m+"queueHooks"))&&F.empty&&(M++,F.empty.add(la));la();return S.promise(x)}});var lc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,gc=new RegExp("^(?:([+-])=|)("+lc+")([a-z%]*)$","i"),fc=["Top","Right","Bottom","Left"],nc=sb.documentElement,xc=function(m){return P.contains(m.ownerDocument,m)},Mc={composed:!0};nc.getRootNode&&(xc=function(m){return P.contains(m.ownerDocument,m)||m.getRootNode(Mc)===m.ownerDocument});var yc=function(m,
x){m=x||m;return"none"===m.style.display||""===m.style.display&&xc(m)&&"none"===P.css(m,"display")},Dc={};P.fn.extend({show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(m){return"boolean"===typeof m?m?this.show():this.hide():this.each(function(){yc(this)?P(this).show():P(this).hide()})}});var zc=/^(?:checkbox|radio)$/i,Cc=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,aa=/^$|^module$|\/(?:java|ecma)script/i;(function(){var m=sb.createDocumentFragment().appendChild(sb.createElement("div")),
x=sb.createElement("input");x.setAttribute("type","radio");x.setAttribute("checked","checked");x.setAttribute("name","t");m.appendChild(x);Pa.checkClone=m.cloneNode(!0).cloneNode(!0).lastChild.checked;m.innerHTML="<textarea>x</textarea>";Pa.noCloneChecked=!!m.cloneNode(!0).lastChild.defaultValue;m.innerHTML="<option></option>";Pa.option=!!m.lastChild})();var Ba={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>",
"</tr></tbody></table>"],_default:[0,"",""]};Ba.tbody=Ba.tfoot=Ba.colgroup=Ba.caption=Ba.thead;Ba.th=Ba.td;Pa.option||(Ba.optgroup=Ba.option=[1,"<select multiple='multiple'>","</select>"]);var Na=/<|&#?\w+;/,ab=/^([^.]*)(?:\.(.+)|)/;P.event={global:{},add:function(m,x,F,M,S){var V,X,la,ca;var da=ib.get(m);if(Vb(m)){if(F.handler){var Ga=F;F=Ga.handler;S=Ga.selector}S&&P.find.matchesSelector(nc,S);F.guid||(F.guid=P.guid++);(X=da.events)||(X=da.events=Object.create(null));(V=da.handle)||(V=da.handle=
function(hb){return"undefined"!==typeof P&&P.event.triggered!==hb.type?P.event.dispatch.apply(m,arguments):void 0});x=(x||"").match(Fb)||[""];for(da=x.length;da--;){var Ma=ab.exec(x[da])||[];var Sa=la=Ma[1];var gb=(Ma[2]||"").split(".").sort();Sa&&(Ma=P.event.special[Sa]||{},Sa=(S?Ma.delegateType:Ma.bindType)||Sa,Ma=P.event.special[Sa]||{},la=P.extend({type:Sa,origType:la,data:M,handler:F,guid:F.guid,selector:S,needsContext:S&&P.expr.match.needsContext.test(S),namespace:gb.join(".")},Ga),(ca=X[Sa])||
(ca=X[Sa]=[],ca.delegateCount=0,Ma.setup&&!1!==Ma.setup.call(m,M,gb,V)||m.addEventListener&&m.addEventListener(Sa,V)),Ma.add&&(Ma.add.call(m,la),la.handler.guid||(la.handler.guid=F.guid)),S?ca.splice(ca.delegateCount++,0,la):ca.push(la),P.event.global[Sa]=!0)}}},remove:function(m,x,F,M,S){var V,X,la,ca,da,Ga=ib.hasData(m)&&ib.get(m);if(Ga&&(la=Ga.events)){x=(x||"").match(Fb)||[""];for(ca=x.length;ca--;){var Ma=ab.exec(x[ca])||[];var Sa=da=Ma[1];var gb=(Ma[2]||"").split(".").sort();if(Sa){var hb=P.event.special[Sa]||
{};Sa=(M?hb.delegateType:hb.bindType)||Sa;var Bb=la[Sa]||[];Ma=Ma[2]&&new RegExp("(^|\\.)"+gb.join("\\.(?:.*\\.|)")+"(\\.|$)");for(X=V=Bb.length;V--;){var Cb=Bb[V];!S&&da!==Cb.origType||F&&F.guid!==Cb.guid||Ma&&!Ma.test(Cb.namespace)||M&&M!==Cb.selector&&("**"!==M||!Cb.selector)||(Bb.splice(V,1),Cb.selector&&Bb.delegateCount--,hb.remove&&hb.remove.call(m,Cb))}X&&!Bb.length&&(hb.teardown&&!1!==hb.teardown.call(m,gb,Ga.handle)||P.removeEvent(m,Sa,Ga.handle),delete la[Sa])}else for(Sa in la)P.event.remove(m,
Sa+x[ca],F,M,!0)}P.isEmptyObject(la)&&ib.remove(m,"handle events")}},dispatch:function(m){var x,F,M,S=Array(arguments.length),V=P.event.fix(m);var X=(ib.get(this,"events")||Object.create(null))[V.type]||[];var la=P.event.special[V.type]||{};S[0]=V;for(x=1;x<arguments.length;x++)S[x]=arguments[x];V.delegateTarget=this;if(!la.preDispatch||!1!==la.preDispatch.call(this,V)){var ca=P.event.handlers.call(this,V,X);for(x=0;(M=ca[x++])&&!V.isPropagationStopped();)for(V.currentTarget=M.elem,X=0;(F=M.handlers[X++])&&
!V.isImmediatePropagationStopped();)if(!V.rnamespace||!1===F.namespace||V.rnamespace.test(F.namespace))V.handleObj=F,V.data=F.data,F=((P.event.special[F.origType]||{}).handle||F.handler).apply(M.elem,S),void 0!==F&&!1===(V.result=F)&&(V.preventDefault(),V.stopPropagation());la.postDispatch&&la.postDispatch.call(this,V);return V.result}},handlers:function(m,x){var F,M=[],S=x.delegateCount,V=m.target;if(S&&V.nodeType&&!("click"===m.type&&1<=m.button))for(;V!==this;V=V.parentNode||this)if(1===V.nodeType&&
("click"!==m.type||!0!==V.disabled)){var X=[];var la={};for(F=0;F<S;F++){var ca=x[F];var da=ca.selector+" ";void 0===la[da]&&(la[da]=ca.needsContext?-1<P(da,this).index(V):P.find(da,this,null,[V]).length);la[da]&&X.push(ca)}X.length&&M.push({elem:V,handlers:X})}S<x.length&&M.push({elem:this,handlers:x.slice(S)});return M},addProp:function(m,x){Object.defineProperty(P.Event.prototype,m,{enumerable:!0,configurable:!0,get:Qa(x)?function(){if(this.originalEvent)return x(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[m]},
set:function(F){Object.defineProperty(this,m,{enumerable:!0,configurable:!0,writable:!0,value:F})}})},fix:function(m){return m[P.expando]?m:new P.Event(m)},special:{load:{noBubble:!0},click:{setup:function(m){m=this||m;zc.test(m.type)&&m.click&&d(m,"input")&&O(m,"click",!0);return!1},trigger:function(m){m=this||m;zc.test(m.type)&&m.click&&d(m,"input")&&O(m,"click");return!0},_default:function(m){m=m.target;return zc.test(m.type)&&m.click&&d(m,"input")&&ib.get(m,"click")||d(m,"a")}},beforeunload:{postDispatch:function(m){void 0!==
m.result&&m.originalEvent&&(m.originalEvent.returnValue=m.result)}}}};P.removeEvent=function(m,x,F){m.removeEventListener&&m.removeEventListener(x,F)};P.Event=function(m,x){if(!(this instanceof P.Event))return new P.Event(m,x);m&&m.type?(this.originalEvent=m,this.type=m.type,this.isDefaultPrevented=m.defaultPrevented||void 0===m.defaultPrevented&&!1===m.returnValue?y:G,this.target=m.target&&3===m.target.nodeType?m.target.parentNode:m.target,this.currentTarget=m.currentTarget,this.relatedTarget=m.relatedTarget):
this.type=m;x&&P.extend(this,x);this.timeStamp=m&&m.timeStamp||Date.now();this[P.expando]=!0};P.Event.prototype={constructor:P.Event,isDefaultPrevented:G,isPropagationStopped:G,isImmediatePropagationStopped:G,isSimulated:!1,preventDefault:function(){var m=this.originalEvent;this.isDefaultPrevented=y;m&&!this.isSimulated&&m.preventDefault()},stopPropagation:function(){var m=this.originalEvent;this.isPropagationStopped=y;m&&!this.isSimulated&&m.stopPropagation()},stopImmediatePropagation:function(){var m=
this.originalEvent;this.isImmediatePropagationStopped=y;m&&!this.isSimulated&&m.stopImmediatePropagation();this.stopPropagation()}};P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp);
P.each({focus:"focusin",blur:"focusout"},function(m,x){function F(M){if(sb.documentMode){var S=ib.get(this,"handle"),V=P.event.fix(M);V.type="focusin"===M.type?"focus":"blur";V.isSimulated=!0;S(M);V.target===V.currentTarget&&S(V)}else P.event.simulate(x,M.target,P.event.fix(M))}P.event.special[m]={setup:function(){var M;O(this,m,!0);if(sb.documentMode)(M=ib.get(this,x))||this.addEventListener(x,F),ib.set(this,x,(M||0)+1);else return!1},trigger:function(){O(this,m);return!0},teardown:function(){var M;
if(sb.documentMode)(M=ib.get(this,x)-1)?ib.set(this,x,M):(this.removeEventListener(x,F),ib.remove(this,x));else return!1},_default:function(M){return ib.get(M.target,m)},delegateType:x};P.event.special[x]={setup:function(){var M=this.ownerDocument||this.document||this,S=sb.documentMode?this:M,V=ib.get(S,x);V||(sb.documentMode?this.addEventListener(x,F):M.addEventListener(m,F,!0));ib.set(S,x,(V||0)+1)},teardown:function(){var M=this.ownerDocument||this.document||this,S=sb.documentMode?this:M,V=ib.get(S,
x)-1;V?ib.set(S,x,V):(sb.documentMode?this.removeEventListener(x,F):M.removeEventListener(m,F,!0),ib.remove(S,x))}}});P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(m,x){P.event.special[m]={delegateType:x,bindType:x,handle:function(F){var M=F.relatedTarget,S=F.handleObj;if(!M||M!==this&&!P.contains(this,M)){F.type=S.origType;var V=S.handler.apply(this,arguments);F.type=x}return V}}});P.fn.extend({on:function(m,x,F,M){return H(this,
m,x,F,M)},one:function(m,x,F,M){return H(this,m,x,F,M,1)},off:function(m,x,F){if(m&&m.preventDefault&&m.handleObj){var M=m.handleObj;P(m.delegateTarget).off(M.namespace?M.origType+"."+M.namespace:M.origType,M.selector,M.handler);return this}if("object"===typeof m){for(M in m)this.off(M,x,m[M]);return this}if(!1===x||"function"===typeof x)F=x,x=void 0;!1===F&&(F=G);return this.each(function(){P.event.remove(this,m,F,x)})}});var mb=/<script|<style|<link/i,U=/checked\s*(?:[^=]|=\s*.checked.)/i,ha=/^\s*<!\[CDATA\[|\]\]>\s*$/g;
P.extend({htmlPrefilter:function(m){return m},clone:function(m,x,F){var M,S=m.cloneNode(!0),V=xc(m);if(!(Pa.noCloneChecked||1!==m.nodeType&&11!==m.nodeType||P.isXMLDoc(m))){var X=B(S);var la=B(m);var ca=0;for(M=la.length;ca<M;ca++){var da=la[ca],Ga=X[ca],Ma=Ga.nodeName.toLowerCase();if("input"===Ma&&zc.test(da.type))Ga.checked=da.checked;else if("input"===Ma||"textarea"===Ma)Ga.defaultValue=da.defaultValue}}if(x)if(F)for(la=la||B(m),X=X||B(S),ca=0,M=la.length;ca<M;ca++)Y(la[ca],X[ca]);else Y(m,S);
X=B(S,"script");0<X.length&&I(X,!V&&B(m,"script"));return S},cleanData:function(m){for(var x,F,M,S=P.event.special,V=0;void 0!==(F=m[V]);V++)if(Vb(F)){if(x=F[ib.expando]){if(x.events)for(M in x.events)S[M]?P.event.remove(F,M):P.removeEvent(F,M,x.handle);F[ib.expando]=void 0}F[ac.expando]&&(F[ac.expando]=void 0)}}});P.fn.extend({detach:function(m){return ka(this,m,!0)},remove:function(m){return ka(this,m)},text:function(m){return Tb(this,function(x){return void 0===x?P.text(this):this.empty().each(function(){if(1===
this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=x})},null,m,arguments.length)},append:function(){return pa(this,arguments,function(m){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||J(this,m).appendChild(m)})},prepend:function(){return pa(this,arguments,function(m){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var x=J(this,m);x.insertBefore(m,x.firstChild)}})},before:function(){return pa(this,arguments,function(m){this.parentNode&&this.parentNode.insertBefore(m,
this)})},after:function(){return pa(this,arguments,function(m){this.parentNode&&this.parentNode.insertBefore(m,this.nextSibling)})},empty:function(){for(var m,x=0;null!=(m=this[x]);x++)1===m.nodeType&&(P.cleanData(B(m,!1)),m.textContent="");return this},clone:function(m,x){m=null==m?!1:m;x=null==x?m:x;return this.map(function(){return P.clone(this,m,x)})},html:function(m){return Tb(this,function(x){var F=this[0]||{},M=0,S=this.length;if(void 0===x&&1===F.nodeType)return F.innerHTML;if("string"===
typeof x&&!mb.test(x)&&!Ba[(Cc.exec(x)||["",""])[1].toLowerCase()]){x=P.htmlPrefilter(x);try{for(;M<S;M++)F=this[M]||{},1===F.nodeType&&(P.cleanData(B(F,!1)),F.innerHTML=x);F=0}catch(V){}}F&&this.empty().append(x)},null,m,arguments.length)},replaceWith:function(){var m=[];return pa(this,arguments,function(x){var F=this.parentNode;0>P.inArray(this,m)&&(P.cleanData(B(this)),F&&F.replaceChild(x,this))},m)}});P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(m,x){P.fn[m]=function(F){for(var M=[],S=P(F),V=S.length-1,X=0;X<=V;X++)F=X===V?this:this.clone(!0),P(S[X])[x](F),oa.apply(M,F.get());return this.pushStack(M)}});var Ca=new RegExp("^("+lc+")(?!px)[a-z%]+$","i"),ba=/^--/,wa=function(m){var x=m.ownerDocument.defaultView;x&&x.opener||(x=z);return x.getComputedStyle(m)},Ia=function(m,x,F){var M,S={};for(M in x)S[M]=m.style[M],m.style[M]=x[M];F=F.call(m);for(M in x)m.style[M]=S[M];return F},Wa=new RegExp(fc.join("|"),"i");(function(){function m(){if(ca){la.style.cssText=
"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";ca.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";nc.appendChild(la).appendChild(ca);var da=z.getComputedStyle(ca);x="1%"!==da.top;X=12===Math.round(parseFloat(da.marginLeft));ca.style.right="60%";S=36===Math.round(parseFloat(da.right));F=36===Math.round(parseFloat(da.width));ca.style.position="absolute";M=12===Math.round(parseFloat(ca.offsetWidth/
3));nc.removeChild(la);ca=null}}var x,F,M,S,V,X,la=sb.createElement("div"),ca=sb.createElement("div");ca.style&&(ca.style.backgroundClip="content-box",ca.cloneNode(!0).style.backgroundClip="",Pa.clearCloneStyle="content-box"===ca.style.backgroundClip,P.extend(Pa,{boxSizingReliable:function(){m();return F},pixelBoxStyles:function(){m();return S},pixelPosition:function(){m();return x},reliableMarginLeft:function(){m();return X},scrollboxSize:function(){m();return M},reliableTrDimensions:function(){if(null==
V){var da=sb.createElement("table");var Ga=sb.createElement("tr");var Ma=sb.createElement("div");da.style.cssText="position:absolute;left:-11111px;border-collapse:separate";Ga.style.cssText="box-sizing:content-box;border:1px solid";Ga.style.height="1px";Ma.style.height="9px";Ma.style.display="block";nc.appendChild(da).appendChild(Ga).appendChild(Ma);Ma=z.getComputedStyle(Ga);V=parseInt(Ma.height,10)+parseInt(Ma.borderTopWidth,10)+parseInt(Ma.borderBottomWidth,10)===Ga.offsetHeight;nc.removeChild(da)}return V}}))})();
var Ka=["Webkit","Moz","ms"],$a=sb.createElement("div").style,bb={},jb=/^(none|table(?!-c[ea]).+)/,Lb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"};P.extend({cssHooks:{opacity:{get:function(m,x){if(x)return m=Q(m,"opacity"),""===m?"1":m}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,
gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(m,x,F,M){if(m&&3!==m.nodeType&&8!==m.nodeType&&m.style){var S,V=e(x),X=ba.test(x),la=m.style;X||(x=na(V));var ca=P.cssHooks[x]||P.cssHooks[V];if(void 0!==F){var da=typeof F;"string"===da&&(S=gc.exec(F))&&S[1]&&(F=A(m,x,S),da="number");null!=F&&F===F&&("number"!==da||X||(F+=S&&S[3]||(P.cssNumber[V]?
"":"px")),Pa.clearCloneStyle||""!==F||0!==x.indexOf("background")||(la[x]="inherit"),ca&&"set"in ca&&void 0===(F=ca.set(m,F,M))||(X?la.setProperty(x,F):la[x]=F))}else return ca&&"get"in ca&&void 0!==(S=ca.get(m,!1,M))?S:la[x]}},css:function(m,x,F,M){var S;var V=e(x);ba.test(x)||(x=na(V));(V=P.cssHooks[x]||P.cssHooks[V])&&"get"in V&&(S=V.get(m,!0,F));void 0===S&&(S=Q(m,x,M));"normal"===S&&x in Db&&(S=Db[x]);return""===F||F?(m=parseFloat(S),!0===F||isFinite(m)?m||0:S):S}});P.each(["height","width"],
function(m,x){P.cssHooks[x]={get:function(F,M,S){if(M)return!jb.test(P.css(F,"display"))||F.getClientRects().length&&F.getBoundingClientRect().width?va(F,x,S):Ia(F,Lb,function(){return va(F,x,S)})},set:function(F,M,S){var V,X=wa(F),la=!Pa.scrollboxSize()&&"absolute"===X.position,ca=(la||S)&&"border-box"===P.css(F,"boxSizing",!1,X);S=S?ia(F,x,S,ca,X):0;ca&&la&&(S-=Math.ceil(F["offset"+x[0].toUpperCase()+x.slice(1)]-parseFloat(X[x])-ia(F,x,"border",!1,X)-.5));S&&(V=gc.exec(M))&&"px"!==(V[3]||"px")&&
(F.style[x]=M,M=P.css(F,x));return za(F,M,S)}}});P.cssHooks.marginLeft=ja(Pa.reliableMarginLeft,function(m,x){if(x)return(parseFloat(Q(m,"marginLeft"))||m.getBoundingClientRect().left-Ia(m,{marginLeft:0},function(){return m.getBoundingClientRect().left}))+"px"});P.each({margin:"",padding:"",border:"Width"},function(m,x){P.cssHooks[m+x]={expand:function(F){var M=0,S={};for(F="string"===typeof F?F.split(" "):[F];4>M;M++)S[m+fc[M]+x]=F[M]||F[M-2]||F[0];return S}};"margin"!==m&&(P.cssHooks[m+x].set=za)});
P.fn.extend({css:function(m,x){return Tb(this,function(F,M,S){var V,X={},la=0;if(Array.isArray(M)){S=wa(F);for(V=M.length;la<V;la++)X[M[la]]=P.css(F,M[la],!1,S);return X}return void 0!==S?P.style(F,M,S):P.css(F,M)},m,x,1<arguments.length)}});P.Tween=ta;ta.prototype={constructor:ta,init:function(m,x,F,M,S,V){this.elem=m;this.prop=F;this.easing=S||P.easing._default;this.options=x;this.start=this.now=this.cur();this.end=M;this.unit=V||(P.cssNumber[F]?"":"px")},cur:function(){var m=ta.propHooks[this.prop];
return m&&m.get?m.get(this):ta.propHooks._default.get(this)},run:function(m){var x,F=ta.propHooks[this.prop];this.pos=this.options.duration?x=P.easing[this.easing](m,this.options.duration*m,0,1,this.options.duration):x=m;this.now=(this.end-this.start)*x+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);F&&F.set?F.set(this):ta.propHooks._default.set(this);return this}};ta.prototype.init.prototype=ta.prototype;ta.propHooks={_default:{get:function(m){return 1!==m.elem.nodeType||
null!=m.elem[m.prop]&&null==m.elem.style[m.prop]?m.elem[m.prop]:(m=P.css(m.elem,m.prop,""))&&"auto"!==m?m:0},set:function(m){if(P.fx.step[m.prop])P.fx.step[m.prop](m);else 1!==m.elem.nodeType||!P.cssHooks[m.prop]&&null==m.elem.style[na(m.prop)]?m.elem[m.prop]=m.now:P.style(m.elem,m.prop,m.now+m.unit)}}};ta.propHooks.scrollTop=ta.propHooks.scrollLeft={set:function(m){m.elem.nodeType&&m.elem.parentNode&&(m.elem[m.prop]=m.now)}};P.easing={linear:function(m){return m},swing:function(m){return.5-Math.cos(m*
Math.PI)/2},_default:"swing"};P.fx=ta.prototype.init;P.fx.step={};var Nb,oc,dd=/^(?:toggle|show|hide)$/,ed=/queueHooks$/;P.Animation=P.extend(sa,{tweeners:{"*":[function(m,x){var F=this.createTween(m,x);A(F.elem,m,gc.exec(x),F);return F}]},tweener:function(m,x){Qa(m)?(x=m,m=["*"]):m=m.match(Fb);for(var F,M=0,S=m.length;M<S;M++)F=m[M],sa.tweeners[F]=sa.tweeners[F]||[],sa.tweeners[F].unshift(x)},prefilters:[function(m,x,F){var M;var S="width"in x||"height"in x;var V=this,X={},la=m.style,ca=m.nodeType&&
yc(m),da=ib.get(m,"fxshow");if(!F.queue){var Ga=P._queueHooks(m,"fx");if(null==Ga.unqueued){Ga.unqueued=0;var Ma=Ga.empty.fire;Ga.empty.fire=function(){Ga.unqueued||Ma()}}Ga.unqueued++;V.always(function(){V.always(function(){Ga.unqueued--;P.queue(m,"fx").length||Ga.empty.fire()})})}for(M in x){var Sa=x[M];if(dd.test(Sa)){delete x[M];var gb=gb||"toggle"===Sa;if(Sa===(ca?"hide":"show"))if("show"===Sa&&da&&void 0!==da[M])ca=!0;else continue;X[M]=da&&da[M]||P.style(m,M)}}if((x=!P.isEmptyObject(x))||!P.isEmptyObject(X)){if(S&&
1===m.nodeType){F.overflow=[la.overflow,la.overflowX,la.overflowY];var hb=da&&da.display;null==hb&&(hb=ib.get(m,"display"));S=P.css(m,"display");"none"===S&&(hb?S=hb:(C([m],!0),hb=m.style.display||hb,S=P.css(m,"display"),C([m])));("inline"===S||"inline-block"===S&&null!=hb)&&"none"===P.css(m,"float")&&(x||(V.done(function(){la.display=hb}),null==hb&&(S=la.display,hb="none"===S?"":S)),la.display="inline-block")}F.overflow&&(la.overflow="hidden",V.always(function(){la.overflow=F.overflow[0];la.overflowX=
F.overflow[1];la.overflowY=F.overflow[2]}));x=!1;for(M in X)x||(da?"hidden"in da&&(ca=da.hidden):da=ib.access(m,"fxshow",{display:hb}),gb&&(da.hidden=!ca),ca&&C([m],!0),V.done(function(){ca||C([m]);ib.remove(m,"fxshow");for(M in X)P.style(m,M,X[M])})),x=T(ca?da[M]:0,M,V),M in da||(da[M]=x.start,ca&&(x.end=x.start,x.start=0))}}],prefilter:function(m,x){x?sa.prefilters.unshift(m):sa.prefilters.push(m)}});P.speed=function(m,x,F){var M=m&&"object"===typeof m?P.extend({},m):{complete:F||!F&&x||Qa(m)&&
m,duration:m,easing:F&&x||x&&!Qa(x)&&x};P.fx.off?M.duration=0:"number"!==typeof M.duration&&(M.duration=M.duration in P.fx.speeds?P.fx.speeds[M.duration]:P.fx.speeds._default);if(null==M.queue||!0===M.queue)M.queue="fx";M.old=M.complete;M.complete=function(){Qa(M.old)&&M.old.call(this);M.queue&&P.dequeue(this,M.queue)};return M};P.fn.extend({fadeTo:function(m,x,F,M){return this.filter(yc).css("opacity",0).show().end().animate({opacity:x},m,F,M)},animate:function(m,x,F,M){var S=P.isEmptyObject(m),
V=P.speed(x,F,M);x=function(){var X=sa(this,P.extend({},m),V);(S||ib.get(this,"finish"))&&X.stop(!0)};x.finish=x;return S||!1===V.queue?this.each(x):this.queue(V.queue,x)},stop:function(m,x,F){var M=function(S){var V=S.stop;delete S.stop;V(F)};"string"!==typeof m&&(F=x,x=m,m=void 0);x&&this.queue(m||"fx",[]);return this.each(function(){var S=!0,V=null!=m&&m+"queueHooks",X=P.timers,la=ib.get(this);if(V)la[V]&&la[V].stop&&M(la[V]);else for(V in la)la[V]&&la[V].stop&&ed.test(V)&&M(la[V]);for(V=X.length;V--;)X[V].elem!==
this||null!=m&&X[V].queue!==m||(X[V].anim.stop(F),S=!1,X.splice(V,1));!S&&F||P.dequeue(this,m)})},finish:function(m){!1!==m&&(m=m||"fx");return this.each(function(){var x=ib.get(this),F=x[m+"queue"];var M=x[m+"queueHooks"];var S=P.timers,V=F?F.length:0;x.finish=!0;P.queue(this,m,[]);M&&M.stop&&M.stop.call(this,!0);for(M=S.length;M--;)S[M].elem===this&&S[M].queue===m&&(S[M].anim.stop(!0),S.splice(M,1));for(M=0;M<V;M++)F[M]&&F[M].finish&&F[M].finish.call(this);delete x.finish})}});P.each(["toggle",
"show","hide"],function(m,x){var F=P.fn[x];P.fn[x]=function(M,S,V){return null==M||"boolean"===typeof M?F.apply(this,arguments):this.animate(Xa(x,!0),M,S,V)}});P.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(m,x){P.fn[m]=function(F,M,S){return this.animate(x,F,M,S)}});P.timers=[];P.fx.tick=function(){var m=0,x=P.timers;for(Nb=Date.now();m<x.length;m++){var F=x[m];F()||x[m]!==F||x.splice(m--,
1)}x.length||P.fx.stop();Nb=void 0};P.fx.timer=function(m){P.timers.push(m);P.fx.start()};P.fx.interval=13;P.fx.start=function(){oc||(oc=!0,ua())};P.fx.stop=function(){oc=null};P.fx.speeds={slow:600,fast:200,_default:400};P.fn.delay=function(m,x){m=P.fx?P.fx.speeds[m]||m:m;return this.queue(x||"fx",function(F,M){var S=z.setTimeout(F,m);M.stop=function(){z.clearTimeout(S)}})};(function(){var m=sb.createElement("input"),x=sb.createElement("select").appendChild(sb.createElement("option"));m.type="checkbox";
Pa.checkOn=""!==m.value;Pa.optSelected=x.selected;m=sb.createElement("input");m.value="t";m.type="radio";Pa.radioValue="t"===m.value})();var Ac=P.expr.attrHandle;P.fn.extend({attr:function(m,x){return Tb(this,P.attr,m,x,1<arguments.length)},removeAttr:function(m){return this.each(function(){P.removeAttr(this,m)})}});P.extend({attr:function(m,x,F){var M,S,V=m.nodeType;if(3!==V&&8!==V&&2!==V){if("undefined"===typeof m.getAttribute)return P.prop(m,x,F);1===V&&P.isXMLDoc(m)||(S=P.attrHooks[x.toLowerCase()]||
(P.expr.match.bool.test(x)?fd:void 0));if(void 0!==F){if(null===F){P.removeAttr(m,x);return}if(S&&"set"in S&&void 0!==(M=S.set(m,F,x)))return M;m.setAttribute(x,F+"");return F}if(S&&"get"in S&&null!==(M=S.get(m,x)))return M;M=P.find.attr(m,x);return null==M?void 0:M}},attrHooks:{type:{set:function(m,x){if(!Pa.radioValue&&"radio"===x&&d(m,"input")){var F=m.value;m.setAttribute("type",x);F&&(m.value=F);return x}}}},removeAttr:function(m,x){var F=0,M=x&&x.match(Fb);if(M&&1===m.nodeType)for(;x=M[F++];)m.removeAttribute(x)}});
var fd={set:function(m,x,F){!1===x?P.removeAttr(m,F):m.setAttribute(F,F);return F}};P.each(P.expr.match.bool.source.match(/\w+/g),function(m,x){var F=Ac[x]||P.find.attr;Ac[x]=function(M,S,V){var X=S.toLowerCase();if(!V){var la=Ac[X];Ac[X]=ca;var ca=null!=F(M,S,V)?X:null;Ac[X]=la}return ca}});var gd=/^(?:input|select|textarea|button)$/i,Gc=/^(?:a|area)$/i;P.fn.extend({prop:function(m,x){return Tb(this,P.prop,m,x,1<arguments.length)},removeProp:function(m){return this.each(function(){delete this[P.propFix[m]||
m]})}});P.extend({prop:function(m,x,F){var M,S=m.nodeType;if(3!==S&&8!==S&&2!==S){if(1!==S||!P.isXMLDoc(m)){x=P.propFix[x]||x;var V=P.propHooks[x]}return void 0!==F?V&&"set"in V&&void 0!==(M=V.set(m,F,x))?M:m[x]=F:V&&"get"in V&&null!==(M=V.get(m,x))?M:m[x]}},propHooks:{tabIndex:{get:function(m){var x=P.find.attr(m,"tabindex");return x?parseInt(x,10):gd.test(m.nodeName)||Gc.test(m.nodeName)&&m.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});Pa.optSelected||(P.propHooks.selected={get:function(m){(m=
m.parentNode)&&m.parentNode&&m.parentNode.selectedIndex;return null},set:function(m){if(m=m.parentNode)m.selectedIndex,m.parentNode&&m.parentNode.selectedIndex}});P.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){P.propFix[this.toLowerCase()]=this});P.fn.extend({addClass:function(m){var x,F,M,S,V;if(Qa(m))return this.each(function(la){P(this).addClass(m.call(this,la,Ra(this)))});var X=wb(m);return X.length?this.each(function(){F=
Ra(this);if(x=1===this.nodeType&&" "+Fa(F)+" "){for(S=0;S<X.length;S++)M=X[S],0>x.indexOf(" "+M+" ")&&(x+=M+" ");V=Fa(x);F!==V&&this.setAttribute("class",V)}}):this},removeClass:function(m){var x,F,M,S,V;if(Qa(m))return this.each(function(la){P(this).removeClass(m.call(this,la,Ra(this)))});if(!arguments.length)return this.attr("class","");var X=wb(m);return X.length?this.each(function(){F=Ra(this);if(x=1===this.nodeType&&" "+Fa(F)+" "){for(S=0;S<X.length;S++)for(M=X[S];-1<x.indexOf(" "+M+" ");)x=
x.replace(" "+M+" "," ");V=Fa(x);F!==V&&this.setAttribute("class",V)}}):this},toggleClass:function(m,x){var F,M,S,V=typeof m,X="string"===V||Array.isArray(m);if(Qa(m))return this.each(function(ca){P(this).toggleClass(m.call(this,ca,Ra(this),x),x)});if("boolean"===typeof x&&X)return x?this.addClass(m):this.removeClass(m);var la=wb(m);return this.each(function(){if(X)for(S=P(this),M=0;M<la.length;M++)F=la[M],S.hasClass(F)?S.removeClass(F):S.addClass(F);else if(void 0===m||"boolean"===V)(F=Ra(this))&&
ib.set(this,"__className__",F),this.setAttribute&&this.setAttribute("class",F||!1===m?"":ib.get(this,"__className__")||"")})},hasClass:function(m){var x,F=0;for(m=" "+m+" ";x=this[F++];)if(1===x.nodeType&&-1<(" "+Fa(Ra(x))+" ").indexOf(m))return!0;return!1}});var Vc=/\r/g;P.fn.extend({val:function(m){var x,F,M=this[0];if(arguments.length){var S=Qa(m);return this.each(function(V){1===this.nodeType&&(V=S?m.call(this,V,P(this).val()):m,null==V?V="":"number"===typeof V?V+="":Array.isArray(V)&&(V=P.map(V,
function(X){return null==X?"":X+""})),x=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()],x&&"set"in x&&void 0!==x.set(this,V,"value")||(this.value=V))})}if(M){if((x=P.valHooks[M.type]||P.valHooks[M.nodeName.toLowerCase()])&&"get"in x&&void 0!==(F=x.get(M,"value")))return F;F=M.value;return"string"===typeof F?F.replace(Vc,""):null==F?"":F}}});P.extend({valHooks:{option:{get:function(m){var x=P.find.attr(m,"value");return null!=x?x:Fa(P.text(m))}},select:{get:function(m){var x=m.options,
F=m.selectedIndex,M="select-one"===m.type,S=M?null:[],V=M?F+1:x.length;for(m=0>F?V:M?F:0;m<V;m++){var X=x[m];if(!(!X.selected&&m!==F||X.disabled||X.parentNode.disabled&&d(X.parentNode,"optgroup"))){X=P(X).val();if(M)return X;S.push(X)}}return S},set:function(m,x){for(var F,M=m.options,S=P.makeArray(x),V=M.length;V--;)if(x=M[V],x.selected=-1<P.inArray(P.valHooks.option.get(x),S))F=!0;F||(m.selectedIndex=-1);return S}}}});P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(m,x){if(Array.isArray(x))return m.checked=
-1<P.inArray(P(m).val(),x)}};Pa.checkOn||(P.valHooks[this].get=function(m){return null===m.getAttribute("value")?"on":m.value})});var Oc=z.location,Wc=Date.now(),Sc=/\?/;P.parseXML=function(m){if(!m||"string"!==typeof m)return null;try{var x=(new z.DOMParser).parseFromString(m,"text/xml")}catch(M){}var F=x&&x.getElementsByTagName("parsererror")[0];x&&!F||P.error("Invalid XML: "+(F?P.map(F.childNodes,function(M){return M.textContent}).join("\n"):m));return x};var Xc=/^(?:focusinfocus|focusoutblur)$/,
Yc=function(m){m.stopPropagation()};P.extend(P.event,{trigger:function(m,x,F,M){var S,V,X,la=[F||sb],ca=lb.call(m,"type")?m.type:m;var da=lb.call(m,"namespace")?m.namespace.split("."):[];var Ga=X=S=F=F||sb;if(3!==F.nodeType&&8!==F.nodeType&&!Xc.test(ca+P.event.triggered)){-1<ca.indexOf(".")&&(da=ca.split("."),ca=da.shift(),da.sort());var Ma=0>ca.indexOf(":")&&"on"+ca;m=m[P.expando]?m:new P.Event(ca,"object"===typeof m&&m);m.isTrigger=M?2:3;m.namespace=da.join(".");m.rnamespace=m.namespace?new RegExp("(^|\\.)"+
da.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;m.result=void 0;m.target||(m.target=F);x=null==x?[m]:P.makeArray(x,[m]);da=P.event.special[ca]||{};if(M||!da.trigger||!1!==da.trigger.apply(F,x)){if(!M&&!da.noBubble&&!Ja(F)){var Sa=da.delegateType||ca;Xc.test(Sa+ca)||(Ga=Ga.parentNode);for(;Ga;Ga=Ga.parentNode)la.push(Ga),S=Ga;S===(F.ownerDocument||sb)&&la.push(S.defaultView||S.parentWindow||z)}for(S=0;(Ga=la[S++])&&!m.isPropagationStopped();)X=Ga,m.type=1<S?Sa:da.bindType||ca,(V=(ib.get(Ga,"events")||Object.create(null))[m.type]&&
ib.get(Ga,"handle"))&&V.apply(Ga,x),(V=Ma&&Ga[Ma])&&V.apply&&Vb(Ga)&&(m.result=V.apply(Ga,x),!1===m.result&&m.preventDefault());m.type=ca;M||m.isDefaultPrevented()||da._default&&!1!==da._default.apply(la.pop(),x)||!Vb(F)||!Ma||!Qa(F[ca])||Ja(F)||((S=F[Ma])&&(F[Ma]=null),P.event.triggered=ca,m.isPropagationStopped()&&X.addEventListener(ca,Yc),F[ca](),m.isPropagationStopped()&&X.removeEventListener(ca,Yc),P.event.triggered=void 0,S&&(F[Ma]=S));return m.result}}},simulate:function(m,x,F){m=P.extend(new P.Event,
F,{type:m,isSimulated:!0});P.event.trigger(m,null,x)}});P.fn.extend({trigger:function(m,x){return this.each(function(){P.event.trigger(m,x,this)})},triggerHandler:function(m,x){var F=this[0];if(F)return P.event.trigger(m,x,F,!0)}});var hd=/\[\]$/,Zc=/\r?\n/g,id=/^(?:submit|button|image|reset|file)$/i,jd=/^(?:input|select|textarea|keygen)/i;P.param=function(m,x){var F,M=[],S=function(V,X){X=Qa(X)?X():X;M[M.length]=encodeURIComponent(V)+"="+encodeURIComponent(null==X?"":X)};if(null==m)return"";if(Array.isArray(m)||
m.jquery&&!P.isPlainObject(m))P.each(m,function(){S(this.name,this.value)});else for(F in m)Ib(F,m[F],x,S);return M.join("&")};P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var m=P.prop(this,"elements");return m?P.makeArray(m):this}).filter(function(){var m=this.type;return this.name&&!P(this).is(":disabled")&&jd.test(this.nodeName)&&!id.test(m)&&(this.checked||!zc.test(m))}).map(function(m,x){m=P(this).val();return null==
m?null:Array.isArray(m)?P.map(m,function(F){return{name:x.name,value:F.replace(Zc,"\r\n")}}):{name:x.name,value:m.replace(Zc,"\r\n")}}).get()}});var kd=/%20/g,ld=/#.*$/,Nc=/([?&])_=[^&]*/,md=/^(.*?):[ \t]*([^\r\n]*)$/mg,nd=/^(?:GET|HEAD)$/,Tc=/^\/\//,$c={},Uc={},Pc="*/".concat("*"),Hc=sb.createElement("a");Hc.href=Oc.href;P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Oc.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Oc.protocol),global:!0,processData:!0,
async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(m,x){return x?Ea(Ea(m,P.ajaxSettings),
x):Ea(P.ajaxSettings,m)},ajaxPrefilter:qa($c),ajaxTransport:qa(Uc),ajax:function(m,x){function F(xb,Wb,Zb,uc){var mc,Jb=Wb;if(!Ub){Ub=!0;X&&z.clearTimeout(X);M=void 0;S=uc||"";yb.readyState=0<xb?4:0;uc=200<=xb&&300>xb||304===xb;Zb&&(mc=Ha(da,yb,Zb));!uc&&-1<P.inArray("script",da.dataTypes)&&0>P.inArray("json",da.dataTypes)&&(da.converters["text script"]=function(){});mc=db(da,mc,yb,uc);if(uc)if(da.ifModified&&((Zb=yb.getResponseHeader("Last-Modified"))&&(P.lastModified[Kb]=Zb),(Zb=yb.getResponseHeader("etag"))&&
(P.etag[Kb]=Zb)),204===xb||"HEAD"===da.type)Jb="nocontent";else if(304===xb)Jb="notmodified";else{Jb=mc.state;var Bc=mc.data;var pc=mc.error;uc=!pc}else if(pc=Jb,xb||!Jb)Jb="error",0>xb&&(xb=0);yb.status=xb;yb.statusText=(Wb||Jb)+"";uc?Sa.resolveWith(Ga,[Bc,Jb,yb]):Sa.rejectWith(Ga,[yb,Jb,pc]);yb.statusCode(hb);hb=void 0;la&&Ma.trigger(uc?"ajaxSuccess":"ajaxError",[yb,da,uc?Bc:pc]);gb.fireWith(Ga,[yb,Jb]);la&&(Ma.trigger("ajaxComplete",[yb,da]),--P.active||P.event.trigger("ajaxStop"))}}"object"===
typeof m&&(x=m,m=void 0);x=x||{};var M,S,V,X,la,ca,da=P.ajaxSetup({},x),Ga=da.context||da,Ma=da.context&&(Ga.nodeType||Ga.jquery)?P(Ga):P.event,Sa=P.Deferred(),gb=P.Callbacks("once memory"),hb=da.statusCode||{},Bb={},Cb={},$b="canceled",yb={readyState:0,getResponseHeader:function(xb){var Wb;if(Ub){if(!V)for(V={};Wb=md.exec(S);)V[Wb[1].toLowerCase()+" "]=(V[Wb[1].toLowerCase()+" "]||[]).concat(Wb[2]);Wb=V[xb.toLowerCase()+" "]}return null==Wb?null:Wb.join(", ")},getAllResponseHeaders:function(){return Ub?
S:null},setRequestHeader:function(xb,Wb){null==Ub&&(xb=Cb[xb.toLowerCase()]=Cb[xb.toLowerCase()]||xb,Bb[xb]=Wb);return this},overrideMimeType:function(xb){null==Ub&&(da.mimeType=xb);return this},statusCode:function(xb){var Wb;if(xb)if(Ub)yb.always(xb[yb.status]);else for(Wb in xb)hb[Wb]=[hb[Wb],xb[Wb]];return this},abort:function(xb){xb=xb||$b;M&&M.abort(xb);F(0,xb);return this}};Sa.promise(yb);da.url=((m||da.url||Oc.href)+"").replace(Tc,Oc.protocol+"//");da.type=x.method||x.type||da.method||da.type;
da.dataTypes=(da.dataType||"*").toLowerCase().match(Fb)||[""];if(null==da.crossDomain){m=sb.createElement("a");try{m.href=da.url,m.href=m.href,da.crossDomain=Hc.protocol+"//"+Hc.host!==m.protocol+"//"+m.host}catch(xb){da.crossDomain=!0}}da.data&&da.processData&&"string"!==typeof da.data&&(da.data=P.param(da.data,da.traditional));Aa($c,da,x,yb);if(Ub)return yb;(la=P.event&&da.global)&&0===P.active++&&P.event.trigger("ajaxStart");da.type=da.type.toUpperCase();da.hasContent=!nd.test(da.type);var Kb=
da.url.replace(ld,"");da.hasContent?da.data&&da.processData&&0===(da.contentType||"").indexOf("application/x-www-form-urlencoded")&&(da.data=da.data.replace(kd,"+")):(m=da.url.slice(Kb.length),da.data&&(da.processData||"string"===typeof da.data)&&(Kb+=(Sc.test(Kb)?"&":"?")+da.data,delete da.data),!1===da.cache&&(Kb=Kb.replace(Nc,"$1"),m=(Sc.test(Kb)?"&":"?")+"_="+Wc++ +m),da.url=Kb+m);da.ifModified&&(P.lastModified[Kb]&&yb.setRequestHeader("If-Modified-Since",P.lastModified[Kb]),P.etag[Kb]&&yb.setRequestHeader("If-None-Match",
P.etag[Kb]));(da.data&&da.hasContent&&!1!==da.contentType||x.contentType)&&yb.setRequestHeader("Content-Type",da.contentType);yb.setRequestHeader("Accept",da.dataTypes[0]&&da.accepts[da.dataTypes[0]]?da.accepts[da.dataTypes[0]]+("*"!==da.dataTypes[0]?", "+Pc+"; q=0.01":""):da.accepts["*"]);for(ca in da.headers)yb.setRequestHeader(ca,da.headers[ca]);if(da.beforeSend&&(!1===da.beforeSend.call(Ga,yb,da)||Ub))return yb.abort();$b="abort";gb.add(da.complete);yb.done(da.success);yb.fail(da.error);if(M=
Aa(Uc,da,x,yb)){yb.readyState=1;la&&Ma.trigger("ajaxSend",[yb,da]);if(Ub)return yb;da.async&&0<da.timeout&&(X=z.setTimeout(function(){yb.abort("timeout")},da.timeout));try{var Ub=!1;M.send(Bb,F)}catch(xb){if(Ub)throw xb;F(-1,xb)}}else F(-1,"No Transport");return yb},getJSON:function(m,x,F){return P.get(m,x,F,"json")},getScript:function(m,x){return P.get(m,void 0,x,"script")}});P.each(["get","post"],function(m,x){P[x]=function(F,M,S,V){Qa(M)&&(V=V||S,S=M,M=void 0);return P.ajax(P.extend({url:F,type:x,
dataType:V,data:M,success:S},P.isPlainObject(F)&&F))}});P.ajaxPrefilter(function(m){for(var x in m.headers)"content-type"===x.toLowerCase()&&(m.contentType=m.headers[x]||"")});P._evalUrl=function(m,x,F){return P.ajax({url:m,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(M){P.globalEval(M,x,F)}})};P.fn.extend({wrapAll:function(m){this[0]&&(Qa(m)&&(m=m.call(this[0])),m=P(m,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&
m.insertBefore(this[0]),m.map(function(){for(var x=this;x.firstElementChild;)x=x.firstElementChild;return x}).append(this));return this},wrapInner:function(m){return Qa(m)?this.each(function(x){P(this).wrapInner(m.call(this,x))}):this.each(function(){var x=P(this),F=x.contents();F.length?F.wrapAll(m):x.append(m)})},wrap:function(m){var x=Qa(m);return this.each(function(F){P(this).wrapAll(x?m.call(this,F):m)})},unwrap:function(m){this.parent(m).not("body").each(function(){P(this).replaceWith(this.childNodes)});
return this}});P.expr.pseudos.hidden=function(m){return!P.expr.pseudos.visible(m)};P.expr.pseudos.visible=function(m){return!!(m.offsetWidth||m.offsetHeight||m.getClientRects().length)};P.ajaxSettings.xhr=function(){try{return new z.XMLHttpRequest}catch(m){}};var od={0:200,1223:204},Qc=P.ajaxSettings.xhr();Pa.cors=!!Qc&&"withCredentials"in Qc;Pa.ajax=Qc=!!Qc;P.ajaxTransport(function(m){var x,F;if(Pa.cors||Qc&&!m.crossDomain)return{send:function(M,S){var V,X=m.xhr();X.open(m.type,m.url,m.async,m.username,
m.password);if(m.xhrFields)for(V in m.xhrFields)X[V]=m.xhrFields[V];m.mimeType&&X.overrideMimeType&&X.overrideMimeType(m.mimeType);m.crossDomain||M["X-Requested-With"]||(M["X-Requested-With"]="XMLHttpRequest");for(V in M)X.setRequestHeader(V,M[V]);x=function(la){return function(){x&&(x=F=X.onload=X.onerror=X.onabort=X.ontimeout=X.onreadystatechange=null,"abort"===la?X.abort():"error"===la?"number"!==typeof X.status?S(0,"error"):S(X.status,X.statusText):S(od[X.status]||X.status,X.statusText,"text"!==
(X.responseType||"text")||"string"!==typeof X.responseText?{binary:X.response}:{text:X.responseText},X.getAllResponseHeaders()))}};X.onload=x();F=X.onerror=X.ontimeout=x("error");void 0!==X.onabort?X.onabort=F:X.onreadystatechange=function(){4===X.readyState&&z.setTimeout(function(){x&&F()})};x=x("abort");try{X.send(m.hasContent&&m.data||null)}catch(la){if(x)throw la;}},abort:function(){x&&x()}}});P.ajaxPrefilter(function(m){m.crossDomain&&(m.contents.script=!1)});P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(m){P.globalEval(m);return m}}});P.ajaxPrefilter("script",function(m){void 0===m.cache&&(m.cache=!1);m.crossDomain&&(m.type="GET")});P.ajaxTransport("script",function(m){if(m.crossDomain||m.scriptAttrs){var x,F;return{send:function(M,S){x=P("<script>").attr(m.scriptAttrs||{}).prop({charset:m.scriptCharset,src:m.url}).on("load error",F=function(V){x.remove();F=null;V&&S("error"===V.type?404:200,V.type)});sb.head.appendChild(x[0])},
abort:function(){F&&F()}}}});var Rc=[],t=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var m=Rc.pop()||P.expando+"_"+Wc++;this[m]=!0;return m}});P.ajaxPrefilter("json jsonp",function(m,x,F){var M,S=!1!==m.jsonp&&(t.test(m.url)?"url":"string"===typeof m.data&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&t.test(m.data)&&"data");if(S||"jsonp"===m.dataTypes[0]){var V=m.jsonpCallback=Qa(m.jsonpCallback)?m.jsonpCallback():m.jsonpCallback;S?m[S]=m[S].replace(t,
"$1"+V):!1!==m.jsonp&&(m.url+=(Sc.test(m.url)?"&":"?")+m.jsonp+"="+V);m.converters["script json"]=function(){M||P.error(V+" was not called");return M[0]};m.dataTypes[0]="json";var X=z[V];z[V]=function(){M=arguments};F.always(function(){void 0===X?P(z).removeProp(V):z[V]=X;m[V]&&(m.jsonpCallback=x.jsonpCallback,Rc.push(V));M&&Qa(X)&&X(M[0]);M=X=void 0});return"script"}});Pa.createHTMLDocument=function(){var m=sb.implementation.createHTMLDocument("").body;m.innerHTML="<form></form><form></form>";return 2===
m.childNodes.length}();P.parseHTML=function(m,x,F){if("string"!==typeof m)return[];"boolean"===typeof x&&(F=x,x=!1);if(!x)if(Pa.createHTMLDocument){x=sb.implementation.createHTMLDocument("");var M=x.createElement("base");M.href=sb.location.href;x.head.appendChild(M)}else x=sb;M=cc.exec(m);F=!F&&[];if(M)return[x.createElement(M[1])];M=N([m],x,F);F&&F.length&&P(F).remove();return P.merge([],M.childNodes)};P.fn.load=function(m,x,F){var M,S,V=this,X=m.indexOf(" ");if(-1<X){var la=Fa(m.slice(X));m=m.slice(0,
X)}Qa(x)?(F=x,x=void 0):x&&"object"===typeof x&&(M="POST");0<V.length&&P.ajax({url:m,type:M||"GET",dataType:"html",data:x}).done(function(ca){S=arguments;V.html(la?P("<div>").append(P.parseHTML(ca)).find(la):ca)}).always(F&&function(ca,da){V.each(function(){F.apply(this,S||[ca.responseText,da,ca])})});return this};P.expr.pseudos.animated=function(m){return P.grep(P.timers,function(x){return m===x.elem}).length};P.offset={setOffset:function(m,x,F){var M=P.css(m,"position"),S=P(m),V={};"static"===M&&
(m.style.position="relative");var X=S.offset();var la=P.css(m,"top");var ca=P.css(m,"left");("absolute"===M||"fixed"===M)&&-1<(la+ca).indexOf("auto")?(ca=S.position(),la=ca.top,ca=ca.left):(la=parseFloat(la)||0,ca=parseFloat(ca)||0);Qa(x)&&(x=x.call(m,F,P.extend({},X)));null!=x.top&&(V.top=x.top-X.top+la);null!=x.left&&(V.left=x.left-X.left+ca);"using"in x?x.using.call(m,V):S.css(V)}};P.fn.extend({offset:function(m){if(arguments.length)return void 0===m?this:this.each(function(M){P.offset.setOffset(this,
m,M)});var x;if(x=this[0]){if(!x.getClientRects().length)return{top:0,left:0};var F=x.getBoundingClientRect();x=x.ownerDocument.defaultView;return{top:F.top+x.pageYOffset,left:F.left+x.pageXOffset}}},position:function(){if(this[0]){var m,x=this[0],F={top:0,left:0};if("fixed"===P.css(x,"position"))var M=x.getBoundingClientRect();else{M=this.offset();var S=x.ownerDocument;for(m=x.offsetParent||S.documentElement;m&&(m===S.body||m===S.documentElement)&&"static"===P.css(m,"position");)m=m.parentNode;m&&
m!==x&&1===m.nodeType&&(F=P(m).offset(),F.top+=P.css(m,"borderTopWidth",!0),F.left+=P.css(m,"borderLeftWidth",!0))}return{top:M.top-F.top-P.css(x,"marginTop",!0),left:M.left-F.left-P.css(x,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var m=this.offsetParent;m&&"static"===P.css(m,"position");)m=m.offsetParent;return m||nc})}});P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(m,x){var F="pageYOffset"===x;P.fn[m]=function(M){return Tb(this,function(S,V,
X){if(Ja(S))var la=S;else 9===S.nodeType&&(la=S.defaultView);if(void 0===X)return la?la[x]:S[V];la?la.scrollTo(F?la.pageXOffset:X,F?X:la.pageYOffset):S[V]=X},m,M,arguments.length)}});P.each(["top","left"],function(m,x){P.cssHooks[x]=ja(Pa.pixelPosition,function(F,M){if(M)return M=Q(F,x),Ca.test(M)?P(F).position()[x]+"px":M})});P.each({Height:"height",Width:"width"},function(m,x){P.each({padding:"inner"+m,content:x,"":"outer"+m},function(F,M){P.fn[M]=function(S,V){var X=arguments.length&&(F||"boolean"!==
typeof S),la=F||(!0===S||!0===V?"margin":"border");return Tb(this,function(ca,da,Ga){return Ja(ca)?0===M.indexOf("outer")?ca["inner"+m]:ca.document.documentElement["client"+m]:9===ca.nodeType?(da=ca.documentElement,Math.max(ca.body["scroll"+m],da["scroll"+m],ca.body["offset"+m],da["offset"+m],da["client"+m])):void 0===Ga?P.css(ca,da,la):P.style(ca,da,Ga,la)},x,X?S:void 0,X)}})});P.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(m,x){P.fn[x]=function(F){return this.on(x,
F)}});P.fn.extend({bind:function(m,x,F){return this.on(m,null,x,F)},unbind:function(m,x){return this.off(m,null,x)},delegate:function(m,x,F,M){return this.on(x,m,F,M)},undelegate:function(m,x,F){return 1===arguments.length?this.off(m,"**"):this.off(x,m||"**",F)},hover:function(m,x){return this.on("mouseenter",m).on("mouseleave",x||m)}});P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(m,x){P.fn[x]=function(F,M){return 0<arguments.length?this.on(x,null,F,M):this.trigger(x)}});var K=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(m,x){if("string"===typeof x){var F=m[x];x=m;m=F}if(Qa(m)){var M=Oa.call(arguments,2);F=function(){return m.apply(x||this,M.concat(Oa.call(arguments)))};F.guid=m.guid=m.guid||P.guid++;return F}};P.holdReady=function(m){m?P.readyWait++:P.ready(!0)};P.isArray=Array.isArray;P.parseJSON=JSON.parse;P.nodeName=d;P.isFunction=Qa;
P.isWindow=Ja;P.camelCase=e;P.type=E;P.now=Date.now;P.isNumeric=function(m){var x=P.type(m);return("number"===x||"string"===x)&&!isNaN(m-parseFloat(m))};P.trim=function(m){return null==m?"":(m+"").replace(K,"$1")};var W=z.jQuery,ma=z.$;P.noConflict=function(m){z.$===P&&(z.$=ma);m&&z.jQuery===P&&(z.jQuery=W);return P};"undefined"===typeof h&&(z.jQuery=z.$=P);return P})},{}],297:[function(g,L,D){D=g("./lib/utils/common").assign;var z=g("./lib/deflate"),h=g("./lib/inflate");g=g("./lib/zlib/constants");
var v={};D(v,z,h,g);L.exports=v},{"./lib/deflate":298,"./lib/inflate":299,"./lib/utils/common":300,"./lib/zlib/constants":303}],298:[function(g,L,D){function z(l){if(!(this instanceof z))return new z(l);l=this.options=E.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},l||{});l.raw&&0<l.windowBits?l.windowBits=-l.windowBits:l.gzip&&0<l.windowBits&&16>l.windowBits&&(l.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new w;this.strm.avail_out=
0;var q=v.deflateInit2(this.strm,l.level,l.method,l.windowBits,l.memLevel,l.strategy);if(0!==q)throw Error(d[q]);l.header&&v.deflateSetHeader(this.strm,l.header);if(l.dictionary){l="string"===typeof l.dictionary?b.string2buf(l.dictionary):"[object ArrayBuffer]"===a.call(l.dictionary)?new Uint8Array(l.dictionary):l.dictionary;q=v.deflateSetDictionary(this.strm,l);if(0!==q)throw Error(d[q]);this._dict_set=!0}}function h(l,q){q=new z(q);q.push(l,!0);if(q.err)throw q.msg||d[q.err];return q.result}var v=
g("./zlib/deflate"),E=g("./utils/common"),b=g("./utils/strings"),d=g("./zlib/messages"),w=g("./zlib/zstream"),a=Object.prototype.toString;z.prototype.push=function(l,q){var r=this.strm,k=this.options.chunkSize;if(this.ended)return!1;q=q===~~q?q:!0===q?4:0;"string"===typeof l?r.input=b.string2buf(l):"[object ArrayBuffer]"===a.call(l)?r.input=new Uint8Array(l):r.input=l;r.next_in=0;r.avail_in=r.input.length;do{0===r.avail_out&&(r.output=new E.Buf8(k),r.next_out=0,r.avail_out=k);l=v.deflate(r,q);if(1!==
l&&0!==l)return this.onEnd(l),this.ended=!0,!1;if(0===r.avail_out||0===r.avail_in&&(4===q||2===q))if("string"===this.options.to)this.onData(b.buf2binstring(E.shrinkBuf(r.output,r.next_out)));else this.onData(E.shrinkBuf(r.output,r.next_out))}while((0<r.avail_in||0===r.avail_out)&&1!==l);if(4===q)return l=v.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,0===l;2===q&&(this.onEnd(0),r.avail_out=0);return!0};z.prototype.onData=function(l){this.chunks.push(l)};z.prototype.onEnd=function(l){0===l&&(this.result=
"string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=l;this.msg=this.strm.msg};D.Deflate=z;D.deflate=h;D.deflateRaw=function(l,q){q=q||{};q.raw=!0;return h(l,q)};D.gzip=function(l,q){q=q||{};q.gzip=!0;return h(l,q)}},{"./utils/common":300,"./utils/strings":301,"./zlib/deflate":305,"./zlib/messages":310,"./zlib/zstream":312}],299:[function(g,L,D){function z(r){if(!(this instanceof z))return new z(r);var k=this.options=E.assign({chunkSize:16384,windowBits:0,
to:""},r||{});k.raw&&0<=k.windowBits&&16>k.windowBits&&(k.windowBits=-k.windowBits,0===k.windowBits&&(k.windowBits=-15));!(0<=k.windowBits&&16>k.windowBits)||r&&r.windowBits||(k.windowBits+=32);15<k.windowBits&&48>k.windowBits&&0===(k.windowBits&15)&&(k.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new a;this.strm.avail_out=0;r=v.inflateInit2(this.strm,k.windowBits);if(r!==d.Z_OK)throw Error(w[r]);this.header=new l;v.inflateGetHeader(this.strm,this.header);if(k.dictionary&&
("string"===typeof k.dictionary?k.dictionary=b.string2buf(k.dictionary):"[object ArrayBuffer]"===q.call(k.dictionary)&&(k.dictionary=new Uint8Array(k.dictionary)),k.raw&&(r=v.inflateSetDictionary(this.strm,k.dictionary),r!==d.Z_OK)))throw Error(w[r]);}function h(r,k){k=new z(k);k.push(r,!0);if(k.err)throw k.msg||w[k.err];return k.result}var v=g("./zlib/inflate"),E=g("./utils/common"),b=g("./utils/strings"),d=g("./zlib/constants"),w=g("./zlib/messages"),a=g("./zlib/zstream"),l=g("./zlib/gzheader"),
q=Object.prototype.toString;z.prototype.push=function(r,k){var c=this.strm,f=this.options.chunkSize,p=this.options.dictionary,e=!1;if(this.ended)return!1;k=k===~~k?k:!0===k?d.Z_FINISH:d.Z_NO_FLUSH;"string"===typeof r?c.input=b.binstring2buf(r):"[object ArrayBuffer]"===q.call(r)?c.input=new Uint8Array(r):c.input=r;c.next_in=0;c.avail_in=c.input.length;do{0===c.avail_out&&(c.output=new E.Buf8(f),c.next_out=0,c.avail_out=f);r=v.inflate(c,d.Z_NO_FLUSH);r===d.Z_NEED_DICT&&p&&(r=v.inflateSetDictionary(this.strm,
p));r===d.Z_BUF_ERROR&&!0===e&&(r=d.Z_OK,e=!1);if(r!==d.Z_STREAM_END&&r!==d.Z_OK)return this.onEnd(r),this.ended=!0,!1;if(c.next_out&&(0===c.avail_out||r===d.Z_STREAM_END||0===c.avail_in&&(k===d.Z_FINISH||k===d.Z_SYNC_FLUSH)))if("string"===this.options.to){var n=b.utf8border(c.output,c.next_out);var u=c.next_out-n;var A=b.buf2string(c.output,n);c.next_out=u;c.avail_out=f-u;u&&E.arraySet(c.output,c.output,n,u,0);this.onData(A)}else this.onData(E.shrinkBuf(c.output,c.next_out));0===c.avail_in&&0===
c.avail_out&&(e=!0)}while((0<c.avail_in||0===c.avail_out)&&r!==d.Z_STREAM_END);r===d.Z_STREAM_END&&(k=d.Z_FINISH);if(k===d.Z_FINISH)return r=v.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===d.Z_OK;k===d.Z_SYNC_FLUSH&&(this.onEnd(d.Z_OK),c.avail_out=0);return!0};z.prototype.onData=function(r){this.chunks.push(r)};z.prototype.onEnd=function(r){r===d.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks));this.chunks=[];this.err=r;this.msg=this.strm.msg};
D.Inflate=z;D.inflate=h;D.inflateRaw=function(r,k){k=k||{};k.raw=!0;return h(r,k)};D.ungzip=h},{"./utils/common":300,"./utils/strings":301,"./zlib/constants":303,"./zlib/gzheader":306,"./zlib/inflate":308,"./zlib/messages":310,"./zlib/zstream":312}],300:[function(g,L,D){g="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;D.assign=function(v){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var b=E.shift();if(b){if("object"!==typeof b)throw new TypeError(b+
"must be non-object");for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(v[d]=b[d])}}return v};D.shrinkBuf=function(v,E){if(v.length===E)return v;if(v.subarray)return v.subarray(0,E);v.length=E;return v};var z={arraySet:function(v,E,b,d,w){if(E.subarray&&v.subarray)v.set(E.subarray(b,b+d),w);else for(var a=0;a<d;a++)v[w+a]=E[b+a]},flattenChunks:function(v){var E,b;var d=b=0;for(E=v.length;d<E;d++)b+=v[d].length;var w=new Uint8Array(b);d=b=0;for(E=v.length;d<E;d++){var a=v[d];w.set(a,b);b+=
a.length}return w}},h={arraySet:function(v,E,b,d,w){for(var a=0;a<d;a++)v[w+a]=E[b+a]},flattenChunks:function(v){return[].concat.apply([],v)}};D.setTyped=function(v){v?(D.Buf8=Uint8Array,D.Buf16=Uint16Array,D.Buf32=Int32Array,D.assign(D,z)):(D.Buf8=Array,D.Buf16=Array,D.Buf32=Array,D.assign(D,h))};D.setTyped(g)},{}],301:[function(g,L,D){function z(d,w){if(65534>w&&(d.subarray&&E||!d.subarray&&v))return String.fromCharCode.apply(null,h.shrinkBuf(d,w));for(var a="",l=0;l<w;l++)a+=String.fromCharCode(d[l]);
return a}var h=g("./common"),v=!0,E=!0;try{String.fromCharCode.apply(null,[0])}catch(d){v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(d){E=!1}var b=new h.Buf8(256);for(g=0;256>g;g++)b[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;b[254]=b[254]=1;D.string2buf=function(d){var w,a,l=d.length,q=0;for(w=0;w<l;w++){var r=d.charCodeAt(w);if(55296===(r&64512)&&w+1<l){var k=d.charCodeAt(w+1);56320===(k&64512)&&(r=65536+(r-55296<<10)+(k-56320),w++)}q+=128>r?1:2048>r?2:65536>r?3:4}var c=
new h.Buf8(q);for(w=a=0;a<q;w++)r=d.charCodeAt(w),55296===(r&64512)&&w+1<l&&(k=d.charCodeAt(w+1),56320===(k&64512)&&(r=65536+(r-55296<<10)+(k-56320),w++)),128>r?c[a++]=r:(2048>r?c[a++]=192|r>>>6:(65536>r?c[a++]=224|r>>>12:(c[a++]=240|r>>>18,c[a++]=128|r>>>12&63),c[a++]=128|r>>>6&63),c[a++]=128|r&63);return c};D.buf2binstring=function(d){return z(d,d.length)};D.binstring2buf=function(d){for(var w=new h.Buf8(d.length),a=0,l=w.length;a<l;a++)w[a]=d.charCodeAt(a);return w};D.buf2string=function(d,w){var a,
l=w||d.length,q=Array(2*l);for(w=a=0;w<l;){var r=d[w++];if(128>r)q[a++]=r;else{var k=b[r];if(4<k)q[a++]=65533,w+=k-1;else{for(r&=2===k?31:3===k?15:7;1<k&&w<l;)r=r<<6|d[w++]&63,k--;1<k?q[a++]=65533:65536>r?q[a++]=r:(r-=65536,q[a++]=55296|r>>10&1023,q[a++]=56320|r&1023)}}}return z(q,a)};D.utf8border=function(d,w){var a;w=w||d.length;w>d.length&&(w=d.length);for(a=w-1;0<=a&&128===(d[a]&192);)a--;return 0>a||0===a?w:a+b[d[a]]>w?a:w}},{"./common":300}],302:[function(g,L,D){L.exports=function(z,h,v,E){var b=
z&65535|0;z=z>>>16&65535|0;for(var d;0!==v;){d=2E3<v?2E3:v;v-=d;do b=b+h[E++]|0,z=z+b|0;while(--d);b%=65521;z%=65521}return b|z<<16|0}},{}],303:[function(g,L,D){L.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,
Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],304:[function(g,L,D){var z=function(){for(var h,v=[],E=0;256>E;E++){h=E;for(var b=0;8>b;b++)h=h&1?3988292384^h>>>1:h>>>1;v[E]=h}return v}();L.exports=function(h,v,E,b){E=b+E;for(h^=-1;b<E;b++)h=h>>>8^z[(h^v[b])&255];return h^-1}},{}],305:[function(g,L,D){function z(y,G){y.msg=I[G];return G}function h(y){for(var G=y.length;0<=--G;)y[G]=0}function v(y){var G=y.state,H=G.pending;H>y.avail_out&&(H=y.avail_out);0!==H&&(u.arraySet(y.output,G.pending_buf,
G.pending_out,H,y.next_out),y.next_out+=H,G.pending_out+=H,y.total_out+=H,y.avail_out-=H,G.pending-=H,0===G.pending&&(G.pending_out=0))}function E(y,G){A._tr_flush_block(y,0<=y.block_start?y.block_start:-1,y.strstart-y.block_start,G);y.block_start=y.strstart;v(y.strm)}function b(y,G){y.pending_buf[y.pending++]=G}function d(y,G){y.pending_buf[y.pending++]=G>>>8&255;y.pending_buf[y.pending++]=G&255}function w(y,G){var H=y.max_chain_length,O=y.strstart,J=y.prev_length,R=y.nice_match,ea=y.strstart>y.w_size-
262?y.strstart-(y.w_size-262):0,Y=y.window,pa=y.w_mask,ka=y.prev,Q=y.strstart+258,ja=Y[O+J-1],na=Y[O+J];y.prev_length>=y.good_match&&(H>>=2);R>y.lookahead&&(R=y.lookahead);do{var za=G;if(Y[za+J]===na&&Y[za+J-1]===ja&&Y[za]===Y[O]&&Y[++za]===Y[O+1]){O+=2;for(za++;Y[++O]===Y[++za]&&Y[++O]===Y[++za]&&Y[++O]===Y[++za]&&Y[++O]===Y[++za]&&Y[++O]===Y[++za]&&Y[++O]===Y[++za]&&Y[++O]===Y[++za]&&Y[++O]===Y[++za]&&O<Q;);za=258-(Q-O);O=Q-258;if(za>J){y.match_start=G;J=za;if(za>=R)break;ja=Y[O+J-1];na=Y[O+J]}}}while((G=
ka[G&pa])>ea&&0!==--H);return J<=y.lookahead?J:y.lookahead}function a(y){var G=y.w_size,H;do{var O=y.window_size-y.lookahead-y.strstart;if(y.strstart>=G+(G-262)){u.arraySet(y.window,y.window,G,G,0);y.match_start-=G;y.strstart-=G;y.block_start-=G;var J=H=y.hash_size;do{var R=y.head[--J];y.head[J]=R>=G?R-G:0}while(--H);J=H=G;do R=y.prev[--J],y.prev[J]=R>=G?R-G:0;while(--H);O+=G}if(0===y.strm.avail_in)break;J=y.strm;H=y.window;R=y.strstart+y.lookahead;var ea=J.avail_in;ea>O&&(ea=O);0===ea?H=0:(J.avail_in-=
ea,u.arraySet(H,J.input,J.next_in,ea,R),1===J.state.wrap?J.adler=C(J.adler,H,ea,R):2===J.state.wrap&&(J.adler=B(J.adler,H,ea,R)),J.next_in+=ea,J.total_in+=ea,H=ea);y.lookahead+=H;if(3<=y.lookahead+y.insert)for(O=y.strstart-y.insert,y.ins_h=y.window[O],y.ins_h=(y.ins_h<<y.hash_shift^y.window[O+1])&y.hash_mask;y.insert&&!(y.ins_h=(y.ins_h<<y.hash_shift^y.window[O+3-1])&y.hash_mask,y.prev[O&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=O,O++,y.insert--,3>y.lookahead+y.insert););}while(262>y.lookahead&&0!==
y.strm.avail_in)}function l(y,G){for(var H;;){if(262>y.lookahead){a(y);if(262>y.lookahead&&0===G)return 1;if(0===y.lookahead)break}H=0;3<=y.lookahead&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+3-1])&y.hash_mask,H=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart);0!==H&&y.strstart-H<=y.w_size-262&&(y.match_length=w(y,H));if(3<=y.match_length)if(H=A._tr_tally(y,y.strstart-y.match_start,y.match_length-3),y.lookahead-=y.match_length,y.match_length<=y.max_lazy_match&&3<=
y.lookahead){y.match_length--;do y.strstart++,y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+3-1])&y.hash_mask,y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart;while(0!==--y.match_length);y.strstart++}else y.strstart+=y.match_length,y.match_length=0,y.ins_h=y.window[y.strstart],y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+1])&y.hash_mask;else H=A._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++;if(H&&(E(y,!1),0===y.strm.avail_out))return 1}y.insert=2>
y.strstart?y.strstart:2;return 4===G?(E(y,!0),0===y.strm.avail_out?3:4):y.last_lit&&(E(y,!1),0===y.strm.avail_out)?1:2}function q(y,G){for(var H,O;;){if(262>y.lookahead){a(y);if(262>y.lookahead&&0===G)return 1;if(0===y.lookahead)break}H=0;3<=y.lookahead&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+3-1])&y.hash_mask,H=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart);y.prev_length=y.match_length;y.prev_match=y.match_start;y.match_length=2;0!==H&&y.prev_length<y.max_lazy_match&&
y.strstart-H<=y.w_size-262&&(y.match_length=w(y,H),5>=y.match_length&&(1===y.strategy||3===y.match_length&&4096<y.strstart-y.match_start)&&(y.match_length=2));if(3<=y.prev_length&&y.match_length<=y.prev_length){O=y.strstart+y.lookahead-3;H=A._tr_tally(y,y.strstart-1-y.prev_match,y.prev_length-3);y.lookahead-=y.prev_length-1;y.prev_length-=2;do++y.strstart<=O&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+3-1])&y.hash_mask,y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart);
while(0!==--y.prev_length);y.match_available=0;y.match_length=2;y.strstart++;if(H&&(E(y,!1),0===y.strm.avail_out))return 1}else if(y.match_available){if((H=A._tr_tally(y,0,y.window[y.strstart-1]))&&E(y,!1),y.strstart++,y.lookahead--,0===y.strm.avail_out)return 1}else y.match_available=1,y.strstart++,y.lookahead--}y.match_available&&(A._tr_tally(y,0,y.window[y.strstart-1]),y.match_available=0);y.insert=2>y.strstart?y.strstart:2;return 4===G?(E(y,!0),0===y.strm.avail_out?3:4):y.last_lit&&(E(y,!1),0===
y.strm.avail_out)?1:2}function r(y,G){for(var H,O,J,R=y.window;;){if(258>=y.lookahead){a(y);if(258>=y.lookahead&&0===G)return 1;if(0===y.lookahead)break}y.match_length=0;if(3<=y.lookahead&&0<y.strstart&&(O=y.strstart-1,H=R[O],H===R[++O]&&H===R[++O]&&H===R[++O])){for(J=y.strstart+258;H===R[++O]&&H===R[++O]&&H===R[++O]&&H===R[++O]&&H===R[++O]&&H===R[++O]&&H===R[++O]&&H===R[++O]&&O<J;);y.match_length=258-(J-O);y.match_length>y.lookahead&&(y.match_length=y.lookahead)}3<=y.match_length?(H=A._tr_tally(y,
1,y.match_length-3),y.lookahead-=y.match_length,y.strstart+=y.match_length,y.match_length=0):(H=A._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++);if(H&&(E(y,!1),0===y.strm.avail_out))return 1}y.insert=0;return 4===G?(E(y,!0),0===y.strm.avail_out?3:4):y.last_lit&&(E(y,!1),0===y.strm.avail_out)?1:2}function k(y,G){for(var H;;){if(0===y.lookahead&&(a(y),0===y.lookahead)){if(0===G)return 1;break}y.match_length=0;H=A._tr_tally(y,0,y.window[y.strstart]);y.lookahead--;y.strstart++;if(H&&
(E(y,!1),0===y.strm.avail_out))return 1}y.insert=0;return 4===G?(E(y,!0),0===y.strm.avail_out?3:4):y.last_lit&&(E(y,!1),0===y.strm.avail_out)?1:2}function c(y,G,H,O,J){this.good_length=y;this.max_lazy=G;this.nice_length=H;this.max_chain=O;this.func=J}function f(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=
0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new u.Buf16(1146);this.dyn_dtree=new u.Buf16(122);this.bl_tree=new u.Buf16(78);h(this.dyn_ltree);h(this.dyn_dtree);h(this.bl_tree);this.bl_desc=this.d_desc=
this.l_desc=null;this.bl_count=new u.Buf16(16);this.heap=new u.Buf16(573);h(this.heap);this.heap_max=this.heap_len=0;this.depth=new u.Buf16(573);h(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function p(y){if(!y||!y.state)return z(y,-2);y.total_in=y.total_out=0;y.data_type=2;var G=y.state;G.pending=0;G.pending_out=0;0>G.wrap&&(G.wrap=-G.wrap);G.status=G.wrap?42:113;y.adler=2===G.wrap?0:1;G.last_flush=
0;A._tr_init(G);return 0}function e(y){var G=p(y);0===G&&(y=y.state,y.window_size=2*y.w_size,h(y.head),y.max_lazy_match=N[y.level].max_lazy,y.good_match=N[y.level].good_length,y.nice_match=N[y.level].nice_length,y.max_chain_length=N[y.level].max_chain,y.strstart=0,y.block_start=0,y.lookahead=0,y.insert=0,y.match_length=y.prev_length=2,y.match_available=0,y.ins_h=0);return G}function n(y,G,H,O,J,R){if(!y)return-2;var ea=1;-1===G&&(G=6);0>O?(ea=0,O=-O):15<O&&(ea=2,O-=16);if(1>J||9<J||8!==H||8>O||15<
O||0>G||9<G||0>R||4<R)return z(y,-2);8===O&&(O=9);var Y=new f;y.state=Y;Y.strm=y;Y.wrap=ea;Y.gzhead=null;Y.w_bits=O;Y.w_size=1<<Y.w_bits;Y.w_mask=Y.w_size-1;Y.hash_bits=J+7;Y.hash_size=1<<Y.hash_bits;Y.hash_mask=Y.hash_size-1;Y.hash_shift=~~((Y.hash_bits+3-1)/3);Y.window=new u.Buf8(2*Y.w_size);Y.head=new u.Buf16(Y.hash_size);Y.prev=new u.Buf16(Y.w_size);Y.lit_bufsize=1<<J+6;Y.pending_buf_size=4*Y.lit_bufsize;Y.pending_buf=new u.Buf8(Y.pending_buf_size);Y.d_buf=1*Y.lit_bufsize;Y.l_buf=3*Y.lit_bufsize;
Y.level=G;Y.strategy=R;Y.method=H;return e(y)}var u=g("../utils/common"),A=g("./trees"),C=g("./adler32"),B=g("./crc32"),I=g("./messages");var N=[new c(0,0,0,0,function(y,G){var H=65535;for(H>y.pending_buf_size-5&&(H=y.pending_buf_size-5);;){if(1>=y.lookahead){a(y);if(0===y.lookahead&&0===G)return 1;if(0===y.lookahead)break}y.strstart+=y.lookahead;y.lookahead=0;var O=y.block_start+H;if(0===y.strstart||y.strstart>=O)if(y.lookahead=y.strstart-O,y.strstart=O,E(y,!1),0===y.strm.avail_out)return 1;if(y.strstart-
y.block_start>=y.w_size-262&&(E(y,!1),0===y.strm.avail_out))return 1}y.insert=0;if(4===G)return E(y,!0),0===y.strm.avail_out?3:4;y.strstart>y.block_start&&E(y,!1);return 1}),new c(4,4,8,4,l),new c(4,5,16,8,l),new c(4,6,32,32,l),new c(4,4,16,16,q),new c(8,16,32,32,q),new c(8,16,128,128,q),new c(8,32,128,256,q),new c(32,128,258,1024,q),new c(32,258,258,4096,q)];D.deflateInit=function(y,G){return n(y,G,8,15,8,0)};D.deflateInit2=n;D.deflateReset=e;D.deflateResetKeep=p;D.deflateSetHeader=function(y,G){if(!y||
!y.state||2!==y.state.wrap)return-2;y.state.gzhead=G;return 0};D.deflate=function(y,G){if(!y||!y.state||5<G||0>G)return y?z(y,-2):-2;var H=y.state;if(!y.output||!y.input&&0!==y.avail_in||666===H.status&&4!==G)return z(y,0===y.avail_out?-5:-2);H.strm=y;var O=H.last_flush;H.last_flush=G;if(42===H.status)if(2===H.wrap)y.adler=0,b(H,31),b(H,139),b(H,8),H.gzhead?(b(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),b(H,H.gzhead.time&255),b(H,H.gzhead.time>>
8&255),b(H,H.gzhead.time>>16&255),b(H,H.gzhead.time>>24&255),b(H,9===H.level?2:2<=H.strategy||2>H.level?4:0),b(H,H.gzhead.os&255),H.gzhead.extra&&H.gzhead.extra.length&&(b(H,H.gzhead.extra.length&255),b(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(y.adler=B(y.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(b(H,0),b(H,0),b(H,0),b(H,0),b(H,0),b(H,9===H.level?2:2<=H.strategy||2>H.level?4:0),b(H,3),H.status=113);else{var J=8+(H.w_bits-8<<4)<<8;J|=(2<=H.strategy||2>H.level?0:6>H.level?
1:6===H.level?2:3)<<6;0!==H.strstart&&(J|=32);H.status=113;d(H,J+(31-J%31));0!==H.strstart&&(d(H,y.adler>>>16),d(H,y.adler&65535));y.adler=1}if(69===H.status)if(H.gzhead.extra){for(J=H.pending;H.gzindex<(H.gzhead.extra.length&65535)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>J&&(y.adler=B(y.adler,H.pending_buf,H.pending-J,J)),v(y),J=H.pending,H.pending!==H.pending_buf_size));)b(H,H.gzhead.extra[H.gzindex]&255),H.gzindex++;H.gzhead.hcrc&&H.pending>J&&(y.adler=B(y.adler,H.pending_buf,
H.pending-J,J));H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(73===H.status)if(H.gzhead.name){J=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>J&&(y.adler=B(y.adler,H.pending_buf,H.pending-J,J)),v(y),J=H.pending,H.pending===H.pending_buf_size)){var R=1;break}R=H.gzindex<H.gzhead.name.length?H.gzhead.name.charCodeAt(H.gzindex++)&255:0;b(H,R)}while(0!==R);H.gzhead.hcrc&&H.pending>J&&(y.adler=B(y.adler,H.pending_buf,H.pending-J,J));0===R&&
(H.gzindex=0,H.status=91)}else H.status=91;if(91===H.status)if(H.gzhead.comment){J=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>J&&(y.adler=B(y.adler,H.pending_buf,H.pending-J,J)),v(y),J=H.pending,H.pending===H.pending_buf_size)){R=1;break}R=H.gzindex<H.gzhead.comment.length?H.gzhead.comment.charCodeAt(H.gzindex++)&255:0;b(H,R)}while(0!==R);H.gzhead.hcrc&&H.pending>J&&(y.adler=B(y.adler,H.pending_buf,H.pending-J,J));0===R&&(H.status=103)}else H.status=103;103===H.status&&
(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&v(y),H.pending+2<=H.pending_buf_size&&(b(H,y.adler&255),b(H,y.adler>>8&255),y.adler=0,H.status=113)):H.status=113);if(0!==H.pending){if(v(y),0===y.avail_out)return H.last_flush=-1,0}else if(0===y.avail_in&&(G<<1)-(4<G?9:0)<=(O<<1)-(4<O?9:0)&&4!==G)return z(y,-5);if(666===H.status&&0!==y.avail_in)return z(y,-5);if(0!==y.avail_in||0!==H.lookahead||0!==G&&666!==H.status){O=2===H.strategy?k(H,G):3===H.strategy?r(H,G):N[H.level].func(H,G);if(3===O||4===O)H.status=
666;if(1===O||3===O)return 0===y.avail_out&&(H.last_flush=-1),0;if(2===O&&(1===G?A._tr_align(H):5!==G&&(A._tr_stored_block(H,0,0,!1),3===G&&(h(H.head),0===H.lookahead&&(H.strstart=0,H.block_start=0,H.insert=0))),v(y),0===y.avail_out))return H.last_flush=-1,0}if(4!==G)return 0;if(0>=H.wrap)return 1;2===H.wrap?(b(H,y.adler&255),b(H,y.adler>>8&255),b(H,y.adler>>16&255),b(H,y.adler>>24&255),b(H,y.total_in&255),b(H,y.total_in>>8&255),b(H,y.total_in>>16&255),b(H,y.total_in>>24&255)):(d(H,y.adler>>>16),
d(H,y.adler&65535));v(y);0<H.wrap&&(H.wrap=-H.wrap);return 0!==H.pending?0:1};D.deflateEnd=function(y){if(!y||!y.state)return-2;var G=y.state.status;if(42!==G&&69!==G&&73!==G&&91!==G&&103!==G&&113!==G&&666!==G)return z(y,-2);y.state=null;return 113===G?z(y,-3):0};D.deflateSetDictionary=function(y,G){var H=G.length;if(!y||!y.state)return-2;var O=y.state;var J=O.wrap;if(2===J||1===J&&42!==O.status||O.lookahead)return-2;1===J&&(y.adler=C(y.adler,G,H,0));O.wrap=0;if(H>=O.w_size){0===J&&(h(O.head),O.strstart=
0,O.block_start=0,O.insert=0);var R=new u.Buf8(O.w_size);u.arraySet(R,G,H-O.w_size,O.w_size,0);G=R;H=O.w_size}R=y.avail_in;var ea=y.next_in;var Y=y.input;y.avail_in=H;y.next_in=0;y.input=G;for(a(O);3<=O.lookahead;){G=O.strstart;H=O.lookahead-2;do O.ins_h=(O.ins_h<<O.hash_shift^O.window[G+3-1])&O.hash_mask,O.prev[G&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=G,G++;while(--H);O.strstart=G;O.lookahead=2;a(O)}O.strstart+=O.lookahead;O.block_start=O.strstart;O.insert=O.lookahead;O.lookahead=0;O.match_length=
O.prev_length=2;O.match_available=0;y.next_in=ea;y.input=Y;y.avail_in=R;O.wrap=J;return 0};D.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":300,"./adler32":302,"./crc32":304,"./messages":310,"./trees":311}],306:[function(g,L,D){L.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],307:[function(g,L,D){L.exports=function(z,h){var v=z.state;var E=z.next_in;var b=z.input;var d=E+(z.avail_in-
5);var w=z.next_out;var a=z.output;h=w-(h-z.avail_out);var l=w+(z.avail_out-257);var q=v.dmax;var r=v.wsize;var k=v.whave;var c=v.wnext;var f=v.window;var p=v.hold;var e=v.bits;var n=v.lencode;var u=v.distcode;var A=(1<<v.lenbits)-1;var C=(1<<v.distbits)-1;a:do{15>e&&(p+=b[E++]<<e,e+=8,p+=b[E++]<<e,e+=8);var B=n[p&A];b:for(;;){var I=B>>>24;p>>>=I;e-=I;I=B>>>16&255;if(0===I)a[w++]=B&65535;else if(I&16){var N=B&65535;if(I&=15)e<I&&(p+=b[E++]<<e,e+=8),N+=p&(1<<I)-1,p>>>=I,e-=I;15>e&&(p+=b[E++]<<e,e+=
8,p+=b[E++]<<e,e+=8);B=u[p&C];c:for(;;){I=B>>>24;p>>>=I;e-=I;I=B>>>16&255;if(I&16){B&=65535;I&=15;e<I&&(p+=b[E++]<<e,e+=8,e<I&&(p+=b[E++]<<e,e+=8));B+=p&(1<<I)-1;if(B>q){z.msg="invalid distance too far back";v.mode=30;break a}p>>>=I;e-=I;I=w-h;if(B>I){I=B-I;if(I>k&&v.sane){z.msg="invalid distance too far back";v.mode=30;break a}var y=0;var G=f;if(0===c){if(y+=r-I,I<N){N-=I;do a[w++]=f[y++];while(--I);y=w-B;G=a}}else if(c<I){if(y+=r+c-I,I-=c,I<N){N-=I;do a[w++]=f[y++];while(--I);y=0;if(c<N){I=c;N-=
I;do a[w++]=f[y++];while(--I);y=w-B;G=a}}}else if(y+=c-I,I<N){N-=I;do a[w++]=f[y++];while(--I);y=w-B;G=a}for(;2<N;)a[w++]=G[y++],a[w++]=G[y++],a[w++]=G[y++],N-=3;N&&(a[w++]=G[y++],1<N&&(a[w++]=G[y++]))}else{y=w-B;do a[w++]=a[y++],a[w++]=a[y++],a[w++]=a[y++],N-=3;while(2<N);N&&(a[w++]=a[y++],1<N&&(a[w++]=a[y++]))}}else if(0===(I&64)){B=u[(B&65535)+(p&(1<<I)-1)];continue c}else{z.msg="invalid distance code";v.mode=30;break a}break}}else if(0===(I&64)){B=n[(B&65535)+(p&(1<<I)-1)];continue b}else{I&32?
v.mode=12:(z.msg="invalid literal/length code",v.mode=30);break a}break}}while(E<d&&w<l);N=e>>3;E-=N;e-=N<<3;z.next_in=E;z.next_out=w;z.avail_in=E<d?5+(d-E):5-(E-d);z.avail_out=w<l?257+(l-w):257-(w-l);v.hold=p&(1<<e)-1;v.bits=e}},{}],308:[function(g,L,D){function z(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function h(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=
0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new a.Buf16(320);this.work=new a.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function v(e){if(!e||!e.state)return-2;var n=e.state;e.total_in=e.total_out=n.total=0;e.msg="";n.wrap&&(e.adler=n.wrap&1);n.mode=1;n.last=0;n.havedict=0;n.dmax=32768;n.head=null;n.hold=0;n.bits=
0;n.lencode=n.lendyn=new a.Buf32(852);n.distcode=n.distdyn=new a.Buf32(592);n.sane=1;n.back=-1;return 0}function E(e){if(!e||!e.state)return-2;var n=e.state;n.wsize=0;n.whave=0;n.wnext=0;return v(e)}function b(e,n){if(!e||!e.state)return-2;var u=e.state;if(0>n){var A=0;n=-n}else A=(n>>4)+1,48>n&&(n&=15);if(n&&(8>n||15<n))return-2;null!==u.window&&u.wbits!==n&&(u.window=null);u.wrap=A;u.wbits=n;return E(e)}function d(e,n){if(!e)return-2;var u=new h;e.state=u;u.window=null;n=b(e,n);0!==n&&(e.state=
null);return n}function w(e,n,u,A){var C=e.state;null===C.window&&(C.wsize=1<<C.wbits,C.wnext=0,C.whave=0,C.window=new a.Buf8(C.wsize));A>=C.wsize?(a.arraySet(C.window,n,u-C.wsize,C.wsize,0),C.wnext=0,C.whave=C.wsize):(e=C.wsize-C.wnext,e>A&&(e=A),a.arraySet(C.window,n,u-A,e,C.wnext),(A-=e)?(a.arraySet(C.window,n,u-A,A,0),C.wnext=A,C.whave=C.wsize):(C.wnext+=e,C.wnext===C.wsize&&(C.wnext=0),C.whave<C.wsize&&(C.whave+=e)));return 0}var a=g("../utils/common"),l=g("./adler32"),q=g("./crc32"),r=g("./inffast"),
k=g("./inftrees"),c=!0,f,p;D.inflateReset=E;D.inflateReset2=b;D.inflateResetKeep=v;D.inflateInit=function(e){return d(e,15)};D.inflateInit2=d;D.inflate=function(e,n){var u,A=new a.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;var B=e.state;12===B.mode&&(B.mode=13);var I=e.next_out;var N=e.output;var y=e.avail_out;var G=e.next_in;var H=e.input;var O=e.avail_in;var J=B.hold;var R=B.bits;var ea=O;var Y=y;var pa=0;a:for(;;)switch(B.mode){case 1:if(0===
B.wrap){B.mode=13;break}for(;16>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}if(B.wrap&2&&35615===J){B.check=0;A[0]=J&255;A[1]=J>>>8&255;B.check=q(B.check,A,2,0);R=J=0;B.mode=2;break}B.flags=0;B.head&&(B.head.done=!1);if(!(B.wrap&1)||(((J&255)<<8)+(J>>8))%31){e.msg="incorrect header check";B.mode=30;break}if(8!==(J&15)){e.msg="unknown compression method";B.mode=30;break}J>>>=4;R-=4;var ka=(J&15)+8;if(0===B.wbits)B.wbits=ka;else if(ka>B.wbits){e.msg="invalid window size";B.mode=30;break}B.dmax=1<<ka;
e.adler=B.check=1;B.mode=J&512?10:12;R=J=0;break;case 2:for(;16>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.flags=J;if(8!==(B.flags&255)){e.msg="unknown compression method";B.mode=30;break}if(B.flags&57344){e.msg="unknown header flags set";B.mode=30;break}B.head&&(B.head.text=J>>8&1);B.flags&512&&(A[0]=J&255,A[1]=J>>>8&255,B.check=q(B.check,A,2,0));R=J=0;B.mode=3;case 3:for(;32>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.head&&(B.head.time=J);B.flags&512&&(A[0]=J&255,A[1]=J>>>8&255,A[2]=J>>>16&
255,A[3]=J>>>24&255,B.check=q(B.check,A,4,0));R=J=0;B.mode=4;case 4:for(;16>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.head&&(B.head.xflags=J&255,B.head.os=J>>8);B.flags&512&&(A[0]=J&255,A[1]=J>>>8&255,B.check=q(B.check,A,2,0));R=J=0;B.mode=5;case 5:if(B.flags&1024){for(;16>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.length=J;B.head&&(B.head.extra_len=J);B.flags&512&&(A[0]=J&255,A[1]=J>>>8&255,B.check=q(B.check,A,2,0));R=J=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(B.flags&1024){var Q=
B.length;Q>O&&(Q=O);Q&&(B.head&&(ka=B.head.extra_len-B.length,B.head.extra||(B.head.extra=Array(B.head.extra_len)),a.arraySet(B.head.extra,H,G,Q,ka)),B.flags&512&&(B.check=q(B.check,H,Q,G)),O-=Q,G+=Q,B.length-=Q);if(B.length)break a}B.length=0;B.mode=7;case 7:if(B.flags&2048){if(0===O)break a;Q=0;do ka=H[G+Q++],B.head&&ka&&65536>B.length&&(B.head.name+=String.fromCharCode(ka));while(ka&&Q<O);B.flags&512&&(B.check=q(B.check,H,Q,G));O-=Q;G+=Q;if(ka)break a}else B.head&&(B.head.name=null);B.length=0;
B.mode=8;case 8:if(B.flags&4096){if(0===O)break a;Q=0;do ka=H[G+Q++],B.head&&ka&&65536>B.length&&(B.head.comment+=String.fromCharCode(ka));while(ka&&Q<O);B.flags&512&&(B.check=q(B.check,H,Q,G));O-=Q;G+=Q;if(ka)break a}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(B.flags&512){for(;16>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}if(J!==(B.check&65535)){e.msg="header crc mismatch";B.mode=30;break}R=J=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0);e.adler=B.check=0;B.mode=12;break;case 10:for(;32>
R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}e.adler=B.check=z(J);R=J=0;B.mode=11;case 11:if(0===B.havedict)return e.next_out=I,e.avail_out=y,e.next_in=G,e.avail_in=O,B.hold=J,B.bits=R,2;e.adler=B.check=1;B.mode=12;case 12:if(5===n||6===n)break a;case 13:if(B.last){J>>>=R&7;R-=R&7;B.mode=27;break}for(;3>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.last=J&1;J>>>=1;--R;switch(J&3){case 0:B.mode=14;break;case 1:ka=B;if(c){f=new a.Buf32(512);p=new a.Buf32(32);for(Q=0;144>Q;)ka.lens[Q++]=8;for(;256>Q;)ka.lens[Q++]=
9;for(;280>Q;)ka.lens[Q++]=7;for(;288>Q;)ka.lens[Q++]=8;k(1,ka.lens,0,288,f,0,ka.work,{bits:9});for(Q=0;32>Q;)ka.lens[Q++]=5;k(2,ka.lens,0,32,p,0,ka.work,{bits:5});c=!1}ka.lencode=f;ka.lenbits=9;ka.distcode=p;ka.distbits=5;B.mode=20;if(6===n){J>>>=2;R-=2;break a}break;case 2:B.mode=17;break;case 3:e.msg="invalid block type",B.mode=30}J>>>=2;R-=2;break;case 14:J>>>=R&7;for(R-=R&7;32>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}if((J&65535)!==(J>>>16^65535)){e.msg="invalid stored block lengths";B.mode=
30;break}B.length=J&65535;R=J=0;B.mode=15;if(6===n)break a;case 15:B.mode=16;case 16:if(Q=B.length){Q>O&&(Q=O);Q>y&&(Q=y);if(0===Q)break a;a.arraySet(N,H,G,Q,I);O-=Q;G+=Q;y-=Q;I+=Q;B.length-=Q;break}B.mode=12;break;case 17:for(;14>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.nlen=(J&31)+257;J>>>=5;R-=5;B.ndist=(J&31)+1;J>>>=5;R-=5;B.ncode=(J&15)+4;J>>>=4;R-=4;if(286<B.nlen||30<B.ndist){e.msg="too many length or distance symbols";B.mode=30;break}B.have=0;B.mode=18;case 18:for(;B.have<B.ncode;){for(;3>
R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.lens[C[B.have++]]=J&7;J>>>=3;R-=3}for(;19>B.have;)B.lens[C[B.have++]]=0;B.lencode=B.lendyn;B.lenbits=7;Q={bits:B.lenbits};pa=k(0,B.lens,0,19,B.lencode,0,B.work,Q);B.lenbits=Q.bits;if(pa){e.msg="invalid code lengths set";B.mode=30;break}B.have=0;B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;;){var ja=B.lencode[J&(1<<B.lenbits)-1];Q=ja>>>24;ja&=65535;if(Q<=R)break;if(0===O)break a;O--;J+=H[G++]<<R;R+=8}if(16>ja)J>>>=Q,R-=Q,B.lens[B.have++]=ja;else{if(16===
ja){for(ka=Q+2;R<ka;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}J>>>=Q;R-=Q;if(0===B.have){e.msg="invalid bit length repeat";B.mode=30;break}ka=B.lens[B.have-1];Q=3+(J&3);J>>>=2;R-=2}else if(17===ja){for(ka=Q+3;R<ka;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}J>>>=Q;R-=Q;ka=0;Q=3+(J&7);J>>>=3;R-=3}else{for(ka=Q+7;R<ka;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}J>>>=Q;R-=Q;ka=0;Q=11+(J&127);J>>>=7;R-=7}if(B.have+Q>B.nlen+B.ndist){e.msg="invalid bit length repeat";B.mode=30;break}for(;Q--;)B.lens[B.have++]=
ka}}if(30===B.mode)break;if(0===B.lens[256]){e.msg="invalid code -- missing end-of-block";B.mode=30;break}B.lenbits=9;Q={bits:B.lenbits};pa=k(1,B.lens,0,B.nlen,B.lencode,0,B.work,Q);B.lenbits=Q.bits;if(pa){e.msg="invalid literal/lengths set";B.mode=30;break}B.distbits=6;B.distcode=B.distdyn;Q={bits:B.distbits};pa=k(2,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,Q);B.distbits=Q.bits;if(pa){e.msg="invalid distances set";B.mode=30;break}B.mode=20;if(6===n)break a;case 20:B.mode=21;case 21:if(6<=O&&258<=
y){e.next_out=I;e.avail_out=y;e.next_in=G;e.avail_in=O;B.hold=J;B.bits=R;r(e,Y);I=e.next_out;N=e.output;y=e.avail_out;G=e.next_in;H=e.input;O=e.avail_in;J=B.hold;R=B.bits;12===B.mode&&(B.back=-1);break}for(B.back=0;;){ja=B.lencode[J&(1<<B.lenbits)-1];Q=ja>>>24;ka=ja>>>16&255;ja&=65535;if(Q<=R)break;if(0===O)break a;O--;J+=H[G++]<<R;R+=8}if(ka&&0===(ka&240)){var na=Q;var za=ka;for(u=ja;;){ja=B.lencode[u+((J&(1<<na+za)-1)>>na)];Q=ja>>>24;ka=ja>>>16&255;ja&=65535;if(na+Q<=R)break;if(0===O)break a;O--;
J+=H[G++]<<R;R+=8}J>>>=na;R-=na;B.back+=na}J>>>=Q;R-=Q;B.back+=Q;B.length=ja;if(0===ka){B.mode=26;break}if(ka&32){B.back=-1;B.mode=12;break}if(ka&64){e.msg="invalid literal/length code";B.mode=30;break}B.extra=ka&15;B.mode=22;case 22:if(B.extra){for(ka=B.extra;R<ka;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.length+=J&(1<<B.extra)-1;J>>>=B.extra;R-=B.extra;B.back+=B.extra}B.was=B.length;B.mode=23;case 23:for(;;){ja=B.distcode[J&(1<<B.distbits)-1];Q=ja>>>24;ka=ja>>>16&255;ja&=65535;if(Q<=R)break;if(0===
O)break a;O--;J+=H[G++]<<R;R+=8}if(0===(ka&240)){na=Q;za=ka;for(u=ja;;){ja=B.distcode[u+((J&(1<<na+za)-1)>>na)];Q=ja>>>24;ka=ja>>>16&255;ja&=65535;if(na+Q<=R)break;if(0===O)break a;O--;J+=H[G++]<<R;R+=8}J>>>=na;R-=na;B.back+=na}J>>>=Q;R-=Q;B.back+=Q;if(ka&64){e.msg="invalid distance code";B.mode=30;break}B.offset=ja;B.extra=ka&15;B.mode=24;case 24:if(B.extra){for(ka=B.extra;R<ka;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}B.offset+=J&(1<<B.extra)-1;J>>>=B.extra;R-=B.extra;B.back+=B.extra}if(B.offset>
B.dmax){e.msg="invalid distance too far back";B.mode=30;break}B.mode=25;case 25:if(0===y)break a;Q=Y-y;if(B.offset>Q){Q=B.offset-Q;if(Q>B.whave&&B.sane){e.msg="invalid distance too far back";B.mode=30;break}Q>B.wnext?(Q-=B.wnext,ka=B.wsize-Q):ka=B.wnext-Q;Q>B.length&&(Q=B.length);na=B.window}else na=N,ka=I-B.offset,Q=B.length;Q>y&&(Q=y);y-=Q;B.length-=Q;do N[I++]=na[ka++];while(--Q);0===B.length&&(B.mode=21);break;case 26:if(0===y)break a;N[I++]=B.length;y--;B.mode=21;break;case 27:if(B.wrap){for(;32>
R;){if(0===O)break a;O--;J|=H[G++]<<R;R+=8}Y-=y;e.total_out+=Y;B.total+=Y;Y&&(e.adler=B.check=B.flags?q(B.check,N,Y,I-Y):l(B.check,N,Y,I-Y));Y=y;if((B.flags?J:z(J))!==B.check){e.msg="incorrect data check";B.mode=30;break}R=J=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;32>R;){if(0===O)break a;O--;J+=H[G++]<<R;R+=8}if(J!==(B.total&4294967295)){e.msg="incorrect length check";B.mode=30;break}R=J=0}B.mode=29;case 29:pa=1;break a;case 30:pa=-3;break a;case 31:return-4;default:return-2}e.next_out=I;e.avail_out=
y;e.next_in=G;e.avail_in=O;B.hold=J;B.bits=R;if((B.wsize||Y!==e.avail_out&&30>B.mode&&(27>B.mode||4!==n))&&w(e,e.output,e.next_out,Y-e.avail_out))return B.mode=31,-4;ea-=e.avail_in;Y-=e.avail_out;e.total_in+=ea;e.total_out+=Y;B.total+=Y;B.wrap&&Y&&(e.adler=B.check=B.flags?q(B.check,N,Y,e.next_out-Y):l(B.check,N,Y,e.next_out-Y));e.data_type=B.bits+(B.last?64:0)+(12===B.mode?128:0)+(20===B.mode||15===B.mode?256:0);(0===ea&&0===Y||4===n)&&0===pa&&(pa=-5);return pa};D.inflateEnd=function(e){if(!e||!e.state)return-2;
var n=e.state;n.window&&(n.window=null);e.state=null;return 0};D.inflateGetHeader=function(e,n){if(!e||!e.state)return-2;e=e.state;if(0===(e.wrap&2))return-2;e.head=n;n.done=!1;return 0};D.inflateSetDictionary=function(e,n){var u=n.length;if(!e||!e.state)return-2;var A=e.state;if(0!==A.wrap&&11!==A.mode)return-2;if(11===A.mode){var C=l(1,n,u,0);if(C!==A.check)return-3}if(w(e,n,u,u))return A.mode=31,-4;A.havedict=1;return 0};D.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":300,
"./adler32":302,"./crc32":304,"./inffast":307,"./inftrees":309}],309:[function(g,L,D){var z=g("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,
27,28,28,29,29,64,64];L.exports=function(d,w,a,l,q,r,k,c){var f=c.bits,p,e,n,u,A,C,B=0,I=new z.Buf16(16);var N=new z.Buf16(16);var y,G=0;for(p=0;15>=p;p++)I[p]=0;for(e=0;e<l;e++)I[w[a+e]]++;var H=f;for(n=15;1<=n&&0===I[n];n--);H>n&&(H=n);if(0===n)return q[r++]=20971520,q[r++]=20971520,c.bits=1,0;for(f=1;f<n&&0===I[f];f++);H<f&&(H=f);for(p=u=1;15>=p;p++)if(u<<=1,u-=I[p],0>u)return-1;if(0<u&&(0===d||1!==n))return-1;N[1]=0;for(p=1;15>p;p++)N[p+1]=N[p]+I[p];for(e=0;e<l;e++)0!==w[a+e]&&(k[N[w[a+e]]++]=
e);if(0===d){var O=y=k;var J=19}else 1===d?(O=h,B-=257,y=v,G-=257,J=256):(O=E,y=b,J=-1);e=A=0;p=f;var R=r;l=H;N=0;var ea=-1;var Y=1<<H;var pa=Y-1;if(1===d&&852<Y||2===d&&592<Y)return 1;for(;;){var ka=p-N;if(k[e]<J){var Q=0;var ja=k[e]}else k[e]>J?(Q=y[G+k[e]],ja=O[B+k[e]]):(Q=96,ja=0);u=1<<p-N;f=C=1<<l;do C-=u,q[R+(A>>N)+C]=ka<<24|Q<<16|ja|0;while(0!==C);for(u=1<<p-1;A&u;)u>>=1;0!==u?(A&=u-1,A+=u):A=0;e++;if(0===--I[p]){if(p===n)break;p=w[a+k[e]]}if(p>H&&(A&pa)!==ea){0===N&&(N=H);R+=f;l=p-N;for(u=
1<<l;l+N<n;){u-=I[l+N];if(0>=u)break;l++;u<<=1}Y+=1<<l;if(1===d&&852<Y||2===d&&592<Y)return 1;ea=A&pa;q[ea]=H<<24|l<<16|R-r|0}}0!==A&&(q[R+A]=p-N<<24|4194304);c.bits=H;return 0}},{"../utils/common":300}],310:[function(g,L,D){L.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],311:[function(g,L,D){function z(Q){for(var ja=Q.length;0<=--ja;)Q[ja]=0}function h(Q,ja,
na,za,ia){this.static_tree=Q;this.extra_bits=ja;this.extra_base=na;this.elems=za;this.max_length=ia;this.has_stree=Q&&Q.length}function v(Q,ja){this.dyn_tree=Q;this.max_code=0;this.stat_desc=ja}function E(Q,ja){Q.pending_buf[Q.pending++]=ja&255;Q.pending_buf[Q.pending++]=ja>>>8&255}function b(Q,ja,na){Q.bi_valid>16-na?(Q.bi_buf|=ja<<Q.bi_valid&65535,E(Q,Q.bi_buf),Q.bi_buf=ja>>16-Q.bi_valid,Q.bi_valid+=na-16):(Q.bi_buf|=ja<<Q.bi_valid&65535,Q.bi_valid+=na)}function d(Q,ja,na){b(Q,na[2*ja],na[2*ja+
1])}function w(Q,ja){var na=0;do na|=Q&1,Q>>>=1,na<<=1;while(0<--ja);return na>>>1}function a(Q,ja,na){var za=Array(16),ia=0,va;for(va=1;15>=va;va++)za[va]=ia=ia+na[va-1]<<1;for(na=0;na<=ja;na++)ia=Q[2*na+1],0!==ia&&(Q[2*na]=w(za[ia]++,ia))}function l(Q){var ja;for(ja=0;286>ja;ja++)Q.dyn_ltree[2*ja]=0;for(ja=0;30>ja;ja++)Q.dyn_dtree[2*ja]=0;for(ja=0;19>ja;ja++)Q.bl_tree[2*ja]=0;Q.dyn_ltree[512]=1;Q.opt_len=Q.static_len=0;Q.last_lit=Q.matches=0}function q(Q){8<Q.bi_valid?E(Q,Q.bi_buf):0<Q.bi_valid&&
(Q.pending_buf[Q.pending++]=Q.bi_buf);Q.bi_buf=0;Q.bi_valid=0}function r(Q,ja,na,za){var ia=2*ja,va=2*na;return Q[ia]<Q[va]||Q[ia]===Q[va]&&za[ja]<=za[na]}function k(Q,ja,na){for(var za=Q.heap[na],ia=na<<1;ia<=Q.heap_len;){ia<Q.heap_len&&r(ja,Q.heap[ia+1],Q.heap[ia],Q.depth)&&ia++;if(r(ja,za,Q.heap[ia],Q.depth))break;Q.heap[na]=Q.heap[ia];na=ia;ia<<=1}Q.heap[na]=za}function c(Q,ja,na){var za=0;if(0!==Q.last_lit){do{var ia=Q.pending_buf[Q.d_buf+2*za]<<8|Q.pending_buf[Q.d_buf+2*za+1];var va=Q.pending_buf[Q.l_buf+
za];za++;if(0===ia)d(Q,va,ja);else{var ta=O[va];d(Q,ta+256+1,ja);var ua=C[ta];0!==ua&&(va-=J[ta],b(Q,va,ua));ia--;ta=256>ia?H[ia]:H[256+(ia>>>7)];d(Q,ta,na);ua=B[ta];0!==ua&&(ia-=R[ta],b(Q,ia,ua))}}while(za<Q.last_lit)}d(Q,256,ja)}function f(Q,ja){var na=ja.dyn_tree,za=ja.stat_desc.static_tree,ia=ja.stat_desc.has_stree,va=ja.stat_desc.elems,ta,ua=-1;Q.heap_len=0;Q.heap_max=573;for(ta=0;ta<va;ta++)0!==na[2*ta]?(Q.heap[++Q.heap_len]=ua=ta,Q.depth[ta]=0):na[2*ta+1]=0;for(;2>Q.heap_len;){var Ya=Q.heap[++Q.heap_len]=
2>ua?++ua:0;na[2*Ya]=1;Q.depth[Ya]=0;Q.opt_len--;ia&&(Q.static_len-=za[2*Ya+1])}ja.max_code=ua;for(ta=Q.heap_len>>1;1<=ta;ta--)k(Q,na,ta);Ya=va;do ta=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],k(Q,na,1),za=Q.heap[1],Q.heap[--Q.heap_max]=ta,Q.heap[--Q.heap_max]=za,na[2*Ya]=na[2*ta]+na[2*za],Q.depth[Ya]=(Q.depth[ta]>=Q.depth[za]?Q.depth[ta]:Q.depth[za])+1,na[2*ta+1]=na[2*za+1]=Ya,Q.heap[1]=Ya++,k(Q,na,1);while(2<=Q.heap_len);Q.heap[--Q.heap_max]=Q.heap[1];ta=ja.dyn_tree;Ya=ja.max_code;za=ja.stat_desc.static_tree;
ia=ja.stat_desc.has_stree;va=ja.stat_desc.extra_bits;var Xa=ja.stat_desc.extra_base,T=ja.stat_desc.max_length,Z,sa=0;for(Z=0;15>=Z;Z++)Q.bl_count[Z]=0;ta[2*Q.heap[Q.heap_max]+1]=0;for(ja=Q.heap_max+1;573>ja;ja++){var Fa=Q.heap[ja];Z=ta[2*ta[2*Fa+1]+1]+1;Z>T&&(Z=T,sa++);ta[2*Fa+1]=Z;if(!(Fa>Ya)){Q.bl_count[Z]++;var Ra=0;Fa>=Xa&&(Ra=va[Fa-Xa]);var wb=ta[2*Fa];Q.opt_len+=wb*(Z+Ra);ia&&(Q.static_len+=wb*(za[2*Fa+1]+Ra))}}if(0!==sa){do{for(Z=T-1;0===Q.bl_count[Z];)Z--;Q.bl_count[Z]--;Q.bl_count[Z+1]+=
2;Q.bl_count[T]--;sa-=2}while(0<sa);for(Z=T;0!==Z;Z--)for(Fa=Q.bl_count[Z];0!==Fa;)za=Q.heap[--ja],za>Ya||(ta[2*za+1]!==Z&&(Q.opt_len+=(Z-ta[2*za+1])*ta[2*za],ta[2*za+1]=Z),Fa--)}a(na,ua,Q.bl_count)}function p(Q,ja,na){var za,ia=-1,va=ja[1],ta=0,ua=7,Ya=4;0===va&&(ua=138,Ya=3);ja[2*(na+1)+1]=65535;for(za=0;za<=na;za++){var Xa=va;va=ja[2*(za+1)+1];++ta<ua&&Xa===va||(ta<Ya?Q.bl_tree[2*Xa]+=ta:0!==Xa?(Xa!==ia&&Q.bl_tree[2*Xa]++,Q.bl_tree[32]++):10>=ta?Q.bl_tree[34]++:Q.bl_tree[36]++,ta=0,ia=Xa,0===va?
(ua=138,Ya=3):Xa===va?(ua=6,Ya=3):(ua=7,Ya=4))}}function e(Q,ja,na){var za,ia=-1,va=ja[1],ta=0,ua=7,Ya=4;0===va&&(ua=138,Ya=3);for(za=0;za<=na;za++){var Xa=va;va=ja[2*(za+1)+1];if(!(++ta<ua&&Xa===va)){if(ta<Ya){do d(Q,Xa,Q.bl_tree);while(0!==--ta)}else 0!==Xa?(Xa!==ia&&(d(Q,Xa,Q.bl_tree),ta--),d(Q,16,Q.bl_tree),b(Q,ta-3,2)):10>=ta?(d(Q,17,Q.bl_tree),b(Q,ta-3,3)):(d(Q,18,Q.bl_tree),b(Q,ta-11,7));ta=0;ia=Xa;0===va?(ua=138,Ya=3):Xa===va?(ua=6,Ya=3):(ua=7,Ya=4)}}}function n(Q){var ja=4093624447,na;for(na=
0;31>=na;na++,ja>>>=1)if(ja&1&&0!==Q.dyn_ltree[2*na])return 0;if(0!==Q.dyn_ltree[18]||0!==Q.dyn_ltree[20]||0!==Q.dyn_ltree[26])return 1;for(na=32;256>na;na++)if(0!==Q.dyn_ltree[2*na])return 1;return 0}function u(Q,ja,na,za){b(Q,za?1:0,3);q(Q);E(Q,na);E(Q,~na);A.arraySet(Q.pending_buf,Q.window,ja,na,Q.pending);Q.pending+=na}var A=g("../utils/common"),C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],y=Array(576);z(y);var G=Array(60);z(G);var H=Array(512);z(H);var O=Array(256);z(O);var J=Array(29);z(J);var R=Array(30);z(R);var ea,Y,pa,ka=!1;D._tr_init=function(Q){if(!ka){var ja,na,za,ia=Array(16);for(za=na=0;28>za;za++)for(J[za]=na,ja=0;ja<1<<C[za];ja++)O[na++]=za;O[na-1]=za;for(za=na=0;16>za;za++)for(R[za]=na,ja=0;ja<1<<B[za];ja++)H[na++]=za;for(na>>=7;30>za;za++)for(R[za]=na<<7,ja=0;ja<1<<B[za]-7;ja++)H[256+na++]=
za;for(ja=0;15>=ja;ja++)ia[ja]=0;for(ja=0;143>=ja;)y[2*ja+1]=8,ja++,ia[8]++;for(;255>=ja;)y[2*ja+1]=9,ja++,ia[9]++;for(;279>=ja;)y[2*ja+1]=7,ja++,ia[7]++;for(;287>=ja;)y[2*ja+1]=8,ja++,ia[8]++;a(y,287,ia);for(ja=0;30>ja;ja++)G[2*ja+1]=5,G[2*ja]=w(ja,5);ea=new h(y,C,257,286,15);Y=new h(G,B,0,30,15);pa=new h([],I,0,19,7);ka=!0}Q.l_desc=new v(Q.dyn_ltree,ea);Q.d_desc=new v(Q.dyn_dtree,Y);Q.bl_desc=new v(Q.bl_tree,pa);Q.bi_buf=0;Q.bi_valid=0;l(Q)};D._tr_stored_block=u;D._tr_flush_block=function(Q,ja,
na,za){var ia=0;if(0<Q.level){2===Q.strm.data_type&&(Q.strm.data_type=n(Q));f(Q,Q.l_desc);f(Q,Q.d_desc);p(Q,Q.dyn_ltree,Q.l_desc.max_code);p(Q,Q.dyn_dtree,Q.d_desc.max_code);f(Q,Q.bl_desc);for(ia=18;3<=ia&&0===Q.bl_tree[2*N[ia]+1];ia--);Q.opt_len+=3*(ia+1)+14;var va=Q.opt_len+3+7>>>3;var ta=Q.static_len+3+7>>>3;ta<=va&&(va=ta)}else va=ta=na+5;if(na+4<=va&&-1!==ja)u(Q,ja,na,za);else if(4===Q.strategy||ta===va)b(Q,2+(za?1:0),3),c(Q,y,G);else{b(Q,4+(za?1:0),3);ja=Q.l_desc.max_code+1;na=Q.d_desc.max_code+
1;ia+=1;b(Q,ja-257,5);b(Q,na-1,5);b(Q,ia-4,4);for(va=0;va<ia;va++)b(Q,Q.bl_tree[2*N[va]+1],3);e(Q,Q.dyn_ltree,ja-1);e(Q,Q.dyn_dtree,na-1);c(Q,Q.dyn_ltree,Q.dyn_dtree)}l(Q);za&&q(Q)};D._tr_tally=function(Q,ja,na){Q.pending_buf[Q.d_buf+2*Q.last_lit]=ja>>>8&255;Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=ja&255;Q.pending_buf[Q.l_buf+Q.last_lit]=na&255;Q.last_lit++;0===ja?Q.dyn_ltree[2*na]++:(Q.matches++,ja--,Q.dyn_ltree[2*(O[na]+256+1)]++,Q.dyn_dtree[2*(256>ja?H[ja]:H[256+(ja>>>7)])]++);return Q.last_lit===
Q.lit_bufsize-1};D._tr_align=function(Q){b(Q,2,3);d(Q,256,y);16===Q.bi_valid?(E(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf&255,Q.bi_buf>>=8,Q.bi_valid-=8)}},{"../utils/common":300}],312:[function(g,L,D){L.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],313:[function(g,L,D){(function(z,h){"object"===
typeof D&&"undefined"!==typeof L?L.exports=h():z.PointerEventsPolyfill=h()})(this,function(){function z(T,Z){Z=Z||Object.create(null);var sa=document.createEvent("Event");sa.initEvent(T,Z.bubbles||!1,Z.cancelable||!1);T=2;for(var Fa;T<l.length;T++)Fa=l[T],sa[Fa]=Z[Fa]||q[T];sa.buttons=Z.buttons||0;T=Z.pressure&&sa.buttons?Z.pressure:sa.buttons?.5:0;sa.x=sa.clientX;sa.y=sa.clientY;sa.pointerId=Z.pointerId||0;sa.width=Z.width||0;sa.height=Z.height||0;sa.pressure=T;sa.tiltX=Z.tiltX||0;sa.tiltY=Z.tiltY||
0;sa.twist=Z.twist||0;sa.tangentialPressure=Z.tangentialPressure||0;sa.pointerType=Z.pointerType||"";sa.hwTimestamp=Z.hwTimestamp||0;sa.isPrimary=Z.isPrimary||!1;return sa}function h(){this.array=[];this.size=0}function v(T,Z,sa,Fa){this.addCallback=T.bind(Fa);this.removeCallback=Z.bind(Fa);this.changedCallback=sa.bind(Fa);I&&(this.observer=new I(this.mutationWatcher.bind(this)))}function E(T){return"body /shadow-deep/ "+b(T)}function b(T){return'[touch-action="'+T+'"]'}function d(T){return"{ -ms-touch-action: "+
T+"; touch-action: "+T+"; }"}function w(T){if(!e.pointermap.has(T))throw T=Error("InvalidPointerId"),T.name="InvalidPointerId",T;}function a(T){for(var Z=T.parentNode;Z&&Z!==T.ownerDocument;)Z=Z.parentNode;if(!Z)throw T=Error("InvalidStateError"),T.name="InvalidStateError",T;}var l="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget pageX pageY".split(" "),q=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],r=window.Map&&window.Map.prototype.forEach?
Map:h;h.prototype={set:function(T,Z){if(void 0===Z)return this.delete(T);this.has(T)||this.size++;this.array[T]=Z},has:function(T){return void 0!==this.array[T]},delete:function(T){this.has(T)&&(delete this.array[T],this.size--)},get:function(T){return this.array[T]},clear:function(){this.size=this.array.length=0},forEach:function(T,Z){return this.array.forEach(function(sa,Fa){T.call(Z,sa,Fa,this)},this)}};var k="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget buttons pointerId width height pressure tiltX tiltY pointerType hwTimestamp isPrimary type target currentTarget which pageX pageY timeStamp".split(" "),
c=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],f={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},p="undefined"!==typeof SVGElementInstance,e={pointermap:new r,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(T,Z){var sa=Z.events;sa&&(sa.forEach(function(Fa){Z[Fa]&&(this.eventMap[Fa]=Z[Fa].bind(Z))},this),this.eventSources[T]=Z,this.eventSourceList.push(Z))},
register:function(T){for(var Z=this.eventSourceList.length,sa=0,Fa;sa<Z&&(Fa=this.eventSourceList[sa]);sa++)Fa.register.call(Fa,T)},unregister:function(T){for(var Z=this.eventSourceList.length,sa=0,Fa;sa<Z&&(Fa=this.eventSourceList[sa]);sa++)Fa.unregister.call(Fa,T)},contains:function(T,Z){try{return T.contains(Z)}catch(sa){return!1}},down:function(T){T.bubbles=!0;this.fireEvent("pointerdown",T)},move:function(T){T.bubbles=!0;this.fireEvent("pointermove",T)},up:function(T){T.bubbles=!0;this.fireEvent("pointerup",
T)},enter:function(T){T.bubbles=!1;this.fireEvent("pointerenter",T)},leave:function(T){T.bubbles=!1;this.fireEvent("pointerleave",T)},over:function(T){T.bubbles=!0;this.fireEvent("pointerover",T)},out:function(T){T.bubbles=!0;this.fireEvent("pointerout",T)},cancel:function(T){T.bubbles=!0;this.fireEvent("pointercancel",T)},leaveOut:function(T){this.out(T);this.propagate(T,this.leave,!1)},enterOver:function(T){this.over(T);this.propagate(T,this.enter,!0)},eventHandler:function(T){if(!T._handledByPE){var Z=
T.type;(Z=this.eventMap&&this.eventMap[Z])&&Z(T);T._handledByPE=!0}},listen:function(T,Z){Z.forEach(function(sa){this.addEvent(T,sa)},this)},unlisten:function(T,Z){Z.forEach(function(sa){this.removeEvent(T,sa)},this)},addEvent:function(T,Z){T.addEventListener(Z,this.boundHandler)},removeEvent:function(T,Z){T.removeEventListener(Z,this.boundHandler)},makeEvent:function(T,Z){this.captureInfo[Z.pointerId]&&(Z.relatedTarget=null);T=new z(T,Z);Z.preventDefault&&(T.preventDefault=Z.preventDefault);T._target=
T._target||Z.target;return T},fireEvent:function(T,Z){T=this.makeEvent(T,Z);return this.dispatchEvent(T)},cloneEvent:function(T){for(var Z=Object.create(null),sa,Fa=0;Fa<k.length;Fa++)sa=k[Fa],Z[sa]=T[sa]||c[Fa],p&&("target"===sa||"relatedTarget"===sa)&&Z[sa]instanceof SVGElementInstance&&(Z[sa]=Z[sa].correspondingUseElement);T.preventDefault&&(Z.preventDefault=function(){T.preventDefault()});return Z},getTarget:function(T){var Z=this.captureInfo[T.pointerId];if(!Z)return T._target;if(T._target===
Z||!(T.type in f))return Z},propagate:function(T,Z,sa){for(var Fa=T.target,Ra=[];Fa!==document&&!Fa.contains(T.relatedTarget);)if(Ra.push(Fa),Fa=Fa.parentNode,!Fa)return;sa&&Ra.reverse();Ra.forEach(function(wb){T.target=wb;Z.call(this,T)},this)},setCapture:function(T,Z,sa){this.captureInfo[T]&&this.releaseCapture(T,sa);this.captureInfo[T]=Z;this.implicitRelease=this.releaseCapture.bind(this,T,sa);document.addEventListener("pointerup",this.implicitRelease);document.addEventListener("pointercancel",
this.implicitRelease);var Fa=new z("gotpointercapture");Fa.pointerId=T;Fa._target=Z;sa||this.asyncDispatchEvent(Fa)},releaseCapture:function(T,Z){var sa=this.captureInfo[T];if(sa){this.captureInfo[T]=void 0;document.removeEventListener("pointerup",this.implicitRelease);document.removeEventListener("pointercancel",this.implicitRelease);var Fa=new z("lostpointercapture");Fa.pointerId=T;Fa._target=sa;Z||this.asyncDispatchEvent(Fa)}},dispatchEvent:function(T){var Z=this.getTarget(T);if(Z)return Z.dispatchEvent(T)},
asyncDispatchEvent:function(T){requestAnimationFrame(this.dispatchEvent.bind(this,T))}};e.boundHandler=e.eventHandler.bind(e);var n={shadow:function(T){if(T)return T.shadowRoot||T.webkitShadowRoot},canTarget:function(T){return T&&!!T.elementFromPoint},targetingShadow:function(T){T=this.shadow(T);if(this.canTarget(T))return T},olderShadow:function(T){var Z=T.olderShadowRoot;!Z&&(T=T.querySelector("shadow"))&&(Z=T.olderShadowRoot);return Z},allShadows:function(T){var Z=[];for(T=this.shadow(T);T;)Z.push(T),
T=this.olderShadow(T);return Z},searchRoot:function(T,Z,sa){if(T){var Fa=T.elementFromPoint(Z,sa),Ra;for(Ra=this.targetingShadow(Fa);Ra;){if(T=Ra.elementFromPoint(Z,sa))return Fa=this.targetingShadow(T),this.searchRoot(Fa,Z,sa)||T;Ra=this.olderShadow(Ra)}return Fa}},owner:function(T){for(;T.parentNode;)T=T.parentNode;T.nodeType!==Node.DOCUMENT_NODE&&T.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(T=document);return T},findTarget:function(T){var Z=T.clientX,sa=T.clientY;T=this.owner(T.target);T.elementFromPoint(Z,
sa)||(T=document);return this.searchRoot(T,Z,sa)}},u=Array.prototype.forEach.call.bind(Array.prototype.forEach),A=Array.prototype.map.call.bind(Array.prototype.map),C=Array.prototype.slice.call.bind(Array.prototype.slice),B=Array.prototype.filter.call.bind(Array.prototype.filter),I=window.MutationObserver||window.WebKitMutationObserver,N={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};v.prototype={watchSubtree:function(T){this.observer&&n.canTarget(T)&&
this.observer.observe(T,N)},enableOnSubtree:function(T){this.watchSubtree(T);T===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(T)},installNewSubtree:function(T){u(this.findElements(T),this.addElement,this)},findElements:function(T){return T.querySelectorAll?T.querySelectorAll("[touch-action]"):[]},removeElement:function(T){this.removeCallback(T)},addElement:function(T){this.addCallback(T)},elementChanged:function(T,Z){this.changedCallback(T,Z)},concatLists:function(T,
Z){return T.concat(C(Z))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(T){return T.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(T){var Z=A(T,this.findElements,this);Z.push(B(T,this.isElement));return Z.reduce(this.concatLists,[])},mutationWatcher:function(T){T.forEach(this.mutationHandler,this)},mutationHandler:function(T){"childList"===T.type?(this.flattenMutationTree(T.addedNodes).forEach(this.addElement,
this),this.flattenMutationTree(T.removedNodes).forEach(this.removeElement,this)):"attributes"===T.type&&this.elementChanged(T.target,T.oldValue)}};var y=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],G="",H=window.PointerEvent||window.MSPointerEvent,O=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,J=e.pointermap,R=[1,4,2,8,16],ea=!1;try{ea=1===(new MouseEvent("test",{buttons:1})).buttons}catch(T){}var Y={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown",
"mousemove","mouseup","mouseover","mouseout"],register:function(T){e.listen(T,this.events)},unregister:function(T){e.unlisten(T,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(T){var Z=this.lastTouches,sa=T.clientX;T=T.clientY;for(var Fa=0,Ra=Z.length,wb;Fa<Ra&&(wb=Z[Fa]);Fa++){var Ib=Math.abs(T-wb.y);if(25>=Math.abs(sa-wb.x)&&25>=Ib)return!0}},prepareEvent:function(T){var Z=e.cloneEvent(T),sa=Z.preventDefault;Z.preventDefault=function(){T.preventDefault();sa()};Z.pointerId=this.POINTER_ID;
Z.isPrimary=!0;Z.pointerType=this.POINTER_TYPE;return Z},prepareButtonsForMove:function(T,Z){var sa=J.get(this.POINTER_ID);T.buttons=0!==Z.which&&sa?sa.buttons:0;Z.buttons=T.buttons},mousedown:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=J.get(this.POINTER_ID),sa=this.prepareEvent(T);ea||(sa.buttons=R[sa.button],Z&&(sa.buttons|=Z.buttons),T.buttons=sa.buttons);J.set(this.POINTER_ID,T);Z&&0!==Z.buttons?e.move(sa):e.down(sa)}},mousemove:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=
this.prepareEvent(T);ea||this.prepareButtonsForMove(Z,T);Z.button=-1;J.set(this.POINTER_ID,T);e.move(Z)}},mouseup:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=J.get(this.POINTER_ID),sa=this.prepareEvent(T);if(!ea){var Fa=R[sa.button];sa.buttons=Z?Z.buttons&~Fa:0;T.buttons=sa.buttons}J.set(this.POINTER_ID,T);sa.buttons&=~R[sa.button];0===sa.buttons?e.up(sa):e.move(sa)}},mouseover:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=this.prepareEvent(T);ea||this.prepareButtonsForMove(Z,
T);Z.button=-1;J.set(this.POINTER_ID,T);e.enterOver(Z)}},mouseout:function(T){if(!this.isEventSimulatedFromTouch(T)){var Z=this.prepareEvent(T);ea||this.prepareButtonsForMove(Z,T);Z.button=-1;e.leaveOut(Z)}},cancel:function(T){T=this.prepareEvent(T);e.cancel(T);this.deactivateMouse()},deactivateMouse:function(){J.delete(this.POINTER_ID)}},pa=e.captureInfo,ka=n.findTarget.bind(n),Q=n.allShadows.bind(n),ja=e.pointermap,na={events:["touchstart","touchmove","touchend","touchcancel"],register:function(T){za.enableOnSubtree(T)},
unregister:function(){},elementAdded:function(T){var Z=T.getAttribute("touch-action"),sa=this.touchActionToScrollType(Z);sa&&(T._scrollType=sa,e.listen(T,this.events),Q(T).forEach(function(Fa){Fa._scrollType=sa;e.listen(Fa,this.events)},this))},elementRemoved:function(T){T._scrollType=void 0;e.unlisten(T,this.events);Q(T).forEach(function(Z){Z._scrollType=void 0;e.unlisten(Z,this.events)},this)},elementChanged:function(T,Z){var sa=T.getAttribute("touch-action"),Fa=this.touchActionToScrollType(sa);
Z=this.touchActionToScrollType(Z);Fa&&Z?(T._scrollType=Fa,Q(T).forEach(function(Ra){Ra._scrollType=Fa},this)):Z?this.elementRemoved(T):Fa&&this.elementAdded(T)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(T){var Z=this.scrollTypes;if("none"===T)return"none";if(T===Z.XSCROLLER)return"X";if(T===Z.YSCROLLER)return"Y";if(Z.SCROLLER.exec(T))return"XY"},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(T){return this.firstTouch===
T.identifier},setPrimaryTouch:function(T){if(0===ja.size||1===ja.size&&ja.has(1))this.firstTouch=T.identifier,this.firstXY={X:T.clientX,Y:T.clientY},this.scrolling=!1,this.cancelResetClickCount()},removePrimaryPointer:function(T){T.isPrimary&&(this.firstXY=this.firstTouch=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var T=function(){this.clickCount=0;this.resetId=null}.bind(this);this.resetId=setTimeout(T,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},
typeToButtons:function(T){var Z=0;if("touchstart"===T||"touchmove"===T)Z=1;return Z},touchToPointer:function(T){var Z=this.currentTouchEvent,sa=e.cloneEvent(T),Fa=sa.pointerId=T.identifier+2;sa.target=pa[Fa]||ka(sa);sa.bubbles=!0;sa.cancelable=!0;sa.detail=this.clickCount;sa.button=0;sa.buttons=this.typeToButtons(Z.type);sa.width=2*(T.radiusX||T.webkitRadiusX||0);sa.height=2*(T.radiusY||T.webkitRadiusY||0);sa.pressure=T.force||T.webkitForce||.5;sa.isPrimary=this.isPrimaryTouch(T);sa.pointerType=this.POINTER_TYPE;
sa.altKey=Z.altKey;sa.ctrlKey=Z.ctrlKey;sa.metaKey=Z.metaKey;sa.shiftKey=Z.shiftKey;var Ra=this;sa.preventDefault=function(){Ra.scrolling=!1;Ra.firstXY=null;Z.preventDefault()};return sa},processTouches:function(T,Z){var sa=T.changedTouches;this.currentTouchEvent=T;T=0;for(var Fa;T<sa.length;T++)Fa=sa[T],Z.call(this,this.touchToPointer(Fa))},shouldScroll:function(T){if(this.firstXY){var Z=T.currentTarget._scrollType;if("none"===Z)Z=!1;else if("XY"===Z)Z=!0;else{T=T.changedTouches[0];var sa="Y"===
Z?"X":"Y";Z=Math.abs(T["client"+Z]-this.firstXY[Z])>=Math.abs(T["client"+sa]-this.firstXY[sa])}this.firstXY=null;return Z}},findTouch:function(T,Z){for(var sa=0,Fa=T.length,Ra;sa<Fa&&(Ra=T[sa]);sa++)if(Ra.identifier===Z)return!0},vacuumTouches:function(T){var Z=T.touches;if(ja.size>=Z.length){var sa=[];ja.forEach(function(Fa,Ra){1===Ra||this.findTouch(Z,Ra-2)||sa.push(Fa.out)},this);sa.forEach(this.cancelOut,this)}},touchstart:function(T){this.vacuumTouches(T);this.setPrimaryTouch(T.changedTouches[0]);
this.dedupSynthMouse(T);this.scrolling||(this.clickCount++,this.processTouches(T,this.overDown))},overDown:function(T){ja.set(T.pointerId,{target:T.target,out:T,outTarget:T.target});e.enterOver(T);e.down(T)},touchmove:function(T){this.scrolling||(this.shouldScroll(T)?(this.scrolling=!0,this.touchcancel(T)):(T.preventDefault(),this.processTouches(T,this.moveOverOut)))},moveOverOut:function(T){var Z=ja.get(T.pointerId);if(Z){var sa=Z.out,Fa=Z.outTarget;e.move(T);sa&&Fa!==T.target&&(sa.relatedTarget=
T.target,T.relatedTarget=Fa,sa.target=Fa,T.target?(e.leaveOut(sa),e.enterOver(T)):(T.target=Fa,T.relatedTarget=null,this.cancelOut(T)));Z.out=T;Z.outTarget=T.target}},touchend:function(T){this.dedupSynthMouse(T);this.processTouches(T,this.upOut)},upOut:function(T){this.scrolling||(e.up(T),e.leaveOut(T));this.cleanUpPointer(T)},touchcancel:function(T){this.processTouches(T,this.cancelOut)},cancelOut:function(T){e.cancel(T);e.leaveOut(T);this.cleanUpPointer(T)},cleanUpPointer:function(T){ja.delete(T.pointerId);
this.removePrimaryPointer(T)},dedupSynthMouse:function(T){var Z=Y.lastTouches;T=T.changedTouches[0];this.isPrimaryTouch(T)&&(T={x:T.clientX,y:T.clientY},Z.push(T),Z=function(sa,Fa){Fa=sa.indexOf(Fa);-1<Fa&&sa.splice(Fa,1)}.bind(null,Z,T),setTimeout(Z,2500))}};var za=new v(na.elementAdded,na.elementRemoved,na.elementChanged,na);var ia=e.pointermap,va=window.MSPointerEvent&&"number"===typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,ta={events:"MSPointerDown MSPointerMove MSPointerUp MSPointerOut MSPointerOver MSPointerCancel MSGotPointerCapture MSLostPointerCapture".split(" "),
register:function(T){e.listen(T,this.events)},unregister:function(T){e.unlisten(T,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(T){var Z=T;va&&(Z=e.cloneEvent(T),Z.pointerType=this.POINTER_TYPES[T.pointerType]);return Z},cleanup:function(T){ia.delete(T)},MSPointerDown:function(T){ia.set(T.pointerId,T);T=this.prepareEvent(T);e.down(T)},MSPointerMove:function(T){T=this.prepareEvent(T);e.move(T)},MSPointerUp:function(T){var Z=this.prepareEvent(T);e.up(Z);
this.cleanup(T.pointerId)},MSPointerOut:function(T){T=this.prepareEvent(T);e.leaveOut(T)},MSPointerOver:function(T){T=this.prepareEvent(T);e.enterOver(T)},MSPointerCancel:function(T){var Z=this.prepareEvent(T);e.cancel(Z);this.cleanup(T.pointerId)},MSLostPointerCapture:function(T){T=e.makeEvent("lostpointercapture",T);e.dispatchEvent(T)},MSGotPointerCapture:function(T){T=e.makeEvent("gotpointercapture",T);e.dispatchEvent(T)}};if(window.navigator.msPointerEnabled){var ua=function(T){w(T);a(this);0!==
e.pointermap.get(T).buttons&&(e.setCapture(T,this,!0),this.msSetPointerCapture(T))};var Ya=function(T){w(T);e.releaseCapture(T,!0);this.msReleasePointerCapture(T)}}else ua=function(T){w(T);a(this);0!==e.pointermap.get(T).buttons&&e.setCapture(T,this)},Ya=function(T){w(T);e.releaseCapture(T)};var Xa=function(T){return!!e.captureInfo[T]};(function(){if(H){y.forEach(function(Z){String(Z)===Z?(G+=b(Z)+d(Z)+"\n",O&&(G+=E(Z)+d(Z)+"\n")):(G+=Z.selectors.map(b)+d(Z.rule)+"\n",O&&(G+=Z.selectors.map(E)+d(Z.rule)+
"\n"))});var T=document.createElement("style");T.textContent=G;document.head.appendChild(T)}})();window.PointerEvent||(window.PointerEvent=z,window.navigator.msPointerEnabled?(Object.defineProperty(window.navigator,"maxTouchPoints",{value:window.navigator.msMaxTouchPoints,enumerable:!0}),e.registerSource("ms",ta)):(Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),e.registerSource("mouse",Y),void 0!==window.ontouchstart&&e.registerSource("touch",na)),e.register(document));
window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:ua},releasePointerCapture:{value:Ya},hasPointerCapture:{value:Xa}});return{dispatcher:e,Installer:v,PointerEvent:z,PointerMap:r,targetFinding:n}})},{}],314:[function(g,L,D){(function(z){function h(){}function v(a,l){for(var q=a.length;q--;)if(a[q].listener===l)return q;return-1}function E(a){return function(){return this[a].apply(this,arguments)}}function b(a){return"function"===
typeof a||a instanceof RegExp?!0:a&&"object"===typeof a?b(a.listener):!1}var d=h.prototype,w=z.EventEmitter;d.getListeners=function(a){var l=this._getEvents(),q;if(a instanceof RegExp){var r={};for(q in l)l.hasOwnProperty(q)&&a.test(q)&&(r[q]=l[q])}else r=l[a]||(l[a]=[]);return r};d.flattenListeners=function(a){var l=[],q;for(q=0;q<a.length;q+=1)l.push(a[q].listener);return l};d.getListenersAsObject=function(a){var l=this.getListeners(a);if(l instanceof Array){var q={};q[a]=l}return q||l};d.addListener=
function(a,l){if(!b(l))throw new TypeError("listener must be a function");a=this.getListenersAsObject(a);var q="object"===typeof l,r;for(r in a)a.hasOwnProperty(r)&&-1===v(a[r],l)&&a[r].push(q?l:{listener:l,once:!1});return this};d.on=E("addListener");d.addOnceListener=function(a,l){return this.addListener(a,{listener:l,once:!0})};d.once=E("addOnceListener");d.defineEvent=function(a){this.getListeners(a);return this};d.defineEvents=function(a){for(var l=0;l<a.length;l+=1)this.defineEvent(a[l]);return this};
d.removeListener=function(a,l){a=this.getListenersAsObject(a);var q;for(q in a)if(a.hasOwnProperty(q)){var r=v(a[q],l);-1!==r&&a[q].splice(r,1)}return this};d.off=E("removeListener");d.addListeners=function(a,l){return this.manipulateListeners(!1,a,l)};d.removeListeners=function(a,l){return this.manipulateListeners(!0,a,l)};d.manipulateListeners=function(a,l,q){var r,k,c=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!==typeof l||l instanceof RegExp)for(r=
q.length;r--;)c.call(this,l,q[r]);else for(r in l)l.hasOwnProperty(r)&&(k=l[r])&&("function"===typeof k?c.call(this,r,k):a.call(this,r,k));return this};d.removeEvent=function(a){var l=typeof a,q=this._getEvents(),r;if("string"===l)delete q[a];else if(a instanceof RegExp)for(r in q)q.hasOwnProperty(r)&&a.test(r)&&delete q[r];else delete this._events;return this};d.removeAllListeners=E("removeEvent");d.emitEvent=function(a,l){var q=this.getListenersAsObject(a),r,k;for(k in q)if(q.hasOwnProperty(k)){var c=
q[k].slice(0);for(r=0;r<c.length;r++){var f=c[r];!0===f.once&&this.removeListener(a,f.listener);var p=f.listener.apply(this,l||[]);p===this._getOnceReturnValue()&&this.removeListener(a,f.listener)}}return this};d.trigger=E("emitEvent");d.emit=function(a){var l=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,l)};d.setOnceReturnValue=function(a){this._onceReturnValue=a;return this};d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:
!0};d._getEvents=function(){return this._events||(this._events={})};h.noConflict=function(){z.EventEmitter=w;return h};"object"===typeof L&&L.exports?L.exports=h:z.EventEmitter=h})("undefined"!==typeof window?window:this||{})},{}]},{},[1])(1)});
