!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire94c2;t.register("2m2jt",(function(e,r){"use strict";var n=t("eC9e0").Buffer,i=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=e.exports&&e.exports.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.writePsdBuffer=e.exports.writePsdUint8Array=e.exports.writePsd=e.exports.readPsd=e.exports.byteArrayToBase64=e.exports.initializeCanvas=void 0;var a=t("kCSTH"),s=t("5OPaf");o(t("TW1B9"),e.exports),o(t("3vNLh"),e.exports);var l=t("jE67M");Object.defineProperty(e.exports,"initializeCanvas",{enumerable:!0,get:function(){return l.initializeCanvas}}),o(t("cKsyM"),e.exports);var d=t("jWkTT");function u(e,t){var r=(0,a.createWriter)();return(0,a.writePsd)(r,e,t),(0,a.getWriterBufferNoCopy)(r)}e.exports.byteArrayToBase64=d.fromByteArray,e.exports.readPsd=function(e,t){var r="buffer"in e?(0,s.createReader)(e.buffer,e.byteOffset,e.byteLength):(0,s.createReader)(e);return(0,s.readPsd)(r,t)},e.exports.writePsd=function(e,t){var r=(0,a.createWriter)();return(0,a.writePsd)(r,e,t),(0,a.getWriterBuffer)(r)},e.exports.writePsdUint8Array=u,e.exports.writePsdBuffer=function(e,t){if(void 0===n)throw new Error("Buffer not supported on this platform");return n.from(u(e,t))}})),t.register("eC9e0",(function(r,n){e(r.exports,"Buffer",(function(){return i}),(function(e){return i=e})),e(r.exports,"INSPECT_MAX_BYTES",(function(){return o}),(function(e){return o=e}));var i,o,a=t("h9IAp"),s=t("gFgFC"),l=t("kiQ5H"),d=t("8Ybdx"),u=t("dfzUC"),c=t("iugzt"),f=t("jWkTT"),h=t("4Ooth"),p="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;i=w,o=50;var g=2147483647;function v(e){if(e>g)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,w.prototype),t}function w(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return b(e)}return y(e,t,r)}function y(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!w.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|_(e,t),n=v(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ie(e,Uint8Array)){var t=new Uint8Array(e);return S(t.buffer,t.byteOffset,t.byteLength)}return k(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===e?"undefined":(0,u.default)(e)));if(ie(e,ArrayBuffer)||e&&ie(e.buffer,ArrayBuffer))return S(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(ie(e,SharedArrayBuffer)||e&&ie(e.buffer,SharedArrayBuffer)))return S(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return w.from(n,t,r);var i=function(e){if(w.isBuffer(e)){var t=0|x(e.length),r=v(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||oe(e.length)?v(0):k(e);if("Buffer"===e.type&&Array.isArray(e.data))return k(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return w.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===e?"undefined":(0,u.default)(e)))}function m(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function b(e){return m(e),v(e<0?0:0|x(e))}function k(e){for(var t=e.length<0?0:0|x(e.length),r=v(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function S(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,w.prototype),n}function x(e){if(e>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return 0|e}function _(e,t){if(w.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ie(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===e?"undefined":(0,u.default)(e)));var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return te(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return re(e).length;default:if(i)return n?-1:te(e).length;t=(""+t).toLowerCase(),i=!0}}function U(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return z(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return L(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return F(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function I(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function A(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),oe(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=w.from(t,n)),w.isBuffer(t))return 0===t.length?-1:E(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):E(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,r,n,i){var o,a=function(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)},s=1,l=e.length,d=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,l/=2,d/=2,r/=2}if(i){var u=-1;for(o=r;o<l;o++)if(a(e,o)===a(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===d)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(r+d>l&&(r=l-d),o=r;o>=0;o--){for(var c=!0,f=0;f<d;f++)if(a(e,o+f)!==a(t,f)){c=!1;break}if(c)return o}return-1}function C(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o,a=t.length;for(n>a/2&&(n=a/2),o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(oe(s))return o;e[r+o]=s}return o}function B(e,t,r,n){return ne(te(t,e.length-r),e,r,n)}function P(e,t,r,n){return ne(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function D(e,t,r,n){return ne(re(t),e,r,n)}function M(e,t,r,n){return ne(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function F(e,t,r){return 0===t&&r===e.length?f.fromByteArray(e):f.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var l=void 0,d=void 0,u=void 0,c=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(l=e[i+1]))&&(c=(31&o)<<6|63&l)>127&&(a=c);break;case 3:l=e[i+1],d=e[i+2],128==(192&l)&&128==(192&d)&&(c=(15&o)<<12|(63&l)<<6|63&d)>2047&&(c<55296||c>57343)&&(a=c);break;case 4:l=e[i+1],d=e[i+2],u=e[i+3],128==(192&l)&&128==(192&d)&&128==(192&u)&&(c=(15&o)<<18|(63&l)<<12|(63&d)<<6|63&u)>65535&&c<1114112&&(a=c)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=R));return r}(n)}w.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),w.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}}),w.poolSize=8192,w.from=function(e,t,r){return y(e,t,r)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array),w.alloc=function(e,t,r){return function(e,t,r){return m(e),e<=0?v(e):void 0!==t?"string"==typeof r?v(e).fill(t,r):v(e).fill(t):v(e)}(e,t,r)},w.allocUnsafe=function(e){return b(e)},w.allocUnsafeSlow=function(e){return b(e)},w.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==w.prototype},w.compare=function(e,t){if(ie(e,Uint8Array)&&(e=w.from(e,e.offset,e.byteLength)),ie(t,Uint8Array)&&(t=w.from(t,t.offset,t.byteLength)),!w.isBuffer(e)||!w.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},w.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return w.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=w.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(ie(o,Uint8Array))i+o.length>n.length?(w.isBuffer(o)||(o=w.from(o)),o.copy(n,i)):Uint8Array.prototype.set.call(n,o,i);else{if(!w.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},w.byteLength=_,w.prototype._isBuffer=!0,w.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)I(this,t,t+1);return this},w.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)I(this,t,t+3),I(this,t+1,t+2);return this},w.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)I(this,t,t+7),I(this,t+1,t+6),I(this,t+2,t+5),I(this,t+3,t+4);return this},w.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):U.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(e){if(!w.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===w.compare(this,e)},w.prototype.inspect=function(){var e="",t=o;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},p&&(w.prototype[p]=w.prototype.inspect),w.prototype.compare=function(e,t,r,n,i){if(ie(e,Uint8Array)&&(e=w.from(e,e.offset,e.byteLength)),!w.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===e?"undefined":(0,u.default)(e)));if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(n,i),d=e.slice(t,r),c=0;c<s;++c)if(l[c]!==d[c]){o=l[c],a=d[c];break}return o<a?-1:a<o?1:0},w.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},w.prototype.indexOf=function(e,t,r){return A(this,e,t,r,!0)},w.prototype.lastIndexOf=function(e,t,r){return A(this,e,t,r,!1)},w.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return C(this,e,t,r);case"utf8":case"utf-8":return B(this,e,t,r);case"ascii":case"latin1":case"binary":return P(this,e,t,r);case"base64":return D(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function z(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=ae[e[o]];return i}function N(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function j(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function V(e,t,r,n,i,o){if(!w.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function G(e,t,r,n,i){J(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function H(e,t,r,n,i){J(t,n,i,e,r,7);var o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function Z(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function W(e,t,r,n,i){return t=+t,r>>>=0,i||Z(e,0,r,4),h.write(e,t,r,n,23,4),r+4}function K(e,t,r,n,i){return t=+t,r>>>=0,i||Z(e,0,r,8),h.write(e,t,r,n,52,8),r+8}w.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,w.prototype),n},w.prototype.readUintLE=w.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},w.prototype.readUintBE=w.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},w.prototype.readUint8=w.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},w.prototype.readBigUInt64LE=se((function(e){Q(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);var n=t+256*this[++e]+65536*this[++e]+this[++e]*Math.pow(2,24),i=this[++e]+256*this[++e]+65536*this[++e]+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),w.prototype.readBigUInt64BE=se((function(e){Q(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);var n=t*Math.pow(2,24)+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*Math.pow(2,24)+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),w.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},w.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},w.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},w.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},w.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},w.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},w.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},w.prototype.readBigInt64LE=se((function(e){Q(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);var n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*Math.pow(2,24))})),w.prototype.readBigInt64BE=se((function(e){Q(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);var n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+65536*this[++e]+256*this[++e]+r)})),w.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),h.read(this,e,!0,23,4)},w.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),h.read(this,e,!1,23,4)},w.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),h.read(this,e,!0,52,8)},w.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),h.read(this,e,!1,52,8)},w.prototype.writeUintLE=w.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||V(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||V(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},w.prototype.writeUint8=w.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,1,255,0),this[t]=255&e,t+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},w.prototype.writeBigUInt64LE=se((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return G(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),w.prototype.writeBigUInt64BE=se((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return H(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),w.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);V(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},w.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);V(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},w.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},w.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},w.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},w.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},w.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},w.prototype.writeBigInt64LE=se((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return G(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),w.prototype.writeBigInt64BE=se((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return H(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),w.prototype.writeFloatLE=function(e,t,r){return W(this,e,t,!0,r)},w.prototype.writeFloatBE=function(e,t,r){return W(this,e,t,!1,r)},w.prototype.writeDoubleLE=function(e,t,r){return K(this,e,t,!0,r)},w.prototype.writeDoubleBE=function(e,t,r){return K(this,e,t,!1,r)},w.prototype.copy=function(e,t,r,n){if(!w.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},w.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!w.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=w.isBuffer(e)?e:w.from(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var X={};function Y(e,t,r){X[e]=function(r){(0,d.default)(i,r);var n=(0,c.default)(i);function i(){var r;return(0,s.default)(this,i),r=n.call(this),Object.defineProperty((0,a.default)(r),"message",{value:t.apply((0,a.default)(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(e,"]"),r.stack,delete r.name,r}return(0,l.default)(i,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),i}(r)}function q(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function J(e,t,r,n,i,o){if(e>r||e<t){var a,s="bigint"===(void 0===t?"undefined":(0,u.default)(t))?"n":"";throw a=o>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(o+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(o+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(r).concat(s),new X.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,r){Q(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||$(t,e.length-(r+1))}(n,i,o)}function Q(e,t){if("number"!=typeof e)throw new X.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,r){if(Math.floor(e)!==e)throw Q(e,r),new X.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new X.ERR_BUFFER_OUT_OF_BOUNDS;throw new X.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}Y("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),Y("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(void 0===t?"undefined":(0,u.default)(t))}),TypeError),Y("ERR_OUT_OF_RANGE",(function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=q(String(r)):"bigint"===(void 0===r?"undefined":(0,u.default)(r))&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=q(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var ee=/[^+/0-9A-Za-z-_]/g;function te(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function re(e){return f.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(ee,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ne(e,t,r,n){var i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function ie(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function oe(e){return e!=e}var ae=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}();function se(e){return"undefined"==typeof BigInt?le:e}function le(){throw new Error("BigInt not supported")}})),t.register("h9IAp",(function(t,r){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e(t.exports,"default",(function(){return n}))})),t.register("8Ybdx",(function(r,n){e(r.exports,"default",(function(){return o}));var i=t("73Cya");function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,i.default)(e,t)}})),t.register("73Cya",(function(t,r){function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function i(e,t){return n(e,t)}e(t.exports,"default",(function(){return i}))})),t.register("dfzUC",(function(t,r){function n(e){return e&&e.constructor===Symbol?"symbol":typeof e}e(t.exports,"default",(function(){return n}))})),t.register("iugzt",(function(r,n){e(r.exports,"default",(function(){return s}));var i=t("9ABFb"),o=t("8H8Uu"),a=t("hJfcY");function s(e){var t=(0,i.default)();return function(){var r,n=(0,o.default)(e);if(t){var i=(0,o.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}})),t.register("9ABFb",(function(t,r){function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}e(t.exports,"default",(function(){return n}))})),t.register("8H8Uu",(function(t,r){function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function i(e){return n(e)}e(t.exports,"default",(function(){return i}))})),t.register("hJfcY",(function(r,n){e(r.exports,"default",(function(){return a}));var i=t("h9IAp"),o=t("dfzUC");function a(e,t){return!t||"object"!==(0,o.default)(t)&&"function"!=typeof t?(0,i.default)(e):t}})),t.register("jWkTT",(function(t,r){var n,i;e(t.exports,"toByteArray",(function(){return n}),(function(e){return n=e})),e(t.exports,"fromByteArray",(function(){return i}),(function(e){return i=e})),n=function(e){var t,r,n=c(e),i=n[0],o=n[1],l=new s(function(e,t,r){return 3*(t+r)/4-r}(0,i,o)),d=0,u=o>0?i-4:i;for(r=0;r<u;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;2===o&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,l[d++]=255&t);1===o&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t);return l},i=function(e){for(var t,r=e.length,n=r%3,i=[],a=16383,s=0,l=r-n;s<l;s+=a)i.push(f(e,s,s+a>l?l:s+a));1===n?(t=e[r-1],i.push(o[t>>2]+o[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"="));return i.join("")};for(var o=[],a=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,u=l.length;d<u;++d)o[d]=l[d],a[l.charCodeAt(d)]=d;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e,t,r){for(var n,i,a=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(o[(i=n)>>18&63]+o[i>>12&63]+o[i>>6&63]+o[63&i]);return a.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63})),t.register("4Ooth",(function(t,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var n,i;e(t.exports,"read",(function(){return n}),(function(e){return n=e})),e(t.exports,"write",(function(){return i}),(function(e){return i=e})),n=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,d=l>>1,u=-7,c=r?i-1:0,f=r?-1:1,h=e[t+c];for(c+=f,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+c],c+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+c],c+=f,u-=8);if(0===o)o=1-d;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=d}return(h?-1:1)*a*Math.pow(2,o-n)},i=function(e,t,r,n,i,o){var a,s,l,d=8*o-i-1,u=(1<<d)-1,c=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+c>=1?f/l:f*Math.pow(2,1-c))*l>=2&&(a++,l/=2),a+c>=u?(s=0,a=u):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,d+=i;d>0;e[r+h]=255&a,h+=p,a/=256,d-=8);e[r+h-p]|=128*g}})),t.register("kCSTH",(function(e,r){"use strict";var n=e.exports&&e.exports.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.writeColor=e.exports.writePsd=e.exports.writeSection=e.exports.writeUnicodeStringWithPadding=e.exports.writeUnicodeString=e.exports.writePascalString=e.exports.writeSignature=e.exports.writeZeros=e.exports.writeBytes=e.exports.writeFixedPointPath32=e.exports.writeFixedPoint32=e.exports.writeFloat64=e.exports.writeFloat32=e.exports.writeUint32=e.exports.writeInt32=e.exports.writeUint16=e.exports.writeInt16=e.exports.writeUint8=e.exports.getWriterBufferNoCopy=e.exports.getWriterBuffer=e.exports.createWriter=void 0;var i=t("jE67M"),o=t("cAUqy"),a=t("aqyg9");function s(e,t){var r=S(e,1);e.view.setUint8(r,t)}function l(e,t){var r=S(e,2);e.view.setInt16(r,t,!1)}function d(e,t){var r=S(e,2);e.view.setUint16(r,t,!1)}function u(e,t){var r=S(e,4);e.view.setInt32(r,t,!1)}function c(e,t){var r=S(e,4);e.view.setUint32(r,t,!1)}function f(e,t){var r=S(e,8);e.view.setFloat64(r,t,!1)}function h(e,t){t&&(k(e,e.offset+t.length),new Uint8Array(e.buffer).set(t,e.offset),e.offset+=t.length)}function p(e,t){for(var r=0;r<t;r++)s(e,0)}function g(e,t){if(4!==t.length)throw new Error("Invalid signature: '".concat(t,"'"));for(var r=0;r<4;r++)s(e,t.charCodeAt(r))}function v(e,t,r){var n=t.length;s(e,n);for(var i=0;i<n;i++){var o=t.charCodeAt(i);s(e,o<128?o:"?".charCodeAt(0))}for(;++n%r;)s(e,0)}function w(e){void 0===e&&(e=[]);for(var t=0,r=0,n=e;r<n.length;r++){var i=n[r];if(i.canvas||i.imageData){var o=_(i),a=o.width,s=o.height;t=Math.max(t,2*s+2*a*s)}i.children&&(t=Math.max(t,w(i.children)))}return t}function y(e,t,r,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),i&&c(e,0);var o=e.offset;c(e,0),r();for(var a=e.offset-o-4,l=a;l%t!=0;)s(e,0),l++;n&&(a=l),e.view.setUint32(o,a,!1)}function m(e,t,r,n){for(var a=function(o){var a=o.key;if("Txt2"===a&&n.invalidateTextLayers)return"continue";if("vmsk"===a&&n.psb&&(a="vsms"),o.has(t)){var s=n.psb&&-1!==i.largeAdditionalInfoKeys.indexOf(a);g(e,s?"8B64":"8BIM"),g(e,a),y(e,"Txt2"===a||"luni"===a||"vmsk"===a||"artb"===a||"artd"===a||"vogk"===a||"SoLd"===a||"lnk2"===a||"vscg"===a||"vsms"===a||"GdFl"===a||"lmfx"===a||"lrFX"===a||"cinf"===a||"PlLd"===a||"Anno"===a?4:2,(function(){o.write(e,t,r,n)}),"Txt2"!==a&&"cinf"!==a&&"extn"!==a,s)}},s=0,l=o.infoHandlers;s<l.length;s++){a(l[s])}}function b(e,t){if(t)for(var r=0,o=t;r<o.length;r++){var a=o[r];if(a.children&&a.canvas)throw new Error("Invalid layer, cannot have both 'canvas' and 'children' properties");if(a.children&&a.imageData)throw new Error("Invalid layer, cannot have both 'imageData' and 'children' properties");a.children?(e.push({name:"</Layer group>",sectionDivider:{type:3}}),b(e,a.children),e.push(n({sectionDivider:{type:!1===a.opened?2:1,key:i.fromBlendMode[a.blendMode]||"pass",subType:0}},a))):e.push(n({},a))}}function k(e,t){t>e.buffer.byteLength&&function(e,t){var r=e.buffer.byteLength;do{r*=2}while(t>r);var n=new ArrayBuffer(r),i=new Uint8Array(n),o=new Uint8Array(e.buffer);i.set(o),e.buffer=n,e.view=new DataView(e.buffer)}(e,t)}function S(e,t){var r=e.offset;return k(e,e.offset+=t),r}function x(e){var t=(0,i.createCanvas)(10,10),r=1;e.width>e.height?(t.width=160,t.height=Math.floor(e.height*(t.width/e.width)),r=t.width/e.width):(t.height=160,t.width=Math.floor(e.width*(t.height/e.height)),r=t.height/e.height);var n=t.getContext("2d");if(n.scale(r,r),e.imageData){var o=(0,i.createCanvas)(e.imageData.width,e.imageData.height);o.getContext("2d").putImageData(e.imageData,0,0),n.drawImage(o,0,0)}else e.canvas&&n.drawImage(e.canvas,0,0);return t}function _(e){var t=e.canvas;return e.imageData||t||{width:0,height:0}}function U(e,t,r,n){for(var i=e.data,o=4*(t*e.width+r)+3|0,a=o+4*(n-r)|0,s=o;s<a;s=s+4|0)if(0!==i[s])return!1;return!0}function I(e,t,r,n){for(var i=e.data,o=4*e.width|0,a=r,s=r*o+4*t+3|0;a<n;a++,s=s+o|0)if(0!==i[s])return!1;return!0}e.exports.createWriter=function(e){void 0===e&&(e=4096);var t=new ArrayBuffer(e);return{buffer:t,view:new DataView(t),offset:0}},e.exports.getWriterBuffer=function(e){return e.buffer.slice(0,e.offset)},e.exports.getWriterBufferNoCopy=function(e){return new Uint8Array(e.buffer,0,e.offset)},e.exports.writeUint8=s,e.exports.writeInt16=l,e.exports.writeUint16=d,e.exports.writeInt32=u,e.exports.writeUint32=c,e.exports.writeFloat32=function(e,t){var r=S(e,4);e.view.setFloat32(r,t,!1)},e.exports.writeFloat64=f,e.exports.writeFixedPoint32=function(e,t){u(e,65536*t)},e.exports.writeFixedPointPath32=function(e,t){u(e,16777216*t)},e.exports.writeBytes=h,e.exports.writeZeros=p,e.exports.writeSignature=g,e.exports.writePascalString=v,e.exports.writeUnicodeString=function(e,t){c(e,t.length);for(var r=0;r<t.length;r++)d(e,t.charCodeAt(r))},e.exports.writeUnicodeStringWithPadding=function(e,t){c(e,t.length+1);for(var r=0;r<t.length;r++)d(e,t.charCodeAt(r));d(e,0)},e.exports.writeSection=y,e.exports.writePsd=function(e,t,r){if(void 0===r&&(r={}),!(+t.width>0&&+t.height>0))throw new Error("Invalid document size");if((t.width>3e4||t.height>3e4)&&!r.psb)throw new Error("Document size is too large (max is 30000x30000, use PSB format instead)");var k=t.imageResources||{},S=n(n({},r),{layerIds:[]});S.generateThumbnail&&(k=n(n({},k),{thumbnail:x(t)}));var A=t.imageData;if(!A&&t.canvas&&(A=t.canvas.getContext("2d").getImageData(0,0,t.canvas.width,t.canvas.height)),A&&(t.width!==A.width||t.height!==A.height))throw new Error("Document canvas must have the same size as document");var E=!!A&&(0,i.hasAlpha)(A),C=Math.max(w(t.children),8*t.width*t.height+2*t.height),B=new Uint8Array(C);g(e,"8BPS"),d(e,r.psb?2:1),p(e,6),d(e,E?4:3),c(e,t.height),c(e,t.width),d(e,8),d(e,3),y(e,1,(function(){})),y(e,1,(function(){for(var t=function(t){t.has(k)&&(g(e,"8BIM"),d(e,t.key),v(e,"",2),y(e,2,(function(){return t.write(e,k)})))},r=0,n=a.resourceHandlers;r<n.length;r++){t(n[r])}})),y(e,2,(function(){!function(e,t,r,n,a){y(t,4,(function(){var w,k=[];b(k,r.children),k.length||k.push({}),l(t,n?-k.length:k.length);for(var S=k.map((function(t,r){return function(e,t,r,n){var o=function(e,t,r,n){var o,a=0|t.top,s=0|t.left,l=0|t.right,d=0|t.bottom,u=[{channelId:-1,compression:0,buffer:void 0,length:2},{channelId:0,compression:0,buffer:void 0,length:2},{channelId:1,compression:0,buffer:void 0,length:2},{channelId:2,compression:0,buffer:void 0,length:2}],c=_(t),f=c.width,h=c.height;if(!t.canvas&&!t.imageData||!f||!h)return{layer:t,top:a,left:s,right:l=s,bottom:d=a,channels:u};l=s+f,d=a+h;var p=t.imageData||t.canvas.getContext("2d").getImageData(0,0,f,h);if(n.trimImageData){var g=function(e){var t=0,r=0,n=e.width,i=e.height;for(;t<i&&U(e,t,r,n);)t++;for(;i>t&&U(e,i-1,r,n);)i--;for(;r<n&&I(e,r,t,i);)r++;for(;n>r&&I(e,n-1,t,i);)n--;return{top:t,left:r,right:n,bottom:i}}(p);if(0!==g.left||0!==g.top||g.right!==p.width||g.bottom!==p.height){if(s+=g.left,a+=g.top,l-=p.width-g.right,h=(d-=p.height-g.bottom)-a,!(f=l-s)||!h)return{layer:t,top:a,left:s,right:l,bottom:d,channels:u};p=t.imageData?function(e,t,r,n,o){for(var a=(0,i.createImageData)(n,o),s=e.data,l=a.data,d=0;d<o;d++)for(var u=0;u<n;u++){var c=4*(u+t+(d+r)*n),f=4*(u+d*n);l[f]=s[c],l[f+1]=s[c+1],l[f+2]=s[c+2],l[f+3]=s[c+3]}return a}(p,g.left,g.top,f,h):t.canvas.getContext("2d").getImageData(g.left,g.top,f,h)}}var v=[0,1,2];(!r||n.noBackground||t.mask||(0,i.hasAlpha)(p)||i.RAW_IMAGE_DATA&&(null===(o=t.imageDataRaw)||void 0===o?void 0:o[-1]))&&v.unshift(-1);return u=v.map((function(r){var o,a,s=(0,i.offsetForChannel)(r,!1);return i.RAW_IMAGE_DATA&&t.imageDataRaw?(o=t.imageDataRaw[r],a=1):n.compress?(o=(0,i.writeDataZipWithoutPrediction)(p,[s]),a=2):(o=(0,i.writeDataRLE)(e,p,[s],!!n.psb),a=1),{channelId:r,compression:a,buffer:o,length:2+o.length}})),{layer:t,top:a,left:s,right:l,bottom:d,channels:u}}(e,t,r,n),a=t.mask;if(a){var s=0|a.top,l=0|a.left,d=0|a.right,u=0|a.bottom,c=_(a),f=c.width,h=c.height,p=a.imageData;if(!p&&a.canvas&&f&&h&&(p=a.canvas.getContext("2d").getImageData(0,0,f,h)),f&&h&&p){if(d=l+f,u=s+h,p.width!==f||p.height!==h)throw new Error("Invalid imageData dimentions");var g=void 0,v=void 0;i.RAW_IMAGE_DATA&&t.maskDataRaw?(g=t.maskDataRaw,v=1):n.compress?(g=(0,i.writeDataZipWithoutPrediction)(p,[0]),v=2):(g=(0,i.writeDataRLE)(e,p,[0],!!n.psb),v=1),o.mask={top:s,left:l,right:d,bottom:u},o.channels.push({channelId:-2,compression:v,buffer:g,length:2+g.length})}else o.mask={top:0,left:0,right:0,bottom:0},o.channels.push({channelId:-2,compression:0,buffer:new Uint8Array(0),length:0})}return o}(e,t,0===r,a)})),x=function(e){var n=e.layer,h=e.top,b=e.left,k=e.bottom,S=e.right,x=e.channels;u(t,h),u(t,b),u(t,k),u(t,S),d(t,x.length);for(var _=0,U=x;_<U.length;_++){var I=U[_];l(t,I.channelId),a.psb&&c(t,0),c(t,I.length)}g(t,"8BIM"),g(t,i.fromBlendMode[n.blendMode]||"norm"),s(t,Math.round(255*(0,i.clamp)(null!==(w=n.opacity)&&void 0!==w?w:1,0,1))),s(t,n.clipping?1:0);var A=8;n.transparencyProtected&&(A|=1),n.hidden&&(A|=2),(n.vectorMask||n.sectionDivider&&0!==n.sectionDivider.type)&&(A|=16),n.effects&&(0,o.hasMultiEffects)(n.effects)&&(A|=32),s(t,A),s(t,0),y(t,1,(function(){!function(e,t,r){var n=t.mask;y(e,1,(function(){if(n){var t=r.mask||{};u(e,t.top),u(e,t.left),u(e,t.bottom),u(e,t.right),s(e,n.defaultColor);var i=0;void 0!==n.userMaskDensity&&(i|=1),void 0!==n.userMaskFeather&&(i|=2),void 0!==n.vectorMaskDensity&&(i|=4),void 0!==n.vectorMaskFeather&&(i|=8);var o=0;n.disabled&&(o|=2),n.positionRelativeToLayer&&(o|=1),n.fromVectorData&&(o|=8),i&&(o|=16),s(e,o),i&&(s(e,i),void 0!==n.userMaskDensity&&s(e,Math.round(255*n.userMaskDensity)),void 0!==n.userMaskFeather&&f(e,n.userMaskFeather),void 0!==n.vectorMaskDensity&&s(e,Math.round(255*n.vectorMaskDensity)),void 0!==n.vectorMaskFeather&&f(e,n.vectorMaskFeather)),p(e,2)}}))}(t,n,e),function(e,t){y(e,1,(function(){c(e,65535),c(e,65535);for(var r=t.channels||0,n=0;n<r;n++)c(e,65535),c(e,65535)}))}(t,r),v(t,n.name||"",4),m(t,n,r,a)}))},A=0,E=S;A<E.length;A++){x(E[A])}for(var C=0,B=S;C<B.length;C++)for(var P=0,D=B[C].channels;P<D.length;P++){var M=D[P];d(t,M.compression),M.buffer&&h(t,M.buffer)}}),!0,a.psb)}(B,e,t,E,S),function(e,t){y(e,1,(function(){t&&(d(e,t.overlayColorSpace),d(e,t.colorSpace1),d(e,t.colorSpace2),d(e,t.colorSpace3),d(e,t.colorSpace4),d(e,255*t.opacity),s(e,t.kind),p(e,3))}))}(e,t.globalLayerMaskInfo),m(e,t,t,S)}),void 0,!!S.psb);var P=E?[0,1,2,3]:[0,1,2],D=A||{data:new Uint8Array(4*t.width*t.height),width:t.width,height:t.height};d(e,1),i.RAW_IMAGE_DATA&&t.imageDataRaw?(console.log("writing raw image data"),h(e,t.imageDataRaw)):h(e,(0,i.writeDataRLE)(B,D,P,!!r.psb))},e.exports.writeColor=function(e,t){t?"r"in t?(d(e,0),d(e,Math.round(257*t.r)),d(e,Math.round(257*t.g)),d(e,Math.round(257*t.b)),d(e,0)):"l"in t?(d(e,7),l(e,Math.round(1e4*t.l)),l(e,Math.round(t.a<0?12800*t.a:12700*t.a)),l(e,Math.round(t.b<0?12800*t.b:12700*t.b)),d(e,0)):"h"in t?(d(e,1),d(e,Math.round(65535*t.h)),d(e,Math.round(65535*t.s)),d(e,Math.round(65535*t.b)),d(e,0)):"c"in t?(d(e,2),d(e,Math.round(257*t.c)),d(e,Math.round(257*t.m)),d(e,Math.round(257*t.y)),d(e,Math.round(257*t.k))):(d(e,8),d(e,Math.round(1e4*t.k/255)),p(e,6)):(d(e,0),p(e,8))}})),t.register("jE67M",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.initializeCanvas=e.exports.createImageData=e.exports.createCanvasFromData=e.exports.createCanvas=e.exports.writeDataZipWithoutPrediction=e.exports.writeDataRLE=e.exports.writeDataRaw=e.exports.decodeBitmap=e.exports.resetImageData=e.exports.hasAlpha=e.exports.clamp=e.exports.offsetForChannel=e.exports.Compression=e.exports.ChannelID=e.exports.MaskParams=e.exports.LayerMaskFlags=e.exports.ColorSpace=e.exports.createEnum=e.exports.revMap=e.exports.largeAdditionalInfoKeys=e.exports.layerColors=e.exports.toBlendMode=e.exports.fromBlendMode=e.exports.RAW_IMAGE_DATA=e.exports.MOCK_HANDLERS=void 0;var n,i,o,a,s,l=t("jWkTT"),d=t("1eu3Z");function u(e){var t={};return Object.keys(e).forEach((function(r){return t[e[r]]=r})),t}e.exports.MOCK_HANDLERS=!1,e.exports.RAW_IMAGE_DATA=!1,e.exports.fromBlendMode={},e.exports.toBlendMode={pass:"pass through",norm:"normal",diss:"dissolve",dark:"darken","mul ":"multiply",idiv:"color burn",lbrn:"linear burn",dkCl:"darker color",lite:"lighten",scrn:"screen","div ":"color dodge",lddg:"linear dodge",lgCl:"lighter color",over:"overlay",sLit:"soft light",hLit:"hard light",vLit:"vivid light",lLit:"linear light",pLit:"pin light",hMix:"hard mix",diff:"difference",smud:"exclusion",fsub:"subtract",fdiv:"divide","hue ":"hue","sat ":"saturation",colr:"color","lum ":"luminosity"},Object.keys(e.exports.toBlendMode).forEach((function(t){return e.exports.fromBlendMode[e.exports.toBlendMode[t]]=t})),e.exports.layerColors=["none","red","orange","yellow","green","blue","violet","gray"],e.exports.largeAdditionalInfoKeys=["LMsk","Lr16","Lr32","Layr","Mt16","Mt32","Mtrn","Alph","FMsk","lnk2","FEid","FXid","PxSD","cinf"],e.exports.revMap=u,e.exports.createEnum=function(e,t,r){var n=u(r);return{decode:function(e){var r=e.split(".")[1];if(r&&!n[r])throw new Error("Unrecognized value for enum: '".concat(e,"'"));return n[r]||t},encode:function(n){if(n&&!r[n])throw new Error("Invalid value for enum: '".concat(n,"'"));return"".concat(e,".").concat(r[n]||r[t])}}},(n=e.exports.ColorSpace||(e.exports.ColorSpace={}))[n.RGB=0]="RGB",n[n.HSB=1]="HSB",n[n.CMYK=2]="CMYK",n[n.Lab=7]="Lab",n[n.Grayscale=8]="Grayscale",(i=e.exports.LayerMaskFlags||(e.exports.LayerMaskFlags={}))[i.PositionRelativeToLayer=1]="PositionRelativeToLayer",i[i.LayerMaskDisabled=2]="LayerMaskDisabled",i[i.InvertLayerMaskWhenBlending=4]="InvertLayerMaskWhenBlending",i[i.LayerMaskFromRenderingOtherData=8]="LayerMaskFromRenderingOtherData",i[i.MaskHasParametersAppliedToIt=16]="MaskHasParametersAppliedToIt",(o=e.exports.MaskParams||(e.exports.MaskParams={}))[o.UserMaskDensity=1]="UserMaskDensity",o[o.UserMaskFeather=2]="UserMaskFeather",o[o.VectorMaskDensity=4]="VectorMaskDensity",o[o.VectorMaskFeather=8]="VectorMaskFeather",(a=e.exports.ChannelID||(e.exports.ChannelID={}))[a.Color0=0]="Color0",a[a.Color1=1]="Color1",a[a.Color2=2]="Color2",a[a.Color3=3]="Color3",a[a.Transparency=-1]="Transparency",a[a.UserMask=-2]="UserMask",a[a.RealUserMask=-3]="RealUserMask",(s=e.exports.Compression||(e.exports.Compression={}))[s.RawData=0]="RawData",s[s.RleCompressed=1]="RleCompressed",s[s.ZipWithoutPrediction=2]="ZipWithoutPrediction",s[s.ZipWithPrediction=3]="ZipWithPrediction",e.exports.offsetForChannel=function(e,t){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return t?3:e+1;case-1:return t?4:3;default:return e+1}},e.exports.clamp=function(e,t,r){return e<t?t:e>r?r:e},e.exports.hasAlpha=function(e){for(var t=e.width*e.height*4,r=3;r<t;r+=4)if(255!==e.data[r])return!0;return!1},e.exports.resetImageData=function(e){for(var t=e.data,r=new Uint32Array(t.buffer),n=0|r.length,i=0;i<n;i=i+1|0)r[i]=4278190080},e.exports.decodeBitmap=function(e,t,r,n){for(var i=0,o=0,a=0;i<n;i++)for(var s=0;s<r;)for(var l=e[a++],d=0;d<8&&s<r;d++,s++){var u=128&l?0:255;l<<=1,t[o++]=u,t[o++]=u,t[o++]=u,t[o++]=255}},e.exports.writeDataRaw=function(e,t,r,n){if(r&&n){for(var i=new Uint8Array(r*n),o=0;o<i.length;o++)i[o]=e.data[4*o+t];return i}},e.exports.writeDataRLE=function(e,t,r,n){var i=t.data,o=t.width,a=t.height;if(o&&a){for(var s=4*o|0,l=0,d=r.length*(n?4:2)*a|0,u=0,c=r;u<c.length;u++)for(var f=c[u],h=0,p=0|f;h<a;h++){var g=h*s|0,v=g+s|0,w=v+f-4|0,y=w-4|0,m=d;for(p=g+f|0;p<v;p=p+4|0)if(p<y){var b=i[p],k=i[p=p+4|0],S=i[p=p+4|0];if(b===k&&b===S){for(var x=3;x<128&&p<w&&i[p+4|0]===b;)x=x+1|0,p=p+4|0;e[d++]=1-x,e[d++]=b}else{var _=d,U=!0;x=1;for(e[d++]=0,e[d++]=b;p<w&&x<128;){if(b=k,k=S,S=i[p=p+4|0],b===k&&b===S){p=p-12|0,U=!1;break}x++,e[d++]=b}U&&(x<127?(e[d++]=k,e[d++]=S,x+=2):x<128?(e[d++]=k,x++,p=p-4|0):p=p-8|0),e[_]=x-1}}else p===w?(e[d++]=0,e[d++]=i[p]):(e[d++]=1,e[d++]=i[p],p=p+4|0,e[d++]=i[p]);var I=d-m;n&&(e[l++]=I>>24&255,e[l++]=I>>16&255),e[l++]=I>>8&255,e[l++]=255&I}return e.slice(0,d)}},e.exports.writeDataZipWithoutPrediction=function(e,t){for(var r=e.data,n=e.width*e.height,i=new Uint8Array(n),o=[],a=0,s=0,l=t;s<l.length;s++){for(var u=0,c=h=l[s];u<n;u++,c+=4)i[u]=r[c];var f=(0,d.deflate)(i);o.push(f),a+=f.byteLength}if(o.length>0){f=new Uint8Array(a);for(var h=0,p=0,g=o;p<g.length;p++){var v=g[p];f.set(v,h),h+=v.byteLength}return f}return o[0]};e.exports.createCanvas=function(){throw new Error("Canvas not initialized, use initializeCanvas method to set up createCanvas method")};e.exports.createCanvasFromData=function(){throw new Error("Canvas not initialized, use initializeCanvas method to set up createCanvasFromData method")};var c=void 0;e.exports.createImageData=function(t,r){return c||(c=(0,e.exports.createCanvas)(1,1)),c.getContext("2d").createImageData(t,r)},"undefined"!=typeof document&&(e.exports.createCanvas=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,r},e.exports.createCanvasFromData=function(e){var t=new Image;t.src="data:image/jpeg;base64,"+(0,l.fromByteArray)(e);var r=document.createElement("canvas");return r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0),r}),e.exports.initializeCanvas=function(t,r,n){e.exports.createCanvas=t,e.exports.createCanvasFromData=r||e.exports.createCanvasFromData,e.exports.createImageData=n||e.exports.createImageData}})),t.register("1eu3Z",(function(t,r){e(t.exports,"deflate",(function(){return er})),e(t.exports,"inflate",(function(){return tr}));function n(e){for(var t=e.length;--t>=0;)e[t]=0}var i=256,o=286,a=30,s=15,l=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),d=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=new Array(576);n(f);var h=new Array(60);n(h);var p=new Array(512);n(p);var g=new Array(256);n(g);var v=new Array(29);n(v);var w,y,m,b=new Array(a);function k(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}n(b);var x=function(e){return e<256?p[e]:p[256+(e>>>7)]},_=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},U=function(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},I=function(e,t,r){U(e,r[2*t],r[2*t+1])},A=function(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},E=function(e,t,r){var n,i,o=new Array(16),a=0;for(n=1;n<=s;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var l=e[2*i+1];0!==l&&(e[2*i]=A(o[l]++,l))}},C=function(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},B=function(e){e.bi_valid>8?_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},P=function(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]},D=function(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&P(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!P(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},M=function(e,t,r){var n,o,a,s,u=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],o=e.pending_buf[e.l_buf+u],u++,0===n?I(e,o,t):(a=g[o],I(e,a+i+1,t),0!==(s=l[a])&&(o-=v[a],U(e,o,s)),n--,a=x(n),I(e,a,r),0!==(s=d[a])&&(n-=b[a],U(e,n,s)))}while(u<e.last_lit);I(e,256,t)},F=function(e,t){var r,n,i,o=t.dyn_tree,a=t.stat_desc.static_tree,l=t.stat_desc.has_stree,d=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<d;r++)0!==o[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,l&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)D(e,o,r);i=d;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],D(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,D(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,o,a,l,d=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,v=0;for(o=0;o<=s;o++)e.bl_count[o]=0;for(d[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(o=d[2*d[2*(n=e.heap[r])+1]+1]+1)>g&&(o=g,v++),d[2*n+1]=o,n>u||(e.bl_count[o]++,a=0,n>=p&&(a=h[n-p]),l=d[2*n],e.opt_len+=l*(o+a),f&&(e.static_len+=l*(c[2*n+1]+a)));if(0!==v){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,v-=2}while(v>0);for(o=g;0!==o;o--)for(n=e.bl_count[o];0!==n;)(i=e.heap[--r])>u||(d[2*i+1]!==o&&(e.opt_len+=(o-d[2*i+1])*d[2*i],d[2*i+1]=o),n--)}}(e,t),E(o,u,e.bl_count)},O=function(e,t,r){var n,i,o=-1,a=t[1],s=0,l=7,d=4;for(0===a&&(l=138,d=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++s<l&&i===a||(s<d?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,d=3):i===a?(l=6,d=3):(l=7,d=4))},R=function(e,t,r){var n,i,o=-1,a=t[1],s=0,l=7,d=4;for(0===a&&(l=138,d=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++s<l&&i===a)){if(s<d)do{I(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(I(e,i,e.bl_tree),s--),I(e,16,e.bl_tree),U(e,s-3,2)):s<=10?(I(e,17,e.bl_tree),U(e,s-3,3)):(I(e,18,e.bl_tree),U(e,s-11,7));s=0,o=i,0===a?(l=138,d=3):i===a?(l=6,d=3):(l=7,d=4)}},L=!1,T=function(e,t,r,n){U(e,0+(n?1:0),3),function(e,t,r,n){B(e),n&&(_(e,r),_(e,~r)),e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r}(e,t,r,!0)},z={_tr_init:function(e){L||(!function(){var e,t,r,n,i,c=new Array(16);for(r=0,n=0;n<28;n++)for(v[n]=r,e=0;e<1<<l[n];e++)g[r++]=n;for(g[r-1]=n,i=0,n=0;n<16;n++)for(b[n]=i,e=0;e<1<<d[n];e++)p[i++]=n;for(i>>=7;n<a;n++)for(b[n]=i<<7,e=0;e<1<<d[n]-7;e++)p[256+i++]=n;for(t=0;t<=s;t++)c[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,c[8]++;for(;e<=255;)f[2*e+1]=9,e++,c[9]++;for(;e<=279;)f[2*e+1]=7,e++,c[7]++;for(;e<=287;)f[2*e+1]=8,e++,c[8]++;for(E(f,287,c),e=0;e<a;e++)h[2*e+1]=5,h[2*e]=A(e,5);w=new k(f,l,257,o,s),y=new k(h,d,0,a,s),m=new k(new Array(0),u,0,19,7)}(),L=!0),e.l_desc=new S(e.dyn_ltree,w),e.d_desc=new S(e.dyn_dtree,y),e.bl_desc=new S(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,C(e)},_tr_stored_block:T,_tr_flush_block:function(e,t,r,n){var o,a,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<i;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),F(e,e.l_desc),F(e,e.d_desc),s=function(e){var t;for(O(e,e.dyn_ltree,e.l_desc.max_code),O(e,e.dyn_dtree,e.d_desc.max_code),F(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=r+5,r+4<=o&&-1!==t?T(e,t,r,n):4===e.strategy||a===o?(U(e,2+(n?1:0),3),M(e,f,h)):(U(e,4+(n?1:0),3),function(e,t,r,n){var i;for(U(e,t-257,5),U(e,r-1,5),U(e,n-4,4),i=0;i<n;i++)U(e,e.bl_tree[2*c[i]+1],3);R(e,e.dyn_ltree,t-1),R(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),M(e,e.dyn_ltree,e.dyn_dtree)),C(e),n&&B(e)},_tr_tally:function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(g[r]+i+1)]++,e.dyn_dtree[2*x(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){U(e,2,3),I(e,256,f),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},N=function(e,t,r,n){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{o=o+(i=i+t[n++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0},j=new Uint32Array(function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}()),V=function(e,t,r,n){var i=j,o=n+r;e^=-1;for(var a=n;a<o;a++)e=e>>>8^i[255&(e^t[a])];return-1^e},G={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Z=z._tr_init,W=z._tr_stored_block,K=z._tr_flush_block,X=z._tr_tally,Y=z._tr_align,q=H.Z_NO_FLUSH,J=H.Z_PARTIAL_FLUSH,Q=H.Z_FULL_FLUSH,$=H.Z_FINISH,ee=H.Z_BLOCK,te=H.Z_OK,re=H.Z_STREAM_END,ne=H.Z_STREAM_ERROR,ie=H.Z_DATA_ERROR,oe=H.Z_BUF_ERROR,ae=H.Z_DEFAULT_COMPRESSION,se=H.Z_FILTERED,le=H.Z_HUFFMAN_ONLY,de=H.Z_RLE,ue=H.Z_FIXED,ce=H.Z_DEFAULT_STRATEGY,fe=H.Z_UNKNOWN,he=H.Z_DEFLATED,pe=258,ge=262,ve=103,we=113,ye=666,me=function(e,t){return e.msg=G[t],t},be=function(e){return(e<<1)-(e>4?9:0)},ke=function(e){for(var t=e.length;--t>=0;)e[t]=0},Se=function(e,t,r){return(t<<e.hash_shift^r)&e.hash_mask},xe=function(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},_e=function(e,t){K(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,xe(e.strm)},Ue=function(e,t){e.pending_buf[e.pending++]=t},Ie=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ae=function(e,t){var r,n,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-ge?e.strstart-(e.w_size-ge):0,d=e.window,u=e.w_mask,c=e.prev,f=e.strstart+pe,h=d[o+a-1],p=d[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(d[(r=t)+a]===p&&d[r+a-1]===h&&d[r]===d[o]&&d[++r]===d[o+1]){o+=2,r++;do{}while(d[++o]===d[++r]&&d[++o]===d[++r]&&d[++o]===d[++r]&&d[++o]===d[++r]&&d[++o]===d[++r]&&d[++o]===d[++r]&&d[++o]===d[++r]&&d[++o]===d[++r]&&o<f);if(n=pe-(f-o),o=f-pe,n>a){if(e.match_start=t,a=n,n>=s)break;h=d[o+a-1],p=d[o+a]}}}while((t=c[t&u])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead},Ee=function(e){var t,r,n,i,o,a,s,l,d,u,c=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=c+(c-ge)){e.window.set(e.window.subarray(c,c+c),0),e.match_start-=c,e.strstart-=c,e.block_start-=c,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=c?n-c:0}while(--r);t=r=c;do{n=e.prev[--t],e.prev[t]=n>=c?n-c:0}while(--r);i+=c}if(0===e.strm.avail_in)break;if(a=e.strm,s=e.window,l=e.strstart+e.lookahead,d=i,u=void 0,(u=a.avail_in)>d&&(u=d),r=0===u?0:(a.avail_in-=u,s.set(a.input.subarray(a.next_in,a.next_in+u),l),1===a.state.wrap?a.adler=N(a.adler,s,u,l):2===a.state.wrap&&(a.adler=V(a.adler,s,u,l)),a.next_in+=u,a.total_in+=u,u),e.lookahead+=r,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=Se(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=Se(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ge&&0!==e.strm.avail_in)},Ce=function(e,t){for(var r,n;;){if(e.lookahead<ge){if(Ee(e),e.lookahead<ge&&t===q)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=Se(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-ge&&(e.match_length=Ae(e,r)),e.match_length>=3)if(n=X(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Se(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Se(e,e.ins_h,e.window[e.strstart+1]);else n=X(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(_e(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===$?(_e(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_e(e,!1),0===e.strm.avail_out)?1:2},Be=function(e,t){for(var r,n,i;;){if(e.lookahead<ge){if(Ee(e),e.lookahead<ge&&t===q)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=Se(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-ge&&(e.match_length=Ae(e,r),e.match_length<=5&&(e.strategy===se||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=X(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=Se(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(_e(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=X(e,0,e.window[e.strstart-1]))&&_e(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=X(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===$?(_e(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_e(e,!1),0===e.strm.avail_out)?1:2};function Pe(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}var De=[new Pe(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ee(e),0===e.lookahead&&t===q)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,_e(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-ge&&(_e(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===$?(_e(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(_e(e,!1),e.strm.avail_out),1)})),new Pe(4,4,8,4,Ce),new Pe(4,5,16,8,Ce),new Pe(4,6,32,32,Ce),new Pe(4,4,16,16,Be),new Pe(8,16,32,32,Be),new Pe(8,16,128,128,Be),new Pe(8,32,128,256,Be),new Pe(32,128,258,1024,Be),new Pe(32,258,258,4096,Be)];function Me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=he,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Fe=function(e){if(!e||!e.state)return me(e,ne);e.total_in=e.total_out=0,e.data_type=fe;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:we,e.adler=2===t.wrap?0:1,t.last_flush=q,Z(t),te},Oe=function(e){var t,r=Fe(e);return r===te&&((t=e.state).window_size=2*t.w_size,ke(t.head),t.max_lazy_match=De[t.level].max_lazy,t.good_match=De[t.level].good_length,t.nice_match=De[t.level].nice_length,t.max_chain_length=De[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r},Re=function(e,t,r,n,i,o){if(!e)return ne;var a=1;if(t===ae&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>9||r!==he||n<8||n>15||t<0||t>9||o<0||o>ue)return me(e,ne);8===n&&(n=9);var s=new Me;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=r,Oe(e)},Le={deflateInit:function(e,t){return Re(e,t,he,15,8,ce)},deflateInit2:Re,deflateReset:Oe,deflateResetKeep:Fe,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?ne:(e.state.gzhead=t,te):ne},deflate:function(e,t){var r,n;if(!e||!e.state||t>ee||t<0)return e?me(e,ne):ne;var i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===ye&&t!==$)return me(e,0===e.avail_out?oe:ne);i.strm=e;var o=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,Ue(i,31),Ue(i,139),Ue(i,8),i.gzhead?(Ue(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Ue(i,255&i.gzhead.time),Ue(i,i.gzhead.time>>8&255),Ue(i,i.gzhead.time>>16&255),Ue(i,i.gzhead.time>>24&255),Ue(i,9===i.level?2:i.strategy>=le||i.level<2?4:0),Ue(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Ue(i,255&i.gzhead.extra.length),Ue(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=V(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Ue(i,0),Ue(i,0),Ue(i,0),Ue(i,0),Ue(i,0),Ue(i,9===i.level?2:i.strategy>=le||i.level<2?4:0),Ue(i,3),i.status=we);else{var a=he+(i.w_bits-8<<4)<<8;a|=(i.strategy>=le||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=we,Ie(i,a),0!==i.strstart&&(Ie(i,e.adler>>>16),Ie(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(e.adler=V(e.adler,i.pending_buf,i.pending-r,r)),xe(e),r=i.pending,i.pending!==i.pending_buf_size));)Ue(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(e.adler=V(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=V(e.adler,i.pending_buf,i.pending-r,r)),xe(e),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Ue(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(e.adler=V(e.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=V(e.adler,i.pending_buf,i.pending-r,r)),xe(e),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Ue(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(e.adler=V(e.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.status=ve)}else i.status=ve;if(i.status===ve&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&xe(e),i.pending+2<=i.pending_buf_size&&(Ue(i,255&e.adler),Ue(i,e.adler>>8&255),e.adler=0,i.status=we)):i.status=we),0!==i.pending){if(xe(e),0===e.avail_out)return i.last_flush=-1,te}else if(0===e.avail_in&&be(t)<=be(o)&&t!==$)return me(e,oe);if(i.status===ye&&0!==e.avail_in)return me(e,oe);if(0!==e.avail_in||0!==i.lookahead||t!==q&&i.status!==ye){var s=i.strategy===le?function(e,t){for(var r;;){if(0===e.lookahead&&(Ee(e),0===e.lookahead)){if(t===q)return 1;break}if(e.match_length=0,r=X(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(_e(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===$?(_e(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_e(e,!1),0===e.strm.avail_out)?1:2}(i,t):i.strategy===de?function(e,t){for(var r,n,i,o,a=e.window;;){if(e.lookahead<=pe){if(Ee(e),e.lookahead<=pe&&t===q)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){o=e.strstart+pe;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);e.match_length=pe-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=X(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=X(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(_e(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===$?(_e(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_e(e,!1),0===e.strm.avail_out)?1:2}(i,t):De[i.level].func(i,t);if(3!==s&&4!==s||(i.status=ye),1===s||3===s)return 0===e.avail_out&&(i.last_flush=-1),te;if(2===s&&(t===J?Y(i):t!==ee&&(W(i,0,0,!1),t===Q&&(ke(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),xe(e),0===e.avail_out))return i.last_flush=-1,te}return t!==$?te:i.wrap<=0?re:(2===i.wrap?(Ue(i,255&e.adler),Ue(i,e.adler>>8&255),Ue(i,e.adler>>16&255),Ue(i,e.adler>>24&255),Ue(i,255&e.total_in),Ue(i,e.total_in>>8&255),Ue(i,e.total_in>>16&255),Ue(i,e.total_in>>24&255)):(Ie(i,e.adler>>>16),Ie(i,65535&e.adler)),xe(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?te:re)},deflateEnd:function(e){if(!e||!e.state)return ne;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==ve&&t!==we&&t!==ye?me(e,ne):(e.state=null,t===we?me(e,ie):te)},deflateSetDictionary:function(e,t){var r=t.length;if(!e||!e.state)return ne;var n=e.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return ne;if(1===i&&(e.adler=N(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===i&&(ke(n.head),n.strstart=0,n.block_start=0,n.insert=0);var o=new Uint8Array(n.w_size);o.set(t.subarray(r-n.w_size,r),0),t=o,r=n.w_size}var a=e.avail_in,s=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Ee(n);n.lookahead>=3;){var d=n.strstart,u=n.lookahead-2;do{n.ins_h=Se(n,n.ins_h,n.window[d+3-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++}while(--u);n.strstart=d,n.lookahead=2,Ee(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=l,e.avail_in=a,n.wrap=i,te},deflateInfo:"pako deflate (from Nodeca project)"},Te=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},ze=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)Te(r,n)&&(e[n]=r[n])}}return e},Ne=function(e){for(var t=0,r=0,n=e.length;r<n;r++)t+=e[r].length;for(var i=new Uint8Array(t),o=0,a=0,s=e.length;o<s;o++){var l=e[o];i.set(l,a),a+=l.length}return i},je=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){je=!1}for(var Ve=new Uint8Array(256),Ge=0;Ge<256;Ge++)Ve[Ge]=Ge>=252?6:Ge>=248?5:Ge>=240?4:Ge>=224?3:Ge>=192?2:1;Ve[254]=Ve[254]=1;var He=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,i,o,a=e.length,s=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|63&r):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|63&r):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|63&r);return t},Ze=function(e,t){var r,n,i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var o=new Array(2*i);for(n=0,r=0;r<i;){var a=e[r++];if(a<128)o[n++]=a;else{var s=Ve[a];if(s>4)o[n++]=65533,r+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&r<i;)a=a<<6|63&e[r++],s--;s>1?o[n++]=65533:a<65536?o[n++]=a:(a-=65536,o[n++]=55296|a>>10&1023,o[n++]=56320|1023&a)}}}return function(e,t){if(t<65534&&e.subarray&&je)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}(o,n)},We=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+Ve[e[r]]>t?r:t};var Ke=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Xe=Object.prototype.toString,Ye=H.Z_NO_FLUSH,qe=H.Z_SYNC_FLUSH,Je=H.Z_FULL_FLUSH,Qe=H.Z_FINISH,$e=H.Z_OK,et=H.Z_STREAM_END,tt=H.Z_DEFAULT_COMPRESSION,rt=H.Z_DEFAULT_STRATEGY,nt=H.Z_DEFLATED;function it(e){this.options=ze({level:tt,method:nt,chunkSize:16384,windowBits:15,memLevel:8,strategy:rt},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ke,this.strm.avail_out=0;var r=Le.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==$e)throw new Error(G[r]);if(t.header&&Le.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n="string"==typeof t.dictionary?He(t.dictionary):"[object ArrayBuffer]"===Xe.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=Le.deflateSetDictionary(this.strm,n))!==$e)throw new Error(G[r]);this._dict_set=!0}}function ot(e,t){var r=new it(t);if(r.push(e,!0),r.err)throw r.msg||G[r.err];return r.result}it.prototype.push=function(e,t){var r,n,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(n=t===~~t?t:!0===t?Qe:Ye,"string"==typeof e?i.input=He(e):"[object ArrayBuffer]"===Xe.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(n===qe||n===Je)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((r=Le.deflate(i,n))===et)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=Le.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===$e;if(0!==i.avail_out){if(n>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},it.prototype.onData=function(e){this.chunks.push(e)},it.prototype.onEnd=function(e){e===$e&&(this.result=Ne(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var at={Deflate:it,deflate:ot,deflateRaw:function(e,t){return(t=t||{}).raw=!0,ot(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,ot(e,t)},constants:H},st=function(e,t){var r,n,i,o,a,s,l,d,u,c,f,h,p,g,v,w,y,m,b,k,S,x,_,U,I=e.state;r=e.next_in,_=e.input,n=r+(e.avail_in-5),i=e.next_out,U=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=I.dmax,l=I.wsize,d=I.whave,u=I.wnext,c=I.window,f=I.hold,h=I.bits,p=I.lencode,g=I.distcode,v=(1<<I.lenbits)-1,w=(1<<I.distbits)-1;e:do{h<15&&(f+=_[r++]<<h,h+=8,f+=_[r++]<<h,h+=8),y=p[f&v];t:for(;;){if(f>>>=m=y>>>24,h-=m,0===(m=y>>>16&255))U[i++]=65535&y;else{if(!(16&m)){if(0==(64&m)){y=p[(65535&y)+(f&(1<<m)-1)];continue t}if(32&m){I.mode=12;break e}e.msg="invalid literal/length code",I.mode=30;break e}b=65535&y,(m&=15)&&(h<m&&(f+=_[r++]<<h,h+=8),b+=f&(1<<m)-1,f>>>=m,h-=m),h<15&&(f+=_[r++]<<h,h+=8,f+=_[r++]<<h,h+=8),y=g[f&w];r:for(;;){if(f>>>=m=y>>>24,h-=m,!(16&(m=y>>>16&255))){if(0==(64&m)){y=g[(65535&y)+(f&(1<<m)-1)];continue r}e.msg="invalid distance code",I.mode=30;break e}if(k=65535&y,h<(m&=15)&&(f+=_[r++]<<h,(h+=8)<m&&(f+=_[r++]<<h,h+=8)),(k+=f&(1<<m)-1)>s){e.msg="invalid distance too far back",I.mode=30;break e}if(f>>>=m,h-=m,k>(m=i-o)){if((m=k-m)>d&&I.sane){e.msg="invalid distance too far back",I.mode=30;break e}if(S=0,x=c,0===u){if(S+=l-m,m<b){b-=m;do{U[i++]=c[S++]}while(--m);S=i-k,x=U}}else if(u<m){if(S+=l+u-m,(m-=u)<b){b-=m;do{U[i++]=c[S++]}while(--m);if(S=0,u<b){b-=m=u;do{U[i++]=c[S++]}while(--m);S=i-k,x=U}}}else if(S+=u-m,m<b){b-=m;do{U[i++]=c[S++]}while(--m);S=i-k,x=U}for(;b>2;)U[i++]=x[S++],U[i++]=x[S++],U[i++]=x[S++],b-=3;b&&(U[i++]=x[S++],b>1&&(U[i++]=x[S++]))}else{S=i-k;do{U[i++]=U[S++],U[i++]=U[S++],U[i++]=U[S++],b-=3}while(b>2);b&&(U[i++]=U[S++],b>1&&(U[i++]=U[S++]))}break}}break}}while(r<n&&i<a);r-=b=h>>3,f&=(1<<(h-=b<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=i<a?a-i+257:257-(i-a),I.hold=f,I.bits=h},lt=15,dt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ut=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ct=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ft=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ht=function(e,t,r,n,i,o,a,s){var l,d,u,c,f,h,p,g,v,w=s.bits,y=0,m=0,b=0,k=0,S=0,x=0,_=0,U=0,I=0,A=0,E=null,C=0,B=new Uint16Array(16),P=new Uint16Array(16),D=null,M=0;for(y=0;y<=lt;y++)B[y]=0;for(m=0;m<n;m++)B[t[r+m]]++;for(S=w,k=lt;k>=1&&0===B[k];k--);if(S>k&&(S=k),0===k)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(b=1;b<k&&0===B[b];b++);for(S<b&&(S=b),U=1,y=1;y<=lt;y++)if(U<<=1,(U-=B[y])<0)return-1;if(U>0&&(0===e||1!==k))return-1;for(P[1]=0,y=1;y<lt;y++)P[y+1]=P[y]+B[y];for(m=0;m<n;m++)0!==t[r+m]&&(a[P[t[r+m]]++]=m);if(0===e?(E=D=a,h=19):1===e?(E=dt,C-=257,D=ut,M-=257,h=256):(E=ct,D=ft,h=-1),A=0,m=0,y=b,f=o,x=S,_=0,u=-1,c=(I=1<<S)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){p=y-_,a[m]<h?(g=0,v=a[m]):a[m]>h?(g=D[M+a[m]],v=E[C+a[m]]):(g=96,v=0),l=1<<y-_,b=d=1<<x;do{i[f+(A>>_)+(d-=l)]=p<<24|g<<16|v|0}while(0!==d);for(l=1<<y-1;A&l;)l>>=1;if(0!==l?(A&=l-1,A+=l):A=0,m++,0==--B[y]){if(y===k)break;y=t[r+a[m]]}if(y>S&&(A&c)!==u){for(0===_&&(_=S),f+=b,U=1<<(x=y-_);x+_<k&&!((U-=B[x+_])<=0);)x++,U<<=1;if(I+=1<<x,1===e&&I>852||2===e&&I>592)return 1;i[u=A&c]=S<<24|x<<16|f-o|0}}return 0!==A&&(i[f+A]=y-_<<24|4194304),s.bits=S,0},pt=H.Z_FINISH,gt=H.Z_BLOCK,vt=H.Z_TREES,wt=H.Z_OK,yt=H.Z_STREAM_END,mt=H.Z_NEED_DICT,bt=H.Z_STREAM_ERROR,kt=H.Z_DATA_ERROR,St=H.Z_MEM_ERROR,xt=H.Z_BUF_ERROR,_t=H.Z_DEFLATED,Ut=12,It=30,At=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function Et(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Ct,Bt,Pt=function(e){if(!e||!e.state)return bt;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,wt},Dt=function(e){if(!e||!e.state)return bt;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Pt(e)},Mt=function(e,t){var r;if(!e||!e.state)return bt;var n=e.state;return t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?bt:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Dt(e))},Ft=function(e,t){if(!e)return bt;var r=new Et;e.state=r,r.window=null;var n=Mt(e,t);return n!==wt&&(e.state=null),n},Ot=!0,Rt=function(e){if(Ot){Ct=new Int32Array(512),Bt=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ht(1,e.lens,0,288,Ct,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ht(2,e.lens,0,32,Bt,0,e.work,{bits:5}),Ot=!1}e.lencode=Ct,e.lenbits=9,e.distcode=Bt,e.distbits=5},Lt=function(e,t,r,n){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>n&&(i=n),o.window.set(t.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(t.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Tt={inflateReset:Dt,inflateReset2:Mt,inflateResetKeep:Pt,inflateInit:function(e){return Ft(e,15)},inflateInit2:Ft,inflate:function(e,t){var r,n,i,o,a,s,l,d,u,c,f,h,p,g,v,w,y,m,b,k,S,x,_,U,I=0,A=new Uint8Array(4),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return bt;(r=e.state).mode===Ut&&(r.mode=13),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,n=e.input,s=e.avail_in,d=r.hold,u=r.bits,c=s,f=l,x=wt;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;u<16;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}if(2&r.wrap&&35615===d){r.check=0,A[0]=255&d,A[1]=d>>>8&255,r.check=V(r.check,A,2,0),d=0,u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=It;break}if((15&d)!==_t){e.msg="unknown compression method",r.mode=It;break}if(u-=4,S=8+(15&(d>>>=4)),0===r.wbits)r.wbits=S;else if(S>r.wbits){e.msg="invalid window size",r.mode=It;break}r.dmax=1<<r.wbits,e.adler=r.check=1,r.mode=512&d?10:Ut,d=0,u=0;break;case 2:for(;u<16;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}if(r.flags=d,(255&r.flags)!==_t){e.msg="unknown compression method",r.mode=It;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=It;break}r.head&&(r.head.text=d>>8&1),512&r.flags&&(A[0]=255&d,A[1]=d>>>8&255,r.check=V(r.check,A,2,0)),d=0,u=0,r.mode=3;case 3:for(;u<32;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}r.head&&(r.head.time=d),512&r.flags&&(A[0]=255&d,A[1]=d>>>8&255,A[2]=d>>>16&255,A[3]=d>>>24&255,r.check=V(r.check,A,4,0)),d=0,u=0,r.mode=4;case 4:for(;u<16;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}r.head&&(r.head.xflags=255&d,r.head.os=d>>8),512&r.flags&&(A[0]=255&d,A[1]=d>>>8&255,r.check=V(r.check,A,2,0)),d=0,u=0,r.mode=5;case 5:if(1024&r.flags){for(;u<16;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),512&r.flags&&(A[0]=255&d,A[1]=d>>>8&255,r.check=V(r.check,A,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((h=r.length)>s&&(h=s),h&&(r.head&&(S=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+h),S)),512&r.flags&&(r.check=V(r.check,n,h,o)),s-=h,o+=h,r.length-=h),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===s)break e;h=0;do{S=n[o+h++],r.head&&S&&r.length<65536&&(r.head.name+=String.fromCharCode(S))}while(S&&h<s);if(512&r.flags&&(r.check=V(r.check,n,h,o)),s-=h,o+=h,S)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===s)break e;h=0;do{S=n[o+h++],r.head&&S&&r.length<65536&&(r.head.comment+=String.fromCharCode(S))}while(S&&h<s);if(512&r.flags&&(r.check=V(r.check,n,h,o)),s-=h,o+=h,S)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;u<16;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}if(d!==(65535&r.check)){e.msg="header crc mismatch",r.mode=It;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ut;break;case 10:for(;u<32;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}e.adler=r.check=At(d),d=0,u=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,r.hold=d,r.bits=u,mt;e.adler=r.check=1,r.mode=Ut;case Ut:if(t===gt||t===vt)break e;case 13:if(r.last){d>>>=7&u,u-=7&u,r.mode=27;break}for(;u<3;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}switch(r.last=1&d,u-=1,3&(d>>>=1)){case 0:r.mode=14;break;case 1:if(Rt(r),r.mode=20,t===vt){d>>>=2,u-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=It}d>>>=2,u-=2;break;case 14:for(d>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=It;break}if(r.length=65535&d,d=0,u=0,r.mode=15,t===vt)break e;case 15:r.mode=16;case 16:if(h=r.length){if(h>s&&(h=s),h>l&&(h=l),0===h)break e;i.set(n.subarray(o,o+h),a),s-=h,o+=h,l-=h,a+=h,r.length-=h;break}r.mode=Ut;break;case 17:for(;u<14;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}if(r.nlen=257+(31&d),d>>>=5,u-=5,r.ndist=1+(31&d),d>>>=5,u-=5,r.ncode=4+(15&d),d>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=It;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;u<3;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}r.lens[E[r.have++]]=7&d,d>>>=3,u-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,_={bits:r.lenbits},x=ht(0,r.lens,0,19,r.lencode,0,r.work,_),r.lenbits=_.bits,x){e.msg="invalid code lengths set",r.mode=It;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;w=(I=r.lencode[d&(1<<r.lenbits)-1])>>>16&255,y=65535&I,!((v=I>>>24)<=u);){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}if(y<16)d>>>=v,u-=v,r.lens[r.have++]=y;else{if(16===y){for(U=v+2;u<U;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}if(d>>>=v,u-=v,0===r.have){e.msg="invalid bit length repeat",r.mode=It;break}S=r.lens[r.have-1],h=3+(3&d),d>>>=2,u-=2}else if(17===y){for(U=v+3;u<U;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}u-=v,S=0,h=3+(7&(d>>>=v)),d>>>=3,u-=3}else{for(U=v+7;u<U;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}u-=v,S=0,h=11+(127&(d>>>=v)),d>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=It;break}for(;h--;)r.lens[r.have++]=S}}if(r.mode===It)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=It;break}if(r.lenbits=9,_={bits:r.lenbits},x=ht(1,r.lens,0,r.nlen,r.lencode,0,r.work,_),r.lenbits=_.bits,x){e.msg="invalid literal/lengths set",r.mode=It;break}if(r.distbits=6,r.distcode=r.distdyn,_={bits:r.distbits},x=ht(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,_),r.distbits=_.bits,x){e.msg="invalid distances set",r.mode=It;break}if(r.mode=20,t===vt)break e;case 20:r.mode=21;case 21:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,r.hold=d,r.bits=u,st(e,f),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,n=e.input,s=e.avail_in,d=r.hold,u=r.bits,r.mode===Ut&&(r.back=-1);break}for(r.back=0;w=(I=r.lencode[d&(1<<r.lenbits)-1])>>>16&255,y=65535&I,!((v=I>>>24)<=u);){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}if(w&&0==(240&w)){for(m=v,b=w,k=y;w=(I=r.lencode[k+((d&(1<<m+b)-1)>>m)])>>>16&255,y=65535&I,!(m+(v=I>>>24)<=u);){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}d>>>=m,u-=m,r.back+=m}if(d>>>=v,u-=v,r.back+=v,r.length=y,0===w){r.mode=26;break}if(32&w){r.back=-1,r.mode=Ut;break}if(64&w){e.msg="invalid literal/length code",r.mode=It;break}r.extra=15&w,r.mode=22;case 22:if(r.extra){for(U=r.extra;u<U;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;w=(I=r.distcode[d&(1<<r.distbits)-1])>>>16&255,y=65535&I,!((v=I>>>24)<=u);){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}if(0==(240&w)){for(m=v,b=w,k=y;w=(I=r.distcode[k+((d&(1<<m+b)-1)>>m)])>>>16&255,y=65535&I,!(m+(v=I>>>24)<=u);){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}d>>>=m,u-=m,r.back+=m}if(d>>>=v,u-=v,r.back+=v,64&w){e.msg="invalid distance code",r.mode=It;break}r.offset=y,r.extra=15&w,r.mode=24;case 24:if(r.extra){for(U=r.extra;u<U;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=It;break}r.mode=25;case 25:if(0===l)break e;if(h=f-l,r.offset>h){if((h=r.offset-h)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=It;break}h>r.wnext?(h-=r.wnext,p=r.wsize-h):p=r.wnext-h,h>r.length&&(h=r.length),g=r.window}else g=i,p=a-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do{i[a++]=g[p++]}while(--h);0===r.length&&(r.mode=21);break;case 26:if(0===l)break e;i[a++]=r.length,l--,r.mode=21;break;case 27:if(r.wrap){for(;u<32;){if(0===s)break e;s--,d|=n[o++]<<u,u+=8}if(f-=l,e.total_out+=f,r.total+=f,f&&(e.adler=r.check=r.flags?V(r.check,i,f,a-f):N(r.check,i,f,a-f)),f=l,(r.flags?d:At(d))!==r.check){e.msg="incorrect data check",r.mode=It;break}d=0,u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;u<32;){if(0===s)break e;s--,d+=n[o++]<<u,u+=8}if(d!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=It;break}d=0,u=0}r.mode=29;case 29:x=yt;break e;case It:x=kt;break e;case 31:return St;default:return bt}return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,r.hold=d,r.bits=u,(r.wsize||f!==e.avail_out&&r.mode<It&&(r.mode<27||t!==pt))&&Lt(e,e.output,e.next_out,f-e.avail_out),c-=e.avail_in,f-=e.avail_out,e.total_in+=c,e.total_out+=f,r.total+=f,r.wrap&&f&&(e.adler=r.check=r.flags?V(r.check,i,f,e.next_out-f):N(r.check,i,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ut?128:0)+(20===r.mode||15===r.mode?256:0),(0===c&&0===f||t===pt)&&x===wt&&(x=xt),x},inflateEnd:function(e){if(!e||!e.state)return bt;var t=e.state;return t.window&&(t.window=null),e.state=null,wt},inflateGetHeader:function(e,t){if(!e||!e.state)return bt;var r=e.state;return 0==(2&r.wrap)?bt:(r.head=t,t.done=!1,wt)},inflateSetDictionary:function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?bt:11===r.mode&&N(1,t,n,0)!==r.check?kt:Lt(e,t,n,n)?(r.mode=31,St):(r.havedict=1,wt):bt},inflateInfo:"pako inflate (from Nodeca project)"};var zt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Nt=Object.prototype.toString,jt=H.Z_NO_FLUSH,Vt=H.Z_FINISH,Gt=H.Z_OK,Ht=H.Z_STREAM_END,Zt=H.Z_NEED_DICT,Wt=H.Z_STREAM_ERROR,Kt=H.Z_DATA_ERROR,Xt=H.Z_MEM_ERROR;function Yt(e){this.options=ze({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ke,this.strm.avail_out=0;var r=Tt.inflateInit2(this.strm,t.windowBits);if(r!==Gt)throw new Error(G[r]);if(this.header=new zt,Tt.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=He(t.dictionary):"[object ArrayBuffer]"===Nt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Tt.inflateSetDictionary(this.strm,t.dictionary))!==Gt))throw new Error(G[r])}function qt(e,t){var r=new Yt(t);if(r.push(e),r.err)throw r.msg||G[r.err];return r.result}Yt.prototype.push=function(e,t){var r,n,i,o=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(n=t===~~t?t:!0===t?Vt:jt,"[object ArrayBuffer]"===Nt.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(r=Tt.inflate(o,n))===Zt&&s&&((r=Tt.inflateSetDictionary(o,s))===Gt?r=Tt.inflate(o,n):r===Kt&&(r=Zt));o.avail_in>0&&r===Ht&&o.state.wrap>0&&0!==e[o.next_in];)Tt.inflateReset(o),r=Tt.inflate(o,n);switch(r){case Wt:case Kt:case Zt:case Xt:return this.onEnd(r),this.ended=!0,!1}if(i=o.avail_out,o.next_out&&(0===o.avail_out||r===Ht))if("string"===this.options.to){var l=We(o.output,o.next_out),d=o.next_out-l,u=Ze(o.output,l);o.next_out=d,o.avail_out=a-d,d&&o.output.set(o.output.subarray(l,l+d),0),this.onData(u)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(r!==Gt||0!==i){if(r===Ht)return r=Tt.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},Yt.prototype.onData=function(e){this.chunks.push(e)},Yt.prototype.onEnd=function(e){e===Gt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ne(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Jt={Inflate:Yt,inflate:qt,inflateRaw:function(e,t){return(t=t||{}).raw=!0,qt(e,t)},ungzip:qt,constants:H},Qt=at.deflate,$t=Jt.inflate,er=Qt,tr=$t})),t.register("cAUqy",(function(e,r){"use strict";var n=e.exports&&e.exports.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.hasMultiEffects=e.exports.readVectorMask=e.exports.booleanOperations=e.exports.readBezierKnot=e.exports.infoHandlersMap=e.exports.infoHandlers=void 0;var i=t("jWkTT"),o=t("26rz6"),a=t("jE67M"),s=t("5OPaf"),l=t("kCSTH"),d=t("klnll"),u=t("2TM27"),c=t("6rQPt");function f(t,r,n,i){var o={key:t,has:r,read:n,write:i};e.exports.infoHandlers.push(o),e.exports.infoHandlersMap[o.key]=o}function h(t,r){e.exports.infoHandlersMap[t]=e.exports.infoHandlersMap[r]}function p(e){return function(t){return void 0!==t[e]}}function g(e){if((0,s.readUint32)(e))throw new Error("Resource size above 4 GB limit at ".concat(e.offset.toString(16)));return(0,s.readUint32)(e)}function v(e,t){(0,l.writeUint32)(e,0),(0,l.writeUint32)(e,t)}function w(e,t,r){var n=(0,s.readFixedPointPath32)(e)*r,i=(0,s.readFixedPointPath32)(e)*t,o=(0,s.readFixedPointPath32)(e)*r,a=(0,s.readFixedPointPath32)(e)*t,l=(0,s.readFixedPointPath32)(e)*r;return[i,n,a,o,(0,s.readFixedPointPath32)(e)*t,l]}function y(e,t,r,n){(0,l.writeFixedPointPath32)(e,t[1]/n),(0,l.writeFixedPointPath32)(e,t[0]/r),(0,l.writeFixedPointPath32)(e,t[3]/n),(0,l.writeFixedPointPath32)(e,t[2]/r),(0,l.writeFixedPointPath32)(e,t[5]/n),(0,l.writeFixedPointPath32)(e,t[4]/r)}function m(t,r,n,i,o){for(var a=t.offset+o,l=r.paths,d=void 0;a-t.offset>=26;){var u=(0,s.readUint16)(t);switch(u){case 0:case 3:(0,s.readUint16)(t);var c=(0,s.readInt16)(t);(0,s.readUint16)(t),(0,s.skipBytes)(t,18),d={open:3===u,operation:-1===c?"combine":e.exports.booleanOperations[c],knots:[]},l.push(d);break;case 1:case 2:case 4:case 5:d.knots.push({linked:1===u||4===u,points:w(t,n,i)});break;case 6:(0,s.skipBytes)(t,24);break;case 7:var f=(0,s.readFixedPointPath32)(t),h=(0,s.readFixedPointPath32)(t),p=(0,s.readFixedPointPath32)(t),g=(0,s.readFixedPointPath32)(t),v=(0,s.readFixedPointPath32)(t);(0,s.skipBytes)(t,4),r.clipboard={top:f,left:h,bottom:p,right:g,resolution:v};break;case 8:r.fillStartsWithAllPixels=!!(0,s.readUint16)(t),(0,s.skipBytes)(t,22);break;default:throw new Error("Invalid vmsk section")}}return l}e.exports.infoHandlers=[],e.exports.infoHandlersMap={},f("TySh",p("text"),(function(e,t,r){if(1!==(0,s.readInt16)(e))throw new Error("Invalid TySh version");for(var i=[],o=0;o<6;o++)i.push((0,s.readFloat64)(e));if(50!==(0,s.readInt16)(e))throw new Error("Invalid TySh text version");var a=(0,d.readVersionAndDescriptor)(e);if(1!==(0,s.readInt16)(e))throw new Error("Invalid TySh warp version");var l=(0,d.readVersionAndDescriptor)(e);if(t.text={transform:i,left:(0,s.readFloat32)(e),top:(0,s.readFloat32)(e),right:(0,s.readFloat32)(e),bottom:(0,s.readFloat32)(e),text:a["Txt "].replace(/\r/g,"\n"),index:a.TextIndex||0,gridding:d.textGridding.decode(a.textGridding),antiAlias:d.Annt.decode(a.AntA),orientation:d.Ornt.decode(a.Ornt),warp:{style:d.warpStyle.decode(l.warpStyle),value:l.warpValue||0,perspective:l.warpPerspective||0,perspectiveOther:l.warpPerspectiveOther||0,rotate:d.Ornt.decode(l.warpRotate)}},a.EngineData){var f=(0,c.decodeEngineData)((0,u.parseEngineData)(a.EngineData));t.text=n(n({},t.text),f)}(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.text,n=r.warp||{},i=r.transform||[1,0,0,1,0,0],o={"Txt ":(r.text||"").replace(/\r?\n/g,"\r"),textGridding:d.textGridding.encode(r.gridding),Ornt:d.Ornt.encode(r.orientation),AntA:d.Annt.encode(r.antiAlias),TextIndex:r.index||0,EngineData:(0,u.serializeEngineData)((0,c.encodeEngineData)(r))};(0,l.writeInt16)(e,1);for(var a=0;a<6;a++)(0,l.writeFloat64)(e,i[a]);(0,l.writeInt16)(e,50),(0,d.writeVersionAndDescriptor)(e,"","TxLr",o),(0,l.writeInt16)(e,1),(0,d.writeVersionAndDescriptor)(e,"","warp",x(n)),(0,l.writeFloat32)(e,r.left),(0,l.writeFloat32)(e,r.top),(0,l.writeFloat32)(e,r.right),(0,l.writeFloat32)(e,r.bottom)})),f("SoCo",(function(e){return void 0!==e.vectorFill&&void 0===e.vectorStroke&&"color"===e.vectorFill.type}),(function(e,t){var r=(0,d.readVersionAndDescriptor)(e);t.vectorFill=Q(r)}),(function(e,t){var r=te(t.vectorFill).descriptor;(0,d.writeVersionAndDescriptor)(e,"","null",r)})),f("GdFl",(function(e){return void 0!==e.vectorFill&&void 0===e.vectorStroke&&("solid"===e.vectorFill.type||"noise"===e.vectorFill.type)}),(function(e,t,r){var n=(0,d.readVersionAndDescriptor)(e);t.vectorFill=Q(n),(0,s.skipBytes)(e,r())}),(function(e,t){var r=te(t.vectorFill).descriptor;(0,d.writeVersionAndDescriptor)(e,"","null",r)})),f("PtFl",(function(e){return void 0!==e.vectorFill&&void 0===e.vectorStroke&&"pattern"===e.vectorFill.type}),(function(e,t){var r=(0,d.readVersionAndDescriptor)(e);t.vectorFill=Q(r)}),(function(e,t){var r=te(t.vectorFill).descriptor;(0,d.writeVersionAndDescriptor)(e,"","null",r)})),f("vscg",(function(e){return void 0!==e.vectorFill&&void 0!==e.vectorStroke}),(function(e,t,r){(0,s.readSignature)(e);var n=(0,d.readVersionAndDescriptor)(e);t.vectorFill=Q(n),(0,s.skipBytes)(e,r())}),(function(e,t){var r=te(t.vectorFill),n=r.descriptor,i=r.key;(0,l.writeSignature)(e,i),(0,d.writeVersionAndDescriptor)(e,"","null",n)})),e.exports.readBezierKnot=w,e.exports.booleanOperations=["exclude","combine","subtract","intersect"],e.exports.readVectorMask=m,f("vmsk",p("vectorMask"),(function(e,t,r,n){var i=n.width,o=n.height;if(3!==(0,s.readUint32)(e))throw new Error("Invalid vmsk version");t.vectorMask={paths:[]};var a=t.vectorMask,l=(0,s.readUint32)(e);a.invert=0!=(1&l),a.notLink=0!=(2&l),a.disable=0!=(4&l),m(e,a,i,o,r()),(0,s.skipBytes)(e,r())}),(function(t,r,n){var i=n.width,o=n.height,a=r.vectorMask,s=(a.invert?1:0)|(a.notLink?2:0)|(a.disable?4:0);(0,l.writeUint32)(t,3),(0,l.writeUint32)(t,s),(0,l.writeUint16)(t,6),(0,l.writeZeros)(t,24);var d=a.clipboard;d&&((0,l.writeUint16)(t,7),(0,l.writeFixedPointPath32)(t,d.top),(0,l.writeFixedPointPath32)(t,d.left),(0,l.writeFixedPointPath32)(t,d.bottom),(0,l.writeFixedPointPath32)(t,d.right),(0,l.writeFixedPointPath32)(t,d.resolution),(0,l.writeZeros)(t,4)),void 0!==a.fillStartsWithAllPixels&&((0,l.writeUint16)(t,8),(0,l.writeUint16)(t,a.fillStartsWithAllPixels?1:0),(0,l.writeZeros)(t,22));for(var u=0,c=a.paths;u<c.length;u++){var f=c[u];(0,l.writeUint16)(t,f.open?3:0),(0,l.writeUint16)(t,f.knots.length),(0,l.writeUint16)(t,Math.abs(e.exports.booleanOperations.indexOf(f.operation))),(0,l.writeUint16)(t,1),(0,l.writeZeros)(t,18);for(var h=f.open?4:1,p=f.open?5:2,g=0,v=f.knots;g<v.length;g++){var w=v[g],m=w.linked,b=w.points;(0,l.writeUint16)(t,m?h:p),y(t,b,i,o)}}})),h("vsms","vmsk"),f("vogk",p("vectorOrigination"),(function(e,t,r){if(1!==(0,s.readInt32)(e))throw new Error("Invalid vogk version");var n=(0,d.readVersionAndDescriptor)(e);t.vectorOrigination={keyDescriptorList:[]};for(var i=0,o=n.keyDescriptorList;i<o.length;i++){var a=o[i],l={};null!=a.keyShapeInvalidated&&(l.keyShapeInvalidated=a.keyShapeInvalidated),null!=a.keyOriginType&&(l.keyOriginType=a.keyOriginType),null!=a.keyOriginResolution&&(l.keyOriginResolution=a.keyOriginResolution),a.keyOriginShapeBBox&&(l.keyOriginShapeBoundingBox={top:(0,d.parseUnits)(a.keyOriginShapeBBox["Top "]),left:(0,d.parseUnits)(a.keyOriginShapeBBox.Left),bottom:(0,d.parseUnits)(a.keyOriginShapeBBox.Btom),right:(0,d.parseUnits)(a.keyOriginShapeBBox.Rght)});var u=a.keyOriginRRectRadii;u&&(l.keyOriginRRectRadii={topRight:(0,d.parseUnits)(u.topRight),topLeft:(0,d.parseUnits)(u.topLeft),bottomLeft:(0,d.parseUnits)(u.bottomLeft),bottomRight:(0,d.parseUnits)(u.bottomRight)});var c=a.keyOriginBoxCorners;c&&(l.keyOriginBoxCorners=[{x:c.rectangleCornerA.Hrzn,y:c.rectangleCornerA.Vrtc},{x:c.rectangleCornerB.Hrzn,y:c.rectangleCornerB.Vrtc},{x:c.rectangleCornerC.Hrzn,y:c.rectangleCornerC.Vrtc},{x:c.rectangleCornerD.Hrzn,y:c.rectangleCornerD.Vrtc}]);var f=a.Trnf;f&&(l.transform=[f.xx,f.xy,f.xy,f.yy,f.tx,f.ty]),t.vectorOrigination.keyDescriptorList.push(l)}(0,s.skipBytes)(e,r())}),(function(e,t){for(var r=t.vectorOrigination,n={keyDescriptorList:[]},i=0;i<r.keyDescriptorList.length;i++){var o=r.keyDescriptorList[i];if(o.keyShapeInvalidated)n.keyDescriptorList.push({keyShapeInvalidated:!0,keyOriginIndex:i});else{n.keyDescriptorList.push({});var a=n.keyDescriptorList[n.keyDescriptorList.length-1];null!=o.keyOriginType&&(a.keyOriginType=o.keyOriginType),null!=o.keyOriginResolution&&(a.keyOriginResolution=o.keyOriginResolution);var s=o.keyOriginRRectRadii;s&&(a.keyOriginRRectRadii={unitValueQuadVersion:1,topRight:(0,d.unitsValue)(s.topRight,"topRight"),topLeft:(0,d.unitsValue)(s.topLeft,"topLeft"),bottomLeft:(0,d.unitsValue)(s.bottomLeft,"bottomLeft"),bottomRight:(0,d.unitsValue)(s.bottomRight,"bottomRight")});var u=o.keyOriginShapeBoundingBox;u&&(a.keyOriginShapeBBox={unitValueQuadVersion:1,"Top ":(0,d.unitsValue)(u.top,"top"),Left:(0,d.unitsValue)(u.left,"left"),Btom:(0,d.unitsValue)(u.bottom,"bottom"),Rght:(0,d.unitsValue)(u.right,"right")});var c=o.keyOriginBoxCorners;c&&4===c.length&&(a.keyOriginBoxCorners={rectangleCornerA:{Hrzn:c[0].x,Vrtc:c[0].y},rectangleCornerB:{Hrzn:c[1].x,Vrtc:c[1].y},rectangleCornerC:{Hrzn:c[2].x,Vrtc:c[2].y},rectangleCornerD:{Hrzn:c[3].x,Vrtc:c[3].y}});var f=o.transform;f&&6===f.length&&(a.Trnf={xx:f[0],xy:f[1],yx:f[2],yy:f[3],tx:f[4],ty:f[5]}),a.keyOriginIndex=i}}(0,l.writeInt32)(e,1),(0,d.writeVersionAndDescriptor)(e,"","null",n)})),f("lmfx",(function(e){return void 0!==e.effects&&K(e.effects)}),(function(e,t,r,n,i){if(0!==(0,s.readUint32)(e))throw new Error("Invalid lmfx version");var o=(0,d.readVersionAndDescriptor)(e);t.effects=Z(o,!!i.logMissingFeatures),(0,s.skipBytes)(e,r())}),(function(e,t,r,n){var i=W(t.effects,!!n.logMissingFeatures,!0);(0,l.writeUint32)(e,0),(0,d.writeVersionAndDescriptor)(e,"","null",i)})),f("lrFX",p("effects"),(function(e,t,r){t.effects||(t.effects=(0,o.readEffects)(e)),(0,s.skipBytes)(e,r())}),(function(e,t){(0,o.writeEffects)(e,t.effects)})),f("luni",p("name"),(function(e,t,r){t.name=(0,s.readUnicodeString)(e),(0,s.skipBytes)(e,r())}),(function(e,t){(0,l.writeUnicodeString)(e,t.name)})),f("lnsr",p("nameSource"),(function(e,t){return t.nameSource=(0,s.readSignature)(e)}),(function(e,t){return(0,l.writeSignature)(e,t.nameSource)})),f("lyid",p("id"),(function(e,t){return t.id=(0,s.readUint32)(e)}),(function(e,t,r,n){for(var i=t.id;-1!==n.layerIds.indexOf(i);)i+=100;(0,l.writeUint32)(e,i),n.layerIds.push(i)})),f("lsct",p("sectionDivider"),(function(e,t,r){t.sectionDivider={type:(0,s.readUint32)(e)},r()&&((0,s.checkSignature)(e,"8BIM"),t.sectionDivider.key=(0,s.readSignature)(e)),r()&&(t.sectionDivider.subType=(0,s.readUint32)(e))}),(function(e,t){(0,l.writeUint32)(e,t.sectionDivider.type),t.sectionDivider.key&&((0,l.writeSignature)(e,"8BIM"),(0,l.writeSignature)(e,t.sectionDivider.key),void 0!==t.sectionDivider.subType&&(0,l.writeUint32)(e,t.sectionDivider.subType))})),h("lsdk","lsct"),f("clbl",p("blendClippendElements"),(function(e,t){t.blendClippendElements=!!(0,s.readUint8)(e),(0,s.skipBytes)(e,3)}),(function(e,t){(0,l.writeUint8)(e,t.blendClippendElements?1:0),(0,l.writeZeros)(e,3)})),f("infx",p("blendInteriorElements"),(function(e,t){t.blendInteriorElements=!!(0,s.readUint8)(e),(0,s.skipBytes)(e,3)}),(function(e,t){(0,l.writeUint8)(e,t.blendInteriorElements?1:0),(0,l.writeZeros)(e,3)})),f("knko",p("knockout"),(function(e,t){t.knockout=!!(0,s.readUint8)(e),(0,s.skipBytes)(e,3)}),(function(e,t){(0,l.writeUint8)(e,t.knockout?1:0),(0,l.writeZeros)(e,3)})),f("lmgm",p("layerMaskAsGlobalMask"),(function(e,t){t.layerMaskAsGlobalMask=!!(0,s.readUint8)(e),(0,s.skipBytes)(e,3)}),(function(e,t){(0,l.writeUint8)(e,t.layerMaskAsGlobalMask?1:0),(0,l.writeZeros)(e,3)})),f("lspf",p("protected"),(function(e,t){var r=(0,s.readUint32)(e);t.protected={transparency:0!=(1&r),composite:0!=(2&r),position:0!=(4&r)},8&r&&(t.protected.artboards=!0)}),(function(e,t){var r=(t.protected.transparency?1:0)|(t.protected.composite?2:0)|(t.protected.position?4:0)|(t.protected.artboards?8:0);(0,l.writeUint32)(e,r)})),f("lclr",p("layerColor"),(function(e,t){var r=(0,s.readUint16)(e);(0,s.skipBytes)(e,6),t.layerColor=a.layerColors[r]}),(function(e,t){var r=a.layerColors.indexOf(t.layerColor);(0,l.writeUint16)(e,-1===r?0:r),(0,l.writeZeros)(e,6)})),f("shmd",p("timestamp"),(function(e,t,r,n,i){for(var o=(0,s.readUint32)(e),a=function(r){(0,s.checkSignature)(e,"8BIM");var n=(0,s.readSignature)(e);(0,s.readUint8)(e),(0,s.skipBytes)(e,3),(0,s.readSection)(e,1,(function(r){if("cust"===n)void 0!==(o=(0,d.readVersionAndDescriptor)(e)).layerTime&&(t.timestamp=o.layerTime);else if("mlst"===n){var o=(0,d.readVersionAndDescriptor)(e);i.logDevFeatures&&console.log("mlst",o)}else if("mdyn"===n){var a=(0,s.readUint16)(e),l=(0,s.readUint8)(e),u=(0,s.readUint8)(e),c=0!=(1&u),f=0!=(2&u),h=0!=(4&u);i.logDevFeatures&&console.log("mdyn","unknown:",a,"propagate:",l,"flags:",u,{unifyLayerPosition:c,unifyLayerStyle:f,unifyLayerVisibility:h})}else i.logDevFeatures&&console.log("Unhandled metadata",n);(0,s.skipBytes)(e,r())}))},l=0;l<o;l++)a();(0,s.skipBytes)(e,r())}),(function(e,t){var r={layerTime:t.timestamp};(0,l.writeUint32)(e,1),(0,l.writeSignature)(e,"8BIM"),(0,l.writeSignature)(e,"cust"),(0,l.writeUint8)(e,0),(0,l.writeZeros)(e,3),(0,l.writeSection)(e,2,(function(){return(0,d.writeVersionAndDescriptor)(e,"","metadata",r)}),!0)})),f("vstk",p("vectorStroke"),(function(e,t,r){var n=(0,d.readVersionAndDescriptor)(e);t.vectorStroke={strokeEnabled:n.strokeEnabled,fillEnabled:n.fillEnabled,lineWidth:(0,d.parseUnits)(n.strokeStyleLineWidth),lineDashOffset:(0,d.parseUnits)(n.strokeStyleLineDashOffset),miterLimit:n.strokeStyleMiterLimit,lineCapType:d.strokeStyleLineCapType.decode(n.strokeStyleLineCapType),lineJoinType:d.strokeStyleLineJoinType.decode(n.strokeStyleLineJoinType),lineAlignment:d.strokeStyleLineAlignment.decode(n.strokeStyleLineAlignment),scaleLock:n.strokeStyleScaleLock,strokeAdjust:n.strokeStyleStrokeAdjust,lineDashSet:n.strokeStyleLineDashSet.map(d.parseUnits),blendMode:d.BlnM.decode(n.strokeStyleBlendMode),opacity:(0,d.parsePercent)(n.strokeStyleOpacity),content:Q(n.strokeStyleContent),resolution:n.strokeStyleResolution},(0,s.skipBytes)(e,r())}),(function(e,t){var r,n,i,o=t.vectorStroke,a={strokeStyleVersion:2,strokeEnabled:!!o.strokeEnabled,fillEnabled:!!o.fillEnabled,strokeStyleLineWidth:o.lineWidth||{value:3,units:"Points"},strokeStyleLineDashOffset:o.lineDashOffset||{value:0,units:"Points"},strokeStyleMiterLimit:null!==(r=o.miterLimit)&&void 0!==r?r:100,strokeStyleLineCapType:d.strokeStyleLineCapType.encode(o.lineCapType),strokeStyleLineJoinType:d.strokeStyleLineJoinType.encode(o.lineJoinType),strokeStyleLineAlignment:d.strokeStyleLineAlignment.encode(o.lineAlignment),strokeStyleScaleLock:!!o.scaleLock,strokeStyleStrokeAdjust:!!o.strokeAdjust,strokeStyleLineDashSet:o.lineDashSet||[],strokeStyleBlendMode:d.BlnM.encode(o.blendMode),strokeStyleOpacity:(0,d.unitsPercent)(null!==(n=o.opacity)&&void 0!==n?n:1),strokeStyleContent:te(o.content||{type:"color",color:{r:0,g:0,b:0}}).descriptor,strokeStyleResolution:null!==(i=o.resolution)&&void 0!==i?i:72};(0,d.writeVersionAndDescriptor)(e,"","strokeStyle",a)})),f("artb",p("artboard"),(function(e,t,r){var n=(0,d.readVersionAndDescriptor)(e),i=n.artboardRect;t.artboard={rect:{top:i["Top "],left:i.Left,bottom:i.Btom,right:i.Rght},guideIndices:n.guideIndeces,presetName:n.artboardPresetName,color:re(n["Clr "]),backgroundType:n.artboardBackgroundType},(0,s.skipBytes)(e,r())}),(function(e,t){var r,n=t.artboard,i=n.rect,o={artboardRect:{"Top ":i.top,Left:i.left,Btom:i.bottom,Rght:i.right},guideIndeces:n.guideIndices||[],artboardPresetName:n.presetName||"","Clr ":ne(n.color),artboardBackgroundType:null!==(r=n.backgroundType)&&void 0!==r?r:1};(0,d.writeVersionAndDescriptor)(e,"","artboard",o)})),f("sn2P",p("usingAlignedRendering"),(function(e,t){return t.usingAlignedRendering=!!(0,s.readUint32)(e)}),(function(e,t){return(0,l.writeUint32)(e,t.usingAlignedRendering?1:0)}));var b=["unknown","vector","raster","image stack"];function k(e){var t,r,n,i,o,a,s={style:d.warpStyle.decode(e.warpStyle),value:e.warpValue||0,perspective:e.warpPerspective||0,perspectiveOther:e.warpPerspectiveOther||0,rotate:d.Ornt.decode(e.warpRotate),bounds:e.bounds&&{top:(0,d.parseUnitsOrNumber)(e.bounds["Top "]),left:(0,d.parseUnitsOrNumber)(e.bounds.Left),bottom:(0,d.parseUnitsOrNumber)(e.bounds.Btom),right:(0,d.parseUnitsOrNumber)(e.bounds.Rght)},uOrder:e.uOrder,vOrder:e.vOrder};null==e.deformNumRows&&null==e.deformNumCols||(s.deformNumRows=e.deformNumRows,s.deformNumCols=e.deformNumCols);var l=e.customEnvelopeWarp;if(l){s.customEnvelopeWarp={meshPoints:[]};for(var u=(null===(t=l.meshPoints.find((function(e){return"Hrzn"===e.type})))||void 0===t?void 0:t.values)||[],c=(null===(r=l.meshPoints.find((function(e){return"Vrtc"===e.type})))||void 0===r?void 0:r.values)||[],f=0;f<u.length;f++)s.customEnvelopeWarp.meshPoints.push({x:u[f],y:c[f]});(l.quiltSliceX||l.quiltSliceY)&&(s.customEnvelopeWarp.quiltSliceX=(null===(i=null===(n=l.quiltSliceX)||void 0===n?void 0:n[0])||void 0===i?void 0:i.values)||[],s.customEnvelopeWarp.quiltSliceY=(null===(a=null===(o=l.quiltSliceY)||void 0===o?void 0:o[0])||void 0===a?void 0:a.values)||[])}return s}function S(e){var t,r;return null!=e.deformNumCols||null!=e.deformNumRows||(null===(t=e.customEnvelopeWarp)||void 0===t?void 0:t.quiltSliceX)||(null===(r=e.customEnvelopeWarp)||void 0===r?void 0:r.quiltSliceY)}function x(e){var t=e.bounds,r={warpStyle:d.warpStyle.encode(e.style),warpValue:e.value||0,warpPerspective:e.perspective||0,warpPerspectiveOther:e.perspectiveOther||0,warpRotate:d.Ornt.encode(e.rotate),bounds:{"Top ":(0,d.unitsValue)(t&&t.top||{units:"Pixels",value:0},"bounds.top"),Left:(0,d.unitsValue)(t&&t.left||{units:"Pixels",value:0},"bounds.left"),Btom:(0,d.unitsValue)(t&&t.bottom||{units:"Pixels",value:0},"bounds.bottom"),Rght:(0,d.unitsValue)(t&&t.right||{units:"Pixels",value:0},"bounds.right")},uOrder:e.uOrder||0,vOrder:e.vOrder||0},n=S(e);n&&((o=r).deformNumRows=e.deformNumRows||0,o.deformNumCols=e.deformNumCols||0);var i=e.customEnvelopeWarp;if(i){var o,a=i.meshPoints||[];if(n)(o=r).customEnvelopeWarp={quiltSliceX:[{type:"quiltSliceX",values:i.quiltSliceX||[]}],quiltSliceY:[{type:"quiltSliceY",values:i.quiltSliceY||[]}],meshPoints:[{type:"Hrzn",values:a.map((function(e){return e.x}))},{type:"Vrtc",values:a.map((function(e){return e.y}))}]};else r.customEnvelopeWarp={meshPoints:[{type:"Hrzn",values:a.map((function(e){return e.x}))},{type:"Vrtc",values:a.map((function(e){return e.y}))}]}}return r}function _(e){return{top:(0,s.readInt32)(e),left:(0,s.readInt32)(e),bottom:(0,s.readInt32)(e),right:(0,s.readInt32)(e)}}function U(e,t){(0,l.writeInt32)(e,t.top),(0,l.writeInt32)(e,t.left),(0,l.writeInt32)(e,t.bottom),(0,l.writeInt32)(e,t.right)}function I(e){return function(t){return!!t.adjustment&&t.adjustment.type===e}}function A(e){return{shadowInput:(0,s.readInt16)(e),highlightInput:(0,s.readInt16)(e),shadowOutput:(0,s.readInt16)(e),highlightOutput:(0,s.readInt16)(e),midtoneInput:(0,s.readInt16)(e)/100}}function E(e,t){(0,l.writeInt16)(e,t.shadowInput),(0,l.writeInt16)(e,t.highlightInput),(0,l.writeInt16)(e,t.shadowOutput),(0,l.writeInt16)(e,t.highlightOutput),(0,l.writeInt16)(e,Math.round(100*t.midtoneInput))}function C(e){for(var t=(0,s.readUint16)(e),r=[],n=0;n<t;n++){var i=(0,s.readInt16)(e),o=(0,s.readInt16)(e);r.push({input:o,output:i})}return r}function B(e,t){(0,l.writeUint16)(e,t.length);for(var r=0,n=t;r<n.length;r++){var i=n[r];(0,l.writeUint16)(e,i.output),(0,l.writeUint16)(e,i.input)}}function P(e){return{a:(0,s.readInt16)(e),b:(0,s.readInt16)(e),c:(0,s.readInt16)(e),d:(0,s.readInt16)(e),hue:(0,s.readInt16)(e),saturation:(0,s.readInt16)(e),lightness:(0,s.readInt16)(e)}}function D(e,t){var r=t||{};(0,l.writeInt16)(e,r.a||0),(0,l.writeInt16)(e,r.b||0),(0,l.writeInt16)(e,r.c||0),(0,l.writeInt16)(e,r.d||0),(0,l.writeInt16)(e,r.hue||0),(0,l.writeInt16)(e,r.saturation||0),(0,l.writeInt16)(e,r.lightness||0)}function M(e){return{cyanRed:(0,s.readInt16)(e),magentaGreen:(0,s.readInt16)(e),yellowBlue:(0,s.readInt16)(e)}}function F(e,t){(0,l.writeInt16)(e,t.cyanRed||0),(0,l.writeInt16)(e,t.magentaGreen||0),(0,l.writeInt16)(e,t.yellowBlue||0)}function O(e){var t=(0,s.readInt16)(e),r=(0,s.readInt16)(e),n=(0,s.readInt16)(e);return(0,s.skipBytes)(e,2),{red:t,green:r,blue:n,constant:(0,s.readInt16)(e)}}function R(e,t){var r=t||{};(0,l.writeInt16)(e,r.red),(0,l.writeInt16)(e,r.green),(0,l.writeInt16)(e,r.blue),(0,l.writeZeros)(e,2),(0,l.writeInt16)(e,r.constant)}f("PlLd",p("placedLayer"),(function(e,t,r){if("plcL"!==(0,s.readSignature)(e))throw new Error("Invalid PlLd signature");if(3!==(0,s.readInt32)(e))throw new Error("Invalid PlLd version");var n=(0,s.readPascalString)(e,1);(0,s.readInt32)(e),(0,s.readInt32)(e),(0,s.readInt32)(e);var i=(0,s.readInt32)(e);if(!b[i])throw new Error("Invalid PlLd type");for(var o=[],a=0;a<8;a++)o.push((0,s.readFloat64)(e));var l=(0,s.readInt32)(e);if(0!==l)throw new Error("Invalid Warp version ".concat(l));var u=(0,d.readVersionAndDescriptor)(e);t.placedLayer=t.placedLayer||{id:n,type:b[i],transform:o,warp:k(u)},(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.placedLayer;if((0,l.writeSignature)(e,"plcL"),(0,l.writeInt32)(e,3),(0,l.writePascalString)(e,r.id,1),(0,l.writeInt32)(e,1),(0,l.writeInt32)(e,1),(0,l.writeInt32)(e,16),-1===b.indexOf(r.type))throw new Error("Invalid placedLayer type");(0,l.writeInt32)(e,b.indexOf(r.type));for(var n=0;n<8;n++)(0,l.writeFloat64)(e,r.transform[n]);(0,l.writeInt32)(e,0);var i=r.warp&&S(r.warp)?"quiltWarp":"warp";(0,d.writeVersionAndDescriptor)(e,"",i,x(r.warp||{}),i)})),f("SoLd",p("placedLayer"),(function(e,t,r){if("soLD"!==(0,s.readSignature)(e))throw new Error("Invalid SoLd type");if(4!==(0,s.readInt32)(e))throw new Error("Invalid SoLd version");var n=(0,d.readVersionAndDescriptor)(e);t.placedLayer={id:n.Idnt,placed:n.placed,type:b[n.Type],transform:n.Trnf,width:n["Sz  "].Wdth,height:n["Sz  "].Hght,resolution:(0,d.parseUnits)(n.Rslt),warp:k(n.quiltWarp||n.warp)},n.nonAffineTransform&&n.nonAffineTransform.some((function(e,t){return e!==n.Trnf[t]}))&&(t.placedLayer.nonAffineTransform=n.nonAffineTransform),n.Crop&&(t.placedLayer.crop=n.Crop),n.comp&&(t.placedLayer.comp=n.comp),n.compInfo&&(t.placedLayer.compInfo=n.compInfo),(0,s.skipBytes)(e,r())}),(function(e,t){var r,i;(0,l.writeSignature)(e,"soLD"),(0,l.writeInt32)(e,4);var o=t.placedLayer,a=n(n({Idnt:o.id,placed:null!==(r=o.placed)&&void 0!==r?r:o.id,PgNm:1,totalPages:1},o.crop?{Crop:o.crop}:{}),{frameStep:{numerator:0,denominator:600},duration:{numerator:0,denominator:600},frameCount:1,Annt:16,Type:b.indexOf(o.type),Trnf:o.transform,nonAffineTransform:null!==(i=o.nonAffineTransform)&&void 0!==i?i:o.transform,quiltWarp:{},warp:x(o.warp||{}),"Sz  ":{Wdth:o.width||0,Hght:o.height||0},Rslt:o.resolution?(0,d.unitsValue)(o.resolution,"resolution"):{units:"Density",value:72}});if(o.warp&&S(o.warp)){var s=x(o.warp);a.quiltWarp=s,a.warp={warpStyle:"warpStyle.warpNone",warpValue:s.warpValue,warpPerspective:s.warpPerspective,warpPerspectiveOther:s.warpPerspectiveOther,warpRotate:s.warpRotate,bounds:s.bounds,uOrder:s.uOrder,vOrder:s.vOrder}}else delete a.quiltWarp;o.comp&&(a.comp=o.comp),o.compInfo&&(a.compInfo=o.compInfo),(0,d.writeVersionAndDescriptor)(e,"","null",a,a.quiltWarp?"quiltWarp":"warp")})),f("fxrp",p("referencePoint"),(function(e,t){t.referencePoint={x:(0,s.readFloat64)(e),y:(0,s.readFloat64)(e)}}),(function(e,t){(0,l.writeFloat64)(e,t.referencePoint.x),(0,l.writeFloat64)(e,t.referencePoint.y)})),a.MOCK_HANDLERS?f("Patt",(function(e){return void 0!==e._Patt}),(function(e,t,r){t._Patt=(0,s.readBytes)(e,r())}),(function(e,t){return!1})):f("Patt",(function(e){return!e}),(function(e,t,r){r()&&(0,s.skipBytes)(e,r())}),(function(e,t){})),f("Anno",(function(e){return void 0!==e.annotations}),(function(e,t,r){var n=(0,s.readUint16)(e),i=(0,s.readUint16)(e);if(2!==n||1!==i)throw new Error("Invalid Anno version");for(var o=(0,s.readUint32)(e),a=[],l=0;l<o;l++){(0,s.readUint32)(e);var d=(0,s.readSignature)(e),u=!!(0,s.readUint8)(e);(0,s.readUint8)(e),(0,s.readUint16)(e);var c=_(e),f=_(e),h=(0,s.readColor)(e),p=(0,s.readPascalString)(e,2),g=(0,s.readPascalString)(e,2),v=(0,s.readPascalString)(e,2);(0,s.readUint32)(e),(0,s.readSignature)(e);var w=(0,s.readUint32)(e),y=void 0;if("txtA"===d)w>=2&&65279===(0,s.readUint16)(e)?y=(0,s.readUnicodeStringWithLength)(e,(w-2)/2):(e.offset-=2,y=(0,s.readAsciiString)(e,w)),y=y.replace(/\r/g,"\n");else{if("sndA"!==d)throw new Error("Unknown annotation type");y=(0,s.readBytes)(e,w)}a.push({type:"txtA"===d?"text":"sound",open:u,iconLocation:c,popupLocation:f,color:h,author:p,name:g,date:v,data:y})}t.annotations=a,(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.annotations;(0,l.writeUint16)(e,2),(0,l.writeUint16)(e,1),(0,l.writeUint32)(e,r.length);for(var n=0,i=r;n<i.length;n++){var o=i[n],a="sound"===o.type;if(a&&!(o.data instanceof Uint8Array))throw new Error("Sound annotation data should be Uint8Array");if(!a&&"string"!=typeof o.data)throw new Error("Text annotation data should be string");var s=e.offset;(0,l.writeUint32)(e,0),(0,l.writeSignature)(e,a?"sndA":"txtA"),(0,l.writeUint8)(e,o.open?1:0),(0,l.writeUint8)(e,28),(0,l.writeUint16)(e,1),U(e,o.iconLocation),U(e,o.popupLocation),(0,l.writeColor)(e,o.color),(0,l.writePascalString)(e,o.author||"",2),(0,l.writePascalString)(e,o.name||"",2),(0,l.writePascalString)(e,o.date||"",2);var d=e.offset;(0,l.writeUint32)(e,0),(0,l.writeSignature)(e,a?"sndM":"txtC"),(0,l.writeUint32)(e,0);var u=e.offset;if(a)(0,l.writeBytes)(e,o.data);else{(0,l.writeUint16)(e,65279);for(var c=o.data.replace(/\n/g,"\r"),f=0;f<c.length;f++)(0,l.writeUint16)(e,c.charCodeAt(f))}e.view.setUint32(s,e.offset-s,!1),e.view.setUint32(d,e.offset-d,!1),e.view.setUint32(u-4,e.offset-u,!1)}})),f("lnk2",(function(e){return!!e.linkedFiles&&e.linkedFiles.length>0}),(function(e,t,r,n,i){var o=t;for(o.linkedFiles=[];r()>8;){var a=g(e),l=e.offset,u=(0,s.readSignature)(e),c=(0,s.readInt32)(e),f=(0,s.readPascalString)(e,1),h=(0,s.readUnicodeString)(e),p=(0,s.readSignature)(e).trim(),v=(0,s.readSignature)(e).trim(),w=g(e),y=(0,s.readUint8)(e)?(0,d.readVersionAndDescriptor)(e):void 0,m=("liFE"===u&&(0,d.readVersionAndDescriptor)(e),{id:f,name:h,data:void 0});if(p&&(m.type=p),v&&(m.creator=v),y&&(m.descriptor=y),"liFE"===u&&c>3){var b=(0,s.readInt32)(e),k=(0,s.readUint8)(e),S=(0,s.readUint8)(e),x=(0,s.readUint8)(e),_=(0,s.readUint8)(e),U=(0,s.readFloat64)(e),I=Math.floor(U),A=1e3*(U-I);m.time=new Date(b,k,S,x,_,I,A)}var E="liFE"===u?g(e):0;for("liFA"===u&&(0,s.skipBytes)(e,8),"liFD"===u&&(m.data=(0,s.readBytes)(e,w)),c>=5&&(m.childDocumentID=(0,s.readUnicodeString)(e)),c>=6&&(m.assetModTime=(0,s.readFloat64)(e)),c>=7&&(m.assetLockedState=(0,s.readUint8)(e)),"liFE"===u&&(m.data=(0,s.readBytes)(e,E)),i.skipLinkedFilesData&&(m.data=void 0),o.linkedFiles.push(m);a%4;)a++;e.offset=l+a}(0,s.skipBytes)(e,r())}),(function(e,t){for(var r=0,n=t.linkedFiles;r<n.length;r++){var i=n[r],o=2;null!=i.assetLockedState?o=7:null!=i.assetModTime?o=6:null!=i.childDocumentID&&(o=5),(0,l.writeUint32)(e,0),(0,l.writeUint32)(e,0);var a=e.offset;if((0,l.writeSignature)(e,i.data?"liFD":"liFA"),(0,l.writeInt32)(e,o),(0,l.writePascalString)(e,i.id||"",1),(0,l.writeUnicodeStringWithPadding)(e,i.name||""),(0,l.writeSignature)(e,i.type?"".concat(i.type,"    ").substring(0,4):"    "),(0,l.writeSignature)(e,i.creator?"".concat(i.creator,"    ").substring(0,4):"\0\0\0\0"),v(e,i.data?i.data.byteLength:0),i.descriptor&&i.descriptor.compInfo){var s={compInfo:i.descriptor.compInfo};(0,l.writeUint8)(e,1),(0,d.writeVersionAndDescriptor)(e,"","null",s)}else(0,l.writeUint8)(e,0);i.data?(0,l.writeBytes)(e,i.data):v(e,0),o>=5&&(0,l.writeUnicodeStringWithPadding)(e,i.childDocumentID||""),o>=6&&(0,l.writeFloat64)(e,i.assetModTime||0),o>=7&&(0,l.writeUint8)(e,i.assetLockedState||0);var u=e.offset-a;for(e.view.setUint32(a-4,u,!1);u%4;)u++,(0,l.writeUint8)(e,0)}})),h("lnkD","lnk2"),h("lnk3","lnk2"),f("lnkE",(function(e){return void 0!==e._lnkE}),(function(e,t,r,n,i){i.logMissingFeatures&&r()&&console.log("Non-empty lnkE layer info (".concat(r()," bytes)")),a.MOCK_HANDLERS&&(t._lnkE=(0,s.readBytes)(e,r()))}),(function(e,t){return a.MOCK_HANDLERS&&(0,l.writeBytes)(e,t._lnkE)})),f("pths",p("pathList"),(function(e,t){(0,d.readVersionAndDescriptor)(e);t.pathList=[]}),(function(e,t){(0,d.writeVersionAndDescriptor)(e,"","pathsDataClass",{pathList:[]})})),f("lyvr",p("version"),(function(e,t){return t.version=(0,s.readUint32)(e)}),(function(e,t){return(0,l.writeUint32)(e,t.version)})),f("brit",I("brightness/contrast"),(function(e,t,r){t.adjustment||(t.adjustment={type:"brightness/contrast",brightness:(0,s.readInt16)(e),contrast:(0,s.readInt16)(e),meanValue:(0,s.readInt16)(e),labColorOnly:!!(0,s.readUint8)(e),useLegacy:!0}),(0,s.skipBytes)(e,r())}),(function(e,t){var r,n=t.adjustment;(0,l.writeInt16)(e,n.brightness||0),(0,l.writeInt16)(e,n.contrast||0),(0,l.writeInt16)(e,null!==(r=n.meanValue)&&void 0!==r?r:127),(0,l.writeUint8)(e,n.labColorOnly?1:0),(0,l.writeZeros)(e,1)})),f("levl",I("levels"),(function(e,t,r){if(2!==(0,s.readUint16)(e))throw new Error("Invalid levl version");t.adjustment=n(n({},t.adjustment),{type:"levels",rgb:A(e),red:A(e),green:A(e),blue:A(e)}),(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.adjustment,n={shadowInput:0,highlightInput:255,shadowOutput:0,highlightOutput:255,midtoneInput:1};(0,l.writeUint16)(e,2),E(e,r.rgb||n),E(e,r.red||n),E(e,r.blue||n),E(e,r.green||n);for(var i=0;i<59;i++)E(e,n)})),f("curv",I("curves"),(function(e,t,r){if((0,s.readUint8)(e),1!==(0,s.readUint16)(e))throw new Error("Invalid curv version");(0,s.readUint16)(e);var i=(0,s.readUint16)(e),o={type:"curves"};1&i&&(o.rgb=C(e)),2&i&&(o.red=C(e)),4&i&&(o.green=C(e)),8&i&&(o.blue=C(e)),t.adjustment=n(n({},t.adjustment),o),(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.adjustment,n=r.rgb,i=r.red,o=r.green,a=r.blue,s=0,d=0;n&&n.length&&(s|=1,d++),i&&i.length&&(s|=2,d++),o&&o.length&&(s|=4,d++),a&&a.length&&(s|=8,d++),(0,l.writeUint8)(e,0),(0,l.writeUint16)(e,1),(0,l.writeUint16)(e,0),(0,l.writeUint16)(e,s),n&&n.length&&B(e,n),i&&i.length&&B(e,i),o&&o.length&&B(e,o),a&&a.length&&B(e,a),(0,l.writeSignature)(e,"Crv "),(0,l.writeUint16)(e,4),(0,l.writeUint16)(e,0),(0,l.writeUint16)(e,d),n&&n.length&&((0,l.writeUint16)(e,0),B(e,n)),i&&i.length&&((0,l.writeUint16)(e,1),B(e,i)),o&&o.length&&((0,l.writeUint16)(e,2),B(e,o)),a&&a.length&&((0,l.writeUint16)(e,3),B(e,a)),(0,l.writeZeros)(e,2)})),f("expA",I("exposure"),(function(e,t,r){if(1!==(0,s.readUint16)(e))throw new Error("Invalid expA version");t.adjustment=n(n({},t.adjustment),{type:"exposure",exposure:(0,s.readFloat32)(e),offset:(0,s.readFloat32)(e),gamma:(0,s.readFloat32)(e)}),(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.adjustment;(0,l.writeUint16)(e,1),(0,l.writeFloat32)(e,r.exposure),(0,l.writeFloat32)(e,r.offset),(0,l.writeFloat32)(e,r.gamma),(0,l.writeZeros)(e,2)})),f("vibA",I("vibrance"),(function(e,t,r){var n=(0,d.readVersionAndDescriptor)(e);t.adjustment={type:"vibrance"},void 0!==n.vibrance&&(t.adjustment.vibrance=n.vibrance),void 0!==n.Strt&&(t.adjustment.saturation=n.Strt),(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.adjustment,n={};void 0!==r.vibrance&&(n.vibrance=r.vibrance),void 0!==r.saturation&&(n.Strt=r.saturation),(0,d.writeVersionAndDescriptor)(e,"","null",n)})),f("hue2",I("hue/saturation"),(function(e,t,r){if(2!==(0,s.readUint16)(e))throw new Error("Invalid hue2 version");t.adjustment=n(n({},t.adjustment),{type:"hue/saturation",master:P(e),reds:P(e),yellows:P(e),greens:P(e),cyans:P(e),blues:P(e),magentas:P(e)}),(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.adjustment;(0,l.writeUint16)(e,2),D(e,r.master),D(e,r.reds),D(e,r.yellows),D(e,r.greens),D(e,r.cyans),D(e,r.blues),D(e,r.magentas)})),f("blnc",I("color balance"),(function(e,t,r){t.adjustment={type:"color balance",shadows:M(e),midtones:M(e),highlights:M(e),preserveLuminosity:!!(0,s.readUint8)(e)},(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.adjustment;F(e,r.shadows||{}),F(e,r.midtones||{}),F(e,r.highlights||{}),(0,l.writeUint8)(e,r.preserveLuminosity?1:0),(0,l.writeZeros)(e,1)})),f("blwh",I("black & white"),(function(e,t,r){var n=(0,d.readVersionAndDescriptor)(e);t.adjustment={type:"black & white",reds:n["Rd  "],yellows:n.Yllw,greens:n["Grn "],cyans:n["Cyn "],blues:n["Bl  "],magentas:n.Mgnt,useTint:!!n.useTint,presetKind:n.bwPresetKind,presetFileName:n.blackAndWhitePresetFileName},void 0!==n.tintColor&&(t.adjustment.tintColor=re(n.tintColor)),(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.adjustment,n={"Rd  ":r.reds||0,Yllw:r.yellows||0,"Grn ":r.greens||0,"Cyn ":r.cyans||0,"Bl  ":r.blues||0,Mgnt:r.magentas||0,useTint:!!r.useTint,tintColor:ne(r.tintColor),bwPresetKind:r.presetKind||0,blackAndWhitePresetFileName:r.presetFileName||""};(0,d.writeVersionAndDescriptor)(e,"","null",n)})),f("phfl",I("photo filter"),(function(e,t,r){var n,i=(0,s.readUint16)(e);if(2!==i&&3!==i)throw new Error("Invalid phfl version");n=2===i?(0,s.readColor)(e):{l:(0,s.readInt32)(e)/100,a:(0,s.readInt32)(e)/100,b:(0,s.readInt32)(e)/100},t.adjustment={type:"photo filter",color:n,density:(0,s.readUint32)(e)/100,preserveLuminosity:!!(0,s.readUint8)(e)},(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.adjustment;(0,l.writeUint16)(e,2),(0,l.writeColor)(e,r.color||{l:0,a:0,b:0}),(0,l.writeUint32)(e,100*(r.density||0)),(0,l.writeUint8)(e,r.preserveLuminosity?1:0),(0,l.writeZeros)(e,3)})),f("mixr",I("channel mixer"),(function(e,t,r){if(1!==(0,s.readUint16)(e))throw new Error("Invalid mixr version");var i=t.adjustment=n(n({},t.adjustment),{type:"channel mixer",monochrome:!!(0,s.readUint16)(e)});i.monochrome||(i.red=O(e),i.green=O(e),i.blue=O(e)),i.gray=O(e),(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.adjustment;(0,l.writeUint16)(e,1),(0,l.writeUint16)(e,r.monochrome?1:0),r.monochrome?(R(e,r.gray),(0,l.writeZeros)(e,30)):(R(e,r.red),R(e,r.green),R(e,r.blue),R(e,r.gray))}));var L=(0,a.createEnum)("colorLookupType","3DLUT",{"3dlut":"3DLUT",abstractProfile:"abstractProfile",deviceLinkProfile:"deviceLinkProfile"}),T=(0,a.createEnum)("LUTFormatType","look",{look:"LUTFormatLOOK",cube:"LUTFormatCUBE","3dl":"LUTFormat3DL"}),z=(0,a.createEnum)("colorLookupOrder","rgb",{rgb:"rgbOrder",bgr:"bgrOrder"});f("clrL",I("color lookup"),(function(e,t,r){if(1!==(0,s.readUint16)(e))throw new Error("Invalid clrL version");var n=(0,d.readVersionAndDescriptor)(e);t.adjustment={type:"color lookup"};var i=t.adjustment;void 0!==n.lookupType&&(i.lookupType=L.decode(n.lookupType)),void 0!==n["Nm  "]&&(i.name=n["Nm  "]),void 0!==n.Dthr&&(i.dither=n.Dthr),void 0!==n.profile&&(i.profile=n.profile),void 0!==n.LUTFormat&&(i.lutFormat=T.decode(n.LUTFormat)),void 0!==n.dataOrder&&(i.dataOrder=z.decode(n.dataOrder)),void 0!==n.tableOrder&&(i.tableOrder=z.decode(n.tableOrder)),void 0!==n.LUT3DFileData&&(i.lut3DFileData=n.LUT3DFileData),void 0!==n.LUT3DFileName&&(i.lut3DFileName=n.LUT3DFileName),(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.adjustment,n={};void 0!==r.lookupType&&(n.lookupType=L.encode(r.lookupType)),void 0!==r.name&&(n["Nm  "]=r.name),void 0!==r.dither&&(n.Dthr=r.dither),void 0!==r.profile&&(n.profile=r.profile),void 0!==r.lutFormat&&(n.LUTFormat=T.encode(r.lutFormat)),void 0!==r.dataOrder&&(n.dataOrder=z.encode(r.dataOrder)),void 0!==r.tableOrder&&(n.tableOrder=z.encode(r.tableOrder)),void 0!==r.lut3DFileData&&(n.LUT3DFileData=r.lut3DFileData),void 0!==r.lut3DFileName&&(n.LUT3DFileName=r.lut3DFileName),(0,l.writeUint16)(e,1),(0,d.writeVersionAndDescriptor)(e,"","null",n)})),f("nvrt",I("invert"),(function(e,t,r){t.adjustment={type:"invert"},(0,s.skipBytes)(e,r())}),(function(){})),f("post",I("posterize"),(function(e,t,r){t.adjustment={type:"posterize",levels:(0,s.readUint16)(e)},(0,s.skipBytes)(e,r())}),(function(e,t){var r,n=t.adjustment;(0,l.writeUint16)(e,null!==(r=n.levels)&&void 0!==r?r:4),(0,l.writeZeros)(e,2)})),f("thrs",I("threshold"),(function(e,t,r){t.adjustment={type:"threshold",level:(0,s.readUint16)(e)},(0,s.skipBytes)(e,r())}),(function(e,t){var r,n=t.adjustment;(0,l.writeUint16)(e,null!==(r=n.level)&&void 0!==r?r:128),(0,l.writeZeros)(e,2)}));var N=["","","","rgb","hsb","","lab"];function j(e){return{c:(0,s.readInt16)(e),m:(0,s.readInt16)(e),y:(0,s.readInt16)(e),k:(0,s.readInt16)(e)}}function V(e,t){var r=t||{};(0,l.writeInt16)(e,r.c),(0,l.writeInt16)(e,r.m),(0,l.writeInt16)(e,r.y),(0,l.writeInt16)(e,r.k)}function G(e){var t={enabled:!!e.enab,position:d.FStl.decode(e.Styl),fillType:d.FrFl.decode(e.PntT),blendMode:d.BlnM.decode(e["Md  "]),opacity:(0,d.parsePercent)(e.Opct),size:(0,d.parseUnits)(e["Sz  "])};return void 0!==e.present&&(t.present=e.present),void 0!==e.showInDialog&&(t.showInDialog=e.showInDialog),void 0!==e.overprint&&(t.overprint=e.overprint),e["Clr "]&&(t.color=re(e["Clr "])),e.Grad&&(t.gradient=q(e)),e.Ptrn&&(t.pattern=J(e)),t}function H(e){var t={};return t.enab=!!e.enabled,void 0!==e.present&&(t.present=!!e.present),void 0!==e.showInDialog&&(t.showInDialog=!!e.showInDialog),t.Styl=d.FStl.encode(e.position),t.PntT=d.FrFl.encode(e.fillType),t["Md  "]=d.BlnM.encode(e.blendMode),t.Opct=(0,d.unitsPercent)(e.opacity),t["Sz  "]=(0,d.unitsValue)(e.size,"size"),e.color&&(t["Clr "]=ne(e.color)),e.gradient&&(t=n(n({},t),$(e.gradient))),e.pattern&&(t=n(n({},t),ee(e.pattern))),void 0!==e.overprint&&(t.overprint=!!e.overprint),t}function Z(e,t){var r={};return e.masterFXSwitch||(r.disabled=!0),e["Scl "]&&(r.scale=(0,d.parsePercent)(e["Scl "])),e.DrSh&&(r.dropShadow=[ie(e.DrSh,t)]),e.dropShadowMulti&&(r.dropShadow=e.dropShadowMulti.map((function(e){return ie(e,t)}))),e.IrSh&&(r.innerShadow=[ie(e.IrSh,t)]),e.innerShadowMulti&&(r.innerShadow=e.innerShadowMulti.map((function(e){return ie(e,t)}))),e.OrGl&&(r.outerGlow=ie(e.OrGl,t)),e.IrGl&&(r.innerGlow=ie(e.IrGl,t)),e.ebbl&&(r.bevel=ie(e.ebbl,t)),e.SoFi&&(r.solidFill=[ie(e.SoFi,t)]),e.solidFillMulti&&(r.solidFill=e.solidFillMulti.map((function(e){return ie(e,t)}))),e.patternFill&&(r.patternOverlay=ie(e.patternFill,t)),e.GrFl&&(r.gradientOverlay=[ie(e.GrFl,t)]),e.gradientFillMulti&&(r.gradientOverlay=e.gradientFillMulti.map((function(e){return ie(e,t)}))),e.ChFX&&(r.satin=ie(e.ChFX,t)),e.FrFX&&(r.stroke=[G(e.FrFX)]),e.frameFXMulti&&(r.stroke=e.frameFXMulti.map((function(e){return G(e)}))),r}function W(e,t,r){for(var n,i,o,a,s,l,u,c,f,h,p,g,v,w=r?{"Scl ":(0,d.unitsPercent)(null!==(n=e.scale)&&void 0!==n?n:1),masterFXSwitch:!e.disabled}:{masterFXSwitch:!e.disabled,"Scl ":(0,d.unitsPercent)(null!==(i=e.scale)&&void 0!==i?i:1)},y=0,m=["dropShadow","innerShadow","solidFill","gradientOverlay","stroke"];y<m.length;y++){if(e[S=m[y]]&&!Array.isArray(e[S]))throw new Error("".concat(S," should be an array"))}if((null===(o=e.dropShadow)||void 0===o?void 0:o[0])&&!r&&(w.DrSh=oe(e.dropShadow[0],"dropShadow",t)),(null===(a=e.dropShadow)||void 0===a?void 0:a[0])&&r&&(w.dropShadowMulti=e.dropShadow.map((function(e){return oe(e,"dropShadow",t)}))),(null===(s=e.innerShadow)||void 0===s?void 0:s[0])&&!r&&(w.IrSh=oe(e.innerShadow[0],"innerShadow",t)),(null===(l=e.innerShadow)||void 0===l?void 0:l[0])&&r&&(w.innerShadowMulti=e.innerShadow.map((function(e){return oe(e,"innerShadow",t)}))),e.outerGlow&&(w.OrGl=oe(e.outerGlow,"outerGlow",t)),(null===(u=e.solidFill)||void 0===u?void 0:u[0])&&r&&(w.solidFillMulti=e.solidFill.map((function(e){return oe(e,"solidFill",t)}))),(null===(c=e.gradientOverlay)||void 0===c?void 0:c[0])&&r&&(w.gradientFillMulti=e.gradientOverlay.map((function(e){return oe(e,"gradientOverlay",t)}))),(null===(f=e.stroke)||void 0===f?void 0:f[0])&&r&&(w.frameFXMulti=e.stroke.map((function(e){return H(e)}))),e.innerGlow&&(w.IrGl=oe(e.innerGlow,"innerGlow",t)),e.bevel&&(w.ebbl=oe(e.bevel,"bevel",t)),(null===(h=e.solidFill)||void 0===h?void 0:h[0])&&!r&&(w.SoFi=oe(e.solidFill[0],"solidFill",t)),e.patternOverlay&&(w.patternFill=oe(e.patternOverlay,"patternOverlay",t)),(null===(p=e.gradientOverlay)||void 0===p?void 0:p[0])&&!r&&(w.GrFl=oe(e.gradientOverlay[0],"gradientOverlay",t)),e.satin&&(w.ChFX=oe(e.satin,"satin",t)),(null===(g=e.stroke)||void 0===g?void 0:g[0])&&!r&&(w.FrFX=H(null===(v=e.stroke)||void 0===v?void 0:v[0])),r){w.numModifyingFX=0;for(var b=0,k=Object.keys(e);b<k.length;b++){var S,x=e[S=k[b]];if(Array.isArray(x))for(var _=0,U=x;_<U.length;_++){U[_].enabled&&w.numModifyingFX++}}}return w}function K(e){return Object.keys(e).map((function(t){return e[t]})).some((function(e){return Array.isArray(e)&&e.length>1}))}function X(e){if("GrdF.CstS"===e.GrdF){var t=e.Intr||4096;return{type:"solid",name:e["Nm  "],smoothness:e.Intr/4096,colorStops:e.Clrs.map((function(e){return{color:re(e["Clr "]),location:e.Lctn/t,midpoint:e.Mdpn/100}})),opacityStops:e.Trns.map((function(e){return{opacity:(0,d.parsePercent)(e.Opct),location:e.Lctn/t,midpoint:e.Mdpn/100}}))}}return{type:"noise",name:e["Nm  "],roughness:e.Smth/4096,colorModel:d.ClrS.decode(e.ClrS),randomSeed:e.RndS,restrictColors:!!e.VctC,addTransparency:!!e.ShTr,min:e["Mnm "].map((function(e){return e/100})),max:e["Mxm "].map((function(e){return e/100}))}}function Y(e){var t,r;if("solid"===e.type){var n=Math.round(4096*(null!==(t=e.smoothness)&&void 0!==t?t:1));return{"Nm  ":e.name||"",GrdF:"GrdF.CstS",Intr:n,Clrs:e.colorStops.map((function(e){var t;return{"Clr ":ne(e.color),Type:"Clry.UsrS",Lctn:Math.round(e.location*n),Mdpn:Math.round(100*(null!==(t=e.midpoint)&&void 0!==t?t:.5))}})),Trns:e.opacityStops.map((function(e){var t;return{Opct:(0,d.unitsPercent)(e.opacity),Lctn:Math.round(e.location*n),Mdpn:Math.round(100*(null!==(t=e.midpoint)&&void 0!==t?t:.5))}}))}}return{GrdF:"GrdF.ClNs","Nm  ":e.name||"",ShTr:!!e.addTransparency,VctC:!!e.restrictColors,ClrS:d.ClrS.encode(e.colorModel),RndS:e.randomSeed||0,Smth:Math.round(4096*(null!==(r=e.roughness)&&void 0!==r?r:1)),"Mnm ":(e.min||[0,0,0,0]).map((function(e){return 100*e})),"Mxm ":(e.max||[1,1,1,1]).map((function(e){return 100*e}))}}function q(e){var t=X(e.Grad);return t.style=d.GrdT.decode(e.Type),void 0!==e.Dthr&&(t.dither=e.Dthr),void 0!==e.Rvrs&&(t.reverse=e.Rvrs),void 0!==e.Angl&&(t.angle=(0,d.parseAngle)(e.Angl)),void 0!==e["Scl "]&&(t.scale=(0,d.parsePercent)(e["Scl "])),void 0!==e.Algn&&(t.align=e.Algn),void 0!==e.Ofst&&(t.offset={x:(0,d.parsePercent)(e.Ofst.Hrzn),y:(0,d.parsePercent)(e.Ofst.Vrtc)}),t}function J(e){var t={name:e.Ptrn["Nm  "],id:e.Ptrn.Idnt};return void 0!==e.Lnkd&&(t.linked=e.Lnkd),void 0!==e.phase&&(t.phase={x:e.phase.Hrzn,y:e.phase.Vrtc}),t}function Q(e){if("Grad"in e)return q(e);if("Ptrn"in e)return n({type:"pattern"},J(e));if("Clr "in e)return{type:"color",color:re(e["Clr "])};throw new Error("Invalid vector content")}function $(e){var t={};return void 0!==e.dither&&(t.Dthr=e.dither),void 0!==e.reverse&&(t.Rvrs=e.reverse),void 0!==e.angle&&(t.Angl=(0,d.unitsAngle)(e.angle)),t.Type=d.GrdT.encode(e.style),void 0!==e.align&&(t.Algn=e.align),void 0!==e.scale&&(t["Scl "]=(0,d.unitsPercent)(e.scale)),e.offset&&(t.Ofst={Hrzn:(0,d.unitsPercent)(e.offset.x),Vrtc:(0,d.unitsPercent)(e.offset.y)}),t.Grad=Y(e),t}function ee(e){var t={Ptrn:{"Nm  ":e.name||"",Idnt:e.id||""}};return void 0!==e.linked&&(t.Lnkd=!!e.linked),void 0!==e.phase&&(t.phase={Hrzn:e.phase.x,Vrtc:e.phase.y}),t}function te(e){return"color"===e.type?{key:"SoCo",descriptor:{"Clr ":ne(e.color)}}:"pattern"===e.type?{key:"PtFl",descriptor:ee(e)}:{key:"GdFl",descriptor:$(e)}}function re(e){if("H   "in e)return{h:(0,d.parsePercentOrAngle)(e["H   "]),s:e.Strt,b:e.Brgh};if("Rd  "in e)return{r:e["Rd  "],g:e["Grn "],b:e["Bl  "]};if("Cyn "in e)return{c:e["Cyn "],m:e.Mgnt,y:e["Ylw "],k:e.Blck};if("Gry "in e)return{k:e["Gry "]};if("Lmnc"in e)return{l:e.Lmnc,a:e["A   "],b:e["B   "]};throw new Error("Unsupported color descriptor")}function ne(e){if(e){if("r"in e)return{"Rd  ":e.r||0,"Grn ":e.g||0,"Bl  ":e.b||0};if("h"in e)return{"H   ":(0,d.unitsAngle)(360*e.h),Strt:e.s||0,Brgh:e.b||0};if("c"in e)return{"Cyn ":e.c||0,Mgnt:e.m||0,"Ylw ":e.y||0,Blck:e.k||0};if("l"in e)return{Lmnc:e.l||0,"A   ":e.a||0,"B   ":e.b||0};if("k"in e)return{"Gry ":e.k};throw new Error("Invalid color value")}return{"Rd  ":0,"Grn ":0,"Bl  ":0}}function ie(e,t){for(var r={},n=0,i=Object.keys(e);n<i.length;n++){var o=i[n],a=e[o];switch(o){case"enab":r.enabled=!!a;break;case"uglg":r.useGlobalLight=!!a;break;case"AntA":r.antialiased=!!a;break;case"Algn":r.align=!!a;break;case"Dthr":r.dither=!!a;break;case"Invr":r.invert=!!a;break;case"Rvrs":r.reverse=!!a;break;case"Clr ":r.color=re(a);break;case"hglC":r.highlightColor=re(a);break;case"sdwC":r.shadowColor=re(a);break;case"Styl":r.position=d.FStl.decode(a);break;case"Md  ":r.blendMode=d.BlnM.decode(a);break;case"hglM":r.highlightBlendMode=d.BlnM.decode(a);break;case"sdwM":r.shadowBlendMode=d.BlnM.decode(a);break;case"bvlS":r.style=d.BESl.decode(a);break;case"bvlD":r.direction=d.BESs.decode(a);break;case"bvlT":r.technique=d.bvlT.decode(a);break;case"GlwT":r.technique=d.BETE.decode(a);break;case"glwS":r.source=d.IGSr.decode(a);break;case"Type":r.type=d.GrdT.decode(a);break;case"gs99":r.interpolationMethod=d.gradientInterpolationMethodType.decode(a);break;case"Opct":r.opacity=(0,d.parsePercent)(a);break;case"hglO":r.highlightOpacity=(0,d.parsePercent)(a);break;case"sdwO":r.shadowOpacity=(0,d.parsePercent)(a);break;case"lagl":case"Angl":r.angle=(0,d.parseAngle)(a);break;case"Lald":r.altitude=(0,d.parseAngle)(a);break;case"Sftn":r.soften=(0,d.parseUnits)(a);break;case"srgR":r.strength=(0,d.parsePercent)(a);break;case"blur":r.size=(0,d.parseUnits)(a);break;case"Nose":r.noise=(0,d.parsePercent)(a);break;case"Inpr":r.range=(0,d.parsePercent)(a);break;case"Ckmt":r.choke=(0,d.parseUnits)(a);break;case"ShdN":r.jitter=(0,d.parsePercent)(a);break;case"Dstn":r.distance=(0,d.parseUnits)(a);break;case"Scl ":r.scale=(0,d.parsePercent)(a);break;case"Ptrn":r.pattern={name:a["Nm  "],id:a.Idnt};break;case"phase":r.phase={x:a.Hrzn,y:a.Vrtc};break;case"Ofst":r.offset={x:(0,d.parsePercent)(a.Hrzn),y:(0,d.parsePercent)(a.Vrtc)};break;case"MpgS":case"TrnS":r.contour={name:a["Nm  "],curve:a["Crv "].map((function(e){return{x:e.Hrzn,y:e.Vrtc}}))};break;case"Grad":r.gradient=X(a);break;case"useTexture":case"useShape":case"layerConceals":case"present":case"showInDialog":case"antialiasGloss":r[o]=a;break;default:t&&console.log("Invalid effect key: '".concat(o,"', value:"),a)}}return r}function oe(e,t,r){for(var n={},i=0,o=Object.keys(e);i<o.length;i++){var a=o[i],s=e[a];switch(a){case"enabled":n.enab=!!s;break;case"useGlobalLight":n.uglg=!!s;break;case"antialiased":n.AntA=!!s;break;case"align":n.Algn=!!s;break;case"dither":n.Dthr=!!s;break;case"invert":n.Invr=!!s;break;case"reverse":n.Rvrs=!!s;break;case"color":n["Clr "]=ne(s);break;case"highlightColor":n.hglC=ne(s);break;case"shadowColor":n.sdwC=ne(s);break;case"position":n.Styl=d.FStl.encode(s);break;case"blendMode":n["Md  "]=d.BlnM.encode(s);break;case"highlightBlendMode":n.hglM=d.BlnM.encode(s);break;case"shadowBlendMode":n.sdwM=d.BlnM.encode(s);break;case"style":n.bvlS=d.BESl.encode(s);break;case"direction":n.bvlD=d.BESs.encode(s);break;case"technique":"bevel"===t?n.bvlT=d.bvlT.encode(s):n.GlwT=d.BETE.encode(s);break;case"source":n.glwS=d.IGSr.encode(s);break;case"type":n.Type=d.GrdT.encode(s);break;case"interpolationMethod":n.gs99=d.gradientInterpolationMethodType.encode(s);break;case"opacity":n.Opct=(0,d.unitsPercent)(s);break;case"highlightOpacity":n.hglO=(0,d.unitsPercent)(s);break;case"shadowOpacity":n.sdwO=(0,d.unitsPercent)(s);break;case"angle":"gradientOverlay"===t?n.Angl=(0,d.unitsAngle)(s):n.lagl=(0,d.unitsAngle)(s);break;case"altitude":n.Lald=(0,d.unitsAngle)(s);break;case"soften":n.Sftn=(0,d.unitsValue)(s,a);break;case"strength":n.srgR=(0,d.unitsPercent)(s);break;case"size":n.blur=(0,d.unitsValue)(s,a);break;case"noise":n.Nose=(0,d.unitsPercent)(s);break;case"range":n.Inpr=(0,d.unitsPercent)(s);break;case"choke":n.Ckmt=(0,d.unitsValue)(s,a);break;case"jitter":n.ShdN=(0,d.unitsPercent)(s);break;case"distance":n.Dstn=(0,d.unitsValue)(s,a);break;case"scale":n["Scl "]=(0,d.unitsPercent)(s);break;case"pattern":n.Ptrn={"Nm  ":s.name,Idnt:s.id};break;case"phase":n.phase={Hrzn:s.x,Vrtc:s.y};break;case"offset":n.Ofst={Hrzn:(0,d.unitsPercent)(s.x),Vrtc:(0,d.unitsPercent)(s.y)};break;case"contour":n["satin"===t?"MpgS":"TrnS"]={"Nm  ":s.name,"Crv ":s.curve.map((function(e){return{Hrzn:e.x,Vrtc:e.y}}))};break;case"gradient":n.Grad=Y(s);break;case"useTexture":case"useShape":case"layerConceals":case"present":case"showInDialog":case"antialiasGloss":n[a]=s;break;default:r&&console.log("Invalid effect key: '".concat(a,"', value:"),s)}}return n}f("grdm",I("gradient map"),(function(e,t,r){if(1!==(0,s.readUint16)(e))throw new Error("Invalid grdm version");var n={type:"gradient map",gradientType:"solid"};n.reverse=!!(0,s.readUint8)(e),n.dither=!!(0,s.readUint8)(e),n.name=(0,s.readUnicodeString)(e),n.colorStops=[],n.opacityStops=[];for(var i=(0,s.readUint16)(e),o=0;o<i;o++)n.colorStops.push({location:(0,s.readUint32)(e),midpoint:(0,s.readUint32)(e)/100,color:(0,s.readColor)(e)}),(0,s.skipBytes)(e,2);var a=(0,s.readUint16)(e);for(o=0;o<a;o++)n.opacityStops.push({location:(0,s.readUint32)(e),midpoint:(0,s.readUint32)(e)/100,opacity:(0,s.readUint16)(e)/255});if(2!==(0,s.readUint16)(e))throw new Error("Invalid grdm expansion count");var l=(0,s.readUint16)(e);if(n.smoothness=l/4096,32!==(0,s.readUint16)(e))throw new Error("Invalid grdm length");n.gradientType=(0,s.readUint16)(e)?"noise":"solid",n.randomSeed=(0,s.readUint32)(e),n.addTransparency=!!(0,s.readUint16)(e),n.restrictColors=!!(0,s.readUint16)(e),n.roughness=(0,s.readUint32)(e)/4096,n.colorModel=N[(0,s.readUint16)(e)]||"rgb",n.min=[(0,s.readUint16)(e)/32768,(0,s.readUint16)(e)/32768,(0,s.readUint16)(e)/32768,(0,s.readUint16)(e)/32768],n.max=[(0,s.readUint16)(e)/32768,(0,s.readUint16)(e)/32768,(0,s.readUint16)(e)/32768,(0,s.readUint16)(e)/32768],(0,s.skipBytes)(e,r());for(var d=0,u=n.colorStops;d<u.length;d++){u[d].location/=l}for(var c=0,f=n.opacityStops;c<f.length;c++){f[c].location/=l}t.adjustment=n}),(function(e,t){var r,n,i,o=t.adjustment;(0,l.writeUint16)(e,1),(0,l.writeUint8)(e,o.reverse?1:0),(0,l.writeUint8)(e,o.dither?1:0),(0,l.writeUnicodeStringWithPadding)(e,o.name||""),(0,l.writeUint16)(e,o.colorStops&&o.colorStops.length||0);for(var a=Math.round(4096*(null!==(r=o.smoothness)&&void 0!==r?r:1)),s=0,d=o.colorStops||[];s<d.length;s++){var u=d[s];(0,l.writeUint32)(e,Math.round(u.location*a)),(0,l.writeUint32)(e,Math.round(100*u.midpoint)),(0,l.writeColor)(e,u.color),(0,l.writeZeros)(e,2)}(0,l.writeUint16)(e,o.opacityStops&&o.opacityStops.length||0);for(var c=0,f=o.opacityStops||[];c<f.length;c++){u=f[c];(0,l.writeUint32)(e,Math.round(u.location*a)),(0,l.writeUint32)(e,Math.round(100*u.midpoint)),(0,l.writeUint16)(e,Math.round(255*u.opacity))}(0,l.writeUint16)(e,2),(0,l.writeUint16)(e,a),(0,l.writeUint16)(e,32),(0,l.writeUint16)(e,"noise"===o.gradientType?1:0),(0,l.writeUint32)(e,o.randomSeed||0),(0,l.writeUint16)(e,o.addTransparency?1:0),(0,l.writeUint16)(e,o.restrictColors?1:0),(0,l.writeUint32)(e,Math.round(4096*(null!==(n=o.roughness)&&void 0!==n?n:1)));var h=N.indexOf(null!==(i=o.colorModel)&&void 0!==i?i:"rgb");(0,l.writeUint16)(e,-1===h?3:h);for(var p=0;p<4;p++)(0,l.writeUint16)(e,Math.round(32768*(o.min&&o.min[p]||0)));for(p=0;p<4;p++)(0,l.writeUint16)(e,Math.round(32768*(o.max&&o.max[p]||0)));(0,l.writeZeros)(e,4)})),f("selc",I("selective color"),(function(e,t){if(1!==(0,s.readUint16)(e))throw new Error("Invalid selc version");var r=(0,s.readUint16)(e)?"absolute":"relative";(0,s.skipBytes)(e,8),t.adjustment={type:"selective color",mode:r,reds:j(e),yellows:j(e),greens:j(e),cyans:j(e),blues:j(e),magentas:j(e),whites:j(e),neutrals:j(e),blacks:j(e)}}),(function(e,t){var r=t.adjustment;(0,l.writeUint16)(e,1),(0,l.writeUint16)(e,"absolute"===r.mode?1:0),(0,l.writeZeros)(e,8),V(e,r.reds),V(e,r.yellows),V(e,r.greens),V(e,r.cyans),V(e,r.blues),V(e,r.magentas),V(e,r.whites),V(e,r.neutrals),V(e,r.blacks)})),f("CgEd",(function(e){var t=e.adjustment;return!!t&&("brightness/contrast"===t.type&&!t.useLegacy||("levels"===t.type||"curves"===t.type||"exposure"===t.type||"channel mixer"===t.type||"hue/saturation"===t.type)&&void 0!==t.presetFileName)}),(function(e,t,r){var i=(0,d.readVersionAndDescriptor)(e);if(1!==i.Vrsn)throw new Error("Invalid CgEd version");t.adjustment="presetFileName"in i?n(n({},t.adjustment),{presetKind:i.presetKind,presetFileName:i.presetFileName}):"curvesPresetFileName"in i?n(n({},t.adjustment),{presetKind:i.curvesPresetKind,presetFileName:i.curvesPresetFileName}):"mixerPresetFileName"in i?n(n({},t.adjustment),{presetKind:i.mixerPresetKind,presetFileName:i.mixerPresetFileName}):{type:"brightness/contrast",brightness:i.Brgh,contrast:i.Cntr,meanValue:i.means,useLegacy:!!i.useLegacy,labColorOnly:!!i["Lab "],auto:!!i.Auto},(0,s.skipBytes)(e,r())}),(function(e,t){var r,n,i,o,a=t.adjustment;if("levels"===a.type||"exposure"===a.type||"hue/saturation"===a.type){var s={Vrsn:1,presetKind:null!==(r=a.presetKind)&&void 0!==r?r:1,presetFileName:a.presetFileName||""};(0,d.writeVersionAndDescriptor)(e,"","null",s)}else if("curves"===a.type){s={Vrsn:1,curvesPresetKind:null!==(n=a.presetKind)&&void 0!==n?n:1,curvesPresetFileName:a.presetFileName||""};(0,d.writeVersionAndDescriptor)(e,"","null",s)}else if("channel mixer"===a.type){s={Vrsn:1,mixerPresetKind:null!==(i=a.presetKind)&&void 0!==i?i:1,mixerPresetFileName:a.presetFileName||""};(0,d.writeVersionAndDescriptor)(e,"","null",s)}else{if("brightness/contrast"!==a.type)throw new Error("Unhandled CgEd case");s={Vrsn:1,Brgh:a.brightness||0,Cntr:a.contrast||0,means:null!==(o=a.meanValue)&&void 0!==o?o:127,"Lab ":!!a.labColorOnly,useLegacy:!!a.useLegacy,Auto:!!a.auto};(0,d.writeVersionAndDescriptor)(e,"","null",s)}})),f("Txt2",p("engineData"),(function(e,t,r){var n=(0,s.readBytes)(e,r());t.engineData=(0,i.fromByteArray)(n)}),(function(e,t){var r=(0,i.toByteArray)(t.engineData);(0,l.writeBytes)(e,r)})),f("FMsk",p("filterMask"),(function(e,t){t.filterMask={colorSpace:(0,s.readColor)(e),opacity:(0,s.readUint16)(e)/255}}),(function(e,t){var r;(0,l.writeColor)(e,t.filterMask.colorSpace),(0,l.writeUint16)(e,255*(0,a.clamp)(null!==(r=t.filterMask.opacity)&&void 0!==r?r:1,0,1))})),f("artd",(function(e){return void 0!==e.artboards}),(function(e,t,r){var n=(0,d.readVersionAndDescriptor)(e);t.artboards={count:n["Cnt "],autoExpandOffset:{horizontal:n.autoExpandOffset.Hrzn,vertical:n.autoExpandOffset.Vrtc},origin:{horizontal:n.origin.Hrzn,vertical:n.origin.Vrtc},autoExpandEnabled:n.autoExpandEnabled,autoNestEnabled:n.autoNestEnabled,autoPositionEnabled:n.autoPositionEnabled,shrinkwrapOnSaveEnabled:n.shrinkwrapOnSaveEnabled,docDefaultNewArtboardBackgroundColor:re(n.docDefaultNewArtboardBackgroundColor),docDefaultNewArtboardBackgroundType:n.docDefaultNewArtboardBackgroundType},(0,s.skipBytes)(e,r())}),(function(e,t){var r,n,i,o,a,s=t.artboards,l={"Cnt ":s.count,autoExpandOffset:s.autoExpandOffset?{Hrzn:s.autoExpandOffset.horizontal,Vrtc:s.autoExpandOffset.vertical}:{Hrzn:0,Vrtc:0},origin:s.origin?{Hrzn:s.origin.horizontal,Vrtc:s.origin.vertical}:{Hrzn:0,Vrtc:0},autoExpandEnabled:null===(r=s.autoExpandEnabled)||void 0===r||r,autoNestEnabled:null===(n=s.autoNestEnabled)||void 0===n||n,autoPositionEnabled:null===(i=s.autoPositionEnabled)||void 0===i||i,shrinkwrapOnSaveEnabled:null===(o=s.shrinkwrapOnSaveEnabled)||void 0===o||o,docDefaultNewArtboardBackgroundColor:ne(s.docDefaultNewArtboardBackgroundColor),docDefaultNewArtboardBackgroundType:null!==(a=s.docDefaultNewArtboardBackgroundType)&&void 0!==a?a:1};(0,d.writeVersionAndDescriptor)(e,"","null",l,"artd")})),e.exports.hasMultiEffects=K,f("lfx2",(function(e){return void 0!==e.effects&&!K(e.effects)}),(function(e,t,r,n,i){if(0!==(0,s.readUint32)(e))throw new Error("Invalid lfx2 version");var o=(0,d.readVersionAndDescriptor)(e);t.effects=Z(o,!!i.logMissingFeatures),(0,s.skipBytes)(e,r())}),(function(e,t,r,n){var i=W(t.effects,!!n.logMissingFeatures,!1);(0,l.writeUint32)(e,0),(0,d.writeVersionAndDescriptor)(e,"","null",i)})),f("cinf",p("compositorUsed"),(function(e,t,r){var n=(0,d.readVersionAndDescriptor)(e);t.compositorUsed={description:n.description,reason:n.reason,engine:n.Engn.split(".")[1],enableCompCore:n.enableCompCore.split(".")[1],enableCompCoreGPU:n.enableCompCoreGPU.split(".")[1],compCoreSupport:n.compCoreSupport.split(".")[1],compCoreGPUSupport:n.compCoreGPUSupport.split(".")[1]},(0,s.skipBytes)(e,r())}),(function(e,t){var r=t.compositorUsed,n={Vrsn:{major:1,minor:0,fix:0},description:r.description,reason:r.reason,Engn:"Engn.".concat(r.engine),enableCompCore:"enable.".concat(r.enableCompCore),enableCompCoreGPU:"enable.".concat(r.enableCompCoreGPU),compCoreSupport:"reason.".concat(r.compCoreSupport),compCoreGPUSupport:"reason.".concat(r.compCoreGPUSupport)};(0,d.writeVersionAndDescriptor)(e,"","null",n)})),f("extn",(function(e){return void 0!==e._extn}),(function(e,t){var r=(0,d.readVersionAndDescriptor)(e);a.MOCK_HANDLERS&&(t._extn=r)}),(function(e,t){a.MOCK_HANDLERS&&(0,d.writeVersionAndDescriptor)(e,"","null",t._extn)})),f("iOpa",p("fillOpacity"),(function(e,t){t.fillOpacity=(0,s.readUint8)(e)/255,(0,s.skipBytes)(e,3)}),(function(e,t){(0,l.writeUint8)(e,255*t.fillOpacity),(0,l.writeZeros)(e,3)})),f("tsly",p("transparencyShapesLayer"),(function(e,t){t.transparencyShapesLayer=!!(0,s.readUint8)(e),(0,s.skipBytes)(e,3)}),(function(e,t){(0,l.writeUint8)(e,t.transparencyShapesLayer?1:0),(0,l.writeZeros)(e,3)}))})),t.register("26rz6",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.writeEffects=e.exports.readEffects=void 0;var n=t("jE67M"),i=t("5OPaf"),o=t("kCSTH"),a=[void 0,"outer bevel","inner bevel","emboss","pillow emboss","stroke emboss"];function s(e){return(0,i.checkSignature)(e,"8BIM"),n.toBlendMode[(0,i.readSignature)(e)]||"normal"}function l(e,t){(0,o.writeSignature)(e,"8BIM"),(0,o.writeSignature)(e,n.fromBlendMode[t]||"norm")}function d(e){return(0,i.readUint8)(e)/255}function u(e,t){(0,o.writeUint8)(e,0|Math.round(255*t))}function c(e,t){var r;(0,o.writeUint32)(e,51),(0,o.writeUint32)(e,2),(0,o.writeFixedPoint32)(e,t.size&&t.size.value||0),(0,o.writeFixedPoint32)(e,0),(0,o.writeFixedPoint32)(e,t.angle||0),(0,o.writeFixedPoint32)(e,t.distance&&t.distance.value||0),(0,o.writeColor)(e,t.color),l(e,t.blendMode),(0,o.writeUint8)(e,t.enabled?1:0),(0,o.writeUint8)(e,t.useGlobalLight?1:0),u(e,null!==(r=t.opacity)&&void 0!==r?r:1),(0,o.writeColor)(e,t.color)}e.exports.readEffects=function(e){var t=(0,i.readUint16)(e);if(0!==t)throw new Error("Invalid effects layer version: ".concat(t));for(var r=(0,i.readUint16)(e),n={},o=0;o<r;o++){(0,i.checkSignature)(e,"8BIM");var l=(0,i.readSignature)(e);switch(l){case"cmnS":var u=(0,i.readUint32)(e),c=(0,i.readUint32)(e),f=!!(0,i.readUint8)(e);if((0,i.skipBytes)(e,2),7!==u||0!==c||!f)throw new Error("Invalid effects common state");break;case"dsdw":case"isdw":var h=(0,i.readUint32)(e),p=(0,i.readUint32)(e);if(41!==h&&51!==h)throw new Error("Invalid shadow size: ".concat(h));if(0!==p&&2!==p)throw new Error("Invalid shadow version: ".concat(p));u=(0,i.readFixedPoint32)(e);(0,i.readFixedPoint32)(e);var g=(0,i.readFixedPoint32)(e),v=(0,i.readFixedPoint32)(e),w=(0,i.readColor)(e),y=s(e),m=!!(0,i.readUint8)(e),b=!!(0,i.readUint8)(e),k=d(e);h>=51&&(0,i.readColor)(e);var S={size:{units:"Pixels",value:u},distance:{units:"Pixels",value:v},angle:g,color:w,blendMode:y,enabled:m,useGlobalLight:b,opacity:k};"dsdw"===l?n.dropShadow=[S]:n.innerShadow=[S];break;case"oglw":h=(0,i.readUint32)(e);var x=(0,i.readUint32)(e);if(32!==h&&42!==h)throw new Error("Invalid outer glow size: ".concat(h));if(0!==x&&2!==x)throw new Error("Invalid outer glow version: ".concat(x));u=(0,i.readFixedPoint32)(e);(0,i.readFixedPoint32)(e);w=(0,i.readColor)(e),y=s(e),m=!!(0,i.readUint8)(e),k=d(e);h>=42&&(0,i.readColor)(e),n.outerGlow={size:{units:"Pixels",value:u},color:w,blendMode:y,enabled:m,opacity:k};break;case"iglw":h=(0,i.readUint32)(e);var _=(0,i.readUint32)(e);if(32!==h&&43!==h)throw new Error("Invalid inner glow size: ".concat(h));if(0!==_&&2!==_)throw new Error("Invalid inner glow version: ".concat(_));u=(0,i.readFixedPoint32)(e);(0,i.readFixedPoint32)(e);w=(0,i.readColor)(e),y=s(e),m=!!(0,i.readUint8)(e),k=d(e);h>=43&&((0,i.readUint8)(e),(0,i.readColor)(e)),n.innerGlow={size:{units:"Pixels",value:u},color:w,blendMode:y,enabled:m,opacity:k};break;case"bevl":h=(0,i.readUint32)(e);var U=(0,i.readUint32)(e);if(58!==h&&78!==h)throw new Error("Invalid bevel size: ".concat(h));if(0!==U&&2!==U)throw new Error("Invalid bevel version: ".concat(U));g=(0,i.readFixedPoint32)(e);var I=(0,i.readFixedPoint32)(e),A=(u=(0,i.readFixedPoint32)(e),s(e)),E=s(e),C=(0,i.readColor)(e),B=(0,i.readColor)(e),P=a[(0,i.readUint8)(e)]||"inner bevel",D=d(e),M=d(e),F=(m=!!(0,i.readUint8)(e),b=!!(0,i.readUint8)(e),(0,i.readUint8)(e)?"down":"up");h>=78&&((0,i.readColor)(e),(0,i.readColor)(e)),n.bevel={size:{units:"Pixels",value:u},angle:g,strength:I,highlightBlendMode:A,shadowBlendMode:E,highlightColor:C,shadowColor:B,style:P,highlightOpacity:D,shadowOpacity:M,enabled:m,useGlobalLight:b,direction:F};break;case"sofi":u=(0,i.readUint32)(e);var O=(0,i.readUint32)(e);if(34!==u)throw new Error("Invalid effects solid fill info size: ".concat(u));if(2!==O)throw new Error("Invalid effects solid fill info version: ".concat(O));y=s(e),w=(0,i.readColor)(e),k=d(e),m=!!(0,i.readUint8)(e);(0,i.readColor)(e),n.solidFill=[{blendMode:y,color:w,opacity:k,enabled:m}];break;default:throw new Error("Invalid effect type: '".concat(l,"'"))}}return n},e.exports.writeEffects=function(e,t){var r,n,i,s,d,f,h=null===(r=t.dropShadow)||void 0===r?void 0:r[0],p=null===(n=t.innerShadow)||void 0===n?void 0:n[0],g=t.outerGlow,v=t.innerGlow,w=t.bevel,y=null===(i=t.solidFill)||void 0===i?void 0:i[0],m=1;if(h&&m++,p&&m++,g&&m++,v&&m++,w&&m++,y&&m++,(0,o.writeUint16)(e,0),(0,o.writeUint16)(e,m),(0,o.writeSignature)(e,"8BIM"),(0,o.writeSignature)(e,"cmnS"),(0,o.writeUint32)(e,7),(0,o.writeUint32)(e,0),(0,o.writeUint8)(e,1),(0,o.writeZeros)(e,2),h&&((0,o.writeSignature)(e,"8BIM"),(0,o.writeSignature)(e,"dsdw"),c(e,h)),p&&((0,o.writeSignature)(e,"8BIM"),(0,o.writeSignature)(e,"isdw"),c(e,p)),g&&((0,o.writeSignature)(e,"8BIM"),(0,o.writeSignature)(e,"oglw"),(0,o.writeUint32)(e,42),(0,o.writeUint32)(e,2),(0,o.writeFixedPoint32)(e,(null===(s=g.size)||void 0===s?void 0:s.value)||0),(0,o.writeFixedPoint32)(e,0),(0,o.writeColor)(e,g.color),l(e,g.blendMode),(0,o.writeUint8)(e,g.enabled?1:0),u(e,g.opacity||0),(0,o.writeColor)(e,g.color)),v&&((0,o.writeSignature)(e,"8BIM"),(0,o.writeSignature)(e,"iglw"),(0,o.writeUint32)(e,43),(0,o.writeUint32)(e,2),(0,o.writeFixedPoint32)(e,(null===(d=v.size)||void 0===d?void 0:d.value)||0),(0,o.writeFixedPoint32)(e,0),(0,o.writeColor)(e,v.color),l(e,v.blendMode),(0,o.writeUint8)(e,v.enabled?1:0),u(e,v.opacity||0),(0,o.writeUint8)(e,0),(0,o.writeColor)(e,v.color)),w){(0,o.writeSignature)(e,"8BIM"),(0,o.writeSignature)(e,"bevl"),(0,o.writeUint32)(e,78),(0,o.writeUint32)(e,2),(0,o.writeFixedPoint32)(e,w.angle||0),(0,o.writeFixedPoint32)(e,w.strength||0),(0,o.writeFixedPoint32)(e,(null===(f=w.size)||void 0===f?void 0:f.value)||0),l(e,w.highlightBlendMode),l(e,w.shadowBlendMode),(0,o.writeColor)(e,w.highlightColor),(0,o.writeColor)(e,w.shadowColor);var b=a.indexOf(w.style);(0,o.writeUint8)(e,b<=0?1:b),u(e,w.highlightOpacity||0),u(e,w.shadowOpacity||0),(0,o.writeUint8)(e,w.enabled?1:0),(0,o.writeUint8)(e,w.useGlobalLight?1:0),(0,o.writeUint8)(e,"down"===w.direction?1:0),(0,o.writeColor)(e,w.highlightColor),(0,o.writeColor)(e,w.shadowColor)}y&&((0,o.writeSignature)(e,"8BIM"),(0,o.writeSignature)(e,"sofi"),(0,o.writeUint32)(e,34),(0,o.writeUint32)(e,2),l(e,y.blendMode),(0,o.writeColor)(e,y.color),u(e,y.opacity||0),(0,o.writeUint8)(e,y.enabled?1:0),(0,o.writeColor)(e,y.color))}})),t.register("5OPaf",(function(e,r){"use strict";var n=e.exports&&e.exports.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.readPattern=e.exports.readColor=e.exports.readSection=e.exports.readDataRLE=e.exports.readDataZipWithoutPrediction=e.exports.readPsd=e.exports.checkSignature=e.exports.skipBytes=e.exports.readAsciiString=e.exports.readUnicodeStringWithLength=e.exports.readUnicodeString=e.exports.readPascalString=e.exports.readSignature=e.exports.readBytes=e.exports.readFixedPointPath32=e.exports.readFixedPoint32=e.exports.readFloat64=e.exports.readFloat32=e.exports.readUint32=e.exports.readInt32LE=e.exports.readInt32=e.exports.readUint16=e.exports.readInt16=e.exports.peekUint8=e.exports.readUint8=e.exports.createReader=e.exports.supportedColorModes=void 0;var i=t("1eu3Z"),o=t("jE67M"),a=t("cAUqy"),s=t("aqyg9");e.exports.supportedColorModes=[0,1,3];var l=["bitmap","grayscale","indexed","RGB","CMYK","multichannel","duotone","lab"];function d(e){for(var t=e.width*e.height*4,r=0;r<t;r+=4)e.data[r+1]=e.data[r],e.data[r+2]=e.data[r]}function u(e){return e.offset+=1,e.view.getUint8(e.offset-1)}function c(e){return e.view.getUint8(e.offset)}function f(e){return e.offset+=2,e.view.getInt16(e.offset-2,!1)}function h(e){return e.offset+=2,e.view.getUint16(e.offset-2,!1)}function p(e){return e.offset+=4,e.view.getInt32(e.offset-4,!1)}function g(e){return e.offset+=4,e.view.getUint32(e.offset-4,!1)}function v(e){return e.offset+=8,e.view.getFloat64(e.offset-8,!1)}function w(e,t){return e.offset+=t,new Uint8Array(e.view.buffer,e.view.byteOffset+e.offset-t,t)}function y(e){return _(e,4)}function m(e,t){for(var r=u(e),n=r?_(e,r):"";++r%t;)e.offset++;return n}function b(e){return k(e,g(e))}function k(e,t){for(var r="";t--;){var n=h(e);(n||t>0)&&(r+=String.fromCharCode(n))}return r}function S(e,t){e.offset+=t}function x(e,t,r){var n=e.offset,i=y(e);if(i!==t&&i!==r)throw new Error("Invalid signature: '".concat(i,"' at 0x").concat(n.toString(16)))}function _(e,t){for(var r=w(e,t),n="",i=0;i<r.length;i++)n+=String.fromCharCode(r[i]);return n}function U(e){return"8BIM"===e||"MeSa"===e||"AgHg"===e||"PHUT"===e||"DCSR"===e}function I(e,t,r){var n={};n.top=p(e),n.left=p(e),n.bottom=p(e),n.right=p(e);for(var i=h(e),a=[],s=0;s<i;s++){var l=f(e),d=g(e);if(r.large){if(0!==d)throw new Error("Sizes larger than 4GB are not supported");d=g(e)}a.push({id:l,length:d})}x(e,"8BIM");var c=y(e);if(!o.toBlendMode[c])throw new Error("Invalid blend mode: '".concat(c,"'"));n.blendMode=o.toBlendMode[c],n.opacity=u(e)/255,n.clipping=1===u(e);var w=u(e);return n.transparencyProtected=0!=(1&w),n.hidden=0!=(2&w),S(e,1),F(e,1,(function(i){var o=function(e,t){return F(e,1,(function(r){if(r()){var n={};n.top=p(e),n.left=p(e),n.bottom=p(e),n.right=p(e),n.defaultColor=u(e);var i=u(e);if(n.positionRelativeToLayer=0!=(1&i),n.disabled=0!=(2&i),n.fromVectorData=0!=(8&i),16&i){var o=u(e);1&o&&(n.userMaskDensity=u(e)/255),2&o&&(n.userMaskFeather=v(e)),4&o&&(n.vectorMaskDensity=u(e)/255),8&o&&(n.vectorMaskFeather=v(e))}return r()>2&&(t.logMissingFeatures&&console.log("Unhandled extra mask params"),u(e),u(e),p(e),p(e),p(e),p(e)),S(e,r()),n}}))}(e,r);for(o&&(n.mask=o),function(e){F(e,1,(function(t){for(var r=g(e),n=g(e),i=[];t();){var o=g(e),a=g(e);i.push({sourceRange:o,destRange:a})}return{compositeGrayBlendSource:r,compositeGraphBlendDestinationRange:n,ranges:i}}))}(e),n.name=m(e,4);i();)C(e,n,t,r)})),{layer:n,channels:a}}function A(e,t,r,n,i){var a,s=(r.right||0)-(r.left||0),l=(r.bottom||0)-(r.top||0),u=4===t.colorMode;if(s&&l)if(u){a={width:s,height:l,data:new Uint8ClampedArray(s*l*5)};for(var c=4;c<a.data.byteLength;c+=5)a.data[c]=255}else a=(0,o.createImageData)(s,l),(0,o.resetImageData)(a);o.RAW_IMAGE_DATA&&(r.imageDataRaw=[]);for(var f=0,p=n;f<p.length;f++){var g=p[f];if(0!==g.length){if(g.length<2)throw new Error("Invalid channel length");var v=e.offset,w=h(e);if(-2===g.id){var y=r.mask;if(!y)throw new Error("Missing layer mask data");var m=(y.right||0)-(y.left||0),b=(y.bottom||0)-(y.top||0);if(m&&b){var k=(0,o.createImageData)(m,b);(0,o.resetImageData)(k);var S=e.offset;E(e,g.length,k,w,m,b,0,i.large,4),o.RAW_IMAGE_DATA&&(r.maskDataRaw=new Uint8Array(e.view.buffer,e.view.byteOffset+S,e.offset-S)),d(k),i.useImageData?y.imageData=k:(y.canvas=(0,o.createCanvas)(m,b),y.canvas.getContext("2d").putImageData(k,0,0))}}else{var x=(0,o.offsetForChannel)(g.id,u),_=a;if(x<0&&(_=void 0,i.throwForMissingFeatures))throw new Error("Channel not supported: ".concat(g.id));E(e,g.length,_,w,s,l,x,i.large,u?5:4),o.RAW_IMAGE_DATA&&(r.imageDataRaw[g.id]=new Uint8Array(e.view.buffer,e.view.byteOffset+v,e.offset-v)),e.offset=v+g.length,_&&1===t.colorMode&&d(_)}}}if(a){if(u){var U=a;B(U,a=(0,o.createImageData)(U.width,U.height),!1)}i.useImageData?r.imageData=a:(r.canvas=(0,o.createCanvas)(s,l),r.canvas.getContext("2d").putImageData(a,0,0))}}function E(e,t,r,n,i,o,a,s,l){if(0===n)P(e,r,i,o,l,a);else if(1===n)M(e,r,i,o,l,[a],s);else{if(2!==n)throw 3===n?new Error("Compression type not supported: ".concat(n)):new Error("Invalid Compression type: ".concat(n));D(e,t,r,i,o,l,a)}}function C(e,t,r,n){var i=y(e);if("8BIM"!==i&&"8B64"!==i)throw new Error("Invalid signature: '".concat(i,"' at 0x").concat((e.offset-4).toString(16)));var s=y(e),l="8B64"===i||n.large&&-1!==o.largeAdditionalInfoKeys.indexOf(s);F(e,2,(function(i){var o=a.infoHandlersMap[s];if(o)try{o.read(e,t,i,r,n)}catch(e){if(n.throwForMissingFeatures)throw e}else n.logMissingFeatures&&console.log("Unhandled additional info: ".concat(s)),S(e,i());i()&&(n.logMissingFeatures&&console.log("Unread ".concat(i()," bytes left for additional info: ").concat(s)),S(e,i()))}),!1,l)}function B(e,t,r){for(var n=t.width*t.height*4,i=e.data,o=t.data,a=0,s=0;s<n;a+=5,s+=4){var l=i[a],d=i[a+1],u=i[a+2],c=i[a+3];o[s]=(l*c|0)/255|0,o[s+1]=(d*c|0)/255|0,o[s+2]=(u*c|0)/255|0,o[s+3]=r?255-i[a+4]:i[a+4]}}function P(e,t,r,n,i,o){var a=r*n,s=w(e,a);if(t&&o<i)for(var l=t.data,d=0,u=0|o;d<a;d++,u=u+i|0)l[u]=s[d]}function D(e,t,r,n,o,a,s){var l=w(e,t),d=(0,i.inflate)(l),u=n*o;if(r&&s<a)for(var c=r.data,f=0,h=0|s;f<u;f++,h=h+a|0)c[h]=d[f]}function M(e,t,r,n,i,o,a){var s,l=t&&t.data;if(a){s=new Uint32Array(o.length*n);for(var d=0,u=0;d<o.length;d++)for(var c=0;c<n;c++,u++)s[u]=g(e)}else{s=new Uint16Array(o.length*n);for(d=0,u=0;d<o.length;d++)for(c=0;c<n;c++,u++)s[u]=h(e)}var f=i-1|0,p=0;for(u=0;p<o.length;p++){var v=0|o[p];if(!l||(p>f||v>f))for(c=0;c<n;c++,u++)S(e,s[u]);else{c=0;for(var y=0|v;c<n;c++,u++)for(var m=s[u],b=w(e,m),k=0;k<m;k++){var x=b[k];if(x>128){var _=b[++k];x=256-x|0;for(var U=0;U<=x;U=U+1|0)l[y]=_,y=y+i|0}else if(x<128)for(U=0;U<=x;U=U+1|0)l[y]=b[++k],y=y+i|0;if(k>=m)throw new Error("Invalid RLE data: exceeded buffer size ".concat(k,"/").concat(m))}}}}function F(e,t,r,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1);var o=g(e);if(i){if(0!==o)throw new Error("Sizes larger than 4GB are not supported");o=g(e)}if(!(o<=0&&n)){var a=e.offset+o;if(a>e.view.byteLength)throw new Error("Section exceeds file size");var s=r((function(){return a-e.offset}));for(e.offset!==a&&e.strict&&(e.offset>a?console.warn("Exceeded section limits"):console.warn("Unread section data"));a%t;)a++;return e.offset=a,s}}e.exports.createReader=function(e,t,r){return{view:new DataView(e,t,r),offset:0,strict:!1}},e.exports.readUint8=u,e.exports.peekUint8=c,e.exports.readInt16=f,e.exports.readUint16=h,e.exports.readInt32=p,e.exports.readInt32LE=function(e){return e.offset+=4,e.view.getInt32(e.offset-4,!0)},e.exports.readUint32=g,e.exports.readFloat32=function(e){return e.offset+=4,e.view.getFloat32(e.offset-4,!1)},e.exports.readFloat64=v,e.exports.readFixedPoint32=function(e){return p(e)/65536},e.exports.readFixedPointPath32=function(e){return p(e)/16777216},e.exports.readBytes=w,e.exports.readSignature=y,e.exports.readPascalString=m,e.exports.readUnicodeString=b,e.exports.readUnicodeStringWithLength=k,e.exports.readAsciiString=function(e,t){for(var r="";t--;)r+=String.fromCharCode(u(e));return r},e.exports.skipBytes=S,e.exports.checkSignature=x,e.exports.readPsd=function(t,r){var i;void 0===r&&(r={}),x(t,"8BPS");var a=h(t);if(1!==a&&2!==a)throw new Error("Invalid PSD file version: ".concat(a));S(t,6);var p=h(t),v=g(t),b=g(t),k=h(t),_=h(t),E=1===a?3e4:3e5;if(b>E||v>E)throw new Error("Invalid size");if(p>16)throw new Error("Invalid channel count");if(k>32)throw new Error("Invalid bitsPerChannel count");if(-1===e.exports.supportedColorModes.indexOf(_))throw new Error("Color mode not supported: ".concat(null!==(i=l[_])&&void 0!==i?i:_));var D={width:b,height:v,channels:p,bitsPerChannel:k,colorMode:_},O=n(n({},r),{large:2===a}),R=[0,1,-1,2,-2,3,-3,4,-4];F(t,1,(function(e){if(O.throwForMissingFeatures)throw new Error("Color mode data not supported");S(t,e())})),F(t,1,(function(e){for(var r=function(){for(var e=t.offset,r="",n=0,i=R;n<i.length;n++){var o=i[n];try{t.offset=e+o,r=y(t)}catch(e){}if(U(r))break}if(!U(r))throw new Error("Invalid signature: '".concat(r,"' at 0x").concat(e.toString(16)));var a=h(t);m(t,2),F(t,2,(function(e){var r=s.resourceHandlersMap[a],n=1036===a&&!!O.skipThumbnail;if(D.imageResources||(D.imageResources={}),r&&!n)try{r.read(t,D.imageResources,e,O)}catch(r){if(O.throwForMissingFeatures)throw r;S(t,e())}else S(t,e())}))};e();)r()}));var L=!1;F(t,1,(function(e){if(L=function(e,t,r){var n=!1;return F(e,2,(function(i){var o=f(e);o<0&&(n=!0,o=-o);for(var a=[],s=[],l=0;l<o;l++){var d=I(e,t,r),u=d.layer,c=d.channels;a.push(u),s.push(c)}if(!r.skipLayerImageData)for(l=0;l<o;l++)A(e,t,a[l],s[l],r);S(e,i()),t.children||(t.children=[]);var h=[t];for(l=a.length-1;l>=0;l--){var p=a[l],g=p.sectionDivider?p.sectionDivider.type:0;1===g||2===g?(p.opened=1===g,p.children=[],h[h.length-1].children.unshift(p),h.push(p)):3===g?h.pop():h[h.length-1].children.unshift(p)}}),void 0,r.large),n}(t,D,O),e()>0){var r=function(e){return F(e,1,(function(t){if(t()){var r=h(e),n=h(e),i=h(e),o=h(e),a=h(e),s=h(e)/255,l=u(e);return S(e,t()),{overlayColorSpace:r,colorSpace1:n,colorSpace2:i,colorSpace3:o,colorSpace4:a,opacity:s,kind:l}}}))}(t);r&&(D.globalLayerMaskInfo=r)}else S(t,e());for(;e()>0;){for(;e()&&0===c(t);)S(t,1);e()>=12?C(t,D,D,O):S(t,e())}}),void 0,O.large);var T=D.children&&D.children.length;return O.skipCompositeImageData&&(O.skipLayerImageData||T)||function(t,r,n,i){var a=h(t);if(-1===e.exports.supportedColorModes.indexOf(r.colorMode))throw new Error("Color mode not supported: ".concat(r.colorMode));if(0!==a&&1!==a)throw new Error("Compression type not supported: ".concat(a));var s=(0,o.createImageData)(r.width,r.height);switch((0,o.resetImageData)(s),r.colorMode){case 0:var l=void 0;if(0===a)l=w(t,Math.ceil(r.width/8)*r.height);else{if(1!==a)throw new Error("Bitmap compression not supported: ".concat(a));M(t,{data:l=new Uint8Array(r.width*r.height),width:r.width,height:r.height},r.width,r.height,1,[0],i.large)}(0,o.decodeBitmap)(l,s.data,r.width,r.height);break;case 3:case 1:var u=1===r.colorMode?[0]:[0,1,2];if(r.channels&&r.channels>3)for(var c=3;c<r.channels;c++)u.push(c);else n&&u.push(3);if(0===a)for(c=0;c<u.length;c++)P(t,s,r.width,r.height,4,u[c]);else if(1===a){var f=t.offset;M(t,s,r.width,r.height,4,u,i.large),o.RAW_IMAGE_DATA&&(r.imageDataRaw=new Uint8Array(t.view.buffer,t.view.byteOffset+f,t.offset-f))}1===r.colorMode&&d(s);break;case 4:if(4!==r.channels)throw new Error("Invalid channel count");u=[0,1,2,3];if(n&&u.push(4),0===a)throw new Error("Not implemented");if(1===a){var p={width:s.width,height:s.height,data:new Uint8Array(s.width*s.height*5)};f=t.offset;M(t,p,r.width,r.height,5,u,i.large),B(p,s,!0),o.RAW_IMAGE_DATA&&(r.imageDataRaw=new Uint8Array(t.view.buffer,t.view.byteOffset+f,t.offset-f))}break;default:throw new Error("Color mode not supported: ".concat(r.colorMode))}i.useImageData?r.imageData=s:(r.canvas=(0,o.createCanvas)(r.width,r.height),r.canvas.getContext("2d").putImageData(s,0,0))}(t,D,L,O),D},e.exports.readDataZipWithoutPrediction=D,e.exports.readDataRLE=M,e.exports.readSection=F,e.exports.readColor=function(e){switch(h(e)){case 0:var t=h(e)/257,r=h(e)/257,n=h(e)/257;return S(e,2),{r:t,g:r,b:n};case 1:var i=h(e)/65535,o=h(e)/65535;n=h(e)/65535;return S(e,2),{h:i,s:o,b:n};case 2:return{c:h(e)/257,m:h(e)/257,y:h(e)/257,k:u=h(e)/257};case 7:var a=f(e)/1e4,s=f(e),l=f(e),d=s<0?s/12800:s/12700;n=l<0?l/12800:l/12700;return S(e,2),{l:a,a:d,b:n};case 8:var u=255*h(e)/1e4;return S(e,6),{k:u};default:throw new Error("Invalid color space")}},e.exports.readPattern=function(e){g(e);var t=g(e);if(1!==t)throw new Error("Invalid pattern version: ".concat(t));var r=g(e),n=f(e),i=f(e);if(3!==r&&1!==r&&2!==r)throw new Error("Unsupported pattern color mode: ".concat(r));var o=b(e),a=m(e,1),s=[];if(2===r){for(var l=0;l<256;l++)s.push({r:u(e),g:u(e),b:u(e)});S(e,4)}var d=g(e);if(3!==d)throw new Error("Invalid pattern VMAL version: ".concat(d));g(e);var c=g(e),p=g(e),v=g(e),y=g(e),k=g(e),x=y-p,_=v-c,U=new Uint8Array(x*_*4);for(l=3;l<U.byteLength;l+=4)U[l]=255;l=0;for(var I=0;l<k+2;l++){if(g(e)){var A=g(e),E=g(e),C=g(e),B=g(e),P=g(e),D=g(e),M=h(e),F=u(e),O=w(e,A-23);if(8!==E||8!==M)throw new Error("16bit pixel depth not supported for patterns");var R=D-B,L=P-C,T=B-p,z=C-c;if(0===F){if(3===r&&I<3)for(var N=0;N<L;N++)for(var j=0;j<R;j++){var V=j+N*R;U[(Z=4*(T+j+(N+z)*x))+I]=O[V]}if(1===r&&I<1)for(var G=0;G<L;G++)for(var H=0;H<R;H++){var Z=4*(T+H+(G+z)*x),W=O[V=H+G*R];U[Z+0]=W,U[Z+1]=W,U[Z+2]=W}if(2===r)throw new Error("Indexed pattern color mode not implemented")}else{if(1!==F)throw new Error("Invalid pattern compression mode");console.error("Unsupported pattern compression"),o+=" (failed to decode)"}I++}}return{id:a,name:o,x:n,y:i,bounds:{x:p,y:c,w:x,h:_},data:U}}})),t.register("aqyg9",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.resourceHandlersMap=e.exports.resourceHandlers=void 0;var n=t("jWkTT"),i=t("5OPaf"),o=t("kCSTH"),a=t("jE67M"),s=t("5wpNI"),l=t("klnll");function d(t,r,n,i){var o={key:t,has:r,read:n,write:i};e.exports.resourceHandlers.push(o),e.exports.resourceHandlersMap[o.key]=o}e.exports.resourceHandlers=[],e.exports.resourceHandlersMap={};var u=[void 0,"PPI","PPCM"],c=[void 0,"Inches","Centimeters","Points","Picas","Columns"],f="0123456789abcdef";function h(e){return e<=57?e-48:e-87}function p(e,t){var r=(0,i.readBytes)(e,t);return(0,s.decodeString)(r)}function g(e,t){var r=(0,s.encodeString)(t);(0,o.writeBytes)(e,r)}a.MOCK_HANDLERS&&d(1028,(function(e){return void 0!==e._ir1028}),(function(e,t,r){t._ir1028=(0,i.readBytes)(e,r())}),(function(e,t){(0,o.writeBytes)(e,t._ir1028)})),d(1061,(function(e){return void 0!==e.captionDigest}),(function(e,t){for(var r="",n=0;n<16;n++){var o=(0,i.readUint8)(e);r+=f[o>>4],r+=f[15&o]}t.captionDigest=r}),(function(e,t){for(var r=0;r<16;r++)(0,o.writeUint8)(e,(n=t.captionDigest,i=2*r,h(n.charCodeAt(i))<<4|h(n.charCodeAt(i+1))));var n,i})),d(1060,(function(e){return void 0!==e.xmpMetadata}),(function(e,t,r){return t.xmpMetadata=p(e,r())}),(function(e,t){return g(e,t.xmpMetadata)}));var v=(0,a.createEnum)("Inte","perceptual",{perceptual:"Img ",saturation:"Grp ","relative colorimetric":"Clrm","absolute colorimetric":"AClr"});d(1082,(function(e){return void 0!==e.printInformation}),(function(e,t){var r,n,i=(0,l.readVersionAndDescriptor)(e);t.printInformation={printerName:i.printerName||"",renderingIntent:v.decode(null!==(r=i.Inte)&&void 0!==r?r:"Inte.Img ")};var o=t.printInformation;void 0!==i.PstS&&(o.printerManagesColors=i.PstS),void 0!==i["Nm  "]&&(o.printerProfile=i["Nm  "]),void 0!==i.MpBl&&(o.blackPointCompensation=i.MpBl),void 0!==i.printSixteenBit&&(o.printSixteenBit=i.printSixteenBit),void 0!==i.hardProof&&(o.hardProof=i.hardProof),i.printProofSetup&&("Bltn"in i.printProofSetup?o.proofSetup={builtin:i.printProofSetup.Bltn.split(".")[1]}:o.proofSetup={profile:i.printProofSetup.profile,renderingIntent:v.decode(null!==(n=i.printProofSetup.Inte)&&void 0!==n?n:"Inte.Img "),blackPointCompensation:!!i.printProofSetup.MpBl,paperWhite:!!i.printProofSetup.paperWhite})}),(function(e,t){var r,n,i=t.printInformation,o={};i.printerManagesColors?o.PstS=!0:(void 0!==i.hardProof&&(o.hardProof=!!i.hardProof),o.ClrS="ClrS.RGBC",o["Nm  "]=null!==(r=i.printerProfile)&&void 0!==r?r:"CIE RGB"),o.Inte=v.encode(i.renderingIntent),i.printerManagesColors||(o.MpBl=!!i.blackPointCompensation),o.printSixteenBit=!!i.printSixteenBit,o.printerName=i.printerName||"",i.proofSetup&&"profile"in i.proofSetup?o.printProofSetup={profile:i.proofSetup.profile||"",Inte:v.encode(i.proofSetup.renderingIntent),MpBl:!!i.proofSetup.blackPointCompensation,paperWhite:!!i.proofSetup.paperWhite}:o.printProofSetup={Bltn:(null===(n=i.proofSetup)||void 0===n?void 0:n.builtin)?"builtinProof.".concat(i.proofSetup.builtin):"builtinProof.proofCMYK"},(0,l.writeVersionAndDescriptor)(e,"","printOutput",o)})),a.MOCK_HANDLERS&&d(1083,(function(e){return void 0!==e._ir1083}),(function(e,t,r){t._ir1083=(0,i.readBytes)(e,r())}),(function(e,t){(0,o.writeBytes)(e,t._ir1083)})),d(1005,(function(e){return void 0!==e.resolutionInfo}),(function(e,t){var r=(0,i.readFixedPoint32)(e),n=(0,i.readUint16)(e),o=(0,i.readUint16)(e),a=(0,i.readFixedPoint32)(e),s=(0,i.readUint16)(e),l=(0,i.readUint16)(e);t.resolutionInfo={horizontalResolution:r,horizontalResolutionUnit:u[n]||"PPI",widthUnit:c[o]||"Inches",verticalResolution:a,verticalResolutionUnit:u[s]||"PPI",heightUnit:c[l]||"Inches"}}),(function(e,t){var r=t.resolutionInfo;(0,o.writeFixedPoint32)(e,r.horizontalResolution||0),(0,o.writeUint16)(e,Math.max(1,u.indexOf(r.horizontalResolutionUnit))),(0,o.writeUint16)(e,Math.max(1,c.indexOf(r.widthUnit))),(0,o.writeFixedPoint32)(e,r.verticalResolution||0),(0,o.writeUint16)(e,Math.max(1,u.indexOf(r.verticalResolutionUnit))),(0,o.writeUint16)(e,Math.max(1,c.indexOf(r.heightUnit)))}));var w=["centered","size to fit","user defined"];d(1062,(function(e){return void 0!==e.printScale}),(function(e,t){t.printScale={style:w[(0,i.readInt16)(e)],x:(0,i.readFloat32)(e),y:(0,i.readFloat32)(e),scale:(0,i.readFloat32)(e)}}),(function(e,t){var r=t.printScale,n=r.style,i=r.x,a=r.y,s=r.scale;(0,o.writeInt16)(e,Math.max(0,w.indexOf(n))),(0,o.writeFloat32)(e,i||0),(0,o.writeFloat32)(e,a||0),(0,o.writeFloat32)(e,s||0)})),d(1006,(function(e){return void 0!==e.alphaChannelNames}),(function(e,t,r){for(t.alphaChannelNames=[];r();){var n=(0,i.readPascalString)(e,1);t.alphaChannelNames.push(n)}}),(function(e,t){for(var r=0,n=t.alphaChannelNames;r<n.length;r++){var i=n[r];(0,o.writePascalString)(e,i,1)}})),d(1045,(function(e){return void 0!==e.alphaChannelNames}),(function(e,t,r){for(t.alphaChannelNames=[];r();)t.alphaChannelNames.push((0,i.readUnicodeString)(e))}),(function(e,t){for(var r=0,n=t.alphaChannelNames;r<n.length;r++){var i=n[r];(0,o.writeUnicodeStringWithPadding)(e,i)}})),a.MOCK_HANDLERS&&d(1077,(function(e){return void 0!==e._ir1077}),(function(e,t,r){t._ir1077=(0,i.readBytes)(e,r())}),(function(e,t){(0,o.writeBytes)(e,t._ir1077)})),d(1053,(function(e){return void 0!==e.alphaIdentifiers}),(function(e,t,r){for(t.alphaIdentifiers=[];r()>=4;)t.alphaIdentifiers.push((0,i.readUint32)(e))}),(function(e,t){for(var r=0,n=t.alphaIdentifiers;r<n.length;r++){var i=n[r];(0,o.writeUint32)(e,i)}})),d(1010,(function(e){return void 0!==e.backgroundColor}),(function(e,t){return t.backgroundColor=(0,i.readColor)(e)}),(function(e,t){return(0,o.writeColor)(e,t.backgroundColor)})),d(1037,(function(e){return void 0!==e.globalAngle}),(function(e,t){return t.globalAngle=(0,i.readUint32)(e)}),(function(e,t){return(0,o.writeUint32)(e,t.globalAngle)})),d(1049,(function(e){return void 0!==e.globalAltitude}),(function(e,t){return t.globalAltitude=(0,i.readUint32)(e)}),(function(e,t){return(0,o.writeUint32)(e,t.globalAltitude)})),d(1011,(function(e){return void 0!==e.printFlags}),(function(e,t){t.printFlags={labels:!!(0,i.readUint8)(e),cropMarks:!!(0,i.readUint8)(e),colorBars:!!(0,i.readUint8)(e),registrationMarks:!!(0,i.readUint8)(e),negative:!!(0,i.readUint8)(e),flip:!!(0,i.readUint8)(e),interpolate:!!(0,i.readUint8)(e),caption:!!(0,i.readUint8)(e),printFlags:!!(0,i.readUint8)(e)}}),(function(e,t){var r=t.printFlags;(0,o.writeUint8)(e,r.labels?1:0),(0,o.writeUint8)(e,r.cropMarks?1:0),(0,o.writeUint8)(e,r.colorBars?1:0),(0,o.writeUint8)(e,r.registrationMarks?1:0),(0,o.writeUint8)(e,r.negative?1:0),(0,o.writeUint8)(e,r.flip?1:0),(0,o.writeUint8)(e,r.interpolate?1:0),(0,o.writeUint8)(e,r.caption?1:0),(0,o.writeUint8)(e,r.printFlags?1:0)})),a.MOCK_HANDLERS&&d(1e4,(function(e){return void 0!==e._ir10000}),(function(e,t,r){t._ir10000=(0,i.readBytes)(e,r())}),(function(e,t){(0,o.writeBytes)(e,t._ir10000)})),a.MOCK_HANDLERS&&d(1013,(function(e){return void 0!==e._ir1013}),(function(e,t,r){t._ir1013=(0,i.readBytes)(e,r())}),(function(e,t){(0,o.writeBytes)(e,t._ir1013)})),a.MOCK_HANDLERS&&d(1016,(function(e){return void 0!==e._ir1016}),(function(e,t,r){t._ir1016=(0,i.readBytes)(e,r())}),(function(e,t){(0,o.writeBytes)(e,t._ir1016)})),d(1024,(function(e){return void 0!==e.layerState}),(function(e,t){return t.layerState=(0,i.readUint16)(e)}),(function(e,t){return(0,o.writeUint16)(e,t.layerState)})),d(1026,(function(e){return void 0!==e.layersGroup}),(function(e,t,r){for(t.layersGroup=[];r();)t.layersGroup.push((0,i.readUint16)(e))}),(function(e,t){for(var r=0,n=t.layersGroup;r<n.length;r++){var i=n[r];(0,o.writeUint16)(e,i)}})),d(1072,(function(e){return void 0!==e.layerGroupsEnabledId}),(function(e,t,r){for(t.layerGroupsEnabledId=[];r();)t.layerGroupsEnabledId.push((0,i.readUint8)(e))}),(function(e,t){for(var r=0,n=t.layerGroupsEnabledId;r<n.length;r++){var i=n[r];(0,o.writeUint8)(e,i)}})),d(1069,(function(e){return void 0!==e.layerSelectionIds}),(function(e,t){var r=(0,i.readUint16)(e);for(t.layerSelectionIds=[];r--;)t.layerSelectionIds.push((0,i.readUint32)(e))}),(function(e,t){(0,o.writeUint16)(e,t.layerSelectionIds.length);for(var r=0,n=t.layerSelectionIds;r<n.length;r++){var i=n[r];(0,o.writeUint32)(e,i)}})),d(1032,(function(e){return void 0!==e.gridAndGuidesInformation}),(function(e,t){var r=(0,i.readUint32)(e),n=(0,i.readUint32)(e),o=(0,i.readUint32)(e),a=(0,i.readUint32)(e);if(1!==r)throw new Error("Invalid 1032 resource version: ".concat(r));t.gridAndGuidesInformation={grid:{horizontal:n,vertical:o},guides:[]};for(var s=0;s<a;s++)t.gridAndGuidesInformation.guides.push({location:(0,i.readUint32)(e)/32,direction:(0,i.readUint8)(e)?"horizontal":"vertical"})}),(function(e,t){var r=t.gridAndGuidesInformation,n=r.grid||{horizontal:576,vertical:576},i=r.guides||[];(0,o.writeUint32)(e,1),(0,o.writeUint32)(e,n.horizontal),(0,o.writeUint32)(e,n.vertical),(0,o.writeUint32)(e,i.length);for(var a=0,s=i;a<s.length;a++){var l=s[a];(0,o.writeUint32)(e,32*l.location),(0,o.writeUint8)(e,"horizontal"===l.direction?1:0)}})),d(1054,(function(e){return void 0!==e.urlsList}),(function(e,t,r,n){if((0,i.readUint32)(e)){if(!n.throwForMissingFeatures)return;throw new Error("Not implemented: URL List")}t.urlsList=[]}),(function(e,t){if((0,o.writeUint32)(e,t.urlsList.length),t.urlsList.length)throw new Error("Not implemented: URL List")})),a.MOCK_HANDLERS&&d(1050,(function(e){return void 0!==e._ir1050}),(function(e,t,r){t._ir1050=(0,i.readBytes)(e,r())}),(function(e,t){(0,o.writeBytes)(e,t._ir1050)})),d(1064,(function(e){return void 0!==e.pixelAspectRatio}),(function(e,t){if((0,i.readUint32)(e)>2)throw new Error("Invalid pixelAspectRatio version");t.pixelAspectRatio={aspect:(0,i.readFloat64)(e)}}),(function(e,t){(0,o.writeUint32)(e,2),(0,o.writeFloat64)(e,t.pixelAspectRatio.aspect)})),d(1041,(function(e){return void 0!==e.iccUntaggedProfile}),(function(e,t){t.iccUntaggedProfile=!!(0,i.readUint8)(e)}),(function(e,t){(0,o.writeUint8)(e,t.iccUntaggedProfile?1:0)})),a.MOCK_HANDLERS&&d(1039,(function(e){return void 0!==e._ir1039}),(function(e,t,r){t._ir1039=(0,i.readBytes)(e,r())}),(function(e,t){(0,o.writeBytes)(e,t._ir1039)})),d(1044,(function(e){return void 0!==e.idsSeedNumber}),(function(e,t){return t.idsSeedNumber=(0,i.readUint32)(e)}),(function(e,t){return(0,o.writeUint32)(e,t.idsSeedNumber)})),d(1036,(function(e){return void 0!==e.thumbnail||void 0!==e.thumbnailRaw}),(function(e,t,r,n){var o=(0,i.readUint32)(e),s=(0,i.readUint32)(e),l=(0,i.readUint32)(e);(0,i.readUint32)(e),(0,i.readUint32)(e),(0,i.readUint32)(e);var d=(0,i.readUint16)(e),u=(0,i.readUint16)(e);if(1!==o||24!==d||1!==u)return n.logMissingFeatures&&console.log("Invalid thumbnail data (format: ".concat(o,", bitsPerPixel: ").concat(d,", planes: ").concat(u,")")),void(0,i.skipBytes)(e,r());var c=r(),f=(0,i.readBytes)(e,c);n.useRawThumbnail?t.thumbnailRaw={width:s,height:l,data:f}:f.byteLength&&(t.thumbnail=(0,a.createCanvasFromData)(f))}),(function(e,t){var r,i,a=0,s=0;if(t.thumbnailRaw)a=t.thumbnailRaw.width,s=t.thumbnailRaw.height,i=t.thumbnailRaw.data;else{var l=null===(r=t.thumbnail.toDataURL("image/jpeg",1))||void 0===r?void 0:r.substring(23);l?(a=t.thumbnail.width,s=t.thumbnail.height,i=(0,n.toByteArray)(l)):i=new Uint8Array(0)}var d=4*Math.floor((24*a+31)/32),u=d*s*1,c=i.length;(0,o.writeUint32)(e,1),(0,o.writeUint32)(e,a),(0,o.writeUint32)(e,s),(0,o.writeUint32)(e,d),(0,o.writeUint32)(e,u),(0,o.writeUint32)(e,c),(0,o.writeUint16)(e,24),(0,o.writeUint16)(e,1),(0,o.writeBytes)(e,i)})),d(1057,(function(e){return void 0!==e.versionInfo}),(function(e,t,r){if(1!==(0,i.readUint32)(e))throw new Error("Invalid versionInfo version");t.versionInfo={hasRealMergedData:!!(0,i.readUint8)(e),writerName:(0,i.readUnicodeString)(e),readerName:(0,i.readUnicodeString)(e),fileVersion:(0,i.readUint32)(e)},(0,i.skipBytes)(e,r())}),(function(e,t){var r=t.versionInfo;(0,o.writeUint32)(e,1),(0,o.writeUint8)(e,r.hasRealMergedData?1:0),(0,o.writeUnicodeString)(e,r.writerName),(0,o.writeUnicodeString)(e,r.readerName),(0,o.writeUint32)(e,r.fileVersion)})),a.MOCK_HANDLERS&&d(1058,(function(e){return void 0!==e._ir1058}),(function(e,t,r){t._ir1058=(0,i.readBytes)(e,r())}),(function(e,t){(0,o.writeBytes)(e,t._ir1058)})),d(7e3,(function(e){return void 0!==e.imageReadyVariables}),(function(e,t,r){t.imageReadyVariables=p(e,r())}),(function(e,t){g(e,t.imageReadyVariables)})),d(7001,(function(e){return void 0!==e.imageReadyDataSets}),(function(e,t,r){t.imageReadyDataSets=p(e,r())}),(function(e,t){g(e,t.imageReadyDataSets)})),d(1088,(function(e){return void 0!==e.pathSelectionState}),(function(e,t,r){var n=(0,l.readVersionAndDescriptor)(e);t.pathSelectionState=n.null}),(function(e,t){var r={null:t.pathSelectionState};(0,l.writeVersionAndDescriptor)(e,"","null",r)})),a.MOCK_HANDLERS&&d(1025,(function(e){return void 0!==e._ir1025}),(function(e,t,r){t._ir1025=(0,i.readBytes)(e,r())}),(function(e,t){(0,o.writeBytes)(e,t._ir1025)}));var y=(0,a.createEnum)("FrmD","",{auto:"Auto",none:"None",dispose:"Disp"});a.MOCK_HANDLERS&&d(4e3,(function(e){return void 0!==e._ir4000}),(function(e,t,r,n){var o=n.logMissingFeatures,s=n.logDevFeatures;if(a.MOCK_HANDLERS)t._ir4000=(0,i.readBytes)(e,r());else{var d=(0,i.readSignature)(e);if("mani"===d)(0,i.checkSignature)(e,"IRFR"),(0,i.readSection)(e,1,(function(t){for(var r=function(){(0,i.checkSignature)(e,"8BIM");var t=(0,i.readSignature)(e);(0,i.readSection)(e,1,(function(r){if("AnDs"===t){var n=(0,l.readVersionAndDescriptor)(e);s&&console.log("#4000 AnDs",n);var a={frames:n.FrIn.map((function(e){return{id:e.FrID,delay:e.FrDl/100,dispose:e.FrDs?y.decode(e.FrDs):"auto"}})),animations:n.FSts.map((function(e){return{id:e.FsID,frames:e.FsFr,repeats:e.LCnt}}))};s&&console.log("#4000 AnDs:result",a)}else if("Roll"===t){var d=(0,i.readBytes)(e,r());s&&console.log("#4000 Roll",d)}else o&&console.log("Unhandled subsection in #4000",t)}))};t();)r()}));else{if("mopt"!==d)return void(o&&console.log("Unhandled key in #4000:",d));var u=(0,i.readBytes)(e,r());s&&console.log("#4000 mopt",u)}}}),(function(e,t){(0,o.writeBytes)(e,t._ir4000)})),a.MOCK_HANDLERS&&d(4001,(function(e){return void 0!==e._ir4001}),(function(e,t,r,n){var o=n.logMissingFeatures,s=n.logDevFeatures;if(a.MOCK_HANDLERS)t._ir4001=(0,i.readBytes)(e,r());else{var d=(0,i.readSignature)(e);if("mfri"===d){if(2!==(0,i.readUint32)(e))throw new Error("Invalid mfri version");var u=(0,i.readUint32)(e),c=(0,i.readBytes)(e,u);s&&console.log("mfri",c)}else if("mset"===d){var f=(0,l.readVersionAndDescriptor)(e);s&&console.log("mset",f)}else o&&console.log("Unhandled key in #4001",d)}}),(function(e,t){(0,o.writeBytes)(e,t._ir4001)})),a.MOCK_HANDLERS&&d(4002,(function(e){return void 0!==e._ir4002}),(function(e,t,r){t._ir4002=(0,i.readBytes)(e,r())}),(function(e,t){(0,o.writeBytes)(e,t._ir4002)}))})),t.register("5wpNI",(function(e,t){"use strict";function r(e){return 0==(4294967168&e)?1:0==(4294965248&e)?2:0==(4294901760&e)?3:4}function n(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i>=55296&&i<=56319){if(n+1<e.length){var o=e.charCodeAt(n+1);56320==(64512&o)&&(n++,t+=r(((1023&i)<<10)+(1023&o)+65536))}}else t+=r(i)}return t}function i(e,t,n){var i=r(n);switch(i){case 1:e[t]=n;break;case 2:e[t]=n>>6&31|192,e[t+1]=63&n|128;break;case 3:e[t]=n>>12&15|224,e[t+1]=n>>6&63|128,e[t+2]=63&n|128;break;default:e[t]=n>>18&7|240,e[t+1]=n>>12&63|128,e[t+2]=n>>6&63|128,e[t+3]=63&n|128}return i}function o(e,t,r){for(var n=0;n<r.length;n++){var o=r.charCodeAt(n);if(o>=55296&&o<=56319){if(n+1<r.length){var a=r.charCodeAt(n+1);if(56320==(64512&a))n++,t+=i(e,t,((1023&o)<<10)+(1023&a)+65536)}}else t+=i(e,t,o)}return t}function a(e,t){if(t>=e.length)throw Error("Invalid byte index");var r=e[t];if(128==(192&r))return 63&r;throw Error("Invalid continuation byte")}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.decodeString=e.exports.encodeString=e.exports.encodeStringTo=e.exports.stringLengthInBytes=void 0,e.exports.stringLengthInBytes=n,e.exports.encodeStringTo=o,e.exports.encodeString=function(e){var t=new Uint8Array(n(e));return o(t,0,e),t},e.exports.decodeString=function(e){for(var t="",r=0;r<e.length;){var n=e[r++],i=void 0;if(0==(128&n))i=n;else if(192==(224&n)){if((i=(31&n)<<6|a(e,r++))<128)throw Error("Invalid continuation byte")}else if(224==(240&n)){if((i=(15&n)<<12|a(e,r++)<<6|a(e,r++))<2048)throw Error("Invalid continuation byte");if(i>=55296&&i<=57343)throw Error("Lone surrogate U+".concat(i.toString(16).toUpperCase()," is not a scalar value"))}else{if(240!=(248&n))throw Error("Invalid UTF-8 detected");if((i=(15&n)<<18|a(e,r++)<<12|a(e,r++)<<6|a(e,r++))<65536||i>1114111)throw Error("Invalid continuation byte")}i>65535&&(i-=65536,t+=String.fromCharCode(i>>>10&1023|55296),i=56320|1023&i),t+=String.fromCharCode(i)}return t}})),t.register("klnll",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.strokeStyleLineAlignment=e.exports.strokeStyleLineJoinType=e.exports.strokeStyleLineCapType=e.exports.FrFl=e.exports.FStl=e.exports.ClrS=e.exports.gradientInterpolationMethodType=e.exports.GrdT=e.exports.IGSr=e.exports.BETE=e.exports.BESs=e.exports.bvlT=e.exports.BESl=e.exports.BlnM=e.exports.warpStyle=e.exports.Annt=e.exports.Ornt=e.exports.textGridding=e.exports.unitsValue=e.exports.unitsPercent=e.exports.unitsAngle=e.exports.parseUnitsToNumber=e.exports.parseUnitsOrNumber=e.exports.parseUnits=e.exports.parsePercentOrAngle=e.exports.parsePercent=e.exports.parseAngle=e.exports.writeVersionAndDescriptor=e.exports.readVersionAndDescriptor=e.exports.writeDescriptorStructure=e.exports.readDescriptorStructure=e.exports.readAsciiStringOrClassId=e.exports.setLogErrors=void 0;var n=t("jE67M"),i=t("5OPaf"),o=t("kCSTH");var a,s,l={"#Ang":"Angle","#Rsl":"Density","#Rlt":"Distance","#Nne":"None","#Prc":"Percent","#Pxl":"Pixels","#Mlm":"Millimeters","#Pnt":"Points",RrPi:"Picas",RrIn:"Inches",RrCm:"Centimeters"},d=(a=l,s={},Object.keys(a).forEach((function(e){return s[a[e]]=e})),s),u=!1;function c(e,t){return{name:e,classID:t}}e.exports.setLogErrors=function(e){u=e};for(var f={strokeStyleContent:c("","solidColorLayer"),printProofSetup:c("Proof Setup","proofSetup"),patternFill:c("","patternFill"),Grad:c("Gradient","Grdn"),ebbl:c("","ebbl"),SoFi:c("","SoFi"),GrFl:c("","GrFl"),sdwC:c("","RGBC"),hglC:c("","RGBC"),"Clr ":c("","RGBC"),tintColor:c("","RGBC"),Ofst:c("","Pnt "),ChFX:c("","ChFX"),MpgS:c("","ShpC"),DrSh:c("","DrSh"),IrSh:c("","IrSh"),OrGl:c("","OrGl"),IrGl:c("","IrGl"),TrnS:c("","ShpC"),Ptrn:c("","Ptrn"),FrFX:c("","FrFX"),phase:c("","Pnt "),frameStep:c("","null"),duration:c("","null"),bounds:c("","Rctn"),customEnvelopeWarp:c("","customEnvelopeWarp"),warp:c("","warp"),"Sz  ":c("","Pnt "),origin:c("","Pnt "),autoExpandOffset:c("","Pnt "),keyOriginShapeBBox:c("","unitRect"),Vrsn:c("","null"),psVersion:c("","null"),docDefaultNewArtboardBackgroundColor:c("","RGBC"),artboardRect:c("","classFloatRect"),keyOriginRRectRadii:c("","radii"),keyOriginBoxCorners:c("","null"),rectangleCornerA:c("","Pnt "),rectangleCornerB:c("","Pnt "),rectangleCornerC:c("","Pnt "),rectangleCornerD:c("","Pnt "),compInfo:c("","null"),Trnf:c("Transform","Trnf"),quiltWarp:c("","quiltWarp"),generatorSettings:c("","null"),crema:c("","null")},h={"Crv ":c("","CrPt"),Clrs:c("","Clrt"),Trns:c("","TrnS"),keyDescriptorList:c("","null"),solidFillMulti:c("","SoFi"),gradientFillMulti:c("","GrFl"),dropShadowMulti:c("","DrSh"),innerShadowMulti:c("","IrSh"),frameFXMulti:c("","FrFX")},p={TEXT:["Txt ","printerName","Nm  ","Idnt","blackAndWhitePresetFileName","LUT3DFileName","presetFileName","curvesPresetFileName","mixerPresetFileName","placed","description","reason","artboardPresetName","json"],tdta:["EngineData","LUT3DFileData"],long:["TextIndex","RndS","Mdpn","Smth","Lctn","strokeStyleVersion","LaID","Vrsn","Cnt ","Brgh","Cntr","means","vibrance","Strt","bwPresetKind","presetKind","comp","compID","originalCompID","curvesPresetKind","mixerPresetKind","uOrder","vOrder","PgNm","totalPages","Crop","numerator","denominator","frameCount","Annt","keyOriginType","unitValueQuadVersion","keyOriginIndex","major","minor","fix","docDefaultNewArtboardBackgroundType","artboardBackgroundType","numModifyingFX","deformNumRows","deformNumCols"],enum:["textGridding","Ornt","warpStyle","warpRotate","Inte","Bltn","ClrS","sdwM","hglM","bvlT","bvlS","bvlD","Md  ","glwS","GrdF","GlwT","strokeStyleLineCapType","strokeStyleLineJoinType","strokeStyleLineAlignment","strokeStyleBlendMode","PntT","Styl","lookupType","LUTFormat","dataOrder","tableOrder","enableCompCore","enableCompCoreGPU","compCoreSupport","compCoreGPUSupport","Engn","enableCompCoreThreads","gs99"],bool:["PstS","printSixteenBit","masterFXSwitch","enab","uglg","antialiasGloss","useShape","useTexture","masterFXSwitch","uglg","antialiasGloss","useShape","useTexture","Algn","Rvrs","Dthr","Invr","VctC","ShTr","layerConceals","strokeEnabled","fillEnabled","strokeStyleScaleLock","strokeStyleStrokeAdjust","hardProof","MpBl","paperWhite","useLegacy","Auto","Lab ","useTint","keyShapeInvalidated","autoExpandEnabled","autoNestEnabled","autoPositionEnabled","shrinkwrapOnSaveEnabled","present","showInDialog","overprint"],doub:["warpValue","warpPerspective","warpPerspectiveOther","Intr","Wdth","Hght","strokeStyleMiterLimit","strokeStyleResolution","layerTime","keyOriginResolution","xx","xy","yx","yy","tx","ty"],UntF:["Scl ","sdwO","hglO","lagl","Lald","srgR","blur","Sftn","Opct","Dstn","Angl","Ckmt","Nose","Inpr","ShdN","strokeStyleLineWidth","strokeStyleLineDashOffset","strokeStyleOpacity","H   ","Top ","Left","Btom","Rght","Rslt","topRight","topLeft","bottomLeft","bottomRight"],VlLs:["Crv ","Clrs","Mnm ","Mxm ","Trns","pathList","strokeStyleLineDashSet","FrLs","LaSt","Trnf","nonAffineTransform","keyDescriptorList","guideIndeces","gradientFillMulti","solidFillMulti","frameFXMulti","innerShadowMulti","dropShadowMulti"],ObAr:["meshPoints","quiltSliceX","quiltSliceY"],"obj ":["null"]},g=["Rd  ","Grn ","Bl  ","Yllw","Ylw ","Cyn ","Mgnt","Blck","Gry ","Lmnc","A   ","B   "],v={"Mnm ":"long","Mxm ":"long",FrLs:"long",strokeStyleLineDashSet:"UntF",Trnf:"doub",nonAffineTransform:"doub",keyDescriptorList:"Objc",gradientFillMulti:"Objc",solidFillMulti:"Objc",frameFXMulti:"Objc",innerShadowMulti:"Objc",dropShadowMulti:"Objc"},w={},y=0,m=Object.keys(p);y<m.length;y++)for(var b=m[y],k=0,S=p[b];k<S.length;k++){var x=S[k];w[x]=b}for(var _=0,U=Object.keys(f);_<U.length;_++){x=U[_];w[x]||(w[x]="Objc")}for(var I=0,A=Object.keys(h);I<A.length;I++){x=A[I];v[x]="Objc"}function E(e,t,r){return"Sz  "===e?"Wdth"in t?"Objc":"units"in t?"UntF":"doub":"Type"===e?"string"==typeof t?"enum":"long":"AntA"===e?"string"==typeof t?"enum":"bool":"Hrzn"===e||"Vrtc"===e||"Top "===e||"Left"===e||"Btom"===e||"Rght"===e?"number"==typeof t?"doub":"UntF":"Vrsn"===e?"number"==typeof t?"long":"Objc":"Rd  "===e||"Grn "===e||"Bl  "===e?"artd"===r?"long":"doub":"Trnf"===e?Array.isArray(t)?"VlLs":"Objc":w[e]}function C(e){var t=(0,i.readInt32)(e);return(0,i.readAsciiString)(e,t||4)}function B(e,t){if(4===t.length&&"warp"!==t)(0,o.writeInt32)(e,0),(0,o.writeSignature)(e,t);else{(0,o.writeInt32)(e,t.length);for(var r=0;r<t.length;r++)(0,o.writeUint8)(e,t.charCodeAt(r))}}function P(e){var t={};R(e);for(var r=(0,i.readUint32)(e),n=0;n<r;n++){var o=C(e),a=M(e,(0,i.readSignature)(e));t[o]=a}return t}function D(e,t,r,n,i){u&&!r&&console.log("Missing classId for: ",t,r,n),(0,o.writeUnicodeStringWithPadding)(e,t),B(e,r);var a=Object.keys(n);(0,o.writeUint32)(e,a.length);for(var s=0,l=a;s<l.length;s++){var d=l[s],h=E(d,n[d],i),p=f[d];"Strt"!==d&&"Brgh"!==d||!("H   "in n)?-1!==g.indexOf(d)?h="RGBC"===r&&"artd"!==i?"doub":"long":"profile"===d?h="printOutput"===r?"TEXT":"tdta":"strokeStyleContent"===d?n[d]["Clr "]?p=c("","solidColorLayer"):n[d].Grad?p=c("","gradientLayer"):n[d].Ptrn?p=c("","patternLayer"):u&&console.log("Invalid strokeStyleContent value",n[d]):"bounds"===d&&"quiltWarp"===i&&(p=c("","classFloatRect")):h="doub",p&&"RGBC"===p.classID&&"H   "in n[d]&&(p={classID:"HSBC",name:""}),B(e,d),(0,o.writeSignature)(e,h||"long"),O(e,h||"long",n[d],d,p,i),u&&!h&&console.log("Missing descriptor field type for: '".concat(d,"' in"),n)}}function M(e,t){switch(t){case"obj ":return function(e){for(var t=(0,i.readInt32)(e),r=[],n=0;n<t;n++){var o=(0,i.readSignature)(e);switch(o){case"prop":R(e);var a=C(e);r.push(a);break;case"Clss":r.push(R(e));break;case"Enmr":R(e);var s=C(e),l=C(e);r.push("".concat(s,".").concat(l));break;case"rele":R(e),r.push((0,i.readUint32)(e));break;case"Idnt":case"indx":r.push((0,i.readInt32)(e));break;case"name":R(e),r.push((0,i.readUnicodeString)(e));break;default:throw new Error("Invalid descriptor reference type: ".concat(o))}}return r}(e);case"Objc":case"GlbO":return P(e);case"VlLs":for(var r=(0,i.readInt32)(e),n=[],o=0;o<r;o++){var a=(0,i.readSignature)(e);n.push(M(e,a))}return n;case"doub":return(0,i.readFloat64)(e);case"UntF":var s=(0,i.readSignature)(e),d=(0,i.readFloat64)(e);if(!l[s])throw new Error("Invalid units: ".concat(s));return{units:l[s],value:d};case"UnFl":s=(0,i.readSignature)(e),d=(0,i.readFloat32)(e);if(!l[s])throw new Error("Invalid units: ".concat(s));return{units:l[s],value:d};case"TEXT":return(0,i.readUnicodeString)(e);case"enum":var u=C(e);d=C(e);return"".concat(u,".").concat(d);case"long":return(0,i.readInt32)(e);case"comp":return{low:(0,i.readUint32)(e),high:(0,i.readUint32)(e)};case"bool":return!!(0,i.readUint8)(e);case"type":case"GlbC":return R(e);case"alis":var c=(0,i.readInt32)(e);return(0,i.readAsciiString)(e,c);case"tdta":var f=(0,i.readInt32)(e);return(0,i.readBytes)(e,f);case"ObAr":(0,i.readInt32)(e),(0,i.readUnicodeString)(e),C(e);var h=(0,i.readInt32)(e);for(n=[],o=0;o<h;o++){var p=C(e);(0,i.readSignature)(e),(0,i.readSignature)(e);for(var g=(0,i.readInt32)(e),v=[],w=0;w<g;w++)v.push((0,i.readFloat64)(e));n.push({type:p,values:v})}return n;case"Pth ":(0,i.readInt32)(e);var y=(0,i.readSignature)(e);(0,i.readInt32LE)(e);var m=(0,i.readInt32LE)(e);return{sig:y,path:(0,i.readUnicodeStringWithLength)(e,m)};default:throw new Error("Invalid TySh descriptor OSType: ".concat(t," at ").concat(e.offset.toString(16)))}}e.exports.readAsciiStringOrClassId=C,e.exports.readDescriptorStructure=P,e.exports.writeDescriptorStructure=D;var F={meshPoints:"rationalPoint",quiltSliceX:"UntF",quiltSliceY:"UntF"};function O(e,t,r,n,i,a){switch(t){case"obj ":!function(e,t,r){(0,o.writeInt32)(e,r.length);for(var n=0;n<r.length;n++){var i=r[n],a="unknown";switch("string"==typeof i&&(a=/^[a-z]+\.[a-z]+$/i.test(i)?"Enmr":"name"),(0,o.writeSignature)(e,a),a){case"Enmr":var s=i.split("."),l=s[0],d=s[1];L(e,"\0",l),B(e,l),B(e,d);break;case"name":L(e,"\0","Lyr "),(0,o.writeUnicodeString)(e,i+"\0");break;default:throw new Error("Invalid descriptor reference type: ".concat(a))}}}(e,0,r);break;case"Objc":case"GlbO":if(!i)throw new Error("Missing ext type for: '".concat(n,"' (").concat(JSON.stringify(r),")"));D(e,i.name,i.classID,r,a);break;case"VlLs":(0,o.writeInt32)(e,r.length);for(var s=0;s<r.length;s++){var l=v[n];(0,o.writeSignature)(e,l||"long"),O(e,l||"long",r[s],"",h[n],a),u&&!l&&console.log("Missing descriptor array type for: '".concat(n,"' in"),r)}break;case"doub":(0,o.writeFloat64)(e,r);break;case"UntF":if(!d[r.units])throw new Error("Invalid units: ".concat(r.units," in ").concat(n));(0,o.writeSignature)(e,d[r.units]),(0,o.writeFloat64)(e,r.value);break;case"UnFl":if(!d[r.units])throw new Error("Invalid units: ".concat(r.units," in ").concat(n));(0,o.writeSignature)(e,d[r.units]),(0,o.writeFloat32)(e,r.value);break;case"TEXT":(0,o.writeUnicodeStringWithPadding)(e,r);break;case"enum":var c=r.split("."),f=c[0],p=c[1];B(e,f),B(e,p);break;case"long":(0,o.writeInt32)(e,r);break;case"bool":(0,o.writeUint8)(e,r?1:0);break;case"tdta":(0,o.writeInt32)(e,r.byteLength),(0,o.writeBytes)(e,r);break;case"ObAr":(0,o.writeInt32)(e,16),(0,o.writeUnicodeStringWithPadding)(e,"");var g=F[n];if(!g)throw new Error("Not implemented ObArType for: ".concat(n));B(e,g),(0,o.writeInt32)(e,r.length);for(s=0;s<r.length;s++){B(e,r[s].type),(0,o.writeSignature)(e,"UnFl"),(0,o.writeSignature)(e,"#Pxl"),(0,o.writeInt32)(e,r[s].values.length);for(var w=0;w<r[s].values.length;w++)(0,o.writeFloat64)(e,r[s].values[w])}break;default:throw new Error("Not implemented descriptor OSType: ".concat(t))}}function R(e){return{name:(0,i.readUnicodeString)(e),classID:C(e)}}function L(e,t,r){(0,o.writeUnicodeString)(e,t),B(e,r)}function T(e){var t=e.units,r=e.value;if("Pixels"!==t&&"Millimeters"!==t&&"Points"!==t&&"None"!==t&&"Picas"!==t&&"Inches"!==t&&"Centimeters"!==t&&"Density"!==t)throw new Error("Invalid units: ".concat(JSON.stringify({units:t,value:r})));return{value:r,units:t}}e.exports.readVersionAndDescriptor=function(e){var t=(0,i.readUint32)(e);if(16!==t)throw new Error("Invalid descriptor version: ".concat(t));return P(e)},e.exports.writeVersionAndDescriptor=function(e,t,r,n,i){void 0===i&&(i=""),(0,o.writeUint32)(e,16),D(e,t,r,n,i)},e.exports.parseAngle=function(e){if(void 0===e)return 0;if("Angle"!==e.units)throw new Error("Invalid units: ".concat(e.units));return e.value},e.exports.parsePercent=function(e){if(void 0===e)return 1;if("Percent"!==e.units)throw new Error("Invalid units: ".concat(e.units));return e.value/100},e.exports.parsePercentOrAngle=function(e){if(void 0===e)return 1;if("Percent"===e.units)return e.value/100;if("Angle"===e.units)return e.value/360;throw new Error("Invalid units: ".concat(e.units))},e.exports.parseUnits=T,e.exports.parseUnitsOrNumber=function(e,t){return void 0===t&&(t="Pixels"),"number"==typeof e?{value:e,units:t}:T(e)},e.exports.parseUnitsToNumber=function(e,t){var r=e.units,n=e.value;if(r!==t)throw new Error("Invalid units: ".concat(JSON.stringify({units:r,value:n})));return n},e.exports.unitsAngle=function(e){return{units:"Angle",value:e||0}},e.exports.unitsPercent=function(e){return{units:"Percent",value:Math.round(100*(e||0))}},e.exports.unitsValue=function(e,t){if(null==e)return{units:"Pixels",value:0};if("object"!=typeof e)throw new Error("Invalid value: ".concat(JSON.stringify(e)," (key: ").concat(t,") (should have value and units)"));var r=e.units,n=e.value;if("number"!=typeof n)throw new Error("Invalid value in ".concat(JSON.stringify(e)," (key: ").concat(t,")"));if("Pixels"!==r&&"Millimeters"!==r&&"Points"!==r&&"None"!==r&&"Picas"!==r&&"Inches"!==r&&"Centimeters"!==r&&"Density"!==r)throw new Error("Invalid units in ".concat(JSON.stringify(e)," (key: ").concat(t,")"));return{units:r,value:n}},e.exports.textGridding=(0,n.createEnum)("textGridding","none",{none:"None",round:"Rnd "}),e.exports.Ornt=(0,n.createEnum)("Ornt","horizontal",{horizontal:"Hrzn",vertical:"Vrtc"}),e.exports.Annt=(0,n.createEnum)("Annt","sharp",{none:"Anno",sharp:"antiAliasSharp",crisp:"AnCr",strong:"AnSt",smooth:"AnSm",platform:"antiAliasPlatformGray",platformLCD:"antiAliasPlatformLCD"}),e.exports.warpStyle=(0,n.createEnum)("warpStyle","none",{none:"warpNone",arc:"warpArc",arcLower:"warpArcLower",arcUpper:"warpArcUpper",arch:"warpArch",bulge:"warpBulge",shellLower:"warpShellLower",shellUpper:"warpShellUpper",flag:"warpFlag",wave:"warpWave",fish:"warpFish",rise:"warpRise",fisheye:"warpFisheye",inflate:"warpInflate",squeeze:"warpSqueeze",twist:"warpTwist",custom:"warpCustom"}),e.exports.BlnM=(0,n.createEnum)("BlnM","normal",{normal:"Nrml",dissolve:"Dslv",darken:"Drkn",multiply:"Mltp","color burn":"CBrn","linear burn":"linearBurn","darker color":"darkerColor",lighten:"Lghn",screen:"Scrn","color dodge":"CDdg","linear dodge":"linearDodge","lighter color":"lighterColor",overlay:"Ovrl","soft light":"SftL","hard light":"HrdL","vivid light":"vividLight","linear light":"linearLight","pin light":"pinLight","hard mix":"hardMix",difference:"Dfrn",exclusion:"Xclu",subtract:"blendSubtraction",divide:"blendDivide",hue:"H   ",saturation:"Strt",color:"Clr ",luminosity:"Lmns","linear height":"linearHeight",height:"Hght",subtraction:"Sbtr"}),e.exports.BESl=(0,n.createEnum)("BESl","inner bevel",{"inner bevel":"InrB","outer bevel":"OtrB",emboss:"Embs","pillow emboss":"PlEb","stroke emboss":"strokeEmboss"}),e.exports.bvlT=(0,n.createEnum)("bvlT","smooth",{smooth:"SfBL","chisel hard":"PrBL","chisel soft":"Slmt"}),e.exports.BESs=(0,n.createEnum)("BESs","up",{up:"In  ",down:"Out "}),e.exports.BETE=(0,n.createEnum)("BETE","softer",{softer:"SfBL",precise:"PrBL"}),e.exports.IGSr=(0,n.createEnum)("IGSr","edge",{edge:"SrcE",center:"SrcC"}),e.exports.GrdT=(0,n.createEnum)("GrdT","linear",{linear:"Lnr ",radial:"Rdl ",angle:"Angl",reflected:"Rflc",diamond:"Dmnd"}),e.exports.gradientInterpolationMethodType=(0,n.createEnum)("gradientInterpolationMethodType","perceptual",{perceptual:"Perc",linear:"Lnr",classic:"Gcls"}),e.exports.ClrS=(0,n.createEnum)("ClrS","rgb",{rgb:"RGBC",hsb:"HSBl",lab:"LbCl"}),e.exports.FStl=(0,n.createEnum)("FStl","outside",{outside:"OutF",center:"CtrF",inside:"InsF"}),e.exports.FrFl=(0,n.createEnum)("FrFl","color",{color:"SClr",gradient:"GrFl",pattern:"Ptrn"}),e.exports.strokeStyleLineCapType=(0,n.createEnum)("strokeStyleLineCapType","butt",{butt:"strokeStyleButtCap",round:"strokeStyleRoundCap",square:"strokeStyleSquareCap"}),e.exports.strokeStyleLineJoinType=(0,n.createEnum)("strokeStyleLineJoinType","miter",{miter:"strokeStyleMiterJoin",round:"strokeStyleRoundJoin",bevel:"strokeStyleBevelJoin"}),e.exports.strokeStyleLineAlignment=(0,n.createEnum)("strokeStyleLineAlignment","inside",{inside:"strokeStyleAlignInside",center:"strokeStyleAlignCenter",outside:"strokeStyleAlignOutside"})})),t.register("2TM27",(function(e,t){"use strict";function r(e){return 32===e||10===e||13===e||9===e}function n(e){return e>=48&&e<=57||46===e||45===e}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.serializeEngineData=e.exports.parseEngineData=void 0,e.exports.parseEngineData=function(e){var t=function(){for(;u<e.length&&r(e[u]);)u++},i=function(){var t=e[u];return u++,92===t&&(t=e[u],u++),t},o=function(){var t="";if(41===e[u])return u++,t;if(254!==e[u]||255!==e[u+1])throw new Error("Invalid utf-16 BOM");for(u+=2;u<e.length&&41!==e[u];){var r=i()<<8|i();t+=String.fromCharCode(r)}return u++,t},a=function(e){f.length?(s(e),f.push(e)):(f.push(e),c=e)},s=function(e){if(!f.length)throw new Error("Invalid data");var t=f[f.length-1];if("string"==typeof t)f[f.length-2][t]=e,d();else{if(!Array.isArray(t))throw new Error("Invalid data");t.push(e)}},l=function(e){f.length||a({});var t=f[f.length-1];if(t&&"string"==typeof t)s("nil"===e?null:"/".concat(e));else{if(!t||"object"!=typeof t)throw new Error("Invalid data");f.push(e)}},d=function(){if(!f.length)throw new Error("Invalid data");f.pop()},u=0,c=null,f=[];for(t();u<e.length;){var h=u,p=e[h];if(60===p&&60===e[h+1])u+=2,a({});else if(62===p&&62===e[h+1])u+=2,d();else if(47===p){for(var g=u+=1;u<e.length&&!r(e[u]);)u++;for(var v="",w=g;w<u;w++)v+=String.fromCharCode(e[w]);l(v)}else if(40===p)u+=1,s(o());else if(91===p)u+=1,a([]);else if(93===p)u+=1,d();else if(110===p&&117===e[h+1]&&108===e[h+2]&&108===e[h+3])u+=4,s(null);else if(116===p&&114===e[h+1]&&117===e[h+2]&&101===e[h+3])u+=4,s(!0);else if(102===p&&97===e[h+1]&&108===e[h+2]&&115===e[h+3]&&101===e[h+4])u+=5,s(!1);else if(n(p)){for(var y="";u<e.length&&n(e[u]);)y+=String.fromCharCode(e[u]),u++;s(parseFloat(y))}else u+=1,console.log("Invalid token ".concat(String.fromCharCode(p)," at ").concat(u));t()}return c};var i=["Axis","XY","Zone","WordSpacing","FirstLineIndent","GlyphSpacing","StartIndent","EndIndent","SpaceBefore","SpaceAfter","LetterSpacing","Values","GridSize","GridLeading","PointBase","BoxBounds","TransformPoint0","TransformPoint1","TransformPoint2","FontSize","Leading","HorizontalScale","VerticalScale","BaselineShift","Tsume","OutlineWidth","AutoLeading"],o=["RunLengthArray"];e.exports.serializeEngineData=function(e,t){var r=function(e){if(h>=f.length){var t=new Uint8Array(2*f.length);t.set(f),f=t}f[h]=e,h++},n=function(e){for(var t=0;t<e.length;t++)r(e.charCodeAt(t))},a=function(){if(t)n(" ");else for(var e=0;e<p;e++)n("\t")},s=function(e,r){a(),n("/".concat(e)),g(r,e,!0),t||n("\n")},l=function(e){return e.toFixed(5).replace(/(\d)0+$/g,"$1").replace(/^0+\.([1-9])/g,".$1").replace(/^-0+\.0(\d)/g,"-.0$1")},d=function(e,t){return t&&-1!==i.indexOf(t)||(0|e)!==e?l(e):function(e){return e.toString()}(e)},u=function(e){var t=Object.keys(e);return-1!==t.indexOf("98")&&t.unshift.apply(t,t.splice(t.indexOf("99"),1)),-1!==t.indexOf("99")&&t.unshift.apply(t,t.splice(t.indexOf("99"),1)),t},c=function(e){40!==e&&41!==e&&92!==e||r(92),r(e)};void 0===t&&(t=!1);var f=new Uint8Array(1024),h=0,p=0;function g(e,i,f){function h(){f?n(" "):a()}if(void 0===f&&(f=!1),null===e)h(),n(t?"/nil":"null");else if("number"==typeof e)h(),n(d(e,i));else if("boolean"==typeof e)h(),n(e?"true":"false");else if("string"==typeof e)if(h(),"99"!==i&&"98"!==i||"/"!==e.charAt(0)){n("("),r(254),r(255);for(var v=0;v<e.length;v++){var w=e.charCodeAt(v);c(w>>8&255),c(255&w)}n(")")}else n(e);else if(Array.isArray(e))if(h(),e.every((function(e){return"number"==typeof e}))){n("[");for(var y=-1!==o.indexOf(i),m=0,b=e;m<b.length;m++){var k=b[m];n(" "),n(y?d(k):l(k))}n(" ]")}else{n("["),t||n("\n");for(var S=0,x=e;S<x.length;S++){g(k=x[S],i),t||n("\n")}a(),n("]")}else if("object"==typeof e){f&&!t&&n("\n"),a(),n("<<"),t||n("\n"),p++;for(var _=0,U=u(e);_<U.length;_++){var I=U[_];s(I,e[I])}p--,a(),n(">>")}}if(t){if("object"==typeof e)for(var v=0,w=u(e);v<w.length;v++){var y=w[v];s(y,e[y])}}else n("\n\n"),g(e);return f.slice(0,h)}})),t.register("6rQPt",(function(e,t){"use strict";var r=e.exports&&e.exports.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.encodeEngineData=e.exports.decodeEngineData=void 0;var n={name:"MyriadPro-Regular",script:0,type:0,synthetic:0},i={justification:"left",firstLineIndent:0,startIndent:0,endIndent:0,spaceBefore:0,spaceAfter:0,autoHyphenate:!0,hyphenatedWordSize:6,preHyphen:2,postHyphen:2,consecutiveHyphens:8,zone:36,wordSpacing:[.8,1,1.33],letterSpacing:[0,0,0],glyphSpacing:[1,1,1],autoLeading:1.2,leadingType:0,hanging:!1,burasagari:!1,kinsokuOrder:0,everyLineComposer:!1},o={font:n,fontSize:12,fauxBold:!1,fauxItalic:!1,autoLeading:!0,leading:0,horizontalScale:1,verticalScale:1,tracking:0,autoKerning:!0,kerning:0,baselineShift:0,fontCaps:0,fontBaseline:0,underline:!1,strikethrough:!1,ligatures:!0,dLigatures:!1,baselineDirection:2,tsume:0,styleRunAlignment:2,language:0,noBreak:!1,fillColor:{r:0,g:0,b:0},strokeColor:{r:0,g:0,b:0},fillFlag:!0,strokeFlag:!1,fillFirst:!0,yUnderline:1,outlineWidth:1,characterDirection:0,hindiNumbers:!1,kashida:1,diacriticPos:2},a={isOn:!1,show:!1,size:18,leading:22,color:{r:0,g:0,b:255},leadingFillColor:{r:0,g:0,b:255},alignLineHeightToGridFlags:!1},s=["justification","firstLineIndent","startIndent","endIndent","spaceBefore","spaceAfter","autoHyphenate","hyphenatedWordSize","preHyphen","postHyphen","consecutiveHyphens","zone","wordSpacing","letterSpacing","glyphSpacing","autoLeading","leadingType","hanging","burasagari","kinsokuOrder","everyLineComposer"],l=["font","fontSize","fauxBold","fauxItalic","autoLeading","leading","horizontalScale","verticalScale","tracking","autoKerning","kerning","baselineShift","fontCaps","fontBaseline","underline","strikethrough","ligatures","dLigatures","baselineDirection","tsume","styleRunAlignment","language","noBreak","fillColor","strokeColor","fillFlag","strokeFlag","fillFirst","yUnderline","outlineWidth","characterDirection","hindiNumbers","kashida","diacriticPos"],d=["none","crisp","strong","smooth","sharp"],u=["left","right","center"];function c(e){return e.substr(0,1).toUpperCase()+e.substr(1)}function f(e){return e&&"r"in e?["a"in e?e.a:1,e.r/255,e.g/255,e.b/255]:[0,0,0,0]}function h(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function p(e,t){if(!e||!t)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++){if(e[a=n[r]]!==t[a])return!1}for(var i=0,o=Object.keys(t);i<o.length;i++){var a;if(e[a=o[i]]!==t[a])return!1}return!0}function g(e,t){for(var r=0;r<e.length;r++)if(e[r].name===t.name)return r;return e.push(t),e.length-1}function v(e,t,r){for(var n,i,o={},a=0,s=t;a<s.length;a++){var l=s[a],d=c(l);void 0!==e[d]&&(o[l]="justification"===l?u[e[d]]:"font"===l?r[e[d]]:"fillColor"===l||"strokeColor"===l?(n=e[d],i=void 0,i=n.Values,0===n.Type?{r:255*i[1],g:255*i[1],b:255*i[1]}:{r:255*i[1],g:255*i[2],b:255*i[3],a:i[0]}):e[d])}return o}function w(e,t,r){for(var n,i={},o=0,a=t;o<a.length;o++){var s=a[o],l=c(s);void 0!==e[s]&&(i[l]="justification"===s?u.indexOf(null!==(n=e[s])&&void 0!==n?n:"left"):"font"===s?g(r,e[s]):"fillColor"===s||"strokeColor"===s?{Type:1,Values:f(e[s])}:e[s])}return i}function y(e,t){return v(e,s,t)}function m(e,t){return v(e,l,t)}function b(e,t){return w(e,s,t)}function k(e,t){return w(e,l,t)}function S(e,t,r){if(t.length){for(var n=function(r){var n=t[0].style[r];if(void 0!==n){var i=!1;i=Array.isArray(n)?t.every((function(e){return h(e.style[r],n)})):"object"==typeof n?t.every((function(e){return p(e.style[r],n)})):t.every((function(e){return e.style[r]===n})),i&&(e[r]=n)}if(void 0!==e[r])for(var o=0,a=t;o<a.length;o++){var s=a[o];(Array.isArray(n)?h(s.style[r],n):"object"==typeof n?p(s.style[r],n):s.style[r]===n)&&delete s.style[r]}},i=0,o=r;i<o.length;i++){n(o[i])}t.every((function(e){return 0===Object.keys(e.style).length}))&&(t.length=0)}}e.exports.decodeEngineData=function(e){for(var t,r,n,i,o,a,u=e.EngineDict,c=e.ResourceDict,f=c.FontSet.map((function(e){return{name:e.Name,script:e.Script,type:e.FontType,synthetic:e.Synthetic}})),h=u.Editor.Text.replace(/\r/g,"\n"),p=0;/\n$/.test(h);)h=h.substr(0,h.length-1),p++;var g={text:h,antiAlias:null!==(t=d[u.AntiAlias])&&void 0!==t?t:"smooth",useFractionalGlyphWidths:!!u.UseFractionalGlyphWidths,superscriptSize:c.SuperscriptSize,superscriptPosition:c.SuperscriptPosition,subscriptSize:c.SubscriptSize,subscriptPosition:c.SubscriptPosition,smallCapSize:c.SmallCapSize},v=null===(a=null===(o=null===(i=null===(n=null===(r=u.Rendered)||void 0===r?void 0:r.Shapes)||void 0===n?void 0:n.Children)||void 0===i?void 0:i[0])||void 0===o?void 0:o.Cookie)||void 0===a?void 0:a.Photoshop;v&&(g.shapeType=1===v.ShapeType?"box":"point",v.PointBase&&(g.pointBase=v.PointBase),v.BoxBounds&&(g.boxBounds=v.BoxBounds));var w=e.EngineDict.ParagraphRun;g.paragraphStyle={},g.paragraphStyleRuns=[];for(var b=0;b<w.RunArray.length;b++){var k=w.RunArray[b],x=w.RunLengthArray[b],_=y(k.ParagraphSheet.Properties,f);g.paragraphStyleRuns.push({length:x,style:_})}for(var U=p;g.paragraphStyleRuns.length&&U>0;U--)0==--g.paragraphStyleRuns[g.paragraphStyleRuns.length-1].length&&g.paragraphStyleRuns.pop();S(g.paragraphStyle,g.paragraphStyleRuns,s),g.paragraphStyleRuns.length||delete g.paragraphStyleRuns;var I=e.EngineDict.StyleRun;for(g.style={},g.styleRuns=[],b=0;b<I.RunArray.length;b++){var A=I.RunLengthArray[b];_=m(I.RunArray[b].StyleSheet.StyleSheetData,f);g.styleRuns.push({length:A,style:_})}for(U=p;g.styleRuns.length&&U>0;U--)0==--g.styleRuns[g.styleRuns.length-1].length&&g.styleRuns.pop();return S(g.style,g.styleRuns,l),g.styleRuns.length||delete g.styleRuns,g},e.exports.encodeEngineData=function(e){var t,s,l,u,c,h,p,g,v,w,y,m,S="".concat((e.text||"").replace(/\r?\n/g,"\r"),"\r"),x=[{name:"AdobeInvisFont",script:0,type:0,synthetic:0}],_=(null===(t=e.style)||void 0===t?void 0:t.font)||(null===(l=null===(s=e.styleRuns)||void 0===s?void 0:s.find((function(e){return e.style.font})))||void 0===l?void 0:l.style.font)||n,U=[],I=[],A=e.paragraphStyleRuns;if(A&&A.length){for(var E=S.length,C=0,B=A;C<B.length;C++){var P=B[C];E-=j=Math.min(P.length,E),j&&(1===E&&P===A[A.length-1]&&(j++,E--),I.push(j),U.push({ParagraphSheet:{DefaultStyleSheet:0,Properties:b(r(r(r({},i),e.paragraphStyle),P.style),x)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}))}E&&(I.push(E),U.push({ParagraphSheet:{DefaultStyleSheet:0,Properties:b(r(r({},i),e.paragraphStyle),x)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}))}else for(var D=0,M=0;D<S.length;D++)13===S.charCodeAt(D)&&(I.push(D-M+1),U.push({ParagraphSheet:{DefaultStyleSheet:0,Properties:b(r(r({},i),e.paragraphStyle),x)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}),M=D+1);for(var F=k(r(r({},o),{font:_}),x),O=e.styleRuns||[{length:S.length,style:e.style||{}}],R=[],L=[],T=S.length,z=0,N=O;z<N.length;z++){var j,V=N[z];T-=j=Math.min(V.length,T),j&&(1===T&&V===O[O.length-1]&&(j++,T--),L.push(j),R.push({StyleSheet:{StyleSheetData:k(r(r({kerning:0,autoKerning:!0,fillColor:{r:0,g:0,b:0}},e.style),V.style),x)}}))}T&&O.length&&(L.push(T),R.push({StyleSheet:{StyleSheetData:k(r({kerning:0,autoKerning:!0,fillColor:{r:0,g:0,b:0}},e.style),x)}}));var G=r(r({},a),e.gridInfo),H="vertical"===e.orientation?2:0,Z="vertical"===e.orientation?1:0,W="box"===e.shapeType?1:0,K={ShapeType:W};0===W?K.PointBase=e.pointBase||[0,0]:K.BoxBounds=e.boxBounds||[0,0,0,0],K.Base={ShapeType:W,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]};var X={KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"?!)]},.:;",NoEnd:"([{",Keep:"",Hanging:".,"},{Name:"PhotoshopKinsokuSoft",NoStart:"",NoEnd:"",Keep:"",Hanging:".,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:b(r(r({},i),e.paragraphStyle),x)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:F}],FontSet:x.map((function(e){return{Name:e.name,Script:e.script||0,FontType:e.type||0,Synthetic:e.synthetic||0}})),SuperscriptSize:null!==(u=e.superscriptSize)&&void 0!==u?u:.583,SuperscriptPosition:null!==(c=e.superscriptPosition)&&void 0!==c?c:.333,SubscriptSize:null!==(h=e.subscriptSize)&&void 0!==h?h:.583,SubscriptPosition:null!==(p=e.subscriptPosition)&&void 0!==p?p:.333,SmallCapSize:null!==(g=e.smallCapSize)&&void 0!==g?g:.7};return{EngineDict:{Editor:{Text:S},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:U,RunLengthArray:I,IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:R,RunLengthArray:L,IsJoinable:2},GridInfo:{GridIsOn:!!G.isOn,ShowGrid:!!G.show,GridSize:null!==(v=G.size)&&void 0!==v?v:18,GridLeading:null!==(w=G.leading)&&void 0!==w?w:22,GridColor:{Type:1,Values:f(G.color)},GridLeadingFillColor:{Type:1,Values:f(G.color)},AlignLineHeightToGridFlags:!!G.alignLineHeightToGridFlags},AntiAlias:d.indexOf(null!==(y=e.antiAlias)&&void 0!==y?y:"sharp"),UseFractionalGlyphWidths:null===(m=e.useFractionalGlyphWidths)||void 0===m||m,Rendered:{Version:1,Shapes:{WritingDirection:H,Children:[{ShapeType:W,Procession:Z,Lines:{WritingDirection:H,Children:[]},Cookie:{Photoshop:K}}]}}},ResourceDict:r({},X),DocumentResources:r({},X)}}})),t.register("TW1B9",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.readAbr=void 0;var n=t("klnll"),i=t("5OPaf"),o=["off","fade","pen pressure","pen tilt","stylus wheel","initial direction","direction","initial rotation","rotation"];function a(e){return{control:o[e.bVTy],steps:e.fStp,jitter:(0,n.parsePercent)(e.jitter),minimum:(0,n.parsePercent)(e["Mnm "])}}function s(e){var t={size:(0,n.parseUnitsToNumber)(e.Dmtr,"Pixels"),angle:(0,n.parseAngle)(e.Angl),roundness:(0,n.parsePercent)(e.Rndn),spacingOn:e.Intr,spacing:(0,n.parsePercent)(e.Spcn),flipX:e.flipX,flipY:e.flipY};return e["Nm  "]&&(t.name=e["Nm  "]),e.Hrdn&&(t.hardness=(0,n.parsePercent)(e.Hrdn)),e.sampledData&&(t.sampledData=e.sampledData),t}e.exports.readAbr=function(e,t){var r,o,l,d;void 0===t&&(t={});var u=(0,i.createReader)(e.buffer,e.byteOffset,e.byteLength),c=(0,i.readInt16)(u),f=[],h=[],p=[];if(1===c||2===c)throw new Error("Unsupported ABR version (".concat(c,")"));if(6!==c&&7!==c&&9!==c&&10!==c)throw new Error("Unsupported ABR version (".concat(c,")"));var g=(0,i.readInt16)(u);if(1!==g&&2!==g)throw new Error("Unsupported ABR minor version");for(;u.offset<u.view.byteLength;){(0,i.checkSignature)(u,"8BIM");var v=(0,i.readSignature)(u),w=(0,i.readUint32)(u),y=u.offset+w;switch(v){case"samp":for(;u.offset<y;){for(var m=(0,i.readUint32)(u);3&m;)m++;var b=u.offset+m,k=(0,i.readPascalString)(u,1);(0,i.skipBytes)(u,1===g?10:264);var S=(0,i.readInt32)(u),x=(0,i.readInt32)(u),_=(0,i.readInt32)(u)-S,U=(0,i.readInt32)(u)-x;if(U<=0||_<=0)throw new Error("Invalid bounds");var I=(0,i.readInt16)(u),A=(0,i.readUint8)(u),E=new Uint8Array(U*_);if(8===I)if(0===A)E.set((0,i.readBytes)(u,E.byteLength));else{if(1!==A)throw new Error("Invalid compression");(0,i.readDataRLE)(u,{width:U,height:_,data:E},U,_,1,[0],!1)}else{if(16!==I)throw new Error("Invalid depth");if(0!==A)throw 1===A?new Error("not implemented (16bit RLE)"):new Error("Invalid compression");for(var C=0;C<E.byteLength;C++)E[C]=(0,i.readUint16)(u)>>8}f.push({id:k,bounds:{x:x,y:S,w:U,h:_},alpha:E}),u.offset=b}break;case"desc":for(var B=0,P=(R=(0,n.readVersionAndDescriptor)(u)).Brsh;B<P.length;B++){var D=P[B],M={name:D["Nm  "],shape:s(D.Brsh),spacing:(0,n.parsePercent)(D.Spcn),wetEdges:D.Wtdg,noise:D.Nose,useBrushSize:D.useBrushSize};null!=D.interpretation&&(M.interpretation=D.interpretation),null!=D.protectTexture&&(M.protectTexture=D.protectTexture),D.useTipDynamics&&(M.shapeDynamics={tiltScale:(0,n.parsePercent)(D.tiltScale),sizeDynamics:a(D.szVr),angleDynamics:a(D.angleDynamics),roundnessDynamics:a(D.roundnessDynamics),flipX:D.flipX,flipY:D.flipY,brushProjection:D.brushProjection,minimumDiameter:(0,n.parsePercent)(D.minimumDiameter),minimumRoundness:(0,n.parsePercent)(D.minimumRoundness)}),D.useScatter&&(M.scatter={count:D["Cnt "],bothAxes:D.bothAxes,countDynamics:a(D.countDynamics),scatterDynamics:a(D.scatterDynamics)}),D.useTexture&&D.Txtr&&(M.texture={id:D.Txtr.Idnt,name:D.Txtr["Nm  "],blendMode:n.BlnM.decode(D.textureBlendMode),depth:(0,n.parsePercent)(D.textureDepth),depthMinimum:(0,n.parsePercent)(D.minimumDepth),depthDynamics:a(D.textureDepthDynamics),scale:(0,n.parsePercent)(D.textureScale),invert:D.InvT,brightness:D.textureBrightness,contrast:D.textureContrast});var F=D.dualBrush;F&&F.useDualBrush&&(M.dualBrush={flip:F.Flip,shape:s(F.Brsh),blendMode:n.BlnM.decode(F.BlnM),useScatter:F.useScatter,spacing:(0,n.parsePercent)(F.Spcn),count:F["Cnt "],bothAxes:F.bothAxes,countDynamics:a(F.countDynamics),scatterDynamics:a(F.scatterDynamics)}),D.useColorDynamics&&(M.colorDynamics={foregroundBackground:a(D.clVr),hue:(0,n.parsePercent)(D["H   "]),saturation:(0,n.parsePercent)(D.Strt),brightness:(0,n.parsePercent)(D.Brgh),purity:(0,n.parsePercent)(D.purity),perTip:D.colorDynamicsPerTip}),D.usePaintDynamics&&(M.transfer={flowDynamics:a(D.prVr),opacityDynamics:a(D.opVr),wetnessDynamics:a(D.wtVr),mixDynamics:a(D.mxVr)}),D.useBrushPose&&(M.brushPose={overrideAngle:D.overridePoseAngle,overrideTiltX:D.overridePoseTiltX,overrideTiltY:D.overridePoseTiltY,overridePressure:D.overridePosePressure,pressure:(0,n.parsePercent)(D.brushPosePressure),tiltX:D.brushPoseTiltX,tiltY:D.brushPoseTiltY,angle:D.brushPoseAngle});var O=D.toolOptions;O&&(M.toolOptions={brushPreset:O.brushPreset,flow:null!==(r=O.flow)&&void 0!==r?r:100,smooth:null!==(o=O.Smoo)&&void 0!==o?o:0,mode:n.BlnM.decode(O["Md  "]||"BlnM.Nrml"),opacity:null!==(l=O.Opct)&&void 0!==l?l:100,smoothing:!!O.smoothing,smoothingValue:O.smoothingValue||0,smoothingRadiusMode:!!O.smoothingRadiusMode,smoothingCatchup:!!O.smoothingCatchup,smoothingCatchupAtEnd:!!O.smoothingCatchupAtEnd,smoothingZoomCompensation:!!O.smoothingZoomCompensation,pressureSmoothing:!!O.pressureSmoothing,usePressureOverridesSize:!!O.usePressureOverridesSize,usePressureOverridesOpacity:!!O.usePressureOverridesOpacity,useLegacy:!!O.useLegacy},O.prVr&&(M.toolOptions.flowDynamics=a(O.prVr)),O.opVr&&(M.toolOptions.opacityDynamics=a(O.opVr)),O.szVr&&(M.toolOptions.sizeDynamics=a(O.szVr))),h.push(M)}break;case"patt":u.offset<y&&(p.push((0,i.readPattern)(u)),u.offset=y);break;case"phry":var R=(0,n.readVersionAndDescriptor)(u);t.logMissingFeatures&&(null===(d=R.hierarchy)||void 0===d?void 0:d.length)&&console.log("unhandled phry section",R);break;default:throw new Error("Invalid brush type: ".concat(v))}for(;w%4;)u.offset++,w++}return{samples:f,patterns:p,brushes:h}}})),t.register("3vNLh",(function(e,r){"use strict";var n=e.exports&&e.exports.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.readCsh=void 0;var i=t("cAUqy"),o=t("5OPaf");e.exports.readCsh=function(e){var t=(0,o.createReader)(e.buffer,e.byteOffset,e.byteLength),r={shapes:[]};if((0,o.checkSignature)(t,"cush"),2!==(0,o.readUint32)(t))throw new Error("Invalid version");for(var a=(0,o.readUint32)(t),s=0;s<a;s++){for(var l=(0,o.readUnicodeString)(t);t.offset%4;)t.offset++;if(1!==(0,o.readUint32)(t))throw new Error("Invalid shape version");var d=(0,o.readUint32)(t),u=t.offset+d,c=(0,o.readPascalString)(t,1),f=(0,o.readUint32)(t),h=(0,o.readUint32)(t),p=(0,o.readUint32)(t),g=(0,o.readUint32)(t)-h,v=p-f,w={paths:[]};(0,i.readVectorMask)(t,w,g,v,u-t.offset),r.shapes.push(n({name:l,id:c,width:g,height:v},w)),t.offset=u}return r}})),t.register("cKsyM",(function(e,t){"use strict";var r,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SectionDividerType=e.exports.ColorMode=void 0,(r=e.exports.ColorMode||(e.exports.ColorMode={}))[r.Bitmap=0]="Bitmap",r[r.Grayscale=1]="Grayscale",r[r.Indexed=2]="Indexed",r[r.RGB=3]="RGB",r[r.CMYK=4]="CMYK",r[r.Multichannel=7]="Multichannel",r[r.Duotone=8]="Duotone",r[r.Lab=9]="Lab",(n=e.exports.SectionDividerType||(e.exports.SectionDividerType={}))[n.Other=0]="Other",n[n.OpenFolder=1]="OpenFolder",n[n.ClosedFolder=2]="ClosedFolder",n[n.BoundingSectionDivider=3]="BoundingSectionDivider"}))}();
//# sourceMappingURL=dist.485e9c04.js.map
