{"mappings":"C,A,W,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,S,E,C,E,G,E,E,C,E,C,E,E,E,C,E,G,C,M,A,O,C,M,E,C,I,E,A,C,G,E,K,A,E,K,C,oE,I,E,O,E,E,E,C,C,E,A,C,O,I,I,E,E,G,Q,E,C,S,E,C,E,O,G,E,U,C,E,O,C,C,C,I,E0EAI,E,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,K,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,EzEAJ,SAAS,EAAmB,CAAG,CAAE,CAAO,CAAE,CAAM,CAAE,CAAK,CAAE,CAAM,CAAE,CAAG,CAAE,CAAG,EACrE,GAAI,CACA,IAAI,EAAO,CAAG,CAAC,EAAI,CAAC,GAChB,EAAQ,EAAK,KAAK,AAC1B,CAAE,MAAO,EAAO,CACZ,EAAO,GACP,MACJ,CACI,EAAK,IAAI,CAAE,EAAQ,GAClB,QAAQ,OAAO,CAAC,GAAO,IAAI,CAAC,EAAO,EAC5C,CACA,SAAS,EAAoB,CAAE,EAC3B,OAAO,WACH,IAAI,EAAO,IAAI,CAAE,EAAO,UAExB,OAAO,IAAI,QAAQ,SAAS,CAAO,CAAE,CAAM,EACvC,IAAI,EAAM,EAAG,KAAK,CAAC,EAAM,GAEzB,SAAS,EAAM,CAAK,EAChB,EAAmB,EAAK,EAAS,EAAQ,EAAO,EAAQ,OAAQ,EACpE,CAEA,SAAS,EAAO,CAAG,EACf,EAAmB,EAAK,EAAS,EAAQ,EAAO,EAAQ,QAAS,EACrE,CAEA,EAAM,KAAA,EACV,EACJ,CACJ,C,E,E,O,C,I,W,O,C,E,G,E,Q,S,C,C,C,E,E,E,O,C,I,W,O,C,GC7BA,SAAS,EAAkB,CAAQ,CAAE,CAAW,EAC5C,GAAI,CAAE,CAAA,aAAoB,CAAA,EAAc,MAAM,AAAI,UAAU,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,YAAW,CAAE,OAAO,CAAC,EAAc,GAEnC,AAAA,EAAA,YAAW,CAAE,UAAU,CAAC,GAE5B,IAAI,CAAC,WAAW,CAAG,EACnB,IAAI,CAAC,WAAW,EACpB,C,E,EApFE,C,G,C,G,E,Q,S,C,C,C,E,E,E,O,C,c,W,O,C,G,E,E,O,C,Y,W,O,C,G,E,E,O,C,iB,W,O,C,G,E,E,O,C,M,W,O,C,G,E,E,O,C,gB,W,O,C,G,E,E,O,C,S,W,O,C,G,E,E,O,C,U,W,O,C,G,E,E,O,C,e,W,O,C,G,E,E,O,C,U,W,O,C,G,E,E,O,C,M,W,O,C,G,E,E,O,C,S,W,O,C,G,E,E,O,C,gB,W,O,C,G,E,E,O,C,S,W,O,C,G,E,E,O,C,iB,W,O,C,G,E,E,O,C,oB,W,O,C,G,E,E,O,C,U,W,O,C,G,E,E,O,C,c,W,O,C,G,E,E,O,C,c,W,O,C,G,E,E,O,C,Y,W,OCqOC,SAAS,EAAU,CAAO,EAC7B,IAAM,EAAS,SAAS,eAAe,CAAC,6BAA8B,EAAE,WAAW,EAYnF,OAXA,OAAO,OAAO,CAAC,GAAG,OAAO,CAAC,SAA1B,CAAA,EAA4B,IAAA,EAAA,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,EAAA,GAAA,EAAA,CAAA,CAAA,EAAA,CAAQ,EAAR,CAAA,CAAA,EAAA,AACpB,AAAW,CAAA,gBAAX,EACC,EAAgB,OAAO,CAAC,SAAC,CAD9B,EAEQ,EAAO,MAAM,CAAC,EAAU,GAC5B,GACO,AAAW,QAAX,EACP,EAAI,EAAQ,GACL,AAAW,gBAAX,GACP,EAAO,YAAY,CAAC,EAAQ,EAEpC,GACO,CACX,C,G,E,E,O,C,c,W,O,C,G,E,E,O,C,mB,W,O,C,G,E,E,O,C,kB,W,O,C,G,E,E,O,C,S,W,O,C,G,E,E,O,C,oB,W,O,C,G,E,E,O,C,e,W,O,C,G,E,E,O,C,c,W,O,C,G,E,E,O,C,a,W,O,C,G,E,E,O,C,Q,W,O,C,G,E,E,O,C,iB,W,O,C,G,I,E,E,S,E,E,S,E,E,SAzPO,SAAS,EAAY,CAAsB,CAAE,CAAgB,EAC5D,EAAc,UAAU,EACxB,EAAc,UAAU,CAAC,YAAY,CAAC,EAAS,EAAc,WAAW,CAEhF,CAEO,S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AAN,GAAe,AAAM,QAAN,EAAa,OAAO,MAAM,IAAI,CAAC,GAClD,GAAI,AAAM,cAAN,GAAqB,2CAA2C,IAAI,CAAC,GAAI,MAAO,AAAA,CAAA,EAAA,EAAA,CAAmB,AAAnB,EAAqB,EAAG,GAChH,C,G,E,Q,S,C,C,C,E,E,E,O,C,I,W,O,C,GCXA,SAAS,EAAqB,CAAG,CAAE,CAAG,EAC9B,CAAA,AAAO,MAAP,GAAe,EAAM,EAAI,MAAM,AAAN,GAAQ,CAAA,EAAM,EAAI,MAAM,AAAN,EAE/C,IAAK,IAAI,EAAI,EAAG,EAAO,AAAI,MAAM,GAAM,EAAI,EAAK,IAAK,CAAI,CAAC,EAAE,CAAG,CAAG,CAAC,EAAE,CAErE,OAAO,CACX,C,G,E,Q,S,C,C,C,E,E,E,O,C,Y,W,O,C,G,ICLI,E,E,E,S,E,E,SAEG,SAAe,I,M,A,C,E,E,C,A,E,W,M,A,C,E,E,W,A,E,I,C,S,C,E,O,E,K,E,K,EACd,GAAC,EAAD,MAAA,C,E,E,CACY,MAAA,C,EAAM,EAAA,S,A,M,EAAlB,EAAY,EAAZ,IAAA,G,E,K,C,C,M,EAEJ,MAAA,C,EAAO,E,A,C,EACX,I,C,G,E,Q,S,C,C,C,ECRA,EAAA,OAAA,CAAkB,AAAA,EAAA,SAAuC,EAAsB,UAAW,IAAI,CAAC,WAAM,OAAA,EAAc,Q,E,G,E,Q,S,C,C,C,E,E,E,O,C,gB,W,O,C,G,E,E,O,C,iB,W,O,C,G,E,E,O,C,kB,W,O,C,G,E,E,O,C,iB,W,O,C,G,E,E,O,C,kB,W,O,C,G,E,E,O,C,K,W,O,C,G,E,E,O,C,Y,W,O,C,G,E,E,O,C,c,W,O,C,G,I,E,E,S,E,E,SCG5G,SAAS,EAAc,CAAmB,CAAE,CAAY,EAC3D,IAAM,EAAM,SAAS,aAAa,CAAC,OAGnC,OAFA,EAAI,SAAS,CAAG,EAChB,EAAO,MAAM,CAAC,GACP,CACX,CAQO,SAAS,IAAe,IAOL,EAPK,EAAA,UAAA,MAAA,CAAA,GAAA,AAAA,KAAA,IAAA,SAAA,CAAA,EAAA,EAAA,SAAA,CAAA,EAAA,CACrB,EACF,CAAC,CAAC,SAAS,aAAa,EACxB,CAAC,QAAS,WAAY,SAAS,CAAC,QAAQ,CAAC,SA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ACZ,MAAO,EAAO,EAAE,CAAG,EAAO,EAAE,EAAI,GAAA,EAChC,OAAQ,EAAO,EAAE,CAAG,EAAO,EAAE,EAAI,GAAA,CACrC,CACJ,CAEO,SAAS,EAAc,CAAe,EACzC,MAAO,CACH,GAAI,KAAK,KAAK,CAAC,EAAO,EAAE,EACxB,GAAI,KAAK,KAAK,CAAC,EAAO,EAAE,EACxB,GAAI,KAAK,IAAI,CAAC,EAAO,EAAE,EACvB,GAAI,KAAK,IAAI,CAAC,EAAO,EAAE,CAC3B,CACJ,C,E,E,O,C,M,W,O,C,G,E,E,O,C,O,W,O,C,G,E,E,O,C,c,W,O,C,G,E,E,O,C,a,W,O,C,G,E,E,O,C,mB,W,O,C,G,E,E,O,C,mB,W,O,C,G,E,E,O,C,e,W,O,C,G,E,E,O,C,Q,W,O,C,G,E,E,O,C,S,W,O,C,G,E,E,O,C,e,W,O,C,G,E,E,O,C,e,W,O,C,G,E,E,O,C,mB,W,O,C,G,E,E,O,C,S,W,O,C,G,E,E,O,C,Y,W,O,C,G,E,E,O,C,c,W,O,C,G,E,E,O,C,Q,W,O,C,G,E,E,O,C,e,W,O,C,G,E,E,O,C,gB,W,O,C,G,E,E,O,C,e,W,O,C,G,E,E,O,C,sB,W,O,C,G,E,E,O,C,e,W,O,C,G,E,E,O,C,gB,W,O,C,E,G,E,Q,S,C,C,C,E,E,E,O,C,M,W,O,C,G,E,E,O,C,M,W,O,C,G,E,E,O,C,O,W,O,C,G,E,E,O,C,iB,W,O,C,G,E,E,O,C,0B,W,O,C,G,I,E,E,SC/Oa,EAAN,SAAM,EAIG,CAAS,CAAE,CAAS,CAAE,CAAS,E,aAJlC,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,IAAA,CAAA,GAKL,IAAI,CAAC,CAAC,CAAG,KAAK,GAAG,CAAC,EAAG,KAAK,GAAG,CAAC,IAAK,IACnC,IAAI,CAAC,CAAC,CAAG,KAAK,GAAG,CAAC,KAAO,KAAK,GAAG,CAAC,IAAK,IACvC,IAAI,CAAC,CAAC,CAAG,KAAK,GAAG,CAAC,EAAG,KAAK,GAAG,CAAC,IAAK,G,EAI9B,EAAN,SAAM,EAIG,CAAS,CAAE,CAAS,CAAE,CAAS,E,aAJlC,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,IAAA,CAAA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","sources":["<anon>","node_modules/@swc/helpers/esm/_async_to_generator.js","node_modules/@swc/helpers/esm/_class_call_check.js","node_modules/@swc/helpers/esm/_create_class.js","node_modules/@swc/helpers/esm/_object_spread.js","node_modules/@swc/helpers/esm/_define_property.js","node_modules/@swc/helpers/esm/_object_spread_props.js","node_modules/tslib/tslib.es6.js","node_modules/@parcel/runtime-js/lib/runtime-dcaad652d717ada7.js","src/app/script/language/language.ts","src/app/languages/languages.ts","src/app/languages/en.json","node_modules/@parcel/runtime-js/lib/runtime-ec8101b17621bdb8.js","node_modules/@parcel/runtime-js/lib/helpers/browser/js-loader.js","node_modules/@parcel/runtime-js/lib/helpers/cacheLoader.js","node_modules/@parcel/runtime-js/lib/runtime-8f614fe08d4d9578.js","node_modules/@parcel/runtime-js/lib/runtime-d750096727c1fe61.js","node_modules/@parcel/runtime-js/lib/runtime-2491ac04e5a04169.js","node_modules/@parcel/runtime-js/lib/runtime-a623c4f6e3e90072.js","node_modules/@parcel/runtime-js/lib/runtime-69eed780aa6cd9e5.js","node_modules/@parcel/runtime-js/lib/runtime-212e753adcf70e39.js","node_modules/@parcel/runtime-js/lib/runtime-be01edc0865721fb.js","node_modules/@parcel/runtime-js/lib/runtime-1431e7bc95aad119.js","node_modules/@parcel/runtime-js/lib/runtime-aadb391afe51230a.js","node_modules/@parcel/runtime-js/lib/runtime-7911f1d7d51d1794.js","node_modules/@parcel/runtime-js/lib/runtime-13581f60f25f45eb.js","node_modules/@parcel/runtime-js/lib/runtime-87e673975898a5dd.js","node_modules/@parcel/runtime-js/lib/runtime-d96ee717aadf2db9.js","node_modules/@parcel/runtime-js/lib/runtime-6274850f81ff98d6.js","node_modules/@parcel/runtime-js/lib/runtime-1a39800718959a69.js","node_modules/@parcel/runtime-js/lib/runtime-33a3173d6dfbd44e.js","src/app/script/bb/base/local-storage.ts","src/app/script/theme/theme.ts","src/app/script/bb/base/base.ts","node_modules/@swc/helpers/esm/_sliced_to_array.js","node_modules/@swc/helpers/esm/_array_with_holes.js","node_modules/@swc/helpers/esm/_iterable_to_array_limit.js","node_modules/@swc/helpers/esm/_non_iterable_rest.js","node_modules/@swc/helpers/esm/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/esm/_array_like_to_array.js","src/app/script/klecks/storage/load-ag-psd.ts","node_modules/@parcel/runtime-js/lib/runtime-bd59dbaefcde87b2.js","src/app/script/bb/base/ui.ts","src/app/script/bb/bb.ts","src/app/script/bb/base/browser.ts","src/app/script/bb/input/key-listener.ts","src/app/script/bb/input/pointer-listener.ts","src/app/script/bb/input/wheel-cleaner.ts","src/app/script/bb/input/pressure-normalizer.ts","src/app/script/bb/base/canvas.ts","src/app/script/bb/base/create-canvas.ts","src/app/script/bb/multi-polygon/get-selection-path-2d.ts","node_modules/@swc/helpers/esm/_to_consumable_array.js","node_modules/@swc/helpers/esm/_array_without_holes.js","node_modules/@swc/helpers/esm/_iterable_to_array.js","node_modules/@swc/helpers/esm/_non_iterable_spread.js","src/app/script/bb/math/matrix.ts","src/app/script/bb/math/vec2.ts","src/app/script/bb/math/line.ts","src/app/script/bb/math/math.ts","src/app/script/bb/color/color.ts","src/app/script/bb/base/bb-log.ts","src/app/script/bb/input/event-chain/coalesced-exploder.ts","src/app/script/bb/input/event-chain/n-finger-tapper.ts","src/app/script/bb/input/event-chain/pinch-zoomer.ts","src/app/script/bb/input/event-chain/double-tapper.ts","src/app/script/bb/input/event-chain/one-pointer-limiter.ts","src/app/script/bb/input/event-chain/event-chain.ts","node_modules/@parcel/runtime-js/lib/runtime-4194b082e528abb2.js","node_modules/@parcel/runtime-js/lib/helpers/browser/css-loader.js","node_modules/@parcel/runtime-js/lib/runtime-b3f041188e376a59.js","node_modules/@parcel/runtime-js/lib/runtime-5b7bf66dd4c8b7e1.js","src/embed.ts","src/app/script/embed/bootstrap/embed-wrapper.ts","src/app/script/embed/bootstrap/get-embed-url.ts"],"sourcesContent":["(function () {\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nvar $parcel$bundleURL;\nfunction $parcel$resolve(url) {\n  url = parcelRequire.i?.[url] || url;\n  if (!$parcel$bundleURL) {\n    try {\n      throw new Error();\n    } catch (err) {\n      var matches = ('' + err.stack).match(\n        /(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g,\n      );\n      if (matches) {\n        $parcel$bundleURL = matches[0];\n      } else {\n        return $parcel$distDir + url;\n      }\n    }\n  }\n  return new URL($parcel$distDir + url, $parcel$bundleURL).toString();\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$extendImportMap(map) {\n  Object.assign(parcelRequire.i ??= {}, map);\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  var $parcel$distDir = \"./\";\n\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire94c2\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire94c2\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"1LaJZ\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $148283215f43a235$export$71511d61b312f219; });\nfunction $148283215f43a235$var$asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) resolve(value);\n    else Promise.resolve(value).then(_next, _throw);\n}\nfunction $148283215f43a235$export$71511d61b312f219(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                $148283215f43a235$var$asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                $148283215f43a235$var$asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\n\n});\n\nparcelRegister(\"cx0mh\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $91f8d84290b0e35b$export$71511d61b312f219; });\nfunction $91f8d84290b0e35b$export$71511d61b312f219(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\n});\n\nparcelRegister(\"7h4XF\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $54bdf82ebe283f1b$export$71511d61b312f219; });\nfunction $54bdf82ebe283f1b$var$_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction $54bdf82ebe283f1b$export$71511d61b312f219(Constructor, protoProps, staticProps) {\n    if (protoProps) $54bdf82ebe283f1b$var$_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) $54bdf82ebe283f1b$var$_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\n\n});\n\nparcelRegister(\"cL71g\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $949f51bc0dc1c31c$export$71511d61b312f219; });\n\nvar $exh8t = parcelRequire(\"exh8t\");\nfunction $949f51bc0dc1c31c$export$71511d61b312f219(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n            return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n        }));\n        ownKeys.forEach(function(key) {\n            (0, $exh8t._)(target, key, source[key]);\n        });\n    }\n    return target;\n}\n\n});\nparcelRegister(\"exh8t\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $a951708b1caecba1$export$71511d61b312f219; });\nfunction $a951708b1caecba1$export$71511d61b312f219(obj, key, value) {\n    if (key in obj) Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n    });\n    else obj[key] = value;\n    return obj;\n}\n\n});\n\n\nparcelRegister(\"4EWN2\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $3648804914912b71$export$71511d61b312f219; });\nfunction $3648804914912b71$var$ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) symbols = symbols.filter(function(sym) {\n            return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction $3648804914912b71$export$71511d61b312f219(target, source) {\n    source = source != null ? source : {};\n    if (Object.getOwnPropertyDescriptors) Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    else $3648804914912b71$var$ownKeys(Object(source)).forEach(function(key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n    return target;\n}\n\n});\n\nparcelRegister(\"2gUX3\", function(module, exports) {\n\n$parcel$export(module.exports, \"__generator\", function () { return $1a7940c44f23ed27$export$67ebef60e6f28a6; });\n$parcel$export(module.exports, \"__values\", function () { return $1a7940c44f23ed27$export$19a8beecd37a4c45; });\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */ /* global Reflect, Promise, SuppressedError, Symbol, Iterator */ var $1a7940c44f23ed27$var$extendStatics = function extendStatics1(d, b) {\n    $1a7940c44f23ed27$var$extendStatics = Object.setPrototypeOf || ({\n        __proto__: []\n    }) instanceof Array && function(d, b) {\n        d.__proto__ = b;\n    } || function(d, b) {\n        for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return $1a7940c44f23ed27$var$extendStatics(d, b);\n};\nfunction $1a7940c44f23ed27$export$a8ba968b8961cb8a(d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    $1a7940c44f23ed27$var$extendStatics(d, b);\n    function __() {\n        this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar $1a7940c44f23ed27$export$18ce0697a983be9b = function __assign1() {\n    $1a7940c44f23ed27$export$18ce0697a983be9b = Object.assign || function __assign(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return $1a7940c44f23ed27$export$18ce0697a983be9b.apply(this, arguments);\n};\nfunction $1a7940c44f23ed27$export$3c9a16f847548506(s, e) {\n    var t = {};\n    for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") {\n        for(var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++)if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n}\nfunction $1a7940c44f23ed27$export$29e00dfd3077644b(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nfunction $1a7940c44f23ed27$export$d5ad3fd78186038f(paramIndex, decorator) {\n    return function(target, key) {\n        decorator(target, key, paramIndex);\n    };\n}\nfunction $1a7940c44f23ed27$export$3a84e1ae4e97e9b0(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n    function accept(f) {\n        if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\");\n        return f;\n    }\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n    var _, done = false;\n    for(var i = decorators.length - 1; i >= 0; i--){\n        var context = {};\n        for(var p in contextIn)context[p] = p === \"access\" ? {} : contextIn[p];\n        for(var p in contextIn.access)context.access[p] = contextIn.access[p];\n        context.addInitializer = function(f) {\n            if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\");\n            extraInitializers.push(accept(f || null));\n        };\n        var result = (0, decorators[i])(kind === \"accessor\" ? {\n            get: descriptor.get,\n            set: descriptor.set\n        } : descriptor[key], context);\n        if (kind === \"accessor\") {\n            if (result === void 0) continue;\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n            if (_ = accept(result.get)) descriptor.get = _;\n            if (_ = accept(result.set)) descriptor.set = _;\n            if (_ = accept(result.init)) initializers.unshift(_);\n        } else if (_ = accept(result)) {\n            if (kind === \"field\") initializers.unshift(_);\n            else descriptor[key] = _;\n        }\n    }\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\n    done = true;\n}\nfunction $1a7940c44f23ed27$export$d831c04e792af3d(thisArg, initializers, value) {\n    var useValue = arguments.length > 2;\n    for(var i = 0; i < initializers.length; i++)value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n    return useValue ? value : void 0;\n}\nfunction $1a7940c44f23ed27$export$6a2a36740a146cb8(x) {\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\n}\nfunction $1a7940c44f23ed27$export$d1a06452d3489bc7(f, name, prefix) {\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n    return Object.defineProperty(f, \"name\", {\n        configurable: true,\n        value: prefix ? \"\".concat(prefix, \" \", name) : name\n    });\n}\nfunction $1a7940c44f23ed27$export$f1db080c865becb9(metadataKey, metadataValue) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nfunction $1a7940c44f23ed27$export$1050f835b63b671e(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n}\nfunction $1a7940c44f23ed27$export$67ebef60e6f28a6(thisArg, body) {\n    var _ = {\n        label: 0,\n        sent: function sent() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\nvar $1a7940c44f23ed27$export$45d3717a4c69092e = Object.create ? function __createBinding(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) desc = {\n        enumerable: true,\n        get: function get() {\n            return m[k];\n        }\n    };\n    Object.defineProperty(o, k2, desc);\n} : function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n};\nfunction $1a7940c44f23ed27$export$f33643c0debef087(m, o) {\n    for(var p in m)if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) $1a7940c44f23ed27$export$45d3717a4c69092e(o, m, p);\n}\nfunction $1a7940c44f23ed27$export$19a8beecd37a4c45(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function next() {\n            if (o && i >= o.length) o = void 0;\n            return {\n                value: o && o[i++],\n                done: !o\n            };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction $1a7940c44f23ed27$export$8d051b38c9118094(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while((n === void 0 || n-- > 0) && !(r = i.next()).done)ar.push(r.value);\n    } catch (error) {\n        e = {\n            error: error\n        };\n    } finally{\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        } finally{\n            if (e) throw e.error;\n        }\n    }\n    return ar;\n}\nfunction $1a7940c44f23ed27$export$afc72e2116322959() {\n    for(var ar = [], i = 0; i < arguments.length; i++)ar = ar.concat($1a7940c44f23ed27$export$8d051b38c9118094(arguments[i]));\n    return ar;\n}\nfunction $1a7940c44f23ed27$export$6388937ca91ccae8() {\n    for(var s = 0, i = 0, il = arguments.length; i < il; i++)s += arguments[i].length;\n    for(var r = Array(s), k = 0, i = 0; i < il; i++)for(var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)r[k] = a[j];\n    return r;\n}\nfunction $1a7940c44f23ed27$export$1216008129fb82ed(to, from, pack) {\n    if (pack || arguments.length === 2) {\n        for(var i = 0, l = from.length, ar; i < l; i++)if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n}\nfunction $1a7940c44f23ed27$export$10c90e4f7922046c(v) {\n    return this instanceof $1a7940c44f23ed27$export$10c90e4f7922046c ? (this.v = v, this) : new $1a7940c44f23ed27$export$10c90e4f7922046c(v);\n}\nfunction $1a7940c44f23ed27$export$e427f37a30a4de9b(thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function() {\n        return this;\n    }, i;\n    function awaitReturn(f) {\n        return function(v) {\n            return Promise.resolve(v).then(f, reject);\n        };\n    }\n    function verb(n, f) {\n        if (g[n]) {\n            i[n] = function(v) {\n                return new Promise(function(a, b) {\n                    q.push([\n                        n,\n                        v,\n                        a,\n                        b\n                    ]) > 1 || resume(n, v);\n                });\n            };\n            if (f) i[n] = f(i[n]);\n        }\n    }\n    function resume(n, v) {\n        try {\n            step(g[n](v));\n        } catch (e) {\n            settle(q[0][3], e);\n        }\n    }\n    function step(r) {\n        r.value instanceof $1a7940c44f23ed27$export$10c90e4f7922046c ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n    }\n    function fulfill(value) {\n        resume(\"next\", value);\n    }\n    function reject(value) {\n        resume(\"throw\", value);\n    }\n    function settle(f, v) {\n        if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n    }\n}\nfunction $1a7940c44f23ed27$export$bbd80228419bb833(o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function(e) {\n        throw e;\n    }), verb(\"return\"), i[Symbol.iterator] = function() {\n        return this;\n    }, i;\n    function verb(n, f) {\n        i[n] = o[n] ? function(v) {\n            return (p = !p) ? {\n                value: $1a7940c44f23ed27$export$10c90e4f7922046c(o[n](v)),\n                done: false\n            } : f ? f(v) : v;\n        } : f;\n    }\n}\nfunction $1a7940c44f23ed27$export$e3b29a3d6162315f(o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof $1a7940c44f23ed27$export$19a8beecd37a4c45 === \"function\" ? $1a7940c44f23ed27$export$19a8beecd37a4c45(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function() {\n        return this;\n    }, i);\n    function verb(n) {\n        i[n] = o[n] && function(v) {\n            return new Promise(function(resolve, reject) {\n                v = o[n](v), settle(resolve, reject, v.done, v.value);\n            });\n        };\n    }\n    function settle(resolve, reject, d, v) {\n        Promise.resolve(v).then(function(v) {\n            resolve({\n                value: v,\n                done: d\n            });\n        }, reject);\n    }\n}\nfunction $1a7940c44f23ed27$export$4fb47efe1390b86f(cooked, raw) {\n    if (Object.defineProperty) Object.defineProperty(cooked, \"raw\", {\n        value: raw\n    });\n    else cooked.raw = raw;\n    return cooked;\n}\nvar $1a7940c44f23ed27$var$__setModuleDefault = Object.create ? function __setModuleDefault(o, v) {\n    Object.defineProperty(o, \"default\", {\n        enumerable: true,\n        value: v\n    });\n} : function(o, v) {\n    o[\"default\"] = v;\n};\nvar $1a7940c44f23ed27$var$ownKeys = function ownKeys1(o) {\n    $1a7940c44f23ed27$var$ownKeys = Object.getOwnPropertyNames || function(o) {\n        var ar = [];\n        for(var k in o)if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n        return ar;\n    };\n    return $1a7940c44f23ed27$var$ownKeys(o);\n};\nfunction $1a7940c44f23ed27$export$c21735bcef00d192(mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) {\n        for(var k = $1a7940c44f23ed27$var$ownKeys(mod), i = 0; i < k.length; i++)if (k[i] !== \"default\") $1a7940c44f23ed27$export$45d3717a4c69092e(result, mod, k[i]);\n    }\n    $1a7940c44f23ed27$var$__setModuleDefault(result, mod);\n    return result;\n}\nfunction $1a7940c44f23ed27$export$da59b14a69baef04(mod) {\n    return mod && mod.__esModule ? mod : {\n        default: mod\n    };\n}\nfunction $1a7940c44f23ed27$export$d5dcaf168c640c35(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\nfunction $1a7940c44f23ed27$export$d40a35129aaff81f(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n}\nfunction $1a7940c44f23ed27$export$81fdc39f203e4e04(state, receiver) {\n    if (receiver === null || typeof receiver !== \"object\" && typeof receiver !== \"function\") throw new TypeError(\"Cannot use 'in' operator on non-object\");\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\nfunction $1a7940c44f23ed27$export$88ac25d8e944e405(env, value, async) {\n    if (value !== null && value !== void 0) {\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n        var dispose, inner;\n        if (async) {\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n            dispose = value[Symbol.asyncDispose];\n        }\n        if (dispose === void 0) {\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n            dispose = value[Symbol.dispose];\n            if (async) inner = dispose;\n        }\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n        if (inner) dispose = function dispose() {\n            try {\n                inner.call(this);\n            } catch (e) {\n                return Promise.reject(e);\n            }\n        };\n        env.stack.push({\n            value: value,\n            dispose: dispose,\n            async: async\n        });\n    } else if (async) env.stack.push({\n        async: true\n    });\n    return value;\n}\nvar $1a7940c44f23ed27$var$_SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function _SuppressedError(error, suppressed, message) {\n    var e = new Error(message);\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\nfunction $1a7940c44f23ed27$export$8f076105dc360e92(env) {\n    function fail(e) {\n        env.error = env.hasError ? new $1a7940c44f23ed27$var$_SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n        env.hasError = true;\n    }\n    var r, s = 0;\n    function next() {\n        while(r = env.stack.pop())try {\n            if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n            if (r.dispose) {\n                var result = r.dispose.call(r.value);\n                if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) {\n                    fail(e);\n                    return next();\n                });\n            } else s |= 1;\n        } catch (e) {\n            fail(e);\n        }\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n        if (env.hasError) throw env.error;\n    }\n    return next();\n}\nfunction $1a7940c44f23ed27$export$889dfb5d17574b0b(path, preserveJsx) {\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function(m, tsx, d, ext, cm) {\n        return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : d + ext + \".\" + cm.toLowerCase() + \"js\";\n    });\n    return path;\n}\nvar $1a7940c44f23ed27$export$2e2bcd8739ae039 = {\n    __extends: $1a7940c44f23ed27$export$a8ba968b8961cb8a,\n    __assign: $1a7940c44f23ed27$export$18ce0697a983be9b,\n    __rest: $1a7940c44f23ed27$export$3c9a16f847548506,\n    __decorate: $1a7940c44f23ed27$export$29e00dfd3077644b,\n    __param: $1a7940c44f23ed27$export$d5ad3fd78186038f,\n    __esDecorate: $1a7940c44f23ed27$export$3a84e1ae4e97e9b0,\n    __runInitializers: $1a7940c44f23ed27$export$d831c04e792af3d,\n    __propKey: $1a7940c44f23ed27$export$6a2a36740a146cb8,\n    __setFunctionName: $1a7940c44f23ed27$export$d1a06452d3489bc7,\n    __metadata: $1a7940c44f23ed27$export$f1db080c865becb9,\n    __awaiter: $1a7940c44f23ed27$export$1050f835b63b671e,\n    __generator: $1a7940c44f23ed27$export$67ebef60e6f28a6,\n    __createBinding: $1a7940c44f23ed27$export$45d3717a4c69092e,\n    __exportStar: $1a7940c44f23ed27$export$f33643c0debef087,\n    __values: $1a7940c44f23ed27$export$19a8beecd37a4c45,\n    __read: $1a7940c44f23ed27$export$8d051b38c9118094,\n    __spread: $1a7940c44f23ed27$export$afc72e2116322959,\n    __spreadArrays: $1a7940c44f23ed27$export$6388937ca91ccae8,\n    __spreadArray: $1a7940c44f23ed27$export$1216008129fb82ed,\n    __await: $1a7940c44f23ed27$export$10c90e4f7922046c,\n    __asyncGenerator: $1a7940c44f23ed27$export$e427f37a30a4de9b,\n    __asyncDelegator: $1a7940c44f23ed27$export$bbd80228419bb833,\n    __asyncValues: $1a7940c44f23ed27$export$e3b29a3d6162315f,\n    __makeTemplateObject: $1a7940c44f23ed27$export$4fb47efe1390b86f,\n    __importStar: $1a7940c44f23ed27$export$c21735bcef00d192,\n    __importDefault: $1a7940c44f23ed27$export$da59b14a69baef04,\n    __classPrivateFieldGet: $1a7940c44f23ed27$export$d5dcaf168c640c35,\n    __classPrivateFieldSet: $1a7940c44f23ed27$export$d40a35129aaff81f,\n    __classPrivateFieldIn: $1a7940c44f23ed27$export$81fdc39f203e4e04,\n    __addDisposableResource: $1a7940c44f23ed27$export$88ac25d8e944e405,\n    __disposeResources: $1a7940c44f23ed27$export$8f076105dc360e92,\n    __rewriteRelativeImportExtension: $1a7940c44f23ed27$export$889dfb5d17574b0b\n};\n\n});\n\nparcelRegister(\"ci8rB\", function(module, exports) {\nmodule.exports = $parcel$resolve(\"eHdqz\");\n\n});\n\nparcelRegister(\"1mH1z\", function(module, exports) {\n\n$parcel$export(module.exports, \"LS_LANGUAGE_KEY\", function () { return $8d7403abedf7cefa$export$991796128b2ca217; });\n$parcel$export(module.exports, \"LANGUAGE_STRINGS\", function () { return $8d7403abedf7cefa$export$e4ce066d17694649; });\n$parcel$export(module.exports, \"LANG\", function () { return $8d7403abedf7cefa$export$ce37e184d908d785; });\n$parcel$export(module.exports, \"initLANG\", function () { return $8d7403abedf7cefa$export$7a2ea9f2e4d199d3; });\n\nvar $1LaJZ = parcelRequire(\"1LaJZ\");\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\n\nvar $cL71g = parcelRequire(\"cL71g\");\n\nvar $2gUX3 = parcelRequire(\"2gUX3\");\n\nvar $fgfvl = parcelRequire(\"fgfvl\");\n\nvar $6l0gQ = parcelRequire(\"6l0gQ\");\nvar $8d7403abedf7cefa$export$991796128b2ca217 = 'klecks-language';\nvar $8d7403abedf7cefa$var$LanguageStrings = /*#__PURE__*/ function() {\n    \"use strict\";\n    function LanguageStrings() {\n        (0, $cx0mh._)(this, LanguageStrings);\n        this.listeners = [];\n        // need to use setLanguage for a different language\n        this.data = (0, $cL71g._)({}, (0, $fgfvl.english));\n        this.code = 'en';\n    }\n    (0, $7h4XF._)(LanguageStrings, [\n        {\n            key: \"setLanguage\",\n            value: function setLanguage(langCode) {\n                return (/*#__PURE__*/ 0, /*#__PURE__*/ $1LaJZ._)(function() {\n                    var _, _tmp;\n                    return (0, $2gUX3.__generator)(this, function(_state) {\n                        switch(_state.label){\n                            case 0:\n                                if (!(langCode === 'en')) return [\n                                    3,\n                                    1\n                                ];\n                                this.data = (0, $cL71g._)({}, (0, $fgfvl.english));\n                                return [\n                                    3,\n                                    3\n                                ];\n                            case 1:\n                                _ = this;\n                                _tmp = [\n                                    {},\n                                    (0, $fgfvl.english)\n                                ];\n                                return [\n                                    4,\n                                    (0, $fgfvl.loadLanguage)(langCode)\n                                ];\n                            case 2:\n                                _.data = (0, $cL71g._).apply(void 0, _tmp.concat([\n                                    _state.sent()\n                                ]));\n                                _state.label = 3;\n                            case 3:\n                                this.code = langCode;\n                                document.documentElement.setAttribute('lang', langCode);\n                                this.listeners.forEach(function(item) {\n                                    item();\n                                });\n                                return [\n                                    2\n                                ];\n                        }\n                    });\n                }).call(this);\n            }\n        },\n        {\n            key: \"get\",\n            value: function get(code) {\n                if (!(code in this.data)) throw new Error(\"translation code doesn't exist: \" + code);\n                return this.data[code];\n            }\n        },\n        {\n            key: \"getLanguage\",\n            value: function getLanguage() {\n                var _this = this;\n                return (0, $fgfvl.languages).find(function(item) {\n                    return item.code === _this.code;\n                });\n            }\n        },\n        {\n            key: \"getAutoLanguage\",\n            value: function getAutoLanguage() {\n                var autoCode = $8d7403abedf7cefa$export$64783e31db14f0ba(false);\n                return (0, $fgfvl.languages).find(function(item) {\n                    return item.code === autoCode;\n                });\n            }\n        },\n        {\n            key: \"getCode\",\n            value: function getCode() {\n                return this.code;\n            }\n        },\n        {\n            // get notified on language change\n            key: \"subscribe\",\n            value: function subscribe(subscriber) {\n                if (this.listeners.includes(subscriber)) return;\n                this.listeners.push(subscriber);\n            }\n        },\n        {\n            key: \"unsubscribe\",\n            value: function unsubscribe(subscriber) {\n                for(var i = 0; i < this.listeners.length; i++)if (subscriber === this.listeners[i]) {\n                    this.listeners.splice(i, 1);\n                    return;\n                }\n            }\n        }\n    ]);\n    return LanguageStrings;\n}();\nfunction $8d7403abedf7cefa$export$64783e31db14f0ba(useLocalStorage) {\n    var _loop = function(i) {\n        var lang = langs[i];\n        var found = (0, $fgfvl.languages).find(function(item) {\n            return item.code.toLowerCase() === lang.toLowerCase();\n        });\n        if (found) {\n            result = found.code;\n            return \"break\";\n        }\n    };\n    var result = 'en';\n    var langs = []; // from highest to lowest priority\n    var navLangs = navigator.languages ? navigator.languages : [\n        navigator.language\n    ];\n    navLangs.forEach(function(item) {\n        var split = item.split('-');\n        langs.push(item);\n        if (split.length === 2) langs.push(split[0]);\n    });\n    if (useLocalStorage) try {\n        var item = (0, $6l0gQ.LocalStorage).getItem($8d7403abedf7cefa$export$991796128b2ca217);\n        if (item) langs.unshift(item);\n    } catch (e) {\n    // likely cookies disabled in Safari\n    }\n    for(var i = 0; i < langs.length; i++){\n        var _ret = _loop(i);\n        if (_ret === \"break\") break;\n    }\n    return result;\n}\nvar $8d7403abedf7cefa$var$activeLanguageCode = $8d7403abedf7cefa$export$64783e31db14f0ba(true);\nvar $8d7403abedf7cefa$export$e4ce066d17694649 = new $8d7403abedf7cefa$var$LanguageStrings();\nvar $8d7403abedf7cefa$export$ce37e184d908d785 = function(code, replace) {\n    if (replace) {\n        var result = $8d7403abedf7cefa$export$e4ce066d17694649.get(code);\n        var keyArr = Object.keys(replace);\n        keyArr.forEach(function(key) {\n            result = result.replace(`{${key}}`, replace[key]);\n        });\n        return result;\n    } else return $8d7403abedf7cefa$export$e4ce066d17694649.get(code);\n};\nvar $8d7403abedf7cefa$export$7a2ea9f2e4d199d3 = function() {\n    return $8d7403abedf7cefa$export$e4ce066d17694649.setLanguage($8d7403abedf7cefa$var$activeLanguageCode);\n};\n\n});\nparcelRegister(\"fgfvl\", function(module, exports) {\n\n$parcel$export(module.exports, \"english\", function () { return $90c6410f4b764e9c$export$33e6c23ebe2ee669; });\n$parcel$export(module.exports, \"languages\", function () { return $90c6410f4b764e9c$export$d0d68bb9ed2c643d; });\n$parcel$export(module.exports, \"loadLanguage\", function () { return $90c6410f4b764e9c$export$f02cbd868e2f57cf; });\n// generated from src/languages. \"npm run lang:build\" to update\n\nvar $1LaJZ = parcelRequire(\"1LaJZ\");\n\nvar $2gUX3 = parcelRequire(\"2gUX3\");\n\nvar $iQKsR = parcelRequire(\"iQKsR\");\nvar $90c6410f4b764e9c$export$33e6c23ebe2ee669 = (0, (/*@__PURE__*/$parcel$interopDefault($iQKsR)));\nvar $90c6410f4b764e9c$export$d0d68bb9ed2c643d = [\n    {\n        code: 'en',\n        name: 'English'\n    },\n    {\n        code: 'de',\n        name: 'Deutsch'\n    },\n    {\n        code: 'es',\n        name: \"Espa\\xf1ol\"\n    },\n    {\n        code: 'fi',\n        name: 'suomi'\n    },\n    {\n        code: 'fr',\n        name: \"Fran\\xe7ais\"\n    },\n    {\n        code: 'hu',\n        name: 'Magyar'\n    },\n    {\n        code: 'id',\n        name: 'Bahasa Indonesia'\n    },\n    {\n        code: 'ja',\n        name: \"\\u65E5\\u672C\\u8A9E\"\n    },\n    {\n        code: 'jv',\n        name: 'Basa Jawa'\n    },\n    {\n        code: 'ko',\n        name: \"\\uD55C\\uAD6D\\uC5B4\"\n    },\n    {\n        code: 'lv',\n        name: \"Latvie\\u0161u Valoda\"\n    },\n    {\n        code: 'nl',\n        name: 'Nederlands'\n    },\n    {\n        code: 'pt-BR',\n        name: \"Portugu\\xeas Brasil\"\n    },\n    {\n        code: 'ru',\n        name: \"\\u0440\\u0443\\u0441\\u0441\\u043A\\u0438\\u0439\"\n    },\n    {\n        code: 'su',\n        name: 'Basa Sunda'\n    },\n    {\n        code: 'sv',\n        name: 'Svenska'\n    },\n    {\n        code: 'zh-CN',\n        name: \"\\u7B80\\u4F53\\u4E2D\\u6587\"\n    },\n    {\n        code: 'zh-TW',\n        name: \"\\u7E41\\u9AD4\\u4E2D\\u6587\"\n    }\n];\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar $90c6410f4b764e9c$export$f02cbd868e2f57cf = function(code) {\n    return (/*#__PURE__*/ 0, /*#__PURE__*/ $1LaJZ._)(function() {\n        return (0, $2gUX3.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    if (!(code === 'en')) return [\n                        3,\n                        1\n                    ];\n                    return [\n                        2,\n                        $90c6410f4b764e9c$export$33e6c23ebe2ee669\n                    ];\n                case 1:\n                    if (!(code === 'de')) return [\n                        3,\n                        3\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"8mlhh\"))\n                    ];\n                case 2:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 3:\n                    if (!(code === 'es')) return [\n                        3,\n                        5\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"hLG03\"))\n                    ];\n                case 4:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 5:\n                    if (!(code === 'fi')) return [\n                        3,\n                        7\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"kJrPi\"))\n                    ];\n                case 6:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 7:\n                    if (!(code === 'fr')) return [\n                        3,\n                        9\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"bI71U\"))\n                    ];\n                case 8:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 9:\n                    if (!(code === 'hu')) return [\n                        3,\n                        11\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"eICi1\"))\n                    ];\n                case 10:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 11:\n                    if (!(code === 'id')) return [\n                        3,\n                        13\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"kqusB\"))\n                    ];\n                case 12:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 13:\n                    if (!(code === 'ja')) return [\n                        3,\n                        15\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"57GX6\"))\n                    ];\n                case 14:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 15:\n                    if (!(code === 'jv')) return [\n                        3,\n                        17\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"h75GH\"))\n                    ];\n                case 16:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 17:\n                    if (!(code === 'ko')) return [\n                        3,\n                        19\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"55azR\"))\n                    ];\n                case 18:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 19:\n                    if (!(code === 'lv')) return [\n                        3,\n                        21\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"fWO0c\"))\n                    ];\n                case 20:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 21:\n                    if (!(code === 'nl')) return [\n                        3,\n                        23\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"4zES7\"))\n                    ];\n                case 22:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 23:\n                    if (!(code === 'pt-BR')) return [\n                        3,\n                        25\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"7KXHm\"))\n                    ];\n                case 24:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 25:\n                    if (!(code === 'ru')) return [\n                        3,\n                        27\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"aqoL6\"))\n                    ];\n                case 26:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 27:\n                    if (!(code === 'su')) return [\n                        3,\n                        29\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"7TgKV\"))\n                    ];\n                case 28:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 29:\n                    if (!(code === 'sv')) return [\n                        3,\n                        31\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"2HU4B\"))\n                    ];\n                case 30:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 31:\n                    if (!(code === 'zh-CN')) return [\n                        3,\n                        33\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"lWIVr\"))\n                    ];\n                case 32:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 33:\n                    if (!(code === 'zh-TW')) return [\n                        3,\n                        35\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"bGxAd\"))\n                    ];\n                case 34:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 35:\n                    throw new Error('unknown language code');\n            }\n        });\n    })();\n};\n // Dismiss\n\n});\nparcelRegister(\"iQKsR\", function(module, exports) {\nmodule.exports = JSON.parse('{\"switch-ui-left-right\":\"Switch left/right UI\",\"toggle-show-tools\":\"Show/Hide Tools\",\"scroll\":\"Scroll\",\"donate\":\"Donate\",\"home\":\"Home\",\"modal-new-tab\":\"Open in new tab\",\"tab-edit\":\"Edit\",\"tab-file\":\"File\",\"tool-brush\":\"Brush\",\"tool-paint-bucket\":\"Paint Bucket\",\"tool-gradient\":\"Gradient\",\"tool-shape\":\"Shape\",\"tool-text\":\"Text\",\"tool-hand\":\"Hand Tool\",\"tool-select\":\"Select Tool\",\"tool-zoom\":\"Zoom\",\"tool-more-tools\":\"More Tools\",\"tool-more-tools-click-again\":\"Click again for more tools\",\"undo\":\"Undo\",\"redo\":\"Redo\",\"brush-pen\":\"Pen\",\"brush-blend\":\"Blend\",\"brush-sketchy\":\"Sketchy\",\"brush-pixel\":\"Pixel\",\"brush-chemy\":\"Chemy\",\"brush-smudge\":\"Smudge\",\"brush-size\":\"Size\",\"brush-blending\":\"Blending\",\"brush-toggle-pressure\":\"Toggle Pressure Sensitivity\",\"brush-pen-circle\":\"Circle\",\"brush-pen-chalk\":\"Chalk\",\"brush-pen-calligraphy\":\"Calligraphy\",\"brush-pen-square\":\"Square\",\"brush-sketchy-scale\":\"Scale\",\"brush-pixel-dither\":\"Dither\",\"brush-chemy-fill\":\"Fill\",\"brush-chemy-stroke\":\"Stroke\",\"brush-chemy-mirror-x\":\"Horizontal Symmetry\",\"brush-chemy-mirror-y\":\"Vertical Symmetry\",\"brush-chemy-gradient\":\"Gradient\",\"brush-eraser-transparent-bg\":\"Transparent Background\",\"stabilizer\":\"Stabilizer\",\"stabilizer-title\":\"Stroke Stabilizer\",\"eyedropper\":\"Eyedropper\",\"secondary-color\":\"Secondary Color\",\"manual-color-input\":\"Manual Color Input\",\"mci-hex\":\"Hex\",\"mci-copy\":\"Copy\",\"modal-ok\":\"Ok\",\"modal-cancel\":\"Cancel\",\"modal-close\":\"Close\",\"layers-active-layer\":\"Active Layer\",\"layers-layer\":\"Layer\",\"layers-copy\":\"copy\",\"layers-blending\":\"Blending\",\"layers-new\":\"New Layer\",\"layers-remove\":\"Remove Layer\",\"layers-duplicate\":\"Duplicate Layer\",\"layers-merge\":\"Merge with layer below\",\"layers-clear\":\"Clear layer\",\"layers-merge-advanced\":\"Advanced merge\",\"layers-merge-all\":\"Merge all\",\"layers-rename\":\"Rename\",\"layers-active-layer-visible\":\"Active layer is visible\",\"layers-active-layer-hidden\":\"Active layer is hidden\",\"layers-visibility-toggle\":\"Layer Visibility\",\"layers-blend-normal\":\"normal\",\"layers-blend-darken\":\"darken\",\"layers-blend-multiply\":\"multiply\",\"layers-blend-color-burn\":\"color burn\",\"layers-blend-lighten\":\"lighten\",\"layers-blend-screen\":\"screen\",\"layers-blend-color-dodge\":\"color dodge\",\"layers-blend-overlay\":\"overlay\",\"layers-blend-soft-light\":\"soft light\",\"layers-blend-hard-light\":\"hard light\",\"layers-blend-difference\":\"difference\",\"layers-blend-exclusion\":\"exclusion\",\"layers-blend-hue\":\"hue\",\"layers-blend-saturation\":\"saturation\",\"layers-blend-color\":\"color\",\"layers-blend-luminosity\":\"luminosity\",\"layers-rename-title\":\"Rename Layer\",\"layers-rename-name\":\"Name\",\"layers-rename-clear\":\"Clear Name\",\"layers-rename-sketch\":\"Sketch\",\"layers-rename-colors\":\"Colors\",\"layers-rename-shading\":\"Shading\",\"layers-rename-lines\":\"Lines\",\"layers-rename-effects\":\"Effects\",\"layers-rename-foreground\":\"Foreground\",\"layers-merge-modal-title\":\"Merge/Mix Layers\",\"layers-merge-description\":\"Merges the selected layer with the one underneath. Select the mix mode:\",\"file-no-autosave\":\"No autosave, no cloud storage\",\"file-new\":\"New\",\"file-import\":\"Import\",\"file-save\":\"Save\",\"file-format\":\"File Format\",\"file-show-save-dialog\":\"Show save dialog\",\"file-copy\":\"Copy\",\"file-copy-title\":\"Copy To Clipboard\",\"file-paste\":\"Paste\",\"file-share\":\"Share\",\"file-storage\":\"Browser Storage\",\"file-storage-about\":\"About Browser Storage\",\"file-storage-cant-access\":\"Can\\'t access storage.\",\"file-storage-empty\":\"Empty\",\"file-storage-store\":\"Store\",\"file-storage-open\":\"Open\",\"file-storage-open-confirmation\":\"This image is already open in another tab. Open it here too?\",\"file-storage-open-failed\":\"Failed to load.\",\"file-storage-clear\":\"Clear\",\"file-storage-clear-prompt\":\"Clear Browser Storage? Clearing can not be undone.\",\"file-storage-storing\":\"Storing\",\"file-storage-overwrite\":\"Overwrite\",\"file-storage-overwrite-confirm\":\"Overwrite Browser Storage? Overwritten data will be permanently deleted.\",\"file-storage-min-ago\":\"{x}min ago\",\"file-storage-hours-ago\":\"{x}h ago\",\"file-storage-days-ago\":\"{x}d ago\",\"file-storage-month-ago\":\"> 1month ago\",\"file-storage-restored\":\"Restored from Browser Storage\",\"file-storage-stored\":\"Stored to Browser Storage\",\"file-storage-failed\":\"Failed to store to Browser Storage\",\"file-storage-failed-1\":\"Failed to store. Possible causes:\",\"file-storage-failed-2\":\"Out of disk space\",\"file-storage-failed-3\":\"Storage disabled in incognito tab\",\"file-storage-failed-4\":\"Browser doesn\\'t support storage\",\"file-storage-failed-clear\":\"Failed to clear.\",\"file-upload\":\"Upload\",\"tab-recovery-recover-tabs\":\"Recover closed tabs\",\"tab-recovery-explanation\":\"Recovery data is only kept for a little while. Save to ensure your work is not lost.\",\"tab-recovery-total-quota-label\":\"Total:\",\"tab-recovery-empty\":\"Nothing to recover.\",\"tab-recovery-recover\":\"Recover\",\"tab-recovery-delete\":\"Delete\",\"tab-recovery-delete-confirmation\":\"Delete this recovery? Deletion can not be undone.\",\"tab-recovery-failed-to-recover\":\"Failed to recover tab.\",\"tab-recovery-recovered\":\"Tab recovered.\",\"cleared-layer\":\"Cleared layer\",\"cleared-selected-area\":\"Cleared selected area\",\"filled\":\"Filled\",\"filled-selected-area\":\"Filled selection\",\"new-title\":\"New Image\",\"new-current\":\"Current\",\"new-fit\":\"Fit\",\"new-oversize\":\"Oversize\",\"new-square\":\"Square\",\"new-landscape\":\"Landscape\",\"new-portrait\":\"Portrait\",\"new-screen\":\"Screen\",\"new-video\":\"Video\",\"new-din-paper\":\"DIN Paper\",\"new-px\":\"px\",\"new-ratio\":\"Ratio\",\"upload-title\":\"Upload to Imgur\",\"upload-link-notice\":\"Anyone with the link to your uploaded image will be able to view it.\",\"upload-name\":\"Title\",\"upload-title-untitled\":\"Untitled\",\"upload-caption\":\"Caption\",\"upload-submit\":\"Upload\",\"upload-uploading\":\"Uploading...\",\"upload-success\":\"Upload Successful\",\"upload-failed\":\"Upload failed.\",\"upload-delete\":\"To delete your image from Imgur visit:\",\"cropcopy-title-copy\":\"Copy To Clipboard\",\"cropcopy-title-crop\":\"Crop\",\"cropcopy-mask\":\"Mask unselected\",\"cropcopy-click-hold\":\"Right-click or press hold to copy.\",\"cropcopy-btn-copy\":\"To Clipboard\",\"cropcopy-copied\":\"Copied.\",\"cropcopy-btn-crop\":\"Apply Crop\",\"crop-drag-to-crop\":\"Drag to crop\",\"filter-crop-extend\":\"Crop/Extend\",\"filter-flip\":\"Flip\",\"filter-perspective\":\"Perspective\",\"filter-resize\":\"Resize\",\"filter-rotate\":\"Rotate\",\"filter-transform\":\"Transform\",\"filter-bright-contrast\":\"Bright/Contrast\",\"filter-curves\":\"Curves\",\"filter-hue-sat\":\"Hue/Saturation\",\"filter-invert\":\"Invert\",\"filter-tilt-shift\":\"Tilt Shift\",\"filter-to-alpha\":\"To Alpha\",\"filter-triangle-blur\":\"Triangle Blur\",\"filter-unsharp-mask\":\"Unsharp Mask\",\"filter-crop-title\":\"Crop / Extend\",\"filter-crop-description\":\"Crop or extend the image.\",\"filter-crop-left\":\"Left\",\"filter-crop-right\":\"Right\",\"filter-crop-top\":\"Top\",\"filter-crop-bottom\":\"Bottom\",\"filter-crop-rule-thirds\":\"Rule of Thirds\",\"filter-crop-fill\":\"Fill\",\"filter-flip-title\":\"Flip\",\"filter-flip-description\":\"Flips layer or whole image.\",\"filter-flip-horizontal\":\"Horizontal\",\"filter-flip-vertical\":\"Vertical\",\"filter-flip-image\":\"Flip Image\",\"filter-flip-layer\":\"Flip Layer\",\"filter-perspective-title\":\"Perspective\",\"filter-perspective-description\":\"Transforms the selected layer.\",\"filter-resize-title\":\"Resize\",\"filter-resize-description\":\"Resizes the image.\",\"filter-rotate-title\":\"Rotate\",\"filter-rotate-description\":\"Rotates the image.\",\"filter-transform-empty\":\"Layer is empty.\",\"filter-transform-empty-selection\":\"Layer is empty in selected area.\",\"filter-transform-title\":\"Transform\",\"filter-transform-description\":\"Transforms selected layer. Hold Shift for additional behavior.\",\"filter-transform-rotation\":\"Rotation\",\"filter-transform-flip\":\"Flip\",\"filter-transform-center\":\"Center\",\"filter-transform-constrain\":\"Constrain\",\"filter-transform-snap\":\"Snap\",\"filter-transform-snap-title\":\"Snap Rotation And Position\",\"filter-bright-contrast-title\":\"Brightness / Contrast\",\"filter-bright-contrast-description\":\"Change brightness and contrast for the selected layer.\",\"filter-bright-contrast-brightness\":\"Brightness\",\"filter-bright-contrast-contrast\":\"Contrast\",\"filter-curves-title\":\"Curves\",\"filter-curves-description\":\"Apply curves on the selected layer.\",\"filter-curves-all\":\"All\",\"filter-hue-sat-title\":\"Hue / Saturation\",\"filter-hue-sat-description\":\"Change hue and saturation for the selected layer.\",\"filter-hue-sat-hue\":\"Hue\",\"filter-hue-sat-saturation\":\"Saturation\",\"filter-applied\":\"applied\",\"filter-tilt-shift-title\":\"Tilt Shift\",\"filter-tilt-shift-description\":\"Applies tilt shift on the selected layer.\",\"filter-tilt-shift-blur\":\"Blur Radius\",\"filter-tilt-shift-gradient\":\"Gradient Radius\",\"filter-to-alpha-title\":\"To Alpha\",\"filter-to-alpha-description\":\"Generates alpha channel for selected layer from:\",\"filter-to-alpha-inverted-lum\":\"Inverted Luminance\",\"filter-to-alpha-lum\":\"Luminance\",\"filter-to-alpha-replace\":\"Replace RGB\",\"filter-triangle-blur-title\":\"Triangle Blur\",\"filter-triangle-blur-description\":\"Applies triangle blur on the selected layer.\",\"filter-unsharp-mask-title\":\"Unsharp Mask\",\"filter-unsharp-mask-description\":\"Sharpens the selected layer by scaling pixels away from the average of their neighbors.\",\"filter-unsharp-mask-strength\":\"Strength\",\"filter-grid\":\"Grid\",\"filter-grid-description\":\"Draws grid on selected layer.\",\"filter-noise\":\"Noise\",\"filter-noise-description\":\"Adds noise to selected layer.\",\"filter-noise-scale\":\"Scale\",\"filter-noise-alpha\":\"Alpha\",\"filter-pattern\":\"Pattern\",\"filter-pattern-description\":\"Generates pattern on selected layer. Drag the preview for further controls.\",\"filter-distort\":\"Distort\",\"filter-distort-description\":\"Distorts the selected layer.\",\"filter-distort-phase\":\"Phase\",\"filter-distort-stepsize\":\"Step Size\",\"filter-distort-sync-xy\":\"Sync XY\",\"filter-vanish-point\":\"Vanish Point\",\"filter-vanish-point-title\":\"Vanishing Point\",\"filter-vanish-point-description\":\"Adds vanishing point to selected layer. Drag preview to move.\",\"filter-vanish-point-lines\":\"Lines\",\"dropper-drop\":\"Drop to import\",\"dropper-as-image\":\"As New Image\",\"dropper-as-layer\":\"As Layer\",\"import-opening\":\"Opening file...\",\"import-title\":\"Import Image\",\"import-too-large\":\"Image too large, will be downscaled.\",\"import-btn-as-layer\":\"As Layer\",\"import-btn-as-image\":\"As Image\",\"import-as-layer-title\":\"Import Image as New Layer\",\"import-as-layer-description\":\"Adjust the position of the imported image.\",\"import-as-layer-limit-reached\":\"Layer limit reached. Image will be placed on existing layer.\",\"import-as-layer-fit\":\"Fit\",\"import-flatten\":\"Flatten image\",\"import-unsupported-file\":\"Unsupported file type. See Help for supported types.\",\"import-broken-file\":\"Couldn\\'t load image. File might be corrupted.\",\"import-psd-unsupported\":\"Unsupported features. PSD had to be flattened.\",\"import-psd-limited-support\":\"PSD support is limited. Flattened will more likely look correct.\",\"import-psd-too-large\":\"Image exceeds maximum dimensions of {x} x {x} pixels. Unable to import.\",\"import-psd-size\":\"Image size\",\"clipboard-read-fail\":\"Failed to read from clipboard.\",\"clipboard-no-image\":\"No image found in clipboard.\",\"hand-reset\":\"Reset\",\"hand-fit\":\"Fit\",\"hand-inertia-scrolling\":\"Inertia Scrolling\",\"bucket-tolerance\":\"Tolerance\",\"bucket-sample\":\"Sample\",\"bucket-sample-title\":\"Which layers to sample color from\",\"bucket-sample-all\":\"All\",\"bucket-sample-active\":\"Active\",\"bucket-sample-above\":\"Above\",\"bucket-grow\":\"Grow\",\"bucket-grow-title\":\"Grow filled area (in pixels)\",\"bucket-contiguous\":\"Contiguous\",\"bucket-contiguous-title\":\"Only fill connected areas\",\"gradient-linear\":\"Linear\",\"gradient-linear-mirror\":\"Linear-Mirror\",\"gradient-radial\":\"Radial\",\"shape-stroke\":\"Stroke\",\"shape-fill\":\"Fill\",\"shape-rect\":\"Rectangle\",\"shape-ellipse\":\"Ellipse\",\"shape-line\":\"Line\",\"shape-line-width\":\"Line Width\",\"shape-outwards\":\"Outwards\",\"shape-fixed\":\"Fixed 1:1\",\"shape-auto-pan\":\"Auto-pan\",\"shape-auto-pan-title\":\"Automatically moves as you draw\",\"text-instruction\":\"Click canvas to place text\",\"text-title\":\"Add Text\",\"text-text\":\"Text\",\"text-font\":\"Font\",\"text-placeholder\":\"Your text\",\"text-color\":\"Color\",\"text-size\":\"Size\",\"text-line-height\":\"Line Height\",\"text-letter-spacing\":\"Letter Spacing\",\"text-left\":\"Left\",\"text-center\":\"Center\",\"text-right\":\"Right\",\"text-italic\":\"Italic\",\"text-bold\":\"Bold\",\"text-failed-import\":\"Failed to import the following files:\",\"text-supported-formats\":\"Supported formats:\",\"select-select\":\"Select\",\"select-transform\":\"Transform\",\"select-lasso\":\"Lasso\",\"select-polygon\":\"Polygon\",\"select-boolean-replace\":\"Replace\",\"select-boolean-add\":\"Add\",\"select-boolean-subtract\":\"Subtract\",\"select-all\":\"All\",\"select-invert\":\"Invert\",\"select-reset\":\"Reset\",\"select-fill\":\"Fill\",\"select-erase\":\"Erase\",\"select-transform-clone\":\"Clone\",\"select-transform-clone-applied\":\"Cloned\",\"select-transform-move-to-layer\":\"Move to layer:\",\"select-transform-applied\":\"Transformation applied\",\"select-transform-empty\":\"Selected area on active layer is empty.\",\"save-reminder-title\":\"Unsaved Work\",\"save-reminder-text\":\"Image was not saved in {a} minutes{b}. Save now to prevent eventual loss.\",\"save-reminder-save-psd\":\"Save As PSD\",\"save-reminder-psd-layers\":\"PSD will remember all layers.\",\"backup-drawing\":\"You can backup your drawing.\",\"submit\":\"Submit\",\"submit-title\":\"Submit Drawing\",\"submit-prompt\":\"Submit drawing?\",\"submit-submitting\":\"Submitting\",\"embed-init-loading\":\"Loading app\",\"embed-init-waiting\":\"Waiting for image\",\"help\":\"Help\",\"tab-settings\":\"Settings\",\"settings-language\":\"Language\",\"settings-language-reload\":\"Will update after reloading.\",\"settings-theme\":\"Theme\",\"settings-save-reminder-label\":\"Save Reminder\",\"settings-save-reminder-disabled\":\"disabled\",\"settings-save-reminder-confirm-title\":\"Turn off Save Reminder?\",\"settings-save-reminder-confirm-a\":\"There is no autosave and browser tabs don\\'t last forever. If you don\\'t periodically save you will likely lose work.\",\"settings-save-reminder-confirm-b\":\"Disable at your own risk?\",\"settings-save-reminder-confirm-disable\":\"Disable\",\"theme-dark\":\"Dark\",\"theme-light\":\"Light\",\"terms-of-service\":\"Terms of Service\",\"licenses\":\"Licenses\",\"source-code\":\"Source Code\",\"auto\":\"auto\",\"zoom-in\":\"Zoom In\",\"zoom-out\":\"Zoom Out\",\"radius\":\"Radius\",\"constrain-proportions\":\"Constrain Proportions\",\"width\":\"Width\",\"height\":\"Height\",\"opacity\":\"Opacity\",\"scatter\":\"Scatter\",\"red\":\"Red\",\"green\":\"Green\",\"blue\":\"Blue\",\"eraser\":\"Eraser\",\"center\":\"Center\",\"layers\":\"Layers\",\"background\":\"Background\",\"scaling-algorithm\":\"Scaling Algorithm\",\"algorithm-smooth\":\"Smooth\",\"algorithm-pixelated\":\"Pixelated\",\"preview\":\"Preview\",\"angle-snap\":\"Snap\",\"angle-snap-title\":\"45\\xb0 Angle Snapping\",\"lock-alpha\":\"Lock Alpha\",\"lock-alpha-title\":\"Locks layer\\'s alpha channel\",\"reverse\":\"Reverse\",\"compare-before\":\"Before\",\"compare-after\":\"After\",\"loading\":\"Loading\",\"more\":\"More\",\"x-minutes\":\"{x}min\",\"wip\":\"Work in progress\",\"browser-zoom-help\":\"Double-tap or pinch-out to reset browser zoom.\",\"dismiss\":\"Dismiss\"}');\n\n});\n\nparcelRegister(\"8mlhh\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"5RGAp\")).then(function() {\n    return parcelRequire('fz5vW');\n});\n\n});\nparcelRegister(\"ih7W4\", function(module, exports) {\n\"use strict\";\n\nvar $5Y6Bl = parcelRequire(\"5Y6Bl\");\nmodule.exports = $5Y6Bl(function(bundle) {\n    return new Promise(function(resolve, reject) {\n        // Don't insert the same script twice (e.g. if it was already in the HTML)\n        var existingScripts = document.getElementsByTagName('script');\n        if ([].concat(existingScripts).some(function(script) {\n            return script.src === bundle;\n        })) {\n            resolve();\n            return;\n        }\n        var preloadLink = document.createElement('link');\n        preloadLink.href = bundle;\n        preloadLink.rel = 'preload';\n        preloadLink.as = 'script';\n        document.head.appendChild(preloadLink);\n        var script = document.createElement('script');\n        script.async = true;\n        script.type = 'text/javascript';\n        script.src = bundle;\n        script.onerror = function(e) {\n            var error = new TypeError(\"Failed to fetch dynamically imported module: \".concat(bundle, \". Error: \").concat(e.message));\n            script.onerror = script.onload = null;\n            script.remove();\n            reject(error);\n        };\n        script.onload = function() {\n            script.onerror = script.onload = null;\n            resolve();\n        };\n        document.getElementsByTagName('head')[0].appendChild(script);\n    });\n});\n\n});\nparcelRegister(\"5Y6Bl\", function(module, exports) {\n\"use strict\";\nvar $4587ad3ed31b7baa$var$cachedBundles = {};\nvar $4587ad3ed31b7baa$var$cachedPreloads = {};\nvar $4587ad3ed31b7baa$var$cachedPrefetches = {};\nfunction $4587ad3ed31b7baa$var$getCache(type) {\n    switch(type){\n        case 'preload':\n            return $4587ad3ed31b7baa$var$cachedPreloads;\n        case 'prefetch':\n            return $4587ad3ed31b7baa$var$cachedPrefetches;\n        default:\n            return $4587ad3ed31b7baa$var$cachedBundles;\n    }\n}\nmodule.exports = function(loader, type) {\n    return function(bundle) {\n        var cache = $4587ad3ed31b7baa$var$getCache(type);\n        if (cache[bundle]) return cache[bundle];\n        return cache[bundle] = loader.apply(null, arguments).catch(function(e) {\n            delete cache[bundle];\n            throw e;\n        });\n    };\n};\n\n});\n\n\n\nparcelRegister(\"hLG03\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"3uTpJ\")).then(function() {\n    return parcelRequire('5xWmk');\n});\n\n});\n\nparcelRegister(\"kJrPi\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"4XbAZ\")).then(function() {\n    return parcelRequire('gFNXg');\n});\n\n});\n\nparcelRegister(\"bI71U\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"2bKIP\")).then(function() {\n    return parcelRequire('iGIhP');\n});\n\n});\n\nparcelRegister(\"eICi1\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"i0BNf\")).then(function() {\n    return parcelRequire('9105N');\n});\n\n});\n\nparcelRegister(\"kqusB\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"98Cvg\")).then(function() {\n    return parcelRequire('dH6Cx');\n});\n\n});\n\nparcelRegister(\"57GX6\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"y5edP\")).then(function() {\n    return parcelRequire('7ZPTi');\n});\n\n});\n\nparcelRegister(\"h75GH\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"9fDFY\")).then(function() {\n    return parcelRequire('2Ylu6');\n});\n\n});\n\nparcelRegister(\"55azR\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"cW2nR\")).then(function() {\n    return parcelRequire('aeHic');\n});\n\n});\n\nparcelRegister(\"fWO0c\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"8ucza\")).then(function() {\n    return parcelRequire('52L7X');\n});\n\n});\n\nparcelRegister(\"4zES7\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"f3RKT\")).then(function() {\n    return parcelRequire('hmSlK');\n});\n\n});\n\nparcelRegister(\"7KXHm\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"fVlhe\")).then(function() {\n    return parcelRequire('cmxjs');\n});\n\n});\n\nparcelRegister(\"aqoL6\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"kcBSP\")).then(function() {\n    return parcelRequire('6vhv2');\n});\n\n});\n\nparcelRegister(\"7TgKV\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"4RByM\")).then(function() {\n    return parcelRequire('3bjy6');\n});\n\n});\n\nparcelRegister(\"2HU4B\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"ap9yw\")).then(function() {\n    return parcelRequire('aWNha');\n});\n\n});\n\nparcelRegister(\"lWIVr\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"dsJ3g\")).then(function() {\n    return parcelRequire('blNy6');\n});\n\n});\n\nparcelRegister(\"bGxAd\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"lF1Tu\")).then(function() {\n    return parcelRequire('iRLcJ');\n});\n\n});\n\n\nparcelRegister(\"6l0gQ\", function(module, exports) {\n\n$parcel$export(module.exports, \"LocalStorage\", function () { return $9e5fd8359d8b22f2$export$19fffca37ef3e106; });\n/**\r\n * LocalStorage wrapper that does not throw exceptions.\r\n * If cookies disabled in Safari localStorage interactions throw exception \"insecure operation\"\r\n */ \nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\nvar $9e5fd8359d8b22f2$export$19fffca37ef3e106 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function LocalStorage() {\n        (0, $cx0mh._)(this, LocalStorage);\n    }\n    (0, $7h4XF._)(LocalStorage, null, [\n        {\n            key: \"getItem\",\n            value: function getItem(key) {\n                // (disabled) eslint-disable-next-line no-null/no-null\n                var result = null;\n                try {\n                    result = localStorage.getItem(key);\n                } catch (e) {\n                    this.error = e;\n                }\n                return result;\n            }\n        },\n        {\n            key: \"setItem\",\n            value: function setItem(key, value) {\n                try {\n                    localStorage.setItem(key, value);\n                } catch (e) {\n                    this.error = e;\n                }\n            }\n        },\n        {\n            key: \"removeItem\",\n            value: function removeItem(key) {\n                try {\n                    localStorage.removeItem(key);\n                } catch (e) {\n                    this.error = e;\n                }\n            }\n        },\n        {\n            key: \"getError\",\n            value: function getError() {\n                return this.error;\n            }\n        }\n    ]);\n    return LocalStorage;\n}();\n\n});\n\n\nparcelRegister(\"1C8RU\", function(module, exports) {\n\n$parcel$export(module.exports, \"THEME\", function () { return $e3b2ff8d1f8c5253$export$5714e40777c1bcc2; });\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\n\nvar $7jh4K = parcelRequire(\"7jh4K\");\n\nvar $6l0gQ = parcelRequire(\"6l0gQ\");\nvar $e3b2ff8d1f8c5253$var$LS_THEME_KEY = 'klecks-theme';\nvar $e3b2ff8d1f8c5253$var$Theme = /*#__PURE__*/ function() {\n    \"use strict\";\n    function Theme() {\n        var _this = this;\n        (0, $cx0mh._)(this, Theme);\n        // initialization will be overwritten.\n        this.mediaQueryTheme = 'light' // prefers-color-scheme\n        ;\n        this.theme = 'light';\n        this.listeners = [];\n        // init media query\n        this.mediaQueryTheme = (0, $7jh4K.isDark)() ? 'dark' : 'light';\n        (0, $7jh4K.addIsDarkListener)(function() {\n            _this.mediaQueryTheme = (0, $7jh4K.isDark)() ? 'dark' : 'light';\n            _this.updateTheme();\n        });\n        // init local storage\n        this.storedTheme = this.readLocalStorage();\n        addEventListener('storage', function(e) {\n            if (e.key === $e3b2ff8d1f8c5253$var$LS_THEME_KEY) {\n                _this.storedTheme = _this.readLocalStorage();\n                _this.updateTheme();\n            }\n        });\n        this.updateTheme();\n    }\n    (0, $7h4XF._)(Theme, [\n        {\n            key: \"updateTheme\",\n            value: function updateTheme() {\n                var oldTheme = this.theme;\n                this.theme = this.storedTheme || this.mediaQueryTheme;\n                if (this.theme === oldTheme) return;\n                document.body.classList.toggle('kl-theme-dark', this.theme === 'dark');\n                this.listeners.forEach(function(item) {\n                    return item();\n                });\n            }\n        },\n        {\n            key: \"readLocalStorage\",\n            value: function readLocalStorage() {\n                var result = (0, $6l0gQ.LocalStorage).getItem($e3b2ff8d1f8c5253$var$LS_THEME_KEY);\n                if (!result || typeof result === 'string' && ![\n                    'dark',\n                    'light'\n                ].includes(result)) {\n                    result = undefined;\n                    (0, $6l0gQ.LocalStorage).removeItem($e3b2ff8d1f8c5253$var$LS_THEME_KEY); // reset because invalid\n                }\n                return result;\n            }\n        },\n        {\n            key: \"isDark\",\n            value: function isDark() {\n                return this.theme === 'dark';\n            }\n        },\n        {\n            key: \"addIsDarkListener\",\n            value: function addIsDarkListener(func) {\n                if (this.listeners.includes(func)) return;\n                this.listeners.push(func);\n            }\n        },\n        {\n            key: \"removeIsDarkListener\",\n            value: function removeIsDarkListener(func) {\n                for(var i = 0; i < this.listeners.length; i++)if (this.listeners[i] === func) {\n                    this.listeners.splice(i, 1);\n                    return;\n                }\n            }\n        },\n        {\n            key: \"getMediaQueryTheme\",\n            value: function getMediaQueryTheme() {\n                return this.mediaQueryTheme;\n            }\n        },\n        {\n            key: \"getStoredTheme\",\n            value: function getStoredTheme() {\n                return this.storedTheme;\n            }\n        },\n        {\n            key: \"setStoredTheme\",\n            value: function setStoredTheme(theme) {\n                if (theme) (0, $6l0gQ.LocalStorage).setItem($e3b2ff8d1f8c5253$var$LS_THEME_KEY, theme);\n                else (0, $6l0gQ.LocalStorage).removeItem($e3b2ff8d1f8c5253$var$LS_THEME_KEY);\n                this.storedTheme = theme;\n                this.updateTheme();\n            }\n        }\n    ]);\n    return Theme;\n}();\nvar $e3b2ff8d1f8c5253$export$5714e40777c1bcc2 = new $e3b2ff8d1f8c5253$var$Theme();\n\n});\nparcelRegister(\"7jh4K\", function(module, exports) {\n\n$parcel$export(module.exports, \"insertAfter\", function () { return $2bd9b7b9bc92046d$export$c4f94c8b3850a5a9; });\n$parcel$export(module.exports, \"loadImage\", function () { return $2bd9b7b9bc92046d$export$fe58198efe02b173; });\n$parcel$export(module.exports, \"asyncLoadImage\", function () { return $2bd9b7b9bc92046d$export$2a09375022a33e78; });\n$parcel$export(module.exports, \"css\", function () { return $2bd9b7b9bc92046d$export$dbf350e5966cf602; });\n$parcel$export(module.exports, \"setAttributes\", function () { return $2bd9b7b9bc92046d$export$74da2cba014bdc09; });\n$parcel$export(module.exports, \"append\", function () { return $2bd9b7b9bc92046d$export$10d8903dec122b9d; });\n$parcel$export(module.exports, \"fitInto\", function () { return $2bd9b7b9bc92046d$export$fa55905620c22535; });\n$parcel$export(module.exports, \"centerWithin\", function () { return $2bd9b7b9bc92046d$export$76d0c1a172b67a61; });\n$parcel$export(module.exports, \"getDate\", function () { return $2bd9b7b9bc92046d$export$aa350b96d91cd94; });\n$parcel$export(module.exports, \"gcd\", function () { return $2bd9b7b9bc92046d$export$f81847884871263e; });\n$parcel$export(module.exports, \"reduce\", function () { return $2bd9b7b9bc92046d$export$533b26079ad0b4b; });\n$parcel$export(module.exports, \"decToFraction\", function () { return $2bd9b7b9bc92046d$export$8215e6b900906daa; });\n$parcel$export(module.exports, \"isBlob\", function () { return $2bd9b7b9bc92046d$export$5bcd6e94ed871c88; });\n$parcel$export(module.exports, \"imageBlobToUrl\", function () { return $2bd9b7b9bc92046d$export$5063ec57a23c4f2e; });\n$parcel$export(module.exports, \"dateDayDifference\", function () { return $2bd9b7b9bc92046d$export$1093707c159148e8; });\n$parcel$export(module.exports, \"copyObj\", function () { return $2bd9b7b9bc92046d$export$af0d87255f3cfd7e; });\n$parcel$export(module.exports, \"shareCanvas\", function () { return $2bd9b7b9bc92046d$export$331c30fd60da0115; });\n$parcel$export(module.exports, \"handleClick\", function () { return $2bd9b7b9bc92046d$export$b981489921ee18cd; });\n$parcel$export(module.exports, \"createSvg\", function () { return $2bd9b7b9bc92046d$export$c54fe3b9ecaa84cf; });\n$parcel$export(module.exports, \"throwIfNull\", function () { return $2bd9b7b9bc92046d$export$b813e062795b89b5; });\n$parcel$export(module.exports, \"throwIfUndefined\", function () { return $2bd9b7b9bc92046d$export$5c097f720de072a2; });\n$parcel$export(module.exports, \"nullToUndefined\", function () { return $2bd9b7b9bc92046d$export$d802c22d109d9806; });\n$parcel$export(module.exports, \"isDark\", function () { return $2bd9b7b9bc92046d$export$a79ad82046afa44e; });\n$parcel$export(module.exports, \"addIsDarkListener\", function () { return $2bd9b7b9bc92046d$export$a9dfd81f95a8a526; });\n$parcel$export(module.exports, \"base64ToBlob\", function () { return $2bd9b7b9bc92046d$export$b3fb17ae4345ac8f; });\n$parcel$export(module.exports, \"createArray\", function () { return $2bd9b7b9bc92046d$export$7f1ebd623f131021; });\n$parcel$export(module.exports, \"randomUuid\", function () { return $2bd9b7b9bc92046d$export$4773ec3a7b05a3f2; });\n$parcel$export(module.exports, \"sleep\", function () { return $2bd9b7b9bc92046d$export$e772c8ff12451969; });\n$parcel$export(module.exports, \"timeoutWrapper\", function () { return $2bd9b7b9bc92046d$export$f85d414d081200d8; });\n\nvar $1LaJZ = parcelRequire(\"1LaJZ\");\n\nvar $8N5YG = parcelRequire(\"8N5YG\");\n\nvar $2gUX3 = parcelRequire(\"2gUX3\");\nfunction $2bd9b7b9bc92046d$export$c4f94c8b3850a5a9(referenceNode, newNode) {\n    if (referenceNode.parentNode) referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n}\nfunction $2bd9b7b9bc92046d$export$fe58198efe02b173(im, callback) {\n    var counter = 0;\n    function check() {\n        if (counter === 1000) {\n            alert(\"couldn't load\");\n            return;\n        }\n        if (im.complete) {\n            counter++;\n            callback();\n        } else setTimeout(check, 1);\n    }\n    check();\n}\nfunction $2bd9b7b9bc92046d$export$2a09375022a33e78(src) {\n    return new Promise(function(resolve, reject) {\n        var img = new Image();\n        img.onload = function() {\n            return resolve(img);\n        };\n        img.onerror = reject;\n        img.src = src;\n    });\n}\nfunction $2bd9b7b9bc92046d$export$dbf350e5966cf602(el, styleObj) {\n    var elStyle = el.style;\n    Object.keys(styleObj).forEach(function(key) {\n        var property = key;\n        elStyle[property] = styleObj[property];\n        if (property === 'userSelect') elStyle.webkitUserSelect = styleObj[property]; // Safari support\n    });\n}\nfunction $2bd9b7b9bc92046d$export$74da2cba014bdc09(el, attrObj) {\n    var keyArr = Object.keys(attrObj);\n    var keyStr;\n    for(var i = 0; i < keyArr.length; i++){\n        keyStr = keyArr[i];\n        el.setAttribute(keyStr, attrObj[keyStr]);\n    }\n}\nfunction $2bd9b7b9bc92046d$export$10d8903dec122b9d(target, els) {\n    var fragment = document.createDocumentFragment();\n    els.forEach(function(item) {\n        return item && fragment.append(item);\n    });\n    target.append(fragment);\n}\nfunction $2bd9b7b9bc92046d$export$fa55905620c22535(aw, ah, bw, bh, min) {\n    var width = aw * bw, height = ah * bw;\n    if (width > bw) {\n        height = bw / width * height;\n        width = bw;\n    }\n    if (height > bh) {\n        width = bh / height * width;\n        height = bh;\n    }\n    if (min) {\n        width = Math.max(min, width);\n        height = Math.max(min, height);\n    }\n    return {\n        width: width,\n        height: height\n    };\n}\nfunction $2bd9b7b9bc92046d$export$76d0c1a172b67a61(aw, ah, bw, bh) {\n    return {\n        x: aw / 2 - bw / 2,\n        y: ah / 2 - bh / 2\n    };\n}\nfunction $2bd9b7b9bc92046d$export$aa350b96d91cd94() {\n    var date = new Date();\n    var year = date.getFullYear();\n    var month = (date.getMonth() + 1).toString().padStart(2, '0');\n    var day = date.getDate().toString().padStart(2, '0');\n    var minutes = (date.getHours() * 60 + date.getMinutes()).toString(36).padStart(3, '0');\n    return year + '_' + month + '_' + day + '_' + minutes + '_';\n}\nfunction $2bd9b7b9bc92046d$export$f81847884871263e(a, b) {\n    return b ? $2bd9b7b9bc92046d$export$f81847884871263e(b, a % b) : a;\n}\nfunction $2bd9b7b9bc92046d$export$533b26079ad0b4b(numerator, denominator) {\n    var g = $2bd9b7b9bc92046d$export$f81847884871263e(numerator, denominator);\n    return [\n        numerator / g,\n        denominator / g\n    ];\n}\nfunction $2bd9b7b9bc92046d$export$8215e6b900906daa(decimalNumber) {\n    var len = decimalNumber.toString().length - 2;\n    var denominator = Math.pow(10, len);\n    var numerator = decimalNumber * denominator;\n    return $2bd9b7b9bc92046d$export$533b26079ad0b4b(numerator, denominator);\n}\nfunction $2bd9b7b9bc92046d$export$5bcd6e94ed871c88(maybeBlob) {\n    return maybeBlob instanceof Blob || Object.prototype.toString.call(maybeBlob) === '[object Blob]';\n}\nfunction $2bd9b7b9bc92046d$export$5063ec57a23c4f2e(blobObj) {\n    if (!blobObj) throw new Error('blobObj is undefined or null');\n    if (window.Blob && blobObj instanceof Blob) return URL.createObjectURL(blobObj); // object url\n    else if (blobObj.constructor.name === 'Object') {\n        var fauxBlob = blobObj;\n        return 'data:' + fauxBlob.type + ';' + fauxBlob.encoding + ',' + fauxBlob.data; // data url\n    } else throw new Error('unknown blob format');\n}\nfunction $2bd9b7b9bc92046d$export$1093707c159148e8(dateA, dateB) {\n    dateA = new Date(dateA);\n    dateB = new Date(dateB);\n    dateA.setHours(0, 0, 0, 0);\n    dateB.setHours(0, 0, 0, 0);\n    return (dateB.getTime() - dateA.getTime()) / 86400000;\n}\nfunction $2bd9b7b9bc92046d$export$af0d87255f3cfd7e(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\nfunction $2bd9b7b9bc92046d$export$331c30fd60da0115(p) {\n    var mimetype = 'image/png';\n    var err = function() {\n        return alert('sharing not supported');\n    };\n    p.canvas.toBlob(function(blob) {\n        if (!blob) {\n            err();\n            p.callback();\n            return;\n        }\n        try {\n            var filesArray = [\n                new File([\n                    blob\n                ], p.fileName, {\n                    type: mimetype\n                })\n            ];\n            navigator.share({\n                title: p.title,\n                files: filesArray\n            }).then(function() {}).catch(function() {\n                err();\n            });\n        } catch (e) {\n            err();\n        }\n        p.callback();\n    }, mimetype);\n}\nfunction $2bd9b7b9bc92046d$export$b981489921ee18cd(clickEvent) {\n    var target = clickEvent.target;\n    if (!target) return false;\n    var el = target;\n    while(el){\n        if ([\n            'A',\n            'LABEL',\n            'INPUT',\n            'SUMMARY'\n        ].includes(el.tagName)) return true;\n        el = el.parentElement;\n    }\n    clickEvent.preventDefault();\n    return false;\n}\nfunction $2bd9b7b9bc92046d$export$c54fe3b9ecaa84cf(p) {\n    var result = document.createElementNS('http://www.w3.org/2000/svg', p.elementType);\n    Object.entries(p).forEach(function(param) {\n        var _param = (0, $8N5YG._)(param, 2), keyStr = _param[0], item = _param[1];\n        if (keyStr === 'childrenArr') item.forEach(function(child) {\n            result.append($2bd9b7b9bc92046d$export$c54fe3b9ecaa84cf(child));\n        });\n        else if (keyStr === 'css') $2bd9b7b9bc92046d$export$dbf350e5966cf602(result, item);\n        else if (keyStr !== 'elementType') result.setAttribute(keyStr, item);\n    });\n    return result;\n}\nfunction $2bd9b7b9bc92046d$export$b813e062795b89b5(v) {\n    // (disabled) eslint-disable-next-line no-null/no-null\n    if (v === null) throw new Error('value is null');\n    return v;\n}\nfunction $2bd9b7b9bc92046d$export$5c097f720de072a2(v) {\n    var message = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 'value is undefined';\n    if (v === undefined) throw new Error(message);\n    return v;\n}\nfunction $2bd9b7b9bc92046d$export$d802c22d109d9806(v) {\n    return v === null ? undefined : v;\n}\nvar $2bd9b7b9bc92046d$var$matchMediaDark = 'matchMedia' in window ? window.matchMedia('(prefers-color-scheme: dark)') : false;\nfunction $2bd9b7b9bc92046d$export$a79ad82046afa44e() {\n    return $2bd9b7b9bc92046d$var$matchMediaDark && $2bd9b7b9bc92046d$var$matchMediaDark.matches;\n}\nfunction $2bd9b7b9bc92046d$export$a9dfd81f95a8a526(func) {\n    $2bd9b7b9bc92046d$var$matchMediaDark && 'addEventListener' in $2bd9b7b9bc92046d$var$matchMediaDark && $2bd9b7b9bc92046d$var$matchMediaDark.addEventListener('change', func);\n}\nfunction $2bd9b7b9bc92046d$export$326d4de4659beb75(func) {\n    $2bd9b7b9bc92046d$var$matchMediaDark && 'removeEventListener' in $2bd9b7b9bc92046d$var$matchMediaDark && $2bd9b7b9bc92046d$var$matchMediaDark.removeEventListener('change', func);\n}\nfunction $2bd9b7b9bc92046d$export$b3fb17ae4345ac8f(base64Str) {\n    var parts = base64Str.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);\n    var binStr = atob(parts[3]);\n    var buf = new ArrayBuffer(binStr.length);\n    var view = new Uint8Array(buf);\n    for(var i = 0; i < view.length; i++)view[i] = binStr.charCodeAt(i);\n    return new Blob([\n        view\n    ], {\n        type: parts[1]\n    });\n}\nfunction $2bd9b7b9bc92046d$export$7f1ebd623f131021(length, fillValue) {\n    return new Array(length).fill(fillValue);\n}\nfunction $2bd9b7b9bc92046d$export$4773ec3a7b05a3f2() {\n    if ('randumUUID' in crypto) return crypto.randomUUID();\n    // fallback just for dev\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16 | 0, v = c === 'x' ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n    });\n}\nfunction $2bd9b7b9bc92046d$export$e772c8ff12451969(ms) {\n    return new Promise(function(resolve) {\n        return setTimeout(resolve, ms);\n    });\n}\nfunction $2bd9b7b9bc92046d$export$f85d414d081200d8(promise, name) {\n    var timeoutMs = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 5000;\n    return (/*#__PURE__*/ 0, /*#__PURE__*/ $1LaJZ._)(function() {\n        return (0, $2gUX3.__generator)(this, function(_state) {\n            return [\n                2,\n                Promise.race([\n                    promise,\n                    new Promise(function(_, reject) {\n                        setTimeout(function() {\n                            return reject(new Error(`Promise \"${name}\" timed out.`));\n                        }, timeoutMs);\n                    })\n                ])\n            ];\n        });\n    })();\n}\nfunction $2bd9b7b9bc92046d$export$b6a2e78b63791dfa(url) {\n    return (/*#__PURE__*/ 0, /*#__PURE__*/ $1LaJZ._)(function() {\n        var response, svgText, parser, doc, svg;\n        return (0, $2gUX3.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    return [\n                        4,\n                        fetch(url)\n                    ];\n                case 1:\n                    response = _state.sent();\n                    return [\n                        4,\n                        response.text()\n                    ];\n                case 2:\n                    svgText = _state.sent();\n                    parser = new DOMParser();\n                    doc = parser.parseFromString(svgText, 'image/svg+xml');\n                    svg = doc.querySelector('svg');\n                    if (!svg) throw new Error('No <svg> found in the file');\n                    // Optional: Clone to prevent reusing the same node\n                    return [\n                        2,\n                        svg.cloneNode(true)\n                    ];\n            }\n        });\n    })();\n}\n\n});\nparcelRegister(\"8N5YG\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $66678966aca60171$export$71511d61b312f219; });\n\nvar $vDBh4 = parcelRequire(\"vDBh4\");\n\nvar $lMMat = parcelRequire(\"lMMat\");\n\nvar $keO5I = parcelRequire(\"keO5I\");\n\nvar $kWe4k = parcelRequire(\"kWe4k\");\nfunction $66678966aca60171$export$71511d61b312f219(arr, i) {\n    return (0, $vDBh4._)(arr) || (0, $lMMat._)(arr, i) || (0, $kWe4k._)(arr, i) || (0, $keO5I._)();\n}\n\n});\nparcelRegister(\"vDBh4\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $05f19d23cbc6df58$export$71511d61b312f219; });\nfunction $05f19d23cbc6df58$export$71511d61b312f219(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n\n});\n\nparcelRegister(\"lMMat\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $fdc371d02da0e33d$export$71511d61b312f219; });\nfunction $fdc371d02da0e33d$export$71511d61b312f219(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\n\n});\n\nparcelRegister(\"keO5I\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $ebbbf88aeeb062a0$export$71511d61b312f219; });\nfunction $ebbbf88aeeb062a0$export$71511d61b312f219() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n});\n\nparcelRegister(\"kWe4k\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $f3e42339f23981ad$export$71511d61b312f219; });\n\nvar $gszWS = parcelRequire(\"gszWS\");\nfunction $f3e42339f23981ad$export$71511d61b312f219(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, $gszWS._)(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, $gszWS._)(o, minLen);\n}\n\n});\nparcelRegister(\"gszWS\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $bfbb257f5464d7e6$export$71511d61b312f219; });\nfunction $bfbb257f5464d7e6$export$71511d61b312f219(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n\n});\n\n\n\n\n\nparcelRegister(\"iVf04\", function(module, exports) {\n\n$parcel$export(module.exports, \"loadAgPsd\", function () { return $a12fba8bc3214c1d$export$ab3d838b1d336b38; });\n\nvar $1LaJZ = parcelRequire(\"1LaJZ\");\n\nvar $2gUX3 = parcelRequire(\"2gUX3\");\nvar $a12fba8bc3214c1d$var$agPsdLazy;\n\nfunction $a12fba8bc3214c1d$export$ab3d838b1d336b38() {\n    return (/*#__PURE__*/ 0, /*#__PURE__*/ $1LaJZ._)(function() {\n        return (0, $2gUX3.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    if (!!$a12fba8bc3214c1d$var$agPsdLazy) return [\n                        3,\n                        2\n                    ];\n                    return [\n                        4,\n                        (parcelRequire(\"6caCk\"))\n                    ];\n                case 1:\n                    $a12fba8bc3214c1d$var$agPsdLazy = _state.sent();\n                    _state.label = 2;\n                case 2:\n                    return [\n                        2,\n                        $a12fba8bc3214c1d$var$agPsdLazy\n                    ];\n            }\n        });\n    })();\n}\n\n});\nparcelRegister(\"6caCk\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"ih7W4\"))($parcel$resolve(\"kNYzr\")).then(function() {\n    return parcelRequire('2m2jt');\n});\n\n});\n\n\nparcelRegister(\"72Jv0\", function(module, exports) {\n\n$parcel$export(module.exports, \"appendTextDiv\", function () { return $cfe3aa45a75894cc$export$7868464f598ba79d; });\n$parcel$export(module.exports, \"isInputFocused\", function () { return $cfe3aa45a75894cc$export$906dfdb7df31ccfc; });\n$parcel$export(module.exports, \"unfocusAnyInput\", function () { return $cfe3aa45a75894cc$export$e05240ca9e0b8bd9; });\n$parcel$export(module.exports, \"clearSelection\", function () { return $cfe3aa45a75894cc$export$a3d02541b0ebf605; });\n$parcel$export(module.exports, \"makeUnfocusable\", function () { return $cfe3aa45a75894cc$export$6bd63bfceaafae0c; });\n$parcel$export(module.exports, \"el\", function () { return $cfe3aa45a75894cc$export$c3da0dad1b44eea9; });\n$parcel$export(module.exports, \"destroyEl\", function () { return $cfe3aa45a75894cc$export$b1da1db524e22115; });\n$parcel$export(module.exports, \"createImage\", function () { return $cfe3aa45a75894cc$export$ec664d7487540b; });\n\nvar $7jh4K = parcelRequire(\"7jh4K\");\n\nvar $eWjiX = parcelRequire(\"eWjiX\");\nfunction $cfe3aa45a75894cc$export$7868464f598ba79d(target, text) {\n    var div = document.createElement('div');\n    div.innerHTML = text;\n    target.append(div);\n    return div;\n}\nfunction $cfe3aa45a75894cc$export$906dfdb7df31ccfc() {\n    var getAll = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n    var _document_activeElement;\n    var result = !!document.activeElement && [\n        'INPUT',\n        'TEXTAREA',\n        'SELECT'\n    ].includes(document.activeElement.tagName);\n    if (getAll) return result;\n    else return result && !((_document_activeElement = document.activeElement) === null || _document_activeElement === void 0 ? void 0 : _document_activeElement.getAttribute('data-ignore-focus'));\n}\nfunction $cfe3aa45a75894cc$export$e05240ca9e0b8bd9() {\n    if ($cfe3aa45a75894cc$export$906dfdb7df31ccfc(true)) {\n        /*\n            Unfocus anything that is focused.\n\n            If an Input is focused in Firefox, and it gets detached from the DOM via a Node\n            that isn't its direct parent, then Firefox will keep anything attached to this\n            Input in memory. It will not be garbage collected until a new Input is focused.\n\n            Workaround: Temporarily create an input, focus it, detach it.\n             */ var focusEl = (0, $eWjiX.BB).el({\n            parent: document.body,\n            tagName: 'input',\n            css: {\n                opacity: '0',\n                width: '0',\n                height: '0'\n            }\n        });\n        setTimeout(function() {\n            focusEl.select();\n            focusEl.focus();\n            focusEl.remove();\n        }, 10);\n    }\n}\nfunction $cfe3aa45a75894cc$export$a3d02541b0ebf605() {\n    if (window.getSelection) {\n        var sel = window.getSelection();\n        if (sel) {\n            if (sel.empty) sel.empty();\n            else if (sel.removeAllRanges) sel.removeAllRanges();\n        }\n    }\n}\nvar $cfe3aa45a75894cc$export$6bd63bfceaafae0c = function() {\n    function preventFocus(event) {\n        event.preventDefault();\n        var didFocusRelated = false;\n        if (event.relatedTarget) try {\n            event.relatedTarget.focus();\n            didFocusRelated = true;\n        } catch (e) {\n            console.error('failed to focus');\n        }\n        if (!didFocusRelated) event.currentTarget.blur();\n    }\n    return function(el) {\n        el.setAttribute('tabindex', '-1');\n        el.addEventListener('focus', preventFocus);\n    };\n}();\nvar $cfe3aa45a75894cc$var$els = [];\nfunction $cfe3aa45a75894cc$export$c3da0dad1b44eea9(params) {\n    if (!params) return document.createElement('div');\n    var result = document.createElement(params.tagName ? params.tagName : 'div');\n    params.css && (0, $7jh4K.css)(result, params.css);\n    if (params.content) {\n        if (typeof params.content === \"string\") result.innerHTML = params.content;\n        else if (Array.isArray(params.content)) (0, $eWjiX.BB).append(result, params.content);\n        else result.append(params.content);\n    }\n    if (params.textContent) result.textContent = params.textContent;\n    if (params.className) result.className = params.className;\n    if (params.id) result.id = params.id;\n    if (params.parent) params.parent.append(result);\n    if ('title' in params && params.title !== undefined) result.title = params.title;\n    var listeners = [];\n    if (params.onClick !== undefined) {\n        result.addEventListener('click', params.onClick);\n        !params.noRef && listeners.push([\n            'click',\n            params.onClick\n        ]);\n    }\n    if (params.onChange !== undefined) {\n        result.addEventListener('change', params.onChange);\n        !params.noRef && listeners.push([\n            'change',\n            params.onChange\n        ]);\n    }\n    if (listeners.length > 0) $cfe3aa45a75894cc$var$els.push({\n        el: result,\n        listeners: listeners\n    });\n    if ('custom' in params && params.custom) {\n        var customKeyArr = Object.keys(params.custom);\n        for(var i = 0; i < customKeyArr.length; i++)result.setAttribute(customKeyArr[i], params.custom[customKeyArr[i]]);\n    }\n    return result;\n}\nfunction $cfe3aa45a75894cc$export$b1da1db524e22115(el) {\n    if (!el) return;\n    for(var i = 0; i < $cfe3aa45a75894cc$var$els.length; i++){\n        var item = $cfe3aa45a75894cc$var$els[i];\n        if (item.el === el) {\n            item.listeners.forEach(function(item) {\n                el.removeEventListener(item[0], item[1]);\n            });\n            $cfe3aa45a75894cc$var$els.splice(i, 1);\n            return;\n        }\n    }\n    // not found\n    return;\n}\nfunction $cfe3aa45a75894cc$export$ec664d7487540b(p) {\n    var result = new Image();\n    if (p.src !== undefined) result.src = p.src;\n    if (p.alt !== undefined) result.alt = p.alt;\n    if (p.width !== undefined) result.width = p.width;\n    if (p.height !== undefined) result.height = p.height;\n    if (p.className !== undefined) result.className = p.className;\n    p.css && (0, $7jh4K.css)(result, p.css);\n    return result;\n}\n\n});\nparcelRegister(\"eWjiX\", function(module, exports) {\n\n$parcel$export(module.exports, \"BB\", function () { return $05ec456c8871d48f$export$921068d8846a1559; });\n\nvar $7jh4K = parcelRequire(\"7jh4K\");\n\nvar $6J2My = parcelRequire(\"6J2My\");\n\nvar $idV3L = parcelRequire(\"idV3L\");\n\nvar $04lDo = parcelRequire(\"04lDo\");\n\nvar $eIcQa = parcelRequire(\"eIcQa\");\n\nvar $kVHNC = parcelRequire(\"kVHNC\");\n\nvar $4toIY = parcelRequire(\"4toIY\");\n\nvar $af1iA = parcelRequire(\"af1iA\");\n\nvar $dJ1E2 = parcelRequire(\"dJ1E2\");\n\nvar $72Jv0 = parcelRequire(\"72Jv0\");\n\nvar $eg83P = parcelRequire(\"eg83P\");\n\nvar $eelgW = parcelRequire(\"eelgW\");\n\nvar $i0uIf = parcelRequire(\"i0uIf\");\n\nvar $6l0gQ = parcelRequire(\"6l0gQ\");\n\nvar $jjWRi = parcelRequire(\"jjWRi\");\n\nvar $2pgVs = parcelRequire(\"2pgVs\");\n\nvar $joplQ = parcelRequire(\"joplQ\");\n\nvar $c1lmK = parcelRequire(\"c1lmK\");\n\nvar $635F6 = parcelRequire(\"635F6\");\n\nvar $gCzYB = parcelRequire(\"gCzYB\");\nvar $05ec456c8871d48f$export$921068d8846a1559 = {\n    // ---- browser ----\n    eventUsesHighResTimeStamp: (0, $6J2My.EVENT_USES_HIGH_RES_TIMESTAMP),\n    hasPointerEvents: (0, $6J2My.HAS_POINTER_EVENTS),\n    isCssMinMaxSupported: (0, $6J2My.IS_CSS_MIN_MAX_SUPPORTED),\n    canShareFiles: (0, $6J2My.canShareFiles),\n    unsetEventHandler: $6J2My.unsetEventHandler,\n    insertAfter: // ---- base ----\n    $7jh4K.insertAfter,\n    loadImage: $7jh4K.loadImage,\n    css: $7jh4K.css,\n    setAttributes: $7jh4K.setAttributes,\n    append: $7jh4K.append,\n    fitInto: $7jh4K.fitInto,\n    centerWithin: $7jh4K.centerWithin,\n    getDate: $7jh4K.getDate,\n    gcd: $7jh4K.gcd,\n    reduce: $7jh4K.reduce,\n    decToFraction: $7jh4K.decToFraction,\n    imageBlobToUrl: $7jh4K.imageBlobToUrl,\n    dateDayDifference: $7jh4K.dateDayDifference,\n    copyObj: $7jh4K.copyObj,\n    shareCanvas: $7jh4K.shareCanvas,\n    handleClick: $7jh4K.handleClick,\n    createSvg: $7jh4K.createSvg,\n    BbLog: $i0uIf.BbLog,\n    LocalStorage: $6l0gQ.LocalStorage,\n    throwIfNull: $7jh4K.throwIfNull,\n    nullToUndefined: $7jh4K.nullToUndefined,\n    isDark: $7jh4K.isDark,\n    mix: // ---- math ----\n    $eg83P.mix,\n    dist: $eg83P.dist,\n    distSquared: $eg83P.distSquared,\n    lenSquared: $eg83P.lenSquared,\n    pointsToAngleRad: $eg83P.pointsToAngleRad,\n    pointsToAngleDeg: $eg83P.pointsToAngleDeg,\n    isInsideRect: $eg83P.isInsideRect,\n    clamp: $eg83P.clamp,\n    rotate: $eg83P.rotate,\n    rotateAround: $eg83P.rotateAround,\n    Matrix: $kVHNC.Matrix,\n    Vec2: $4toIY.Vec2,\n    intDxy: $eg83P.intDxy,\n    roundEven: $eg83P.roundEven,\n    roundUneven: $eg83P.roundUneven,\n    round: $eg83P.round,\n    updateBounds: $eg83P.updateBounds,\n    boundsInArea: $eg83P.boundsInArea,\n    projectPointOnLine: // ---- line ----\n    $af1iA.projectPointOnLine,\n    PointLine: $af1iA.PointLine,\n    BezierLine: $af1iA.BezierLine,\n    SplineInterpolator: $af1iA.SplineInterpolator,\n    powerSplineInput: $af1iA.powerSplineInput,\n    // ---- canvas ----\n    canvas: (0, $eelgW.createCanvas),\n    ctx: $eIcQa.ctx,\n    copyCanvas: $eIcQa.copyCanvas,\n    testShouldPixelate: $eIcQa.testShouldPixelate,\n    drawTransformedImageWithBounds: $eIcQa.drawTransformedImageWithBounds,\n    drawTransformedImageOnCanvas: $eIcQa.drawTransformedImageOnCanvas,\n    createCheckerCanvas: $eIcQa.createCheckerCanvas,\n    createCheckerDataUrl: $eIcQa.createCheckerDataUrl,\n    resizeCanvas: $eIcQa.resizeCanvas,\n    convertToAlphaChannelCanvas: $eIcQa.convertToAlphaChannelCanvas,\n    freeCanvas: $eIcQa.freeCanvas,\n    canvasBounds: $eIcQa.canvasBounds,\n    HSV: // ---- color ----\n    $dJ1E2.HSV,\n    RGB: $dJ1E2.RGB,\n    CMYK: $dJ1E2.CMYK,\n    ColorConverter: $dJ1E2.ColorConverter,\n    testIsWhiteBestContrast: $dJ1E2.testIsWhiteBestContrast,\n    appendTextDiv: // ---- UI ----\n    $72Jv0.appendTextDiv,\n    clearSelection: $72Jv0.clearSelection,\n    el: $72Jv0.el,\n    destroyEl: $72Jv0.destroyEl,\n    isInputFocused: $72Jv0.isInputFocused,\n    unfocusAnyInput: $72Jv0.unfocusAnyInput,\n    KeyListener: // ---- events / input ----\n    $idV3L.KeyListener,\n    PointerListener: $04lDo.PointerListener,\n    sameKeys: $idV3L.sameKeys,\n    EventChain: $gCzYB.EventChain,\n    DoubleTapper: $c1lmK.DoubleTapper,\n    NFingerTapper: $2pgVs.NFingerTapper,\n    PinchZoomer: $joplQ.PinchZoomer,\n    CoalescedExploder: $jjWRi.CoalescedExploder,\n    OnePointerLimiter: $635F6.OnePointerLimiter\n};\nObject.keys($05ec456c8871d48f$export$921068d8846a1559); // without this, parcel build may break this object\n\n});\nparcelRegister(\"6J2My\", function(module, exports) {\n\n$parcel$export(module.exports, \"IS_FIREFOX\", function () { return $878b1f179a521546$export$fa35291248be714f; });\n$parcel$export(module.exports, \"EVENT_USES_HIGH_RES_TIMESTAMP\", function () { return $878b1f179a521546$export$69accc8c74894f83; });\n$parcel$export(module.exports, \"HAS_POINTER_EVENTS\", function () { return $878b1f179a521546$export$7728c852ca75bb6d; });\n$parcel$export(module.exports, \"IS_CSS_MIN_MAX_SUPPORTED\", function () { return $878b1f179a521546$export$1a1016cfea93f0d5; });\n$parcel$export(module.exports, \"canShareFiles\", function () { return $878b1f179a521546$export$558f5e20caee48c2; });\n$parcel$export(module.exports, \"unsetEventHandler\", function () { return $878b1f179a521546$export$4fb2cccfca937a8c; });\nvar $878b1f179a521546$export$fa35291248be714f = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\nvar $878b1f179a521546$export$69accc8c74894f83 = function() {\n    var eventUsesHighResTimeStamp = new Event('').timeStamp < 3600000;\n    return function() {\n        return eventUsesHighResTimeStamp;\n    };\n}();\nvar $878b1f179a521546$export$7728c852ca75bb6d = !!window.PointerEvent;\nvar $878b1f179a521546$export$1a1016cfea93f0d5 = function() {\n    var result;\n    function test() {\n        var div = document.createElement('div');\n        div.style.position = 'absolute';\n        div.style.top = '0';\n        div.style.left = 'max(0px, 25px)';\n        document.body.append(div);\n        setTimeout(function() {\n            result = div.offsetLeft === 25;\n            div.remove();\n        }, 25);\n    }\n    if (document.body) test();\n    else window.addEventListener('DOMContentLoaded', function() {\n        test();\n    });\n    return function() {\n        if (result === undefined) throw new Error('isCssMinMaxSupported not initialized');\n        return result;\n    };\n}();\nvar $878b1f179a521546$export$558f5e20caee48c2 = function canShareFiles() {\n    return 'share' in navigator && 'canShare' in navigator;\n};\nfunction $878b1f179a521546$export$4fb2cccfca937a8c(obj) {\n    for(var _len = arguments.length, handlers = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n        handlers[_key - 1] = arguments[_key];\n    }\n    handlers.forEach(function(handler) {\n        // (disabled) eslint-disable-next-line no-null/no-null\n        obj[handler] = null;\n    });\n}\nfunction $878b1f179a521546$export$a432063205610fa1() {\n    navigator.storage.estimate().then(function(estimate) {\n        if (estimate.quota === undefined || estimate.usage === undefined) {\n            console.log('no quota info');\n            return;\n        }\n        console.log(`using ${(estimate.usage / estimate.quota * 100).toFixed(2)}% of total quota`);\n        console.log('usage (GB)', (estimate.usage / 1024 / 1024 / 1024).toFixed(2));\n        console.log('quota (GB)', (estimate.quota / 1024 / 1024 / 1024).toFixed(2));\n    });\n}\n\n});\n\nparcelRegister(\"idV3L\", function(module, exports) {\n\n$parcel$export(module.exports, \"KeyListener\", function () { return $74d1f29ad2137b2c$export$f17908c5de22d32e; });\n$parcel$export(module.exports, \"sameKeys\", function () { return $74d1f29ad2137b2c$export$e9f65b0175de4c03; });\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\n\nvar $8N5YG = parcelRequire(\"8N5YG\");\nvar $74d1f29ad2137b2c$var$globalKey = function() {\n    var keyDown = function keyDown(e) {\n        var key = e.key;\n        var code = e.code;\n        if (key in keyToKeyStrObj) {\n            var keyStr = keyToKeyStrObj[key];\n            if (isDownObj[keyStr]) {\n                emitDown(keyStr, e, comboArr.join('+'), true);\n                return;\n            } else {\n                if (keyStr === 'cmd') setupMetaClear(keyStr, code);\n                else clearTimeout(metaClearTimeout);\n                if (keyStr === 'esc') // Workaround for a macOS behavior\n                // When in fullscreen, pressing escape exits the fullscreen mode.\n                // When that happens, no keyup for escape is fired.\n                setTimeout(function() {\n                    return blur();\n                });\n            }\n            isDownObj[keyStr] = true;\n            codeIsDownObj[code] = keyStr;\n            //add to combo\n            comboArr.push(keyStr);\n            emitDown(keyStr, e, comboArr.join('+'));\n        }\n    };\n    var keyUp = function keyUp(e) {\n        var code = e.code;\n        var oldComboStr = comboArr.join('+');\n        // because of a macOS bug: when meta key is down, keyup of other keys does not fire.\n        // https://stackoverflow.com/questions/25438608/javascript-keyup-isnt-called-when-command-and-another-is-pressed\n        if ([\n            'Meta',\n            'MetaLeft',\n            'MetaRight',\n            'OSLeft',\n            'OSRight'\n        ].includes(code)) {\n            blur();\n            return;\n        } else if (isDownObj['cmd']) {\n            // Workaround for Windows bug. Windows doesn't fire keyup for Meta key when pressing Windows Key + Space,\n            // neither does it fire blur\n            blur();\n            return;\n        }\n        var keyStr = codeIsDownObj[code];\n        if (keyStr !== undefined) {\n            isDownObj[keyStr] = false;\n            codeIsDownObj[code] = undefined;\n            // remove from combo\n            for(var i = 0; i < comboArr.length; i++)if (comboArr[i] == keyStr) {\n                comboArr.splice(i, 1);\n                i--;\n            }\n            emitUp(keyStr, e, oldComboStr);\n        }\n    };\n    var blur = function blur() {\n        var oldComboStr = comboArr.join('+');\n        comboArr = [];\n        codeIsDownObj = {};\n        var eventArr = [];\n        keyStrArr.forEach(function(keyStr) {\n            if (isDownObj[keyStr]) {\n                isDownObj[keyStr] = false;\n                eventArr.push(keyStr);\n            }\n        });\n        for(var i = 0; i < eventArr.length; i++)emitUp(eventArr[i], {\n            preventDefault: function preventDefault() {},\n            stopPropagation: function stopPropagation() {}\n        }, oldComboStr);\n        emitBlur();\n    };\n    // keyStr - our key naming system\n    // key - KeyboardEvent.key\n    // code - KeyboardEvent.code\n    var keyStrToKeyObj = {\n        // keyStr not to contain a '+', because that's used for the comboStr\n        space: [\n            ' ',\n            'Spacebar'\n        ],\n        alt: [\n            'Alt',\n            'AltGraph'\n        ],\n        shift: 'Shift',\n        ctrl: 'Control',\n        cmd: [\n            'Meta',\n            'MetaLeft',\n            'MetaRight'\n        ],\n        enter: 'Enter',\n        esc: 'Escape',\n        backspace: 'Backspace',\n        delete: 'Delete',\n        sqbr_open: '[',\n        sqbr_close: ']',\n        a: [\n            'a',\n            'A'\n        ],\n        b: [\n            'b',\n            'B'\n        ],\n        c: [\n            'c',\n            'C'\n        ],\n        e: [\n            'e',\n            'E'\n        ],\n        f: [\n            'f',\n            'F'\n        ],\n        g: [\n            'g',\n            'G'\n        ],\n        l: [\n            'l',\n            'L'\n        ],\n        r: [\n            'r',\n            'R'\n        ],\n        s: [\n            's',\n            'S'\n        ],\n        t: [\n            't',\n            'T'\n        ],\n        u: [\n            'u',\n            'U'\n        ],\n        x: [\n            'x',\n            'X'\n        ],\n        y: [\n            'y',\n            'Y'\n        ],\n        z: [\n            'z',\n            'Z'\n        ],\n        plus: '+',\n        minus: '-',\n        left: 'ArrowLeft',\n        right: 'ArrowRight',\n        up: 'ArrowUp',\n        down: 'ArrowDown',\n        home: 'Home',\n        end: 'End'\n    };\n    // ['space', 'alt', ... ]\n    var keyStrArr = Object.keys(keyStrToKeyObj);\n    // { space: false, ... }\n    var isDownObj = Object.entries(keyStrToKeyObj).reduce(function(acc, param) {\n        var _param = (0, $8N5YG._)(param, 1), key = _param[0];\n        acc[key] = false;\n        return acc;\n    }, {});\n    // event.key to keyStr\n    // { ArrowLeft: 'left', ... }\n    var keyToKeyStrObj = Object.entries(keyStrToKeyObj).reduce(function(acc, param) {\n        var _param = (0, $8N5YG._)(param, 2), key = _param[0], code = _param[1];\n        if (typeof code === 'string') acc[code] = key;\n        else code.forEach(function(item) {\n            acc[item] = key;\n        });\n        return acc;\n    }, {});\n    var comboArr = [];\n    // a physical key's \"key\" can change as other keys get pressed. to keep track, need to also track the code\n    // { KeyE: 'e', KeyF: undefined } - undefined - not down, string - the associated keyStr\n    var codeIsDownObj = {};\n    var listenerArr = [];\n    /**\n     * Windows bug in all browsers: Pressing the Windows key leads to keyboard events not firing.\n     * It breaks key state tracking.\n     * Workaround: If after a timeout, only the meta key is pressed, fire a keyup for the meta key.\n     */ var metaClearTimeout;\n    var setupMetaClear = function(keyStr, code) {\n        metaClearTimeout = setTimeout(function() {\n            if (comboArr.length !== 1 || comboArr[0] === 'cmd') return;\n            var oldComboStr = comboArr.join('+');\n            isDownObj[keyStr] = false;\n            codeIsDownObj[code] = undefined;\n            // remove from combo\n            for(var i = 0; i < comboArr.length; i++)if (comboArr[i] == keyStr) {\n                comboArr.splice(i, 1);\n                i--;\n            }\n            emitUp(keyStr, {\n                preventDefault: function preventDefault() {},\n                stopPropagation: function stopPropagation() {}\n            }, oldComboStr);\n            metaClearTimeout = undefined;\n        }, 1000);\n    };\n    var emitDown = function emitDown(a, b, c, d) {\n        listenerArr.forEach(function(item) {\n            if (!item[0]) return;\n            item[0](a, b, c, d);\n        });\n    };\n    var emitUp = function emitUp(a, b, c) {\n        listenerArr.forEach(function(item) {\n            if (!item[1]) return;\n            item[1](a, b, c);\n        });\n    };\n    var emitBlur = function emitBlur() {\n        listenerArr.forEach(function(item) {\n            if (!item[2]) return;\n            item[2]();\n        });\n    };\n    return {\n        add: function(keyListenerRef) {\n            if (listenerArr.includes(keyListenerRef)) return;\n            var first = listenerArr.length === 0;\n            listenerArr.push(keyListenerRef);\n            if (first) {\n                document.addEventListener('keydown', keyDown);\n                document.addEventListener('keyup', keyUp);\n                window.addEventListener('blur', blur);\n            }\n        },\n        remove: function(keyListenerRef) {\n            if (!listenerArr.includes(keyListenerRef)) return;\n            var last = listenerArr.length === 1;\n            for(var i = 0; i < listenerArr.length; i++)if (listenerArr[i] === keyListenerRef) {\n                listenerArr.splice(i, 1);\n                break;\n            }\n            if (last) {\n                document.removeEventListener('keydown', keyDown);\n                document.removeEventListener('keyup', keyUp);\n                window.removeEventListener('blur', blur);\n            }\n        },\n        getIsDown: function() {\n            return isDownObj;\n        },\n        getCombo: function() {\n            return comboArr;\n        },\n        blur: blur\n    };\n}();\nvar $74d1f29ad2137b2c$export$f17908c5de22d32e = /*#__PURE__*/ function() {\n    \"use strict\";\n    function KeyListener(p) {\n        (0, $cx0mh._)(this, KeyListener);\n        this.onDown = p.onDown;\n        this.onUp = p.onUp;\n        this.onBlur = p.onBlur;\n        this.ref = [\n            this.onDown,\n            this.onUp,\n            this.onBlur\n        ];\n        $74d1f29ad2137b2c$var$globalKey.add(this.ref);\n    }\n    (0, $7h4XF._)(KeyListener, [\n        {\n            key: \"isPressed\",\n            value: function isPressed(keyStr) {\n                if (!(keyStr in $74d1f29ad2137b2c$var$globalKey.getIsDown())) throw 'key \"' + keyStr + '\" not found';\n                return $74d1f29ad2137b2c$var$globalKey.getIsDown()[keyStr];\n            }\n        },\n        {\n            key: \"getComboStr\",\n            value: function getComboStr() {\n                return $74d1f29ad2137b2c$var$globalKey.getCombo().join('+');\n            }\n        },\n        {\n            key: \"comboOnlyContains\",\n            value: function comboOnlyContains(keyStrArr) {\n                for(var i = 0; i < $74d1f29ad2137b2c$var$globalKey.getCombo().length; i++){\n                    if (!keyStrArr.includes($74d1f29ad2137b2c$var$globalKey.getCombo()[i])) return false;\n                }\n                return true;\n            }\n        },\n        {\n            key: \"destroy\",\n            value: function destroy() {\n                $74d1f29ad2137b2c$var$globalKey.remove(this.ref);\n                $74d1f29ad2137b2c$var$globalKey.blur();\n            }\n        }\n    ]);\n    return KeyListener;\n}();\nfunction $74d1f29ad2137b2c$export$e9f65b0175de4c03(comboAStr, comboBStr) {\n    return comboAStr.split('+').sort().join('+') === comboBStr.split('+').sort().join('+');\n}\n\n});\n\nparcelRegister(\"04lDo\", function(module, exports) {\n\n$parcel$export(module.exports, \"PointerListener\", function () { return $893e90c2dcf687ac$export$9371bd96776f4e82; });\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\n\nvar $cL71g = parcelRequire(\"cL71g\");\n\nvar $4EWN2 = parcelRequire(\"4EWN2\");\n\nvar $6J2My = parcelRequire(\"6J2My\");\n\nvar $93oLo = parcelRequire(\"93oLo\");\n\nvar $eIAon = parcelRequire(\"eIAon\");\n// keeping track of pointers for movement fallback\nvar $893e90c2dcf687ac$var$pointerArr = [];\nfunction $893e90c2dcf687ac$var$addPointer(event) {\n    var pointerObj = {\n        pointerId: event.pointerId,\n        lastPageX: null,\n        lastPageY: null\n    };\n    $893e90c2dcf687ac$var$pointerArr.push(pointerObj);\n    if ($893e90c2dcf687ac$var$pointerArr.length > 15) $893e90c2dcf687ac$var$pointerArr.shift();\n    return pointerObj;\n}\nfunction $893e90c2dcf687ac$var$getPointer(event) {\n    for(var i = $893e90c2dcf687ac$var$pointerArr.length - 1; i >= 0; i--){\n        if (event.pointerId === $893e90c2dcf687ac$var$pointerArr[i].pointerId) return $893e90c2dcf687ac$var$pointerArr[i];\n    }\n    return null;\n}\nfunction $893e90c2dcf687ac$var$getButtonStr(buttons) {\n    switch(buttons){\n        case 1:\n            return 'left';\n        case 2:\n            return 'right';\n        case 4:\n            return 'middle';\n        default:\n            return undefined;\n    }\n}\nvar $893e90c2dcf687ac$var$pressureNormalizer = new (0, $eIAon.PressureNormalizer)();\nvar $893e90c2dcf687ac$var$timeStampOffset = (0, $6J2My.EVENT_USES_HIGH_RES_TIMESTAMP)() ? 0 : -performance.timing.navigationStart;\nvar $893e90c2dcf687ac$var$pointerDownEvt = (0, $6J2My.HAS_POINTER_EVENTS) ? 'pointerdown' : 'mousedown';\nvar $893e90c2dcf687ac$var$pointerMoveEvt = (0, $6J2My.HAS_POINTER_EVENTS) ? 'pointermove' : 'mousemove';\nvar $893e90c2dcf687ac$var$pointerUpEvt = (0, $6J2My.HAS_POINTER_EVENTS) ? 'pointerup' : 'mouseup';\nvar $893e90c2dcf687ac$var$pointerCancelEvt = (0, $6J2My.HAS_POINTER_EVENTS) ? 'pointercancel' : 'mousecancel';\nvar $893e90c2dcf687ac$var$pointerLeaveEvt = (0, $6J2My.HAS_POINTER_EVENTS) ? 'pointerleave' : 'mouseleave';\nvar $893e90c2dcf687ac$var$pointerEnterEvt = (0, $6J2My.HAS_POINTER_EVENTS) ? 'pointerenter' : 'mouseenter';\n/**\n * More trustworthy pointer attributes. that behave the same across browsers.\n * returns a new object. Also attaches itself to the orig event. -> event.corrected\n */ function $893e90c2dcf687ac$var$correctPointerEvent(event) {\n    if ('corrected' in event) return event.corrected;\n    function determineButtons() {\n        if (event.buttons !== undefined) return event.buttons;\n        /*\n                button -> buttons\n        none:\tundefined -> 0\n        left:\t0 -> 1\n        middle:\t1 -> 4\n        right:\t2 -> 2\n        fourth:\t3 -> 8\n        fifth:\t4 -> 16\n         */ if (event.button !== undefined) // old safari on mac has no buttons. remove eventually.\n        return [\n            1,\n            4,\n            2,\n            8,\n            16\n        ][event.button];\n        return 0;\n    }\n    var correctedObj = {\n        pointerId: event.pointerId,\n        pointerType: event.pointerType,\n        pageX: event.pageX,\n        pageY: event.pageY,\n        clientX: event.clientX,\n        clientY: event.clientY,\n        movementX: event.movementX,\n        movementY: event.movementY,\n        timeStamp: event.timeStamp + $893e90c2dcf687ac$var$timeStampOffset,\n        pressure: $893e90c2dcf687ac$var$pressureNormalizer.normalize(event.pressure, event.type, event.pointerType),\n        buttons: determineButtons(),\n        button: event.button,\n        coalescedArr: [],\n        eventPreventDefault: function() {\n            return event.preventDefault();\n        },\n        eventStopPropagation: function() {\n            return event.stopPropagation();\n        }\n    };\n    event.corrected = correctedObj;\n    var customPressure = null;\n    if ('pointerId' in event) {\n        if ('pressure' in event && event.buttons !== 0) {\n            if (event.pointerType === 'touch' && event.pressure === 0) {\n                correctedObj.pressure = 1;\n                customPressure = 1;\n            }\n            // Spec: If there's no pressure support, pressure is 0.5.\n            // https://w3c.github.io/pointerevents/#dom-pointerevent-pressure\n            // & in older Safari (<=16) it seems to be \"mouse\" and 0.\n            if (event.pointerType === 'mouse' && (event.pressure === 0.5 || event.pressure === 0)) {\n                correctedObj.pressure = 1;\n                customPressure = 1;\n            }\n        }\n    } else {\n        correctedObj.pointerId = 0;\n        correctedObj.pointerType = 'mouse';\n        correctedObj.pressure = event.buttons !== 0 ? 1 : 0;\n        customPressure = correctedObj.pressure;\n    }\n    if ((0, $6J2My.IS_FIREFOX) && event.pointerType != 'mouse' && event.type === 'pointermove' && event.buttons === 0) // once again firefox\n    correctedObj.buttons = 1; // todo wrong if no buttons actually pressed\n    var coalescedEventArr = [];\n    if ('getCoalescedEvents' in event) coalescedEventArr = event.getCoalescedEvents();\n    // chrome somehow movementX not same scale as pageX. todo: only chrome?\n    // so make my own\n    var pointerObj = $893e90c2dcf687ac$var$getPointer(correctedObj) || $893e90c2dcf687ac$var$addPointer(correctedObj);\n    var totalLastX = pointerObj.lastPageX;\n    var totalLastY = pointerObj.lastPageY;\n    for(var i = 0; i < coalescedEventArr.length; i++){\n        var eventItem = coalescedEventArr[i];\n        correctedObj.coalescedArr.push({\n            pageX: eventItem.pageX,\n            pageY: eventItem.pageY,\n            clientX: eventItem.clientX,\n            clientY: eventItem.clientY,\n            movementX: pointerObj.lastPageX === null ? 0 : eventItem.pageX - pointerObj.lastPageX,\n            movementY: pointerObj.lastPageY === null ? 0 : eventItem.pageY - pointerObj.lastPageY,\n            timeStamp: eventItem.timeStamp === 0 ? correctedObj.timeStamp : eventItem.timeStamp + $893e90c2dcf687ac$var$timeStampOffset,\n            pressure: customPressure === null ? $893e90c2dcf687ac$var$pressureNormalizer.normalize(eventItem.pressure) : customPressure\n        });\n        pointerObj.lastPageX = eventItem.pageX;\n        pointerObj.lastPageY = eventItem.pageY;\n    }\n    pointerObj.lastPageX = correctedObj.pageX;\n    pointerObj.lastPageY = correctedObj.pageY;\n    correctedObj.movementX = totalLastX === null ? 0 : pointerObj.lastPageX - totalLastX;\n    correctedObj.movementY = totalLastY === null ? 0 : pointerObj.lastPageY - totalLastY;\n    return correctedObj;\n}\nvar $893e90c2dcf687ac$var$OPTIONS_PASSIVE = {\n    passive: false\n};\nvar $893e90c2dcf687ac$export$9371bd96776f4e82 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function PointerListener(p) {\n        var _this = this;\n        (0, $cx0mh._)(this, PointerListener);\n        this.isDestroyed = false;\n        this.isOverCounter = 0;\n        // pointers that are pressing a button\n        this.dragObjArr = [];\n        this.dragPointerIdArr = [];\n        // chrome input glitch workaround\n        this.lastPointerType = null;\n        this.didSkip = false;\n        this.targetElement = p.target;\n        this.onPointerCallback = p.onPointer;\n        this.onWheelCallback = p.onWheel;\n        this.onEnterLeaveCallback = p.onEnterLeave;\n        var _p_maxPointers;\n        this.maxPointers = Math.max(1, (_p_maxPointers = p.maxPointers) !== null && _p_maxPointers !== void 0 ? _p_maxPointers : 1);\n        var finalizeWheelEvent = function(e) {\n            if (_this.isDestroyed || !_this.onWheelCallback) return;\n            var bounds = _this.targetElement.getBoundingClientRect();\n            var whlEvent = (0, $cL71g._)((0, $4EWN2._)((0, $cL71g._)({}, e instanceof WheelEvent ? {\n                deltaY: e.deltaY / 120,\n                pageX: e.pageX,\n                pageY: e.pageY\n            } : e), {\n                relX: e.clientX - bounds.left + _this.targetElement.scrollLeft,\n                relY: e.clientY - bounds.top + _this.targetElement.scrollTop\n            }), e instanceof WheelEvent ? {\n                event: e\n            } : {});\n            _this.onWheelCallback(whlEvent);\n        };\n        this.wheelCleaner = p.useDirtyWheel ? undefined : new (0, $93oLo.WheelCleaner)(finalizeWheelEvent);\n        if (this.onPointerCallback) {\n            this.onPointerMove = function(event) {\n                var _this_onPointerCallback, _this1;\n                var correctedEvent = $893e90c2dcf687ac$var$correctPointerEvent(event);\n                var tempLastPointerType = _this.lastPointerType;\n                _this.lastPointerType = correctedEvent.pointerType;\n                if (_this.dragPointerIdArr.includes(correctedEvent.pointerId) || _this.dragPointerIdArr.length === _this.maxPointers || correctedEvent.pointerType === 'touch') {\n                    _this.didSkip = false;\n                    return;\n                }\n                // chrome input glitch workaround - throws in a random mouse event with the wrong position when using a stylus\n                if (!_this.didSkip && correctedEvent.pointerType === 'mouse' && tempLastPointerType === 'pen') {\n                    _this.didSkip = true;\n                    return;\n                }\n                _this.didSkip = false;\n                var outEvent = _this.createPointerOutEvent('pointermove', correctedEvent);\n                (_this_onPointerCallback = (_this1 = _this).onPointerCallback) === null || _this_onPointerCallback === void 0 ? void 0 : _this_onPointerCallback.call(_this1, outEvent);\n            };\n            this.onPointerDown = function(event, onSkipGlobal) {\n                var _this_onPointerCallback, _this1;\n                //BB.throwOut('pointerdown ' + event.pointerId + ' | ' + dragPointerIdArr.length);\n                var correctedEvent = $893e90c2dcf687ac$var$correctPointerEvent(event);\n                ////console.log('debug: ' + event.pointerId + ' pointerdown');\n                if (_this.dragPointerIdArr.includes(correctedEvent.pointerId) || _this.dragPointerIdArr.length === _this.maxPointers || ![\n                    1,\n                    2,\n                    4\n                ].includes(correctedEvent.buttons)) //BB.throwOut('pointerdown ignored');\n                return;\n                //set up global listeners\n                if (_this.dragObjArr.length === 0 && !onSkipGlobal) _this.setupDocumentListeners();\n                var dragObj = {\n                    pointerId: correctedEvent.pointerId,\n                    pointerType: correctedEvent.pointerType,\n                    downPageX: correctedEvent.pageX,\n                    downPageY: correctedEvent.pageY,\n                    buttons: correctedEvent.buttons,\n                    lastPageX: correctedEvent.pageX,\n                    lastPageY: correctedEvent.pageY,\n                    lastTimeStamp: correctedEvent.timeStamp\n                };\n                _this.dragObjArr.push(dragObj);\n                _this.dragPointerIdArr.push(correctedEvent.pointerId);\n                var outEvent = _this.createPointerOutEvent('pointerdown', correctedEvent, {\n                    downPageX: correctedEvent.pageX,\n                    downPageY: correctedEvent.pageY,\n                    button: $893e90c2dcf687ac$var$getButtonStr(correctedEvent.buttons),\n                    pressure: correctedEvent.pressure\n                });\n                (_this_onPointerCallback = (_this1 = _this).onPointerCallback) === null || _this_onPointerCallback === void 0 ? void 0 : _this_onPointerCallback.call(_this1, outEvent);\n            };\n            this.windowOnPointerMove = function(event) {\n                var _this_onPointerCallback, _this1;\n                //BB.throwOut('pointermove ' + event.pointerId);\n                var correctedEvent = $893e90c2dcf687ac$var$correctPointerEvent(event);\n                ////console.log('debug: ' + event.pointerId + ' GLOBALpointermove');\n                if (!_this.dragPointerIdArr.includes(correctedEvent.pointerId)) return;\n                var dragObj = _this.getDragObj(correctedEvent.pointerId);\n                if (!dragObj) // todo need to handle this!\n                return;\n                //if pointer changes button its pressing -> turn into pointerup\n                if (correctedEvent.buttons !== dragObj.buttons) {\n                    var _this_onPointerCallback1, _this2;\n                    //pointer up\n                    //remove listener\n                    if (_this.dragObjArr.length === 1) _this.destroyDocumentListeners();\n                    _this.removeDragObj(correctedEvent.pointerId);\n                    var outEvent = _this.createPointerOutEvent('pointerup', correctedEvent, {\n                        downPageX: dragObj.downPageX,\n                        downPageY: dragObj.downPageY\n                    });\n                    (_this_onPointerCallback1 = (_this2 = _this).onPointerCallback) === null || _this_onPointerCallback1 === void 0 ? void 0 : _this_onPointerCallback1.call(_this2, outEvent);\n                    return;\n                }\n                // ipad likes to do this\n                if (correctedEvent.pointerType === 'pen' && correctedEvent.pageX === dragObj.lastPageX && correctedEvent.pageY === dragObj.lastPageY && correctedEvent.timeStamp === dragObj.lastTimeStamp) //ignore\n                return;\n                var outEvent1 = _this.createPointerOutEvent('pointermove', correctedEvent, {\n                    downPageX: dragObj.downPageX,\n                    downPageY: dragObj.downPageY,\n                    button: $893e90c2dcf687ac$var$getButtonStr(correctedEvent.buttons),\n                    pressure: correctedEvent.pressure\n                });\n                dragObj.lastPageX = correctedEvent.pageX;\n                dragObj.lastPageY = correctedEvent.pageY;\n                dragObj.lastTimeStamp = correctedEvent.timeStamp;\n                (_this_onPointerCallback = (_this1 = _this).onPointerCallback) === null || _this_onPointerCallback === void 0 ? void 0 : _this_onPointerCallback.call(_this1, outEvent1);\n            };\n            this.windowOnPointerUp = function(event) {\n                var _this_onPointerCallback, _this1;\n                //BB.throwOut('pointerup ' + event.pointerId);\n                var correctedEvent = $893e90c2dcf687ac$var$correctPointerEvent(event);\n                ////console.log('debug: ' + event.pointerId + ' GLOBALpointerup');\n                if (!_this.dragPointerIdArr.includes(correctedEvent.pointerId)) return;\n                //remove listener\n                if (_this.dragObjArr.length === 1) _this.destroyDocumentListeners();\n                var dragObj = _this.removeDragObj(correctedEvent.pointerId);\n                if (!dragObj) // todo need to handle this!\n                return;\n                var outEvent = _this.createPointerOutEvent('pointerup', correctedEvent, {\n                    downPageX: dragObj.downPageX,\n                    downPageY: dragObj.downPageY\n                });\n                (_this_onPointerCallback = (_this1 = _this).onPointerCallback) === null || _this_onPointerCallback === void 0 ? void 0 : _this_onPointerCallback.call(_this1, outEvent);\n            };\n            this.windowOnPointerLeave = function(event) {\n                var _this_onPointerCallback, _this1;\n                //BB.throwOut('pointerleave ' + event.pointerId);\n                var correctedEvent = $893e90c2dcf687ac$var$correctPointerEvent(event);\n                ////console.log('debug: ' + event.pointerId + ' onGlobalPointerLeave', event);\n                if (!_this.dragPointerIdArr.includes(correctedEvent.pointerId)) //} || event.target !== document) {\n                return;\n                //remove listener\n                if (_this.dragObjArr.length === 1) _this.destroyDocumentListeners();\n                var dragObj = _this.removeDragObj(correctedEvent.pointerId);\n                if (!dragObj) // todo need to handle this!\n                return;\n                var outEvent = _this.createPointerOutEvent('pointerup', correctedEvent, {\n                    downPageX: dragObj.downPageX,\n                    downPageY: dragObj.downPageY\n                });\n                (_this_onPointerCallback = (_this1 = _this).onPointerCallback) === null || _this_onPointerCallback === void 0 ? void 0 : _this_onPointerCallback.call(_this1, outEvent);\n            };\n            this.targetElement.addEventListener($893e90c2dcf687ac$var$pointerMoveEvt, this.onPointerMove, $893e90c2dcf687ac$var$OPTIONS_PASSIVE);\n            this.targetElement.addEventListener($893e90c2dcf687ac$var$pointerDownEvt, this.onPointerDown, $893e90c2dcf687ac$var$OPTIONS_PASSIVE);\n            if (!(0, $6J2My.HAS_POINTER_EVENTS)) {\n                var touchToFakePointer = function(touch, touchEvent, isDown) {\n                    return {\n                        pointerId: touch.identifier,\n                        pointerType: 'touch',\n                        pageX: touch.pageX,\n                        pageY: touch.pageY,\n                        clientX: touch.clientX,\n                        clientY: touch.clientY,\n                        button: isDown ? 0 : undefined,\n                        buttons: isDown ? 1 : 0,\n                        timeStamp: touchEvent.timeStamp,\n                        target: touchEvent.target,\n                        pressure: isDown ? 1 : 0,\n                        preventDefault: function() {\n                            return touchEvent.preventDefault();\n                        },\n                        stopPropagation: function() {\n                            return touchEvent.stopPropagation();\n                        }\n                    };\n                };\n                var handleTouch = function(e, type) {\n                    for(var i = 0; i < e.changedTouches.length; i++){\n                        var touch = e.changedTouches[i];\n                        var fakePointer = touchToFakePointer(touch, e, [\n                            'start',\n                            'move'\n                        ].includes(type));\n                        if (type === 'start') _this.onPointerDown(fakePointer, false);\n                        else if (type === 'move') _this.windowOnPointerMove(fakePointer);\n                        else if (type === 'end') _this.windowOnPointerUp(fakePointer);\n                        else _this.windowOnPointerLeave(fakePointer);\n                    }\n                };\n                this.onTouchStart = function(e) {\n                    e.preventDefault();\n                    handleTouch(e, 'start');\n                };\n                this.onTouchMove = function(e) {\n                    handleTouch(e, 'move');\n                };\n                this.onTouchEnd = function(e) {\n                    handleTouch(e, 'end');\n                };\n                this.onTouchCancel = function(e) {\n                    handleTouch(e, 'cancel');\n                };\n                this.targetElement.addEventListener('touchstart', this.onTouchStart, $893e90c2dcf687ac$var$OPTIONS_PASSIVE);\n                this.targetElement.addEventListener('touchmove', this.onTouchMove, $893e90c2dcf687ac$var$OPTIONS_PASSIVE);\n                this.targetElement.addEventListener('touchend', this.onTouchEnd, $893e90c2dcf687ac$var$OPTIONS_PASSIVE);\n                this.targetElement.addEventListener('touchcancel', this.onTouchCancel, $893e90c2dcf687ac$var$OPTIONS_PASSIVE);\n            }\n        }\n        if (this.onWheelCallback) {\n            this.onWheel = function(e) {\n                if (_this.wheelCleaner) _this.wheelCleaner.process(e);\n                else finalizeWheelEvent(e);\n            };\n            this.targetElement.addEventListener('wheel', this.onWheel, {\n                passive: !!p.isWheelPassive\n            });\n        }\n        if (this.onEnterLeaveCallback) {\n            this.onPointerEnter = function() {\n                var _this_onEnterLeaveCallback, _this1;\n                _this.isOverCounter++;\n                (_this_onEnterLeaveCallback = (_this1 = _this).onEnterLeaveCallback) === null || _this_onEnterLeaveCallback === void 0 ? void 0 : _this_onEnterLeaveCallback.call(_this1, true);\n            };\n            this.onPointerLeave = function() {\n                var _this_onEnterLeaveCallback, _this1;\n                _this.isOverCounter--;\n                (_this_onEnterLeaveCallback = (_this1 = _this).onEnterLeaveCallback) === null || _this_onEnterLeaveCallback === void 0 ? void 0 : _this_onEnterLeaveCallback.call(_this1, false);\n            };\n            this.targetElement.addEventListener($893e90c2dcf687ac$var$pointerEnterEvt, this.onPointerEnter, $893e90c2dcf687ac$var$OPTIONS_PASSIVE);\n            this.targetElement.addEventListener($893e90c2dcf687ac$var$pointerLeaveEvt, this.onPointerLeave, $893e90c2dcf687ac$var$OPTIONS_PASSIVE);\n        }\n        if (p.fixScribble) {\n            //ipad scribble workaround https://developer.apple.com/forums/thread/662874\n            this.onTouchMoveScribbleFix = function(e) {\n                return e.preventDefault();\n            };\n            this.targetElement.addEventListener('touchmove', this.onTouchMoveScribbleFix, $893e90c2dcf687ac$var$OPTIONS_PASSIVE);\n        }\n    }\n    (0, $7h4XF._)(PointerListener, [\n        {\n            key: \"getDragObj\",\n            value: function getDragObj(pointerId) {\n                for(var i = 0; i < this.dragObjArr.length; i++){\n                    if (pointerId === this.dragObjArr[i].pointerId) return this.dragObjArr[i];\n                }\n                return null;\n            }\n        },\n        {\n            key: \"removeDragObj\",\n            value: function removeDragObj(pointerId) {\n                var removedDragObj = null;\n                for(var i = 0; i < this.dragPointerIdArr.length; i++)if (this.dragPointerIdArr[i] === pointerId) {\n                    removedDragObj = this.dragObjArr[i];\n                    this.dragObjArr.splice(i, 1);\n                    this.dragPointerIdArr.splice(i, 1);\n                    i--;\n                }\n                return removedDragObj;\n            }\n        },\n        {\n            key: \"createPointerOutEvent\",\n            value: /**\n     * Creates a value for onPointer, from a pointer event handler.\n     */ function createPointerOutEvent(typeStr, correctedEvent, custom) {\n                var bounds = this.targetElement.getBoundingClientRect();\n                var result = (0, $cL71g._)({\n                    type: typeStr,\n                    pointerId: correctedEvent.pointerId,\n                    pointerType: correctedEvent.pointerType,\n                    pageX: correctedEvent.pageX,\n                    pageY: correctedEvent.pageY,\n                    clientX: correctedEvent.clientX,\n                    clientY: correctedEvent.clientY,\n                    relX: correctedEvent.clientX - bounds.left + this.targetElement.scrollLeft,\n                    relY: correctedEvent.clientY - bounds.top + this.targetElement.scrollTop,\n                    dX: correctedEvent.movementX,\n                    dY: correctedEvent.movementY,\n                    time: correctedEvent.timeStamp,\n                    eventPreventDefault: correctedEvent.eventPreventDefault,\n                    eventStopPropagation: correctedEvent.eventStopPropagation\n                }, custom);\n                if (typeStr === 'pointermove') {\n                    result.coalescedArr = [];\n                    if (correctedEvent.coalescedArr.length > 1) {\n                        var coalescedItem;\n                        for(var i = 0; i < correctedEvent.coalescedArr.length; i++){\n                            coalescedItem = correctedEvent.coalescedArr[i];\n                            result.coalescedArr.push({\n                                pageX: coalescedItem.pageX,\n                                pageY: coalescedItem.pageY,\n                                clientX: coalescedItem.clientX,\n                                clientY: coalescedItem.clientY,\n                                relX: coalescedItem.clientX - bounds.left + this.targetElement.scrollLeft,\n                                relY: coalescedItem.clientY - bounds.top + this.targetElement.scrollTop,\n                                dX: coalescedItem.movementX,\n                                dY: coalescedItem.movementY,\n                                time: coalescedItem.timeStamp\n                            });\n                        }\n                    }\n                }\n                return result;\n            }\n        },\n        {\n            key: \"setupDocumentListeners\",\n            value: function setupDocumentListeners() {\n                this.windowOnPointerMove && document.addEventListener($893e90c2dcf687ac$var$pointerMoveEvt, this.windowOnPointerMove, $893e90c2dcf687ac$var$OPTIONS_PASSIVE);\n                this.windowOnPointerUp && document.addEventListener($893e90c2dcf687ac$var$pointerUpEvt, this.windowOnPointerUp, $893e90c2dcf687ac$var$OPTIONS_PASSIVE);\n                this.windowOnPointerLeave && document.addEventListener($893e90c2dcf687ac$var$pointerCancelEvt, this.windowOnPointerLeave, $893e90c2dcf687ac$var$OPTIONS_PASSIVE);\n                this.windowOnPointerLeave && document.addEventListener($893e90c2dcf687ac$var$pointerLeaveEvt, this.windowOnPointerLeave, $893e90c2dcf687ac$var$OPTIONS_PASSIVE);\n            }\n        },\n        {\n            key: \"destroyDocumentListeners\",\n            value: function destroyDocumentListeners() {\n                this.windowOnPointerMove && document.removeEventListener($893e90c2dcf687ac$var$pointerMoveEvt, this.windowOnPointerMove);\n                this.windowOnPointerUp && document.removeEventListener($893e90c2dcf687ac$var$pointerUpEvt, this.windowOnPointerUp);\n                this.windowOnPointerLeave && document.removeEventListener($893e90c2dcf687ac$var$pointerCancelEvt, this.windowOnPointerLeave);\n                this.windowOnPointerLeave && document.removeEventListener($893e90c2dcf687ac$var$pointerLeaveEvt, this.windowOnPointerLeave);\n            }\n        },\n        {\n            key: \"destroy\",\n            value: function destroy() {\n                if (this.isDestroyed) return;\n                this.isDestroyed = true;\n                this.onPointerEnter && this.targetElement.removeEventListener($893e90c2dcf687ac$var$pointerEnterEvt, this.onPointerEnter);\n                this.onPointerLeave && this.targetElement.removeEventListener($893e90c2dcf687ac$var$pointerLeaveEvt, this.onPointerLeave);\n                this.onPointerMove && this.targetElement.removeEventListener($893e90c2dcf687ac$var$pointerMoveEvt, this.onPointerMove);\n                this.onPointerDown && this.targetElement.removeEventListener($893e90c2dcf687ac$var$pointerDownEvt, this.onPointerDown);\n                this.onWheel && this.targetElement.removeEventListener('wheel', this.onWheel);\n                this.destroyDocumentListeners();\n                this.onTouchMoveScribbleFix && document.removeEventListener('touchmove', this.onTouchMoveScribbleFix);\n                this.onTouchStart && this.targetElement.removeEventListener('touchstart', this.onTouchStart);\n                this.onTouchMove && this.targetElement.removeEventListener('touchmove', this.onTouchMove);\n                this.onTouchEnd && this.targetElement.removeEventListener('touchend', this.onTouchEnd);\n                this.onTouchCancel && this.targetElement.removeEventListener('touchcancel', this.onTouchCancel);\n            }\n        }\n    ]);\n    return PointerListener;\n}();\n\n});\nparcelRegister(\"93oLo\", function(module, exports) {\n\n$parcel$export(module.exports, \"WheelCleaner\", function () { return $42238a223231ec71$export$c734b8535f2f8e38; });\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\nvar $42238a223231ec71$var$SEQUENCE_TIMEOUT_MS = 200;\nvar $42238a223231ec71$export$c734b8535f2f8e38 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function WheelCleaner(callback) {\n        (0, $cx0mh._)(this, WheelCleaner);\n        this.callback = callback;\n        this.knownUnitArr = [\n            100\n        ];\n        this.sequenceLength = 0;\n        this.sequenceUnit = null;\n        this.toEmitDelta = null;\n        this.position = null;\n    }\n    (0, $7h4XF._)(WheelCleaner, [\n        {\n            key: \"emit\",\n            value: function emit(delta) {\n                if (this.position === null || this.sequenceUnit === null) return;\n                this.callback({\n                    deltaY: Math.round(delta / this.sequenceUnit),\n                    pageX: this.position.pageX,\n                    pageY: this.position.pageY,\n                    clientX: this.position.clientX,\n                    clientY: this.position.clientY\n                });\n            }\n        },\n        {\n            key: \"endSequence\",\n            value: function endSequence() {\n                if (this.toEmitDelta !== null) {\n                    this.emit(this.toEmitDelta);\n                    this.toEmitDelta = null;\n                }\n                if (this.sequenceUnit !== null && !this.knownUnitArr.includes(this.sequenceUnit)) this.knownUnitArr.push(this.sequenceUnit);\n                this.sequenceLength = 0;\n                this.sequenceUnit = null;\n            }\n        },\n        {\n            key: \"process\",\n            value: function process(event) {\n                var _this = this;\n                this.position = {\n                    pageX: event.pageX,\n                    pageY: event.pageY,\n                    clientX: event.clientX,\n                    clientY: event.clientY\n                };\n                if (this.endSequenceTimeout) clearTimeout(this.endSequenceTimeout);\n                this.endSequenceTimeout = setTimeout(function() {\n                    return _this.endSequence();\n                }, $42238a223231ec71$var$SEQUENCE_TIMEOUT_MS);\n                //prep delta\n                var delta = event.deltaY;\n                if ('deltaMode' in event && event.deltaMode === 1) delta *= 100 / 3;\n                var absDelta = Math.abs(delta);\n                //sequence begins\n                if (this.sequenceLength === 0) {\n                    this.sequenceLength++;\n                    if (absDelta < 50) //dirty - probably a swipe scroll or pinch scroll on trackpad\n                    return;\n                    this.sequenceUnit = absDelta;\n                    if (this.knownUnitArr.includes(this.sequenceUnit)) //we know this unit - emit right away\n                    this.emit(delta);\n                    else //unknown unit - wait until next event or sequence end, to have more certainty that it's clean\n                    this.toEmitDelta = delta;\n                    return;\n                }\n                if (this.sequenceUnit === null) {\n                    //previously determined dirty sequence\n                    this.toEmitDelta = null;\n                    return;\n                }\n                //sequence continues\n                if (absDelta === 0) //ignore zero scroll\n                return;\n                if (absDelta === this.sequenceUnit || absDelta / this.sequenceUnit % 1 < 0.0001 // a multiple\n                ) ;\n                else if (this.sequenceUnit / absDelta % 1 < 0.0001) //unit was actually a multiple - update it\n                this.sequenceUnit = absDelta;\n                else if (absDelta !== this.sequenceUnit) {\n                    //not clean - delta is varying - probably a swipe scroll or pinch scroll on trackpad\n                    this.sequenceUnit = null;\n                    this.toEmitDelta = null;\n                    return;\n                }\n                if (this.toEmitDelta !== null) {\n                    this.emit(this.toEmitDelta);\n                    this.toEmitDelta = null;\n                }\n                this.emit(delta);\n            }\n        }\n    ]);\n    return WheelCleaner;\n}();\n\n});\n\nparcelRegister(\"eIAon\", function(module, exports) {\n\n$parcel$export(module.exports, \"PressureNormalizer\", function () { return $e14d50e39929aa54$export$61f95f4b79132931; });\n/**\n * Apple Pencil on iPad in Safari has two problems:\n * - You need to press the stylus very strong to reach 1.0 pressure, to the point where the screen starts discoloring\n * - Always fires the same pressure value on pointerdown\n *\n * This normalizer tries to fix that with a workaround.\n *\n * pressure range [0, 1]\n */ \nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\nvar $e14d50e39929aa54$export$61f95f4b79132931 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function PressureNormalizer() {\n        (0, $cx0mh._)(this, PressureNormalizer);\n        this.detectionComplete = false;\n        this.isApplePencil = false;\n        // detection\n        this.initialPointerDownPressure = -1;\n        this.pointerDownPressureRepeatCount = 0;\n        this.pointerMoveHasDifferentPressure = false;\n    }\n    (0, $7h4XF._)(PressureNormalizer, [\n        {\n            // ----------------------------------- public -----------------------------------\n            key: \"normalize\",\n            value: function normalize(pressure, eventType, pointerType) {\n                if (pointerType === 'pen') {\n                    if (!this.detectionComplete) {\n                        if (eventType === 'pointerdown') {\n                            if (this.initialPointerDownPressure === -1) this.initialPointerDownPressure = pressure;\n                            else if (this.initialPointerDownPressure === pressure) {\n                                this.pointerDownPressureRepeatCount++;\n                                if (this.pointerDownPressureRepeatCount > 1 && this.pointerMoveHasDifferentPressure) {\n                                    this.detectionComplete = true;\n                                    this.isApplePencil = true;\n                                }\n                            } else {\n                                this.detectionComplete = true;\n                                this.isApplePencil = false;\n                            }\n                        } else if (eventType === 'pointermove') {\n                            if (this.initialPointerDownPressure !== pressure) this.pointerMoveHasDifferentPressure = true;\n                        }\n                    }\n                    if (this.detectionComplete && this.isApplePencil) {\n                        if (this.initialPointerDownPressure === pressure) return 0;\n                        pressure = Math.min(2, pressure * 2);\n                    }\n                    return pressure;\n                } else return pressure;\n            }\n        }\n    ]);\n    return PressureNormalizer;\n}();\n\n});\n\n\nparcelRegister(\"eIcQa\", function(module, exports) {\n\n$parcel$export(module.exports, \"copyCanvas\", function () { return $3f0e2f35371c9852$export$dd0873c0fb3ccff6; });\n$parcel$export(module.exports, \"ctx\", function () { return $3f0e2f35371c9852$export$39f92e86d1722f3a; });\n$parcel$export(module.exports, \"testShouldPixelate\", function () { return $3f0e2f35371c9852$export$1555f643cc9a976; });\n$parcel$export(module.exports, \"drawTransformedImageWithBounds\", function () { return $3f0e2f35371c9852$export$ded2b43392504635; });\n$parcel$export(module.exports, \"drawTransformedImageOnCanvas\", function () { return $3f0e2f35371c9852$export$425a419ef9fc761f; });\n$parcel$export(module.exports, \"createCheckerCanvas\", function () { return $3f0e2f35371c9852$export$754559b36e94ea2f; });\n$parcel$export(module.exports, \"createCheckerDataUrl\", function () { return $3f0e2f35371c9852$export$42af33c76b681867; });\n$parcel$export(module.exports, \"resizeCanvas\", function () { return $3f0e2f35371c9852$export$59b33278b5b2fc8a; });\n$parcel$export(module.exports, \"convertToAlphaChannelCanvas\", function () { return $3f0e2f35371c9852$export$5a7576952c826b4f; });\n$parcel$export(module.exports, \"freeCanvas\", function () { return $3f0e2f35371c9852$export$2384aff49c9b73c2; });\n$parcel$export(module.exports, \"canvasBounds\", function () { return $3f0e2f35371c9852$export$3db033c6ee0b8700; });\n$parcel$export(module.exports, \"canvasToBlob\", function () { return $3f0e2f35371c9852$export$403d539f215df596; });\n$parcel$export(module.exports, \"drawSelectionMask\", function () { return $3f0e2f35371c9852$export$f7b95c0f504bef8b; });\n\nvar $1LaJZ = parcelRequire(\"1LaJZ\");\n\nvar $2gUX3 = parcelRequire(\"2gUX3\");\n\nvar $eelgW = parcelRequire(\"eelgW\");\n\nvar $7jh4K = parcelRequire(\"7jh4K\");\n\nvar $9b3eo = parcelRequire(\"9b3eo\");\nfunction $3f0e2f35371c9852$export$dd0873c0fb3ccff6(canvas) {\n    var resultCanvas = (0, $eelgW.createCanvas)(canvas.width, canvas.height);\n    var ctx = resultCanvas.getContext('2d');\n    if (!ctx) throw new Error('2d context not supported or canvas already initialized');\n    ctx.drawImage(canvas, 0, 0);\n    return resultCanvas;\n}\nfunction $3f0e2f35371c9852$export$39f92e86d1722f3a(canvas, options) {\n    var ctx = canvas.getContext('2d', options);\n    if (!ctx) throw new Error(\"couldn't get 2d context\");\n    return ctx;\n}\nfunction $3f0e2f35371c9852$export$bd64872f2769a724(path) {\n    return (/*#__PURE__*/ 0, /*#__PURE__*/ $1LaJZ._)(function() {\n        var im, canvas, ctx;\n        return (0, $2gUX3.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    return [\n                        4,\n                        (0, $7jh4K.asyncLoadImage)(path)\n                    ];\n                case 1:\n                    im = _state.sent();\n                    canvas = (0, $eelgW.createCanvas)(im.width, im.height);\n                    ctx = canvas.getContext('2d');\n                    ctx.drawImage(im, 0, 0);\n                    return [\n                        2,\n                        canvas\n                    ];\n            }\n        });\n    })();\n}\nfunction $3f0e2f35371c9852$export$1555f643cc9a976(transform, scaleX, scaleY) {\n    if (![\n        1,\n        -1\n    ].includes(scaleX) || ![\n        1,\n        -1\n    ].includes(scaleY) || transform.width % 1 !== 0 || transform.height % 1 !== 0 || Math.abs(transform.angleDeg) % 90 !== 0) return false;\n    var whSwapped = Math.abs(transform.angleDeg - 90) % 180 === 0;\n    var width = whSwapped ? transform.height : transform.width;\n    var height = whSwapped ? transform.width : transform.height;\n    return (Math.abs(width) % 2 === 0 && transform.x % 1 === 0 || Math.abs(width) % 2 === 1 && transform.x % 1 === 0.5) && (Math.abs(height) % 2 === 0 && transform.y % 1 === 0 || Math.abs(height) % 2 === 1 && transform.y % 1 === 0.5);\n}\nfunction $3f0e2f35371c9852$export$ded2b43392504635(destCtx, transformImage, transform, bounds, pixelated) {\n    if (!bounds) bounds = {\n        x: 0,\n        y: 0,\n        width: transformImage.width,\n        height: transformImage.height\n    };\n    destCtx.save();\n    if (pixelated) destCtx.imageSmoothingEnabled = false;\n    else {\n        destCtx.imageSmoothingEnabled = true;\n        destCtx.imageSmoothingQuality = 'high';\n    }\n    destCtx.translate(transform.x, transform.y);\n    destCtx.rotate(transform.angleDeg / 180 * Math.PI);\n    destCtx.scale(transform.width > 0 ? 1 : -1, transform.height > 0 ? 1 : -1);\n    destCtx.drawImage(transformImage, bounds.x, bounds.y, bounds.width, bounds.height, -Math.abs(transform.width) / 2, -Math.abs(transform.height) / 2, Math.abs(transform.width), Math.abs(transform.height));\n    destCtx.restore();\n}\nfunction $3f0e2f35371c9852$export$425a419ef9fc761f(baseCanvas, transformImage, transformObj) {\n    transformObj = (0, $7jh4K.copyObj)(transformObj);\n    if (!transformObj.center) transformObj.center = {\n        x: transformImage.width / 2,\n        y: transformImage.height / 2\n    };\n    if (!transformObj.scale) transformObj.scale = {\n        x: 1,\n        y: 1\n    };\n    if (!transformObj.angleDegree) transformObj.angleDegree = 0;\n    if (!transformObj.translate) transformObj.translate = {\n        x: 0,\n        y: 0\n    };\n    var ctx = baseCanvas.getContext('2d');\n    if (!ctx) throw new Error('2d context not supported or canvas already initialized');\n    ctx.save();\n    if (Math.abs(transformObj.scale.x - 1) > 0.000001 || Math.abs(transformObj.scale.y - 1) > 0.000001 || Math.abs(transformObj.angleDegree % 90) > 0.000001) {\n        ctx.imageSmoothingEnabled = true;\n        ctx.imageSmoothingQuality = 'high';\n    } else ctx.imageSmoothingEnabled = false;\n    ctx.translate(transformObj.translate.x, transformObj.translate.y);\n    ctx.translate(transformObj.center.x, transformObj.center.y);\n    ctx.rotate(transformObj.angleDegree / 180 * Math.PI);\n    ctx.scale(transformObj.scale.x, transformObj.scale.y);\n    ctx.translate(-transformObj.center.x, -transformObj.center.y);\n    ctx.drawImage(transformImage, 0, 0, transformImage.width, transformImage.height);\n    ctx.restore();\n}\nvar $3f0e2f35371c9852$export$754559b36e94ea2f = function createCheckerCanvas(size, isDark) {\n    var canvas = (0, $eelgW.createCanvas)();\n    var ctx;\n    if (size < 1) {\n        canvas.width = 1;\n        canvas.height = 1;\n        ctx = canvas.getContext('2d');\n        if (!ctx) throw new Error('2d context not supported or canvas already initialized');\n        ctx.fillStyle = 'rgb(128, 128, 128)';\n        ctx.fillRect(0, 0, 1, 1);\n    } else {\n        canvas.width = size * 2;\n        canvas.height = size * 2;\n        ctx = canvas.getContext('2d');\n        if (!ctx) throw new Error('2d context not supported or canvas already initialized');\n        ctx.fillStyle = isDark ? 'rgb(90, 90, 90)' : 'rgb(255, 255, 255)';\n        ctx.fillRect(0, 0, size * 2, size * 2);\n        ctx.fillStyle = isDark ? 'rgb(63, 63, 63)' : 'rgb(200, 200, 200)';\n        ctx.fillRect(0, 0, size, size);\n        ctx.fillRect(size, size, size * 2, size * 2);\n    }\n    return canvas;\n};\nvar $3f0e2f35371c9852$export$42af33c76b681867 = function() {\n    // previously created dataUrls\n    var cache = {};\n    return function(size, callback, isDark) {\n        var modeStr = isDark ? 'd' : 'l';\n        function create(size) {\n            size = parseInt('' + size);\n            if (cache['' + size + modeStr]) return cache['' + size + modeStr];\n            var canvas = $3f0e2f35371c9852$export$754559b36e94ea2f(size, isDark);\n            var result = canvas.toDataURL('image/png');\n            cache['' + size + modeStr] = result;\n            return result;\n        }\n        if (callback) //async\n        setTimeout(function() {\n            callback(create(size));\n        }, 1);\n        else //sync\n        return create(size);\n    };\n}();\nfunction $3f0e2f35371c9852$export$59b33278b5b2fc8a(canvas, w, h, tmp1, tmp2) {\n    //determine base 2 exponents of old and new size\n    function getBase2Obj(oldW, oldH, newW, newH) {\n        var result = {\n            oldWidthEx: Math.round(Math.log2(oldW)),\n            oldHeightEx: Math.round(Math.log2(oldH)),\n            newWidthEx: Math.ceil(Math.log2(newW)),\n            newHeightEx: Math.ceil(Math.log2(newH))\n        };\n        result.oldWidthEx = Math.max(result.oldWidthEx, result.newWidthEx);\n        result.oldHeightEx = Math.max(result.oldHeightEx, result.newHeightEx);\n        return result;\n    }\n    if (!w || !h || w === canvas.width && h === canvas.height) return;\n    w = Math.max(w, 1);\n    h = Math.max(h, 1);\n    if (w <= canvas.width && h <= canvas.height) {\n        tmp1 = !tmp1 ? (0, $eelgW.createCanvas)() : tmp1;\n        tmp2 = !tmp2 ? (0, $eelgW.createCanvas)() : tmp2;\n        var base2 = getBase2Obj(canvas.width, canvas.height, w, h);\n        //initially scale to a base of 2. unless new size is too close to old. e.g. sizing from 900 to 600\n        tmp2.width = base2.oldWidthEx > base2.newWidthEx ? Math.pow(2, base2.oldWidthEx) : w;\n        tmp2.height = base2.oldHeightEx > base2.newHeightEx ? Math.pow(2, base2.oldHeightEx) : h;\n        tmp1.getContext('2d').save();\n        tmp2.getContext('2d').save();\n        var ew, eh;\n        var buffer1 = tmp1, buffer2 = tmp2;\n        ew = base2.oldWidthEx;\n        eh = base2.oldHeightEx;\n        var bufferCtx = buffer2.getContext('2d');\n        bufferCtx.imageSmoothingEnabled = true;\n        bufferCtx.imageSmoothingQuality = 'high';\n        bufferCtx.globalCompositeOperation = 'copy';\n        bufferCtx.drawImage(canvas, 0, 0, buffer2.width, buffer2.height);\n        var currentWidth = buffer2.width;\n        var currentHeight = buffer2.height;\n        //stepwise half the size\n        for(; ew > base2.newWidthEx || eh > base2.newHeightEx; ew--, eh--){\n            bufferCtx = buffer1.getContext('2d');\n            bufferCtx.imageSmoothingEnabled = true;\n            bufferCtx.imageSmoothingQuality = 'high';\n            bufferCtx.globalCompositeOperation = 'copy';\n            var newWidth = ew > base2.newWidthEx ? currentWidth / 2 : currentWidth;\n            var newHeight = eh > base2.newHeightEx ? currentHeight / 2 : currentHeight;\n            //buffer also needs to be properly sized, unfortunately\n            buffer1.width = newWidth;\n            buffer1.height = newHeight;\n            bufferCtx.drawImage(buffer2, 0, 0, currentWidth, currentHeight, 0, 0, newWidth, newHeight);\n            currentWidth = newWidth;\n            currentHeight = newHeight;\n            //swap\n            var tmp = buffer1;\n            buffer1 = buffer2;\n            buffer2 = tmp;\n        }\n        //when no longer can be halved, bring to target size\n        canvas.width = w;\n        canvas.height = h;\n        var canvasCtx = canvas.getContext('2d');\n        canvasCtx.save();\n        canvasCtx.imageSmoothingEnabled = true;\n        canvasCtx.imageSmoothingQuality = 'high';\n        canvasCtx.drawImage(buffer2, 0, 0, currentWidth, currentHeight, 0, 0, w, h);\n        canvasCtx.restore();\n        tmp1.getContext('2d').restore();\n        tmp2.getContext('2d').restore();\n    } else if (w >= canvas.width && h >= canvas.height) {\n        tmp1 = !tmp1 ? (0, $eelgW.createCanvas)() : tmp1;\n        tmp1.width = w;\n        tmp1.height = h;\n        var tmp1Ctx = tmp1.getContext('2d');\n        tmp1Ctx.save();\n        tmp1Ctx.imageSmoothingEnabled = true;\n        tmp1Ctx.imageSmoothingQuality = 'high';\n        tmp1Ctx.drawImage(canvas, 0, 0, w, h);\n        tmp1Ctx.restore();\n        canvas.width = w;\n        canvas.height = h;\n        canvas.getContext('2d').drawImage(tmp1, 0, 0);\n    } else {\n        $3f0e2f35371c9852$export$59b33278b5b2fc8a(canvas, w, canvas.height, tmp1, tmp2);\n        $3f0e2f35371c9852$export$59b33278b5b2fc8a(canvas, w, h, tmp1, tmp2);\n    }\n}\nfunction $3f0e2f35371c9852$export$5a7576952c826b4f(canvas) {\n    var imdat = canvas.getContext('2d').getImageData(0, 0, canvas.width, canvas.height);\n    for(var i = 0; i < imdat.data.length; i += 4){\n        if (imdat.data[i + 3] === 0) continue;\n        imdat.data[i + 3] = (imdat.data[i] + imdat.data[i + 1] + imdat.data[i + 2]) / 3 * (imdat.data[i + 3] / 255);\n    }\n    canvas.getContext('2d').putImageData(imdat, 0, 0);\n}\nfunction $3f0e2f35371c9852$export$2384aff49c9b73c2(canvas) {\n    canvas.width = 1;\n    canvas.height = 1;\n    canvas.remove();\n}\nfunction $3f0e2f35371c9852$export$3db033c6ee0b8700(context, integerBounds) {\n    var searchBounds = integerBounds !== null && integerBounds !== void 0 ? integerBounds : {\n        x1: 0,\n        y1: 0,\n        x2: context.canvas.width - 1,\n        y2: context.canvas.height - 1\n    };\n    var searchWidth = searchBounds.x2 - searchBounds.x1 + 1;\n    var searchHeight = searchBounds.y2 - searchBounds.y1 + 1;\n    var imdat = context.getImageData(searchBounds.x1, searchBounds.y1, searchWidth, searchHeight);\n    if (imdat.data[3] > 0 && imdat.data[imdat.data.length - 1] > 0) return {\n        x: searchBounds.x1,\n        y: searchBounds.y1,\n        width: searchBounds.x2 - searchBounds.x1 + 1,\n        height: searchBounds.y2 - searchBounds.y1 + 1\n    };\n    var tempBounds = {\n        x1: undefined,\n        y1: undefined,\n        x2: undefined,\n        y2: undefined\n    };\n    for(var i = 3; i < imdat.data.length; i += 4)if (imdat.data[i] > 0) {\n        var x = (i - 3) / 4 % searchWidth;\n        var y = Math.floor((i - 3) / 4 / searchWidth);\n        if (tempBounds.x1 === undefined || tempBounds.x1 > x) tempBounds.x1 = x;\n        if (tempBounds.y1 === undefined) tempBounds.y1 = y;\n        if (tempBounds.x2 === undefined || tempBounds.x2 < x) tempBounds.x2 = x;\n        if (tempBounds.y2 === undefined || tempBounds.y2 < y) tempBounds.y2 = y;\n    }\n    if (tempBounds.x1 === undefined || tempBounds.y1 === undefined || tempBounds.x2 === undefined || tempBounds.y2 === undefined) return undefined;\n    return {\n        x: tempBounds.x1 + searchBounds.x1,\n        y: tempBounds.y1 + searchBounds.y1,\n        width: tempBounds.x2 - tempBounds.x1 + 1,\n        height: tempBounds.y2 - tempBounds.y1 + 1\n    };\n}\nfunction $3f0e2f35371c9852$export$27e43d53d0895782(canvas, mimeType) {\n    return new Promise(function(resolve, reject) {\n        canvas.toBlob(function(blob) {\n            if (blob) resolve(blob);\n            else reject(new Error('Failed to create blob from canvas.'));\n        }, mimeType);\n    });\n}\nfunction $3f0e2f35371c9852$export$403d539f215df596(canvas, mimeType) {\n    return (/*#__PURE__*/ 0, /*#__PURE__*/ $1LaJZ._)(function() {\n        return (0, $2gUX3.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    if (!('toBlob' in HTMLCanvasElement.prototype)) return [\n                        3,\n                        2\n                    ];\n                    return [\n                        4,\n                        $3f0e2f35371c9852$export$27e43d53d0895782(canvas, mimeType)\n                    ];\n                case 1:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 2:\n                    // assume base64\n                    return [\n                        2,\n                        (0, $7jh4K.base64ToBlob)(canvas.toDataURL(mimeType))\n                    ];\n                case 3:\n                    return [\n                        2\n                    ];\n            }\n        });\n    })();\n}\nfunction $3f0e2f35371c9852$export$f7b95c0f504bef8b(selection, context) {\n    var canvas = context.canvas;\n    context.save();\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    var selectionPath = (0, $9b3eo.getSelectionPath2d)(selection);\n    context.clip(selectionPath);\n    context.fillStyle = 'white';\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    context.restore();\n}\n\n});\nparcelRegister(\"eelgW\", function(module, exports) {\n\n$parcel$export(module.exports, \"createCanvas\", function () { return $44dda2e48e48a872$export$cd3d1f114b139967; });\n/*window['canvases'] = [];\r\n\r\nwindow['printCanvases'] = () => {\r\n    let total = 0;\r\n\r\n    console.log(window['canvases'].map(item => {\r\n        total += item.width * item.height;\r\n        return {w: item.width, h: item.height};\r\n    }));\r\n\r\n    console.log('total: ' + (total * 4 / 1000 / 1000) + 'mb');\r\n};*/ function $44dda2e48e48a872$export$cd3d1f114b139967(w, h) {\n    var result = document.createElement('canvas');\n    if (w && h) {\n        result.width = w;\n        result.height = h;\n    }\n    // window['canvases'].push(result);\n    return result;\n}\n\n});\n\nparcelRegister(\"9b3eo\", function(module, exports) {\n\n$parcel$export(module.exports, \"getSelectionPath2d\", function () { return $3a8abad308fc0b28$export$ba7ed3181f35c1cc; });\n$parcel$export(module.exports, \"getSvgPathD\", function () { return $3a8abad308fc0b28$export$8f2be1db13cf0f94; });\n\nvar $bX4ja = parcelRequire(\"bX4ja\");\nfunction $3a8abad308fc0b28$export$ba7ed3181f35c1cc(selection) {\n    var path = new Path2D();\n    selection.forEach(function(poly) {\n        poly.forEach(function(ring) {\n            ring.forEach(function(point, index) {\n                var _path, _path1;\n                if (index === 0) (_path = path).moveTo.apply(_path, (0, $bX4ja._)(point));\n                else (_path1 = path).lineTo.apply(_path1, (0, $bX4ja._)(point));\n            });\n        });\n        path.closePath();\n    });\n    return path;\n}\nfunction $3a8abad308fc0b28$export$8f2be1db13cf0f94(poly) {\n    var result = '';\n    poly.forEach(function(poly) {\n        poly.forEach(function(ring) {\n            result += 'M';\n            ring.forEach(function(point) {\n                result += point.join(',') + ' ';\n            });\n        });\n    });\n    return result.trim();\n}\n\n});\nparcelRegister(\"bX4ja\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $8b388beb029932dc$export$71511d61b312f219; });\n\nvar $6KGpL = parcelRequire(\"6KGpL\");\n\nvar $5mm0I = parcelRequire(\"5mm0I\");\n\nvar $kD20o = parcelRequire(\"kD20o\");\n\nvar $kWe4k = parcelRequire(\"kWe4k\");\nfunction $8b388beb029932dc$export$71511d61b312f219(arr) {\n    return (0, $6KGpL._)(arr) || (0, $5mm0I._)(arr) || (0, $kWe4k._)(arr) || (0, $kD20o._)();\n}\n\n});\nparcelRegister(\"6KGpL\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $4ea7f09e3565689e$export$71511d61b312f219; });\n\nvar $gszWS = parcelRequire(\"gszWS\");\nfunction $4ea7f09e3565689e$export$71511d61b312f219(arr) {\n    if (Array.isArray(arr)) return (0, $gszWS._)(arr);\n}\n\n});\n\nparcelRegister(\"5mm0I\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $3e7014a700b6235f$export$71511d61b312f219; });\nfunction $3e7014a700b6235f$export$71511d61b312f219(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\n});\n\nparcelRegister(\"kD20o\", function(module, exports) {\n\n$parcel$export(module.exports, \"_\", function () { return $f049015e10c27370$export$71511d61b312f219; });\nfunction $f049015e10c27370$export$71511d61b312f219() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n});\n\n\n\n\nparcelRegister(\"kVHNC\", function(module, exports) {\n\n$parcel$export(module.exports, \"Matrix\", function () { return $e4df33b4b16105d5$export$5b12bf1653c0dd85; });\n// https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Matrix_math_for_the_web\n// not optimized\nfunction $e4df33b4b16105d5$var$getIdentity() {\n    return [\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1\n    ];\n}\n// point  matrix\nfunction $e4df33b4b16105d5$var$multiplyMatrixAndPoint(matrix, point) {\n    return [\n        point[0] * matrix[0] + point[1] * matrix[4] + point[2] * matrix[8] + point[3] * matrix[12],\n        point[0] * matrix[1] + point[1] * matrix[5] + point[2] * matrix[9] + point[3] * matrix[13],\n        point[0] * matrix[2] + point[1] * matrix[6] + point[2] * matrix[10] + point[3] * matrix[14],\n        point[0] * matrix[3] + point[1] * matrix[7] + point[2] * matrix[11] + point[3] * matrix[15]\n    ];\n}\n//matrixB  matrixA\nfunction $e4df33b4b16105d5$var$multiplyMatrices(matrixA, matrixB) {\n    // Slice the second matrix up into rows\n    var row0 = [\n        matrixB[0],\n        matrixB[1],\n        matrixB[2],\n        matrixB[3]\n    ];\n    var row1 = [\n        matrixB[4],\n        matrixB[5],\n        matrixB[6],\n        matrixB[7]\n    ];\n    var row2 = [\n        matrixB[8],\n        matrixB[9],\n        matrixB[10],\n        matrixB[11]\n    ];\n    var row3 = [\n        matrixB[12],\n        matrixB[13],\n        matrixB[14],\n        matrixB[15]\n    ];\n    // Multiply each row by matrixA\n    var result0 = $e4df33b4b16105d5$var$multiplyMatrixAndPoint(matrixA, row0);\n    var result1 = $e4df33b4b16105d5$var$multiplyMatrixAndPoint(matrixA, row1);\n    var result2 = $e4df33b4b16105d5$var$multiplyMatrixAndPoint(matrixA, row2);\n    var result3 = $e4df33b4b16105d5$var$multiplyMatrixAndPoint(matrixA, row3);\n    // Turn the result rows back into a single matrix\n    return [\n        result0[0],\n        result0[1],\n        result0[2],\n        result0[3],\n        result1[0],\n        result1[1],\n        result1[2],\n        result1[3],\n        result2[0],\n        result2[1],\n        result2[2],\n        result2[3],\n        result3[0],\n        result3[1],\n        result3[2],\n        result3[3]\n    ];\n}\nfunction $e4df33b4b16105d5$var$createTranslationMatrix(x, y) {\n    return [\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        x,\n        y,\n        0,\n        1\n    ];\n}\nfunction $e4df33b4b16105d5$var$createRotationMatrix(angleRad) {\n    //let angleRad = angleDeg / 360 * 2 * Math.PI;\n    return [\n        Math.cos(-angleRad),\n        -Math.sin(-angleRad),\n        0,\n        0,\n        Math.sin(-angleRad),\n        Math.cos(-angleRad),\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1\n    ];\n}\nfunction $e4df33b4b16105d5$var$createScaleMatrix(f) {\n    return [\n        f,\n        0,\n        0,\n        0,\n        0,\n        f,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1\n    ];\n}\nvar $e4df33b4b16105d5$export$5b12bf1653c0dd85 = Object.freeze({\n    getIdentity: $e4df33b4b16105d5$var$getIdentity,\n    multiplyMatrixAndPoint: $e4df33b4b16105d5$var$multiplyMatrixAndPoint,\n    multiplyMatrices: $e4df33b4b16105d5$var$multiplyMatrices,\n    createTranslationMatrix: $e4df33b4b16105d5$var$createTranslationMatrix,\n    createRotationMatrix: $e4df33b4b16105d5$var$createRotationMatrix,\n    createScaleMatrix: $e4df33b4b16105d5$var$createScaleMatrix\n});\n\n});\n\nparcelRegister(\"4toIY\", function(module, exports) {\n\n$parcel$export(module.exports, \"Vec2\", function () { return $531c9f41f98b7ec0$export$ac4bca90992eed1; });\nvar $531c9f41f98b7ec0$export$ac4bca90992eed1 = {\n    add: function add(p1, p2) {\n        return {\n            x: p1.x + p2.x,\n            y: p1.y + p2.y\n        };\n    },\n    sub: function sub(p1, p2) {\n        return {\n            x: p1.x - p2.x,\n            y: p1.y - p2.y\n        };\n    },\n    nor: function nor(p) {\n        var len = Math.sqrt(Math.pow(p.x, 2) + Math.pow(p.y, 2));\n        return {\n            x: p.x / len,\n            y: p.y / len\n        };\n    },\n    len: function len(p) {\n        return Math.sqrt(Math.pow(p.x, 2) + Math.pow(p.y, 2));\n    },\n    dist: function dist(p1, p2) {\n        return $531c9f41f98b7ec0$export$ac4bca90992eed1.len($531c9f41f98b7ec0$export$ac4bca90992eed1.sub(p1, p2));\n    },\n    mul: function mul(p, s) {\n        return {\n            x: p.x * s,\n            y: p.y * s\n        };\n    },\n    angle: function angle(p1, p2) {\n        return Math.atan2(p2.y - p1.y, p2.x - p1.x);\n    },\n    dot: function dot(a, b) {\n        var aArr = [\n            a.x,\n            a.y\n        ];\n        var bArr = [\n            b.x,\n            b.y\n        ];\n        return aArr.map(function(x, i) {\n            return aArr[i] * bArr[i];\n        }).reduce(function(m, n) {\n            return m + n;\n        });\n    }\n};\n\n});\n\nparcelRegister(\"af1iA\", function(module, exports) {\n\n$parcel$export(module.exports, \"projectPointOnLine\", function () { return $77ae015f37ebe4f1$export$b4c5b177db876445; });\n$parcel$export(module.exports, \"PointLine\", function () { return $77ae015f37ebe4f1$export$8b36a4a83269a640; });\n$parcel$export(module.exports, \"BezierLine\", function () { return $77ae015f37ebe4f1$export$5379d955c16d4d43; });\n$parcel$export(module.exports, \"SplineInterpolator\", function () { return $77ae015f37ebe4f1$export$80967b1eb9fd6eb4; });\n$parcel$export(module.exports, \"powerSplineInput\", function () { return $77ae015f37ebe4f1$export$c07c3aaef9f2da42; });\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\n\nvar $4toIY = parcelRequire(\"4toIY\");\n\nvar $eg83P = parcelRequire(\"eg83P\");\n\nvar $7jh4K = parcelRequire(\"7jh4K\");\nvar $77ae015f37ebe4f1$export$b4c5b177db876445 = function projectPointOnLine(lineStart, lineEnd, p) {\n    var x, y;\n    if (lineStart.x === lineEnd.x) {\n        x = lineStart.x;\n        y = p.y;\n        return {\n            x: x,\n            y: y\n        };\n    }\n    var m = (lineEnd.y - lineStart.y) / (lineEnd.x - lineStart.x);\n    var b = lineStart.y - m * lineStart.x;\n    x = (m * p.y + p.x - m * b) / (m * m + 1);\n    y = (m * m * p.y + m * p.x + b) / (m * m + 1);\n    return {\n        x: x,\n        y: y\n    };\n};\nvar $77ae015f37ebe4f1$export$8b36a4a83269a640 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function PointLine(p) {\n        var _this = this;\n        (0, $cx0mh._)(this, PointLine);\n        this.segmentArr = [];\n        for(var i = 0; i < p.points.length; i++)(function(i) {\n            var length = 0;\n            if (i < p.points.length - 1) length = (0, $eg83P.dist)(p.points[i].x, p.points[i].y, p.points[i + 1].x, p.points[i + 1].y);\n            _this.segmentArr[i] = {\n                x: p.points[i].x,\n                y: p.points[i].y,\n                length: length\n            };\n        })(i);\n    }\n    (0, $7h4XF._)(PointLine, [\n        {\n            // ---- interface ----\n            /**\n     * returns point when traveling *dist* along the line, > 0\n     * @param dist\n     */ key: \"getAtDist\",\n            value: function getAtDist(dist) {\n                var remainder = Math.min(this.getLength(), dist);\n                var i = 0;\n                for(; remainder > this.segmentArr[i].length && i < this.segmentArr.length - 2; i++)remainder -= this.segmentArr[i].length;\n                var fac = Math.min(1, Math.max(0, remainder / this.segmentArr[i].length));\n                return {\n                    x: this.segmentArr[i].x * (1 - fac) + this.segmentArr[i + 1].x * fac,\n                    y: this.segmentArr[i].y * (1 - fac) + this.segmentArr[i + 1].y * fac\n                };\n            }\n        },\n        {\n            /**\n     * total length of line\n     */ key: \"getLength\",\n            value: function getLength() {\n                var result = 0;\n                for(var i = 0; i < this.segmentArr.length - 1; i++)result += this.segmentArr[i].length;\n                return result;\n            }\n        }\n    ]);\n    return PointLine;\n}();\nvar $77ae015f37ebe4f1$export$5379d955c16d4d43 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function BezierLine() {\n        (0, $cx0mh._)(this, BezierLine);\n        this.lastDot = 0;\n        this.pointArr = [];\n    }\n    (0, $7h4XF._)(BezierLine, [\n        {\n            key: \"getBezierPoints\",\n            value: /**\n     * creates bezier curve from control points\n     * @param p1 - control point 1 {x: float, y: float}\n     * @param p2 - control point 2 {x: float, y: float}\n     * @param p3 - control point 3 {x: float, y: float}\n     * @param p4 - control point 4 {x: float, y: float}\n     * @param resolution - int\n     * @returns bezier curve made up of points {x: float, y: float}\n     */ function getBezierPoints(p1, p2, p3, p4, resolution) {\n                var curvePoints = [];\n                var t;\n                for(var i = 0; i <= resolution; i++){\n                    t = i / resolution;\n                    curvePoints[curvePoints.length] = {\n                        x: Math.pow(1 - t, 3) * p1.x + 3 * Math.pow(1 - t, 2) * t * p2.x + 3 * (1 - t) * Math.pow(t, 2) * p3.x + Math.pow(t, 3) * p4.x,\n                        y: Math.pow(1 - t, 3) * p1.y + 3 * Math.pow(1 - t, 2) * t * p2.y + 3 * (1 - t) * Math.pow(t, 2) * p3.y + Math.pow(t, 3) * p4.y\n                    };\n                }\n                return curvePoints;\n            }\n        },\n        {\n            // ---- interface ----\n            /**\n     * Add new point to line. \"Drawn\" line will go until the previous point.\n     *\n     * @param x - coord of new point\n     * @param y\n     * @param spacing - space between each step\n     * @param callback - calls for each step\n     * @param controlsCallback - calls that callback with the bezier control points\n     */ key: \"add\",\n            value: function add(x, y, spacing, callback, controlsCallback) {\n                if (this.lastPoint && x === this.lastPoint.x && y === this.lastPoint.y) return;\n                this.lastPoint = {\n                    x: x,\n                    y: y\n                };\n                this.pointArr[this.pointArr.length] = {\n                    x: x,\n                    y: y,\n                    spacing: spacing\n                };\n                //calculate directions\n                if (this.pointArr.length === 1) {\n                    this.lastSpacing = spacing;\n                    return;\n                } else if (this.pointArr.length === 2) {\n                    this.pointArr[0].dir = (0, $4toIY.Vec2).nor((0, $4toIY.Vec2).sub(this.pointArr[1], this.pointArr[0]));\n                    this.lastDot = spacing;\n                    this.lastSpacing = spacing;\n                    return;\n                } else {\n                    var pointM1 = this.pointArr[this.pointArr.length - 1];\n                    var pointM2 = this.pointArr[this.pointArr.length - 2];\n                    var pointM3 = this.pointArr[this.pointArr.length - 3];\n                    pointM2.dir = (0, $4toIY.Vec2).nor((0, $4toIY.Vec2).sub(pointM1, pointM3));\n                    if (isNaN(pointM2.dir.x) || isNaN(pointM2.dir.y)) //when xy -3 == -1\n                    pointM2.dir = (0, $7jh4K.copyObj)(pointM3.dir);\n                }\n                //get bezier curve\n                var a = this.pointArr[this.pointArr.length - 3];\n                var b = this.pointArr[this.pointArr.length - 2];\n                var p1 = a;\n                var p2 = (0, $4toIY.Vec2).add(a, (0, $4toIY.Vec2).mul(a.dir, (0, $4toIY.Vec2).dist(a, b) / 4));\n                var p3 = (0, $4toIY.Vec2).sub(b, (0, $4toIY.Vec2).mul(b.dir, (0, $4toIY.Vec2).dist(a, b) / 4));\n                var p4 = b;\n                var pointLine;\n                if (callback) {\n                    var curvePoints = this.getBezierPoints(p1, p2, p3, p4, 20);\n                    pointLine = new $77ae015f37ebe4f1$export$8b36a4a83269a640({\n                        points: curvePoints\n                    });\n                } else pointLine = new $77ae015f37ebe4f1$export$8b36a4a83269a640({\n                    points: [\n                        p1,\n                        p4\n                    ]\n                });\n                //iterate over curve with spacing and callback\n                var len = pointLine.getLength();\n                var tempSpacing = (0, $eg83P.mix)(this.lastSpacing, spacing, (0, $eg83P.clamp)(this.lastDot / len, 0, 1));\n                var d = this.lastDot;\n                for(; d <= len; d += tempSpacing){\n                    tempSpacing = (0, $eg83P.mix)(this.lastSpacing, spacing, (0, $eg83P.clamp)(d / len, 0, 1));\n                    var point = pointLine.getAtDist(d);\n                    var angle = this.lastCallbackPoint ? (0, $eg83P.pointsToAngleDeg)(this.lastCallbackPoint, point) : undefined;\n                    if (callback) callback({\n                        x: point.x,\n                        y: point.y,\n                        t: d / len,\n                        angle: angle,\n                        dAngle: this.lastCallbackPoint ? angle - this.lastAngle : 0\n                    });\n                    this.lastCallbackPoint = point;\n                    this.lastAngle = angle;\n                }\n                if (callback) this.lastDot = d - len;\n                else {\n                    this.lastDot = 0;\n                    controlsCallback === null || controlsCallback === void 0 ? void 0 : controlsCallback({\n                        p1: p1,\n                        p2: p2,\n                        p3: p3,\n                        p4: p4\n                    });\n                }\n                this.lastSpacing = spacing;\n            }\n        },\n        {\n            key: \"addFinal\",\n            value: function addFinal(spacing, callback, controlsCallback) {\n                if (this.pointArr.length < 2) return;\n                var p1 = this.pointArr[this.pointArr.length - 2];\n                var p2 = this.pointArr[this.pointArr.length - 1];\n                var newP = (0, $4toIY.Vec2).add(p2, (0, $4toIY.Vec2).sub(p2, p1));\n                this.add(newP.x, newP.y, spacing, callback, controlsCallback);\n            }\n        }\n    ]);\n    return BezierLine;\n}();\nvar $77ae015f37ebe4f1$export$80967b1eb9fd6eb4 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function SplineInterpolator(points) {\n        (0, $cx0mh._)(this, SplineInterpolator);\n        var n = points.length;\n        this.xa = [];\n        this.ya = [];\n        this.u = [];\n        this.y2 = [];\n        var i;\n        this.first = points[0][0];\n        this.last = points[points.length - 1][0];\n        points.sort(function(a, b) {\n            return a[0] - b[0];\n        });\n        for(i = 0; i < n; i++){\n            this.xa.push(points[i][0]);\n            this.ya.push(points[i][1]);\n        }\n        this.u[0] = 0;\n        this.y2[0] = 0;\n        for(i = 1; i < n - 1; ++i){\n            // This is the decomposition loop of the tridiagonal algorithm.\n            // y2 and u are used for temporary storage of the decomposed factors.\n            var wx = this.xa[i + 1] - this.xa[i - 1];\n            var sig = (this.xa[i] - this.xa[i - 1]) / wx;\n            var p = sig * this.y2[i - 1] + 2.0;\n            this.y2[i] = (sig - 1.0) / p;\n            var ddydx = (this.ya[i + 1] - this.ya[i]) / (this.xa[i + 1] - this.xa[i]) - (this.ya[i] - this.ya[i - 1]) / (this.xa[i] - this.xa[i - 1]);\n            this.u[i] = (6.0 * ddydx / wx - sig * this.u[i - 1]) / p;\n        }\n        this.y2[n - 1] = 0;\n        // This is the backsubstitution loop of the tridiagonal algorithm\n        for(i = n - 2; i >= 0; --i)this.y2[i] = this.y2[i] * this.y2[i + 1] + this.u[i];\n    }\n    (0, $7h4XF._)(SplineInterpolator, [\n        {\n            // ---- interface ----\n            key: \"getFirstX\",\n            value: function getFirstX() {\n                return this.first;\n            }\n        },\n        {\n            key: \"getLastX\",\n            value: function getLastX() {\n                return this.last;\n            }\n        },\n        {\n            key: \"interpolate\",\n            value: function interpolate(x) {\n                var n = this.ya.length;\n                var klo = 0;\n                var khi = n - 1;\n                // We will find the right place in the table by means of\n                // bisection. This is optimal if sequential calls to this\n                // routine are at random values of x. If sequential calls\n                // are in order, and closely spaced, one would do better\n                // to store previous values of klo and khi.\n                while(khi - klo > 1){\n                    var k = khi + klo >> 1;\n                    if (this.xa[k] > x) khi = k;\n                    else klo = k;\n                }\n                var h = this.xa[khi] - this.xa[klo];\n                var a = (this.xa[khi] - x) / h;\n                var b = (x - this.xa[klo]) / h;\n                // Cubic spline polynomial is now evaluated.\n                return a * this.ya[klo] + b * this.ya[khi] + ((a * a * a - a) * this.y2[klo] + (b * b * b - b) * this.y2[khi]) * (h * h) / 6.0;\n            }\n        },\n        {\n            /**\n     * find x to y. simply by stepping through. suboptimal, so don't call often.\n     * searches in x 0-1 range\n     */ key: \"findX\",\n            value: function findX(y, resolution) {\n                var x;\n                var dist;\n                for(var i = 0; i <= resolution; i++){\n                    var tempX = i / resolution;\n                    var tempY = this.interpolate(tempX);\n                    if (x === undefined) {\n                        x = tempX;\n                        dist = Math.abs(tempY - y);\n                        continue;\n                    }\n                    var tempDist = Math.abs(tempY - y);\n                    if (tempDist < dist) {\n                        x = tempX;\n                        dist = tempDist;\n                    } else break;\n                }\n                return x;\n            }\n        }\n    ]);\n    return SplineInterpolator;\n}();\nfunction $77ae015f37ebe4f1$export$c07c3aaef9f2da42(startVal, endVal, stepSize) {\n    var exponent = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 2;\n    function round(v, dec) {\n        return Math.round(v * Math.pow(10, dec)) / Math.pow(10, dec);\n    }\n    var resultArr = [];\n    for(var i = 0; i <= 1; i += stepSize)resultArr.push([\n        round(i, 4),\n        round(startVal + Math.pow(i, exponent) * (endVal - startVal), 4)\n    ]);\n    return resultArr;\n}\n\n});\nparcelRegister(\"eg83P\", function(module, exports) {\n\n$parcel$export(module.exports, \"mix\", function () { return $9a5bdb07e7a7c42f$export$2c9e8a9632a706b2; });\n$parcel$export(module.exports, \"dist\", function () { return $9a5bdb07e7a7c42f$export$6c4a311cc157c764; });\n$parcel$export(module.exports, \"distSquared\", function () { return $9a5bdb07e7a7c42f$export$499eb56409f6cbc2; });\n$parcel$export(module.exports, \"lenSquared\", function () { return $9a5bdb07e7a7c42f$export$a4f99f99d3e99cfa; });\n$parcel$export(module.exports, \"pointsToAngleRad\", function () { return $9a5bdb07e7a7c42f$export$627023b405ba5028; });\n$parcel$export(module.exports, \"pointsToAngleDeg\", function () { return $9a5bdb07e7a7c42f$export$c03a8450eabc2532; });\n$parcel$export(module.exports, \"isInsideRect\", function () { return $9a5bdb07e7a7c42f$export$151bd845d70e2099; });\n$parcel$export(module.exports, \"clamp\", function () { return $9a5bdb07e7a7c42f$export$7d15b64cf5a3a4c4; });\n$parcel$export(module.exports, \"rotate\", function () { return $9a5bdb07e7a7c42f$export$bb628a54ab399bc9; });\n$parcel$export(module.exports, \"rotateAround\", function () { return $9a5bdb07e7a7c42f$export$95ec0760d3d00713; });\n$parcel$export(module.exports, \"snapAngleDeg\", function () { return $9a5bdb07e7a7c42f$export$c0156198713d0f0; });\n$parcel$export(module.exports, \"minimizeAngleDeg\", function () { return $9a5bdb07e7a7c42f$export$ec85425cac357ca9; });\n$parcel$export(module.exports, \"intDxy\", function () { return $9a5bdb07e7a7c42f$export$bbf9af158036c5e9; });\n$parcel$export(module.exports, \"roundEven\", function () { return $9a5bdb07e7a7c42f$export$94cce7adf2ec2d08; });\n$parcel$export(module.exports, \"roundUneven\", function () { return $9a5bdb07e7a7c42f$export$f373b6a7b0c159a; });\n$parcel$export(module.exports, \"round\", function () { return $9a5bdb07e7a7c42f$export$2077e0241d6afd3c; });\n$parcel$export(module.exports, \"updateBounds\", function () { return $9a5bdb07e7a7c42f$export$f4467a4f41373bc7; });\n$parcel$export(module.exports, \"boundsOverlap\", function () { return $9a5bdb07e7a7c42f$export$1e5bc424ba85580e; });\n$parcel$export(module.exports, \"boundsInArea\", function () { return $9a5bdb07e7a7c42f$export$bbb91bbc54e7d9ac; });\n$parcel$export(module.exports, \"intBoundsWithinArea\", function () { return $9a5bdb07e7a7c42f$export$34fe24b327e86efa; });\n$parcel$export(module.exports, \"boundsToRect\", function () { return $9a5bdb07e7a7c42f$export$4218cb0e42c2e7e; });\n$parcel$export(module.exports, \"integerBounds\", function () { return $9a5bdb07e7a7c42f$export$2253e119434941f4; });\nfunction $9a5bdb07e7a7c42f$export$2c9e8a9632a706b2(a, b, f) {\n    return a * (1 - f) + b * f;\n}\nfunction $9a5bdb07e7a7c42f$export$6c4a311cc157c764(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(ax - bx, 2) + Math.pow(ay - by, 2));\n}\nfunction $9a5bdb07e7a7c42f$export$499eb56409f6cbc2(ax, ay, bx, by) {\n    // faster because no square-root\n    return Math.pow(ax - bx, 2) + Math.pow(ay - by, 2);\n}\nfunction $9a5bdb07e7a7c42f$export$a4f99f99d3e99cfa(x, y) {\n    // faster because no square-root\n    return x * x + y * y;\n}\nfunction $9a5bdb07e7a7c42f$export$627023b405ba5028(p1, p2) {\n    return Math.atan2(p2.y - p1.y, p2.x - p1.x);\n}\nfunction $9a5bdb07e7a7c42f$export$c03a8450eabc2532(p1, p2) {\n    return $9a5bdb07e7a7c42f$export$627023b405ba5028(p1, p2) * 180 / Math.PI;\n}\nfunction $9a5bdb07e7a7c42f$export$151bd845d70e2099(p, rect) {\n    return rect.x <= p.x && p.x <= rect.x + rect.width && rect.y <= p.y && p.y <= rect.y + rect.height;\n}\nfunction $9a5bdb07e7a7c42f$export$7d15b64cf5a3a4c4(num, min, max) {\n    return num < min ? min : num > max ? max : num;\n}\nfunction $9a5bdb07e7a7c42f$export$bb628a54ab399bc9(x, y, deg) {\n    var theta = deg * (Math.PI / 180);\n    var cs = Math.cos(theta);\n    var sn = Math.sin(theta);\n    return {\n        x: x * cs - y * sn,\n        y: x * sn + y * cs\n    };\n}\nfunction $9a5bdb07e7a7c42f$export$95ec0760d3d00713(center, point, deg) {\n    var rot = $9a5bdb07e7a7c42f$export$bb628a54ab399bc9(point.x - center.x, point.y - center.y, deg);\n    rot.x += center.x;\n    rot.y += center.y;\n    return rot;\n}\nfunction $9a5bdb07e7a7c42f$export$c0156198713d0f0(angleDeg, snapDegIncrement, maxDistDeg) {\n    var modDeg = Math.abs(angleDeg % snapDegIncrement);\n    var dist = Math.min(modDeg, snapDegIncrement - modDeg);\n    if (dist <= maxDistDeg) angleDeg = Math.round(angleDeg / snapDegIncrement) * snapDegIncrement;\n    return angleDeg;\n}\nfunction $9a5bdb07e7a7c42f$export$ec85425cac357ca9(angleDeg) {\n    angleDeg = angleDeg % 360;\n    if (angleDeg > 180) angleDeg -= 360;\n    else if (angleDeg < -180) angleDeg += 360;\n    return angleDeg;\n}\nfunction $9a5bdb07e7a7c42f$export$bbf9af158036c5e9(remainder, fDx, fDy) {\n    remainder.x += fDx;\n    remainder.y += fDy;\n    var dX = Math.round(remainder.x);\n    var dY = Math.round(remainder.y);\n    remainder.x -= dX;\n    remainder.y -= dY;\n    return {\n        dX: dX,\n        dY: dY\n    };\n}\nfunction $9a5bdb07e7a7c42f$export$94cce7adf2ec2d08(f) {\n    if (f % 1 === 0) {\n        if (f % 2 === 0) return f;\n        return f + 1;\n    }\n    var above = Math.ceil(f);\n    var below = Math.floor(f);\n    if (above % 2 === 0) return above;\n    else return below;\n}\nfunction $9a5bdb07e7a7c42f$export$f373b6a7b0c159a(f) {\n    if (f % 1 === 0) {\n        if (f % 2 === 0) return f + 1;\n        return f;\n    }\n    var above = Math.ceil(f);\n    var below = Math.floor(f);\n    if (above % 2 === 1) return above;\n    else return below;\n}\nfunction $9a5bdb07e7a7c42f$export$2077e0241d6afd3c(f, digits) {\n    var digitMult = Math.pow(10, digits);\n    return Math.round(f /* + Number.EPSILON*/  * digitMult) / digitMult;\n}\nfunction $9a5bdb07e7a7c42f$export$f4467a4f41373bc7(target, bounds) {\n    if (!bounds && !target) throw new Error('at least one param needs to be defined');\n    if (!bounds) return target;\n    if (!target) target = {\n        x1: bounds.x1,\n        y1: bounds.y1,\n        x2: bounds.x2,\n        y2: bounds.y2\n    };\n    else {\n        target.x1 = Math.min(target.x1, bounds.x1);\n        target.y1 = Math.min(target.y1, bounds.y1);\n        target.x2 = Math.max(target.x2, bounds.x2);\n        target.y2 = Math.max(target.y2, bounds.y2);\n    }\n    return target;\n}\nfunction $9a5bdb07e7a7c42f$export$1e5bc424ba85580e(bounds, limit) {\n    if (!bounds) return undefined;\n    if (!limit) return bounds;\n    var x1 = Math.max(limit.x1, bounds.x1);\n    var y1 = Math.max(limit.y1, bounds.y1);\n    var x2 = Math.min(limit.x2, bounds.x2);\n    var y2 = Math.min(limit.y2, bounds.y2);\n    if (x1 > x2 || y1 > y2) return undefined;\n    return {\n        x1: x1,\n        y1: y1,\n        x2: x2,\n        y2: y2\n    };\n}\nfunction $9a5bdb07e7a7c42f$export$bbb91bbc54e7d9ac(bounds, width, height) {\n    if (!bounds) return undefined;\n    return $9a5bdb07e7a7c42f$export$1e5bc424ba85580e(bounds, {\n        x1: 0,\n        y1: 0,\n        x2: width - 1,\n        y2: height - 1\n    });\n}\nfunction $9a5bdb07e7a7c42f$export$34fe24b327e86efa(bounds, width, height, areIndices) {\n    var x1 = Math.max(0, Math.floor(bounds.x1));\n    var y1 = Math.max(0, Math.floor(bounds.y1));\n    var x2 = Math.min(width - (areIndices ? 1 : 0), Math.ceil(bounds.x2));\n    var y2 = Math.min(height - (areIndices ? 1 : 0), Math.ceil(bounds.y2));\n    if (x1 > x2 || y1 > y2) return undefined;\n    return {\n        x1: x1,\n        y1: y1,\n        x2: x2,\n        y2: y2\n    };\n}\nfunction $9a5bdb07e7a7c42f$export$4218cb0e42c2e7e(bounds, areIndices) {\n    return {\n        x: bounds.x1,\n        y: bounds.y1,\n        width: bounds.x2 - bounds.x1 + (areIndices ? 1 : 0),\n        height: bounds.y2 - bounds.y1 + (areIndices ? 1 : 0)\n    };\n}\nfunction $9a5bdb07e7a7c42f$export$2253e119434941f4(bounds) {\n    return {\n        x1: Math.floor(bounds.x1),\n        y1: Math.floor(bounds.y1),\n        x2: Math.ceil(bounds.x2),\n        y2: Math.ceil(bounds.y2)\n    };\n}\n\n});\n\n\nparcelRegister(\"dJ1E2\", function(module, exports) {\n\n$parcel$export(module.exports, \"HSV\", function () { return $5e7aac2fa49b6b1f$export$d2edaecd208aed43; });\n$parcel$export(module.exports, \"RGB\", function () { return $5e7aac2fa49b6b1f$export$8f9ece5a47764b93; });\n$parcel$export(module.exports, \"CMYK\", function () { return $5e7aac2fa49b6b1f$export$89d3f85304bf0767; });\n$parcel$export(module.exports, \"ColorConverter\", function () { return $5e7aac2fa49b6b1f$export$fb7efcd2e153af6e; });\n$parcel$export(module.exports, \"testIsWhiteBestContrast\", function () { return $5e7aac2fa49b6b1f$export$5cf396345d1238ae; });\n// based on js color conversion http://www.webtoolkit.info/\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\nvar $5e7aac2fa49b6b1f$export$d2edaecd208aed43 = function HSV(h, s, v) {\n    \"use strict\";\n    (0, $cx0mh._)(this, HSV);\n    this.h = Math.max(0, Math.min(360, h));\n    this.s = Math.max(0.001, Math.min(100, s)); //bug when 0\n    this.v = Math.max(0, Math.min(100, v));\n};\nvar $5e7aac2fa49b6b1f$export$8f9ece5a47764b93 = function RGB(r, g, b) {\n    \"use strict\";\n    (0, $cx0mh._)(this, RGB);\n    this.r = Math.max(0, Math.min(255, r));\n    this.g = Math.max(0, Math.min(255, g));\n    this.b = Math.max(0, Math.min(255, b));\n};\nvar $5e7aac2fa49b6b1f$export$89d3f85304bf0767 = function CMYK(c, m, y, k) {\n    \"use strict\";\n    (0, $cx0mh._)(this, CMYK);\n    this.c = Math.max(0, Math.min(100, c));\n    this.m = Math.max(0, Math.min(100, m));\n    this.y = Math.max(0, Math.min(100, y));\n    this.k = Math.max(0, Math.min(100, k));\n};\nvar $5e7aac2fa49b6b1f$export$fb7efcd2e153af6e = {\n    _RGBtoHSV: function _RGBtoHSV(RGB) {\n        var result = new $5e7aac2fa49b6b1f$export$d2edaecd208aed43(0, 0, 0);\n        var r = RGB.r / 255;\n        var g = RGB.g / 255;\n        var b = RGB.b / 255;\n        var minVal = Math.min(r, g, b);\n        var maxVal = Math.max(r, g, b);\n        var delta = maxVal - minVal;\n        result.v = maxVal;\n        if (delta == 0) {\n            result.h = 0;\n            result.s = 0;\n        } else {\n            result.s = delta / maxVal;\n            var del_R = ((maxVal - r) / 6 + delta / 2) / delta;\n            var del_G = ((maxVal - g) / 6 + delta / 2) / delta;\n            var del_B = ((maxVal - b) / 6 + delta / 2) / delta;\n            if (r == maxVal) result.h = del_B - del_G;\n            else if (g == maxVal) result.h = 1 / 3 + del_R - del_B;\n            else if (b == maxVal) result.h = 2 / 3 + del_G - del_R;\n            if (result.h < 0) result.h += 1;\n            if (result.h > 1) result.h -= 1;\n        }\n        result.h = Math.round(result.h * 360);\n        result.s = Math.round(result.s * 100);\n        result.v = Math.round(result.v * 100);\n        return result;\n    },\n    _HSVtoRGB: function _HSVtoRGB(HSV) {\n        var result = new $5e7aac2fa49b6b1f$export$8f9ece5a47764b93(0, 0, 0);\n        var var_h, var_i, var_1, var_2, var_3, var_r, var_g, var_b;\n        var h = HSV.h / 360 % 1;\n        var s = HSV.s / 100;\n        var v = HSV.v / 100;\n        if (s == 0) {\n            result.r = v * 255;\n            result.g = v * 255;\n            result.b = v * 255;\n        } else {\n            var_h = h * 6;\n            var_i = Math.floor(var_h);\n            var_1 = v * (1 - s);\n            var_2 = v * (1 - s * (var_h - var_i));\n            var_3 = v * (1 - s * (1 - (var_h - var_i)));\n            if (var_i == 0) {\n                var_r = v;\n                var_g = var_3;\n                var_b = var_1;\n            } else if (var_i == 1) {\n                var_r = var_2;\n                var_g = v;\n                var_b = var_1;\n            } else if (var_i == 2) {\n                var_r = var_1;\n                var_g = v;\n                var_b = var_3;\n            } else if (var_i == 3) {\n                var_r = var_1;\n                var_g = var_2;\n                var_b = v;\n            } else if (var_i == 4) {\n                var_r = var_3;\n                var_g = var_1;\n                var_b = v;\n            } else {\n                var_r = v;\n                var_g = var_1;\n                var_b = var_2;\n            }\n            result.r = var_r * 255;\n            result.g = var_g * 255;\n            result.b = var_b * 255;\n            result.r = Math.round(result.r);\n            result.g = Math.round(result.g);\n            result.b = Math.round(result.b);\n        }\n        return result;\n    },\n    _CMYKtoRGB: function _CMYKtoRGB(CMYK) {\n        var result = new $5e7aac2fa49b6b1f$export$8f9ece5a47764b93(0, 0, 0);\n        var c = CMYK.c / 100;\n        var m = CMYK.m / 100;\n        var y = CMYK.y / 100;\n        var k = CMYK.k / 100;\n        result.r = 1 - Math.min(1, c * (1 - k) + k);\n        result.g = 1 - Math.min(1, m * (1 - k) + k);\n        result.b = 1 - Math.min(1, y * (1 - k) + k);\n        result.r = Math.round(result.r * 255);\n        result.g = Math.round(result.g * 255);\n        result.b = Math.round(result.b * 255);\n        return result;\n    },\n    _RGBtoCMYK: function _RGBtoCMYK(RGB) {\n        var result = new $5e7aac2fa49b6b1f$export$89d3f85304bf0767(0, 0, 0, 0);\n        var r = RGB.r / 255;\n        var g = RGB.g / 255;\n        var b = RGB.b / 255;\n        result.k = Math.min(1 - r, 1 - g, 1 - b);\n        result.c = (1 - r - result.k) / (1 - result.k);\n        result.m = (1 - g - result.k) / (1 - result.k);\n        result.y = (1 - b - result.k) / (1 - result.k);\n        result.c = Math.round(result.c * 100);\n        result.m = Math.round(result.m * 100);\n        result.y = Math.round(result.y * 100);\n        result.k = Math.round(result.k * 100);\n        return result;\n    },\n    toRGB: function toRGB(o) {\n        if (o instanceof $5e7aac2fa49b6b1f$export$8f9ece5a47764b93) return o;\n        if (o instanceof $5e7aac2fa49b6b1f$export$d2edaecd208aed43) return this._HSVtoRGB(o);\n        if (o instanceof $5e7aac2fa49b6b1f$export$89d3f85304bf0767) return this._CMYKtoRGB(o);\n        throw new Error('unknown type');\n    },\n    toHSV: function toHSV(o) {\n        if (o instanceof $5e7aac2fa49b6b1f$export$d2edaecd208aed43) return o;\n        if (o instanceof $5e7aac2fa49b6b1f$export$8f9ece5a47764b93) return this._RGBtoHSV(o);\n        if (o instanceof $5e7aac2fa49b6b1f$export$89d3f85304bf0767) return this._RGBtoHSV(this._CMYKtoRGB(o));\n        throw new Error('unknown type');\n    },\n    toCMYK: function toCMYK(o) {\n        if (o instanceof $5e7aac2fa49b6b1f$export$89d3f85304bf0767) return o;\n        if (o instanceof $5e7aac2fa49b6b1f$export$8f9ece5a47764b93) return this._RGBtoCMYK(o);\n        if (o instanceof $5e7aac2fa49b6b1f$export$d2edaecd208aed43) return this._RGBtoCMYK(this._HSVtoRGB(o));\n        throw new Error('unknown type');\n    },\n    toHexString: function toHexString(o) {\n        if (o instanceof $5e7aac2fa49b6b1f$export$8f9ece5a47764b93 || 'r' in o && 'g' in o && 'b' in o) {\n            var ha = parseInt('' + o.r).toString(16);\n            var hb = parseInt('' + o.g).toString(16);\n            var hc = parseInt('' + o.b).toString(16);\n            if (ha.length == 1) ha = '0' + ha;\n            if (hb.length == 1) hb = '0' + hb;\n            if (hc.length == 1) hc = '0' + hc;\n            return ha + hb + hc;\n        }\n        return '#000';\n    },\n    toRgbStr: function toRgbStr(rgbObj) {\n        return 'rgb(' + Math.round(rgbObj.r) + ', ' + Math.round(rgbObj.g) + ', ' + Math.round(rgbObj.b) + ')';\n    },\n    toRgbaStr: function toRgbaStr(rgbaObj) {\n        return 'rgba(' + Math.round(rgbaObj.r) + ', ' + Math.round(rgbaObj.g) + ', ' + Math.round(rgbaObj.b) + ', ' + rgbaObj.a + ')';\n    },\n    hexToRGB: function hexToRGB(hexStr) {\n        hexStr = hexStr.trim();\n        // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n        var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n        hexStr = hexStr.replace(shorthandRegex, function(m, r, g, b) {\n            return r + r + g + g + b + b;\n        });\n        var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hexStr);\n        return result ? new $5e7aac2fa49b6b1f$export$8f9ece5a47764b93(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) : undefined;\n    }\n};\nfunction $5e7aac2fa49b6b1f$export$5cf396345d1238ae(rgbObj) {\n    return rgbObj.r * 0.299 + rgbObj.g * 0.587 + rgbObj.b * 0.114 < 125;\n}\n\n});\n\nparcelRegister(\"i0uIf\", function(module, exports) {\n\n$parcel$export(module.exports, \"BbLog\", function () { return $0d0e99c175410ac4$export$9860cd9e09e6f8ba; });\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\nvar $0d0e99c175410ac4$export$9860cd9e09e6f8ba = /*#__PURE__*/ function() {\n    \"use strict\";\n    function BbLog() {\n        (0, $cx0mh._)(this, BbLog);\n    }\n    (0, $7h4XF._)(BbLog, null, [\n        {\n            key: \"subscribe\",\n            value: function subscribe(listener) {\n                if (BbLog.listeners.includes(listener)) return;\n                BbLog.listeners.push(listener);\n            }\n        },\n        {\n            key: \"unsubscribe\",\n            value: function unsubscribe(listener) {\n                for(var i = 0; i < BbLog.listeners.length; i++)if (listener === BbLog.listeners[i]) {\n                    BbLog.listeners.splice(i, 1);\n                    return;\n                }\n            }\n        },\n        {\n            key: \"emit\",\n            value: function emit(msg) {\n                BbLog.listeners.forEach(function(item) {\n                    item(msg);\n                });\n            }\n        }\n    ]);\n    return BbLog;\n}();\n$0d0e99c175410ac4$export$9860cd9e09e6f8ba.listeners = [];\n\n});\n\nparcelRegister(\"jjWRi\", function(module, exports) {\n\n$parcel$export(module.exports, \"CoalescedExploder\", function () { return $d2c9f6aa6c7498f1$export$fe11e0afe623a677; });\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\n\nvar $7jh4K = parcelRequire(\"7jh4K\");\nvar $d2c9f6aa6c7498f1$export$fe11e0afe623a677 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function CoalescedExploder() {\n        (0, $cx0mh._)(this, CoalescedExploder);\n    }\n    (0, $7h4XF._)(CoalescedExploder, [\n        {\n            // ----------------------------------- public -----------------------------------\n            key: \"setChainOut\",\n            value: function setChainOut(func) {\n                this.chainOut = func;\n            }\n        },\n        {\n            key: \"chainIn\",\n            value: function chainIn(event) {\n                if (event.type === 'pointermove') {\n                    if (event.coalescedArr && event.coalescedArr.length > 0) for(var i = 0; i < event.coalescedArr.length; i++){\n                        var eventCopy = (0, $7jh4K.copyObj)(event);\n                        if (i === 0) eventCopy.coalescedArr = [];\n                        var coalescedItem = event.coalescedArr[i];\n                        eventCopy.pageX = coalescedItem.pageX;\n                        eventCopy.pageY = coalescedItem.pageY;\n                        eventCopy.relX = coalescedItem.relX;\n                        eventCopy.relY = coalescedItem.relY;\n                        eventCopy.dX = coalescedItem.dX;\n                        eventCopy.dY = coalescedItem.dY;\n                        eventCopy.time = coalescedItem.time;\n                        eventCopy.isCoalesced = i < event.coalescedArr.length - 1;\n                        this.chainOut && this.chainOut(eventCopy);\n                    }\n                    else return event;\n                } else return event;\n                return null;\n            }\n        }\n    ]);\n    return CoalescedExploder;\n}();\n\n});\n\nparcelRegister(\"2pgVs\", function(module, exports) {\n\n$parcel$export(module.exports, \"NFingerTapper\", function () { return $cc27951506e6ad28$export$510622b8aed00381; });\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\n\nvar $eg83P = parcelRequire(\"eg83P\");\nvar $cc27951506e6ad28$export$510622b8aed00381 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function NFingerTapper(p) {\n        (0, $cx0mh._)(this, NFingerTapper);\n        this.minSilenceBeforeDurationMs = 50;\n        this.maxTapMs = 500;\n        this.maxFirstLastFingerDownMs = 250;\n        this.maxPressedDistancePx = 12 //5 + fingers * 5;\n        ;\n        this.fingerArr = [];\n        this.eventQueueArr = [];\n        this.firstDownTime = 0;\n        this.lastEventTime = 0;\n        this.nowTime = performance.now();\n        this.pointersDownIdArr = [];\n        this.timeoutObj = {\n            firstLastDownTimeout: null,\n            tapTimeout: null\n        };\n        this.fingers = p.fingers;\n        this.onTap = p.onTap;\n    }\n    (0, $7h4XF._)(NFingerTapper, [\n        {\n            key: \"failGesture\",\n            value: function failGesture() {\n                if (this.eventQueueArr.length === 0) return;\n                this.timeoutObj.firstLastDownTimeout && clearTimeout(this.timeoutObj.firstLastDownTimeout);\n                this.timeoutObj.tapTimeout && clearTimeout(this.timeoutObj.tapTimeout);\n                for(var i = 0; i < this.eventQueueArr.length; i++)this.chainOut && this.chainOut(this.eventQueueArr[i]);\n                this.eventQueueArr = [];\n                this.fingerArr = [];\n            }\n        },\n        {\n            key: \"success\",\n            value: function success() {\n                this.timeoutObj.firstLastDownTimeout && clearTimeout(this.timeoutObj.firstLastDownTimeout);\n                this.timeoutObj.tapTimeout && clearTimeout(this.timeoutObj.tapTimeout);\n                this.eventQueueArr = []; // events get swallowed\n                this.fingerArr = [];\n                this.onTap();\n            }\n        },\n        {\n            key: \"setupTimeout\",\n            value: function setupTimeout(timeoutStr, timeMS) {\n                var _this = this;\n                var diff = timeMS - this.nowTime;\n                //console.log(fingers + ': ' + timeoutStr + ' diff', diff);\n                if (diff <= 0) // time already up\n                return false;\n                this.timeoutObj[timeoutStr] = setTimeout(function() {\n                    return _this.failGesture();\n                }, diff);\n                return true;\n            }\n        },\n        {\n            key: \"processEvent\",\n            value: function processEvent(event) {\n                var tempLastEventTime = this.lastEventTime;\n                this.lastEventTime = event.time;\n                if (event.type === 'pointerdown') this.pointersDownIdArr.push(event.pointerId);\n                else if (event.type === 'pointerup') {\n                    for(var i = 0; i < this.pointersDownIdArr.length; i++)if (this.pointersDownIdArr[i] === event.pointerId) {\n                        this.pointersDownIdArr.splice(i, 1);\n                        break;\n                    }\n                }\n                if (event.pointerType !== 'touch') {\n                    if (this.fingerArr.length > 0) // already in gesture -> fail\n                    this.failGesture();\n                    return;\n                }\n                this.nowTime = performance.now();\n                if (event.type === 'pointerdown') {\n                    //console.log('down');\n                    if (this.fingerArr.length + 1 !== this.pointersDownIdArr.length) {\n                        // failed before, and some fingers are still down -> fail\n                        this.failGesture();\n                        return;\n                    }\n                    if (this.fingerArr.length === this.fingers) {\n                        // too many fingers down -> fail\n                        //console.log(fingers + ': too many fingers down -> fail');\n                        this.failGesture();\n                        return;\n                    }\n                    if (this.fingerArr.length > 0 && event.time - this.maxFirstLastFingerDownMs > this.fingerArr[0].downTimeMs) {\n                        // took too long to touch with all fingers -> fail\n                        //console.log(fingers + ': took too long to touch with all fingers -> fail');\n                        this.failGesture();\n                        return;\n                    }\n                    if (this.fingerArr.length === 0 && event.time - this.minSilenceBeforeDurationMs < tempLastEventTime) {\n                        // not enough silence before -> fail\n                        //console.log(fingers + ': not enough silence before -> fail');\n                        this.failGesture();\n                        return;\n                    }\n                    if (this.fingerArr.length === 0) {\n                        this.firstDownTime = event.time;\n                        if (!this.setupTimeout('firstLastDownTimeout', event.time + this.maxFirstLastFingerDownMs) || !this.setupTimeout('tapTimeout', event.time + this.maxTapMs)) {\n                            // timeouts already up -> fail\n                            this.failGesture();\n                            return;\n                        }\n                    }\n                    this.fingerArr.push({\n                        pointerId: event.pointerId,\n                        downTimeMs: event.time,\n                        downPageX: event.pageX,\n                        downPageY: event.pageY\n                    });\n                    return;\n                }\n                if (event.type === 'pointermove') {\n                    if (this.fingerArr.length === 0) //not in a gesture -> ignore\n                    return;\n                    var fingerObj = null;\n                    for(var i1 = 0; i1 < this.fingerArr.length; i1++)if (this.fingerArr[i1].pointerId === event.pointerId) {\n                        fingerObj = this.fingerArr[i1];\n                        break;\n                    }\n                    if (fingerObj === null) {\n                        // finger not part of the tap is on screen -> fail\n                        this.failGesture();\n                        return;\n                    }\n                    if (event.time - this.maxTapMs > this.firstDownTime) {\n                        // tap took too long -> fail\n                        //console.log(fingers + ': tap took too long -> fail');\n                        this.failGesture();\n                        return;\n                    }\n                    var distance = (0, $eg83P.dist)(event.pageX, event.pageY, fingerObj.downPageX, fingerObj.downPageY);\n                    if (distance > this.maxPressedDistancePx) {\n                        // finger moved too much -> fail\n                        //console.log(fingers + ': a finger moved too much -> fail', distance);\n                        this.failGesture();\n                        return;\n                    }\n                }\n                if (event.type === 'pointerup') {\n                    if (this.fingerArr.length === 0) //not in a gesture -> ignore\n                    return;\n                    //console.log('up', event.pageX, event.pageY);\n                    if (this.fingerArr.length !== this.fingers) {\n                        // not enough fingers -> fail\n                        //console.log(fingers + ': not enough fingers -> fail');\n                        this.failGesture();\n                        return;\n                    }\n                    var fingerObj1 = null;\n                    var i2 = 0;\n                    for(; i2 < this.fingerArr.length; i2++)if (this.fingerArr[i2].pointerId === event.pointerId) {\n                        fingerObj1 = this.fingerArr[i2];\n                        break;\n                    }\n                    if (fingerObj1 === null) //do nothing\n                    return;\n                    if (event.time - this.maxTapMs > this.firstDownTime) {\n                        // tap took too long -> fail\n                        //console.log(fingers + ': tap took too long -> fail');\n                        this.failGesture();\n                        return;\n                    }\n                    var distance1 = (0, $eg83P.dist)(event.pageX, event.pageY, fingerObj1.downPageX, fingerObj1.downPageY);\n                    if (distance1 > this.maxPressedDistancePx) {\n                        // finger moved too much -> fail\n                        //console.log(fingers + ': b finger moved too much -> fail', distance, event.pageX, event.pageY);\n                        //console.log(fingerArr);\n                        this.failGesture();\n                        return;\n                    }\n                    fingerObj1.isUp = true;\n                    var allAreUp = true;\n                    for(var i3 = 0; i3 < this.fingerArr.length; i3++)if (!this.fingerArr[i3].isUp) {\n                        allAreUp = false;\n                        break;\n                    }\n                    //console.log('fingerArr', fingerArr);\n                    if (allAreUp) {\n                        // success\n                        this.success();\n                        return true;\n                    }\n                }\n            }\n        },\n        {\n            key: \"chainIn\",\n            value: function chainIn(event) {\n                var result = this.processEvent(event);\n                //console.log(fingerArr.length);\n                if (result === true) //tap success -> event gets swallowed\n                return null;\n                if (this.fingerArr.length === 0) return event;\n                else this.eventQueueArr.push(event);\n                return null;\n            }\n        },\n        {\n            key: \"setChainOut\",\n            value: function setChainOut(func) {\n                this.chainOut = func;\n            }\n        }\n    ]);\n    return NFingerTapper;\n}();\n\n});\n\nparcelRegister(\"joplQ\", function(module, exports) {\n\n$parcel$export(module.exports, \"PinchZoomer\", function () { return $670d2777518c365a$export$d62358ac2d82abb3; });\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\n\nvar $eg83P = parcelRequire(\"eg83P\");\nvar $670d2777518c365a$export$d62358ac2d82abb3 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function PinchZoomer(p) {\n        (0, $cx0mh._)(this, PinchZoomer);\n        this.firstFingerMaxDistancePx = 10;\n        this.untilSecondFingerDurationMs = 250;\n        this.pointersDownIdArr = [];\n        this.gestureObj = null;\n        this.eventQueueArr = [];\n        this.nowTime = performance.now();\n        this.timeoutObj = {\n            secondFingerTimeout: null\n        };\n        this.pincherArr = [];\n        this.onPinch = p.onPinch;\n    }\n    (0, $7h4XF._)(PinchZoomer, [\n        {\n            key: \"end\",\n            value: function end() {\n                this.gestureObj = null;\n                this.eventQueueArr = [];\n            }\n        },\n        {\n            key: \"fail\",\n            value: function fail(doSwallow) {\n                if (!this.gestureObj) // no gesture happening -> ignore\n                return;\n                this.timeoutObj.secondFingerTimeout && clearTimeout(this.timeoutObj.secondFingerTimeout);\n                if (!doSwallow) for(var i = 0; i < this.eventQueueArr.length; i++)this.chainOut && this.chainOut(this.eventQueueArr[i]);\n                this.end();\n            }\n        },\n        {\n            key: \"setupFailTimeout\",\n            value: function setupFailTimeout(timeMS) {\n                var _this = this;\n                var diff = timeMS - this.nowTime;\n                if (diff <= 0) // time already up\n                return false;\n                this.timeoutObj.secondFingerTimeout = setTimeout(function() {\n                    return _this.fail();\n                }, diff);\n                return true;\n            }\n        },\n        {\n            key: \"processEvent\",\n            value: function processEvent(event) {\n                if (event.type === 'pointerdown') this.pointersDownIdArr.push(event.pointerId);\n                else if (event.type === 'pointerup') {\n                    for(var i = 0; i < this.pointersDownIdArr.length; i++)if (this.pointersDownIdArr[i] === event.pointerId) {\n                        this.pointersDownIdArr.splice(i, 1);\n                        break;\n                    }\n                }\n                //pass through scenarios\n                if (!this.gestureObj && (event.pointerType !== 'touch' || // wrong pointer type\n                event.type === 'pointermove' && this.pointersDownIdArr.length > 0 || // failed before\n                this.pointersDownIdArr.length > 1 || // failed before\n                event.type === 'pointerup' // failed before\n                )) return;\n                this.nowTime = performance.now();\n                //pointer down\n                if (event.type === 'pointerdown') {\n                    if (this.gestureObj) {\n                        if (event.pointerType === 'touch') {\n                            // touch finger down - as nth pointer\n                            this.gestureObj.touchPointerArr.push({\n                                pointerId: event.pointerId,\n                                relX: event.relX,\n                                relY: event.relY\n                            });\n                            if (this.gestureObj.isInProgress) this.continuePinch(this.gestureObj, {\n                                type: 'down',\n                                index: this.gestureObj.touchPointerArr.length - 1\n                            });\n                            else {\n                                this.timeoutObj.secondFingerTimeout && clearTimeout(this.timeoutObj.secondFingerTimeout);\n                                this.gestureObj.isInProgress = true;\n                                this.beginPinch(this.gestureObj);\n                            }\n                            return;\n                        } else {\n                            // non-touch finger down - as nth pointer\n                            if (this.gestureObj.isInProgress) this.gestureObj.otherPointerIdArr.push(event.pointerId);\n                            else // second pointer wrong type -> fail\n                            this.fail();\n                            return;\n                        }\n                    } else {\n                        // first finger down - can only be touch if no gestureObj\n                        this.gestureObj = {\n                            touchPointerArr: [\n                                {\n                                    pointerId: event.pointerId,\n                                    relX: event.relX,\n                                    relY: event.relY,\n                                    downRelX: event.relX,\n                                    downRelY: event.relY\n                                }\n                            ],\n                            otherPointerIdArr: [],\n                            isInProgress: false\n                        };\n                        if (!this.setupFailTimeout(event.time + this.untilSecondFingerDurationMs)) {\n                            // time ran out -> fail\n                            this.fail();\n                            return;\n                        }\n                        return;\n                    }\n                }\n                // should not happen. something went wrong\n                if (!this.gestureObj) {\n                    // throw? would make it less robust\n                    this.fail();\n                    return;\n                }\n                //pointer move\n                if (event.type === 'pointermove' && event.pointerType === 'touch') {\n                    //gesture object should always exist here\n                    var touchPointerObj = null;\n                    var i1 = 0;\n                    for(; i1 < this.gestureObj.touchPointerArr.length; i1++)if (event.pointerId === this.gestureObj.touchPointerArr[i1].pointerId) {\n                        touchPointerObj = this.gestureObj.touchPointerArr[i1];\n                        break;\n                    }\n                    //null should not be possible. something went wrong\n                    if (!touchPointerObj) {\n                        // throw? would make it less robust\n                        this.fail();\n                        return;\n                    }\n                    touchPointerObj.relX = event.relX;\n                    touchPointerObj.relY = event.relY;\n                    if (!this.gestureObj.isInProgress) {\n                        // only one finger down & pinching hasn't started\n                        // should not happen. something went wrong\n                        if (!('downRelX' in touchPointerObj && touchPointerObj.downRelX !== undefined) || !('downRelY' in touchPointerObj && touchPointerObj.downRelY !== undefined)) {\n                            this.fail();\n                            return;\n                        }\n                        var distance = (0, $eg83P.dist)(touchPointerObj.downRelX, touchPointerObj.downRelY, touchPointerObj.relX, touchPointerObj.relY);\n                        if (distance > this.firstFingerMaxDistancePx) {\n                            // moved too much -> fail\n                            this.fail();\n                            return;\n                        }\n                    } else if (i1 < 2) // only first two touches can affect pinching\n                    this.continuePinch(this.gestureObj, {\n                        type: 'move',\n                        index: i1\n                    });\n                    return;\n                }\n                //pointer up\n                if (event.type === 'pointerup') {\n                    //gesture object should always exist here\n                    if (event.pointerType === 'touch') {\n                        var i2 = 0;\n                        for(; i2 < this.gestureObj.touchPointerArr.length; i2++)if (this.gestureObj.touchPointerArr[i2].pointerId === event.pointerId) {\n                            this.gestureObj.touchPointerArr.splice(i2, 1);\n                            break;\n                        }\n                        if (this.gestureObj.touchPointerArr.length > 0) this.continuePinch(this.gestureObj, {\n                            type: 'up',\n                            index: i2\n                        });\n                    } else {\n                        // non-touch\n                        for(var i3 = 0; i3 < this.gestureObj.otherPointerIdArr.length; i3++)if (this.gestureObj.otherPointerIdArr[i3] === event.pointerId) {\n                            this.gestureObj.otherPointerIdArr.splice(i3, 1);\n                            break;\n                        }\n                    }\n                    //all fingers lifted?\n                    if (this.gestureObj.touchPointerArr.length === 0 && this.gestureObj.otherPointerIdArr.length === 0) {\n                        if (this.gestureObj.isInProgress) {\n                            // lifted last finger -> end of pinching\n                            this.end();\n                            this.endPinch();\n                        } else // lifted finger again before pinching started -> fail\n                        this.fail();\n                        return;\n                    }\n                }\n            }\n        },\n        {\n            key: \"beginPinch\",\n            value: function beginPinch(gestureObj) {\n                for(var i = 0; i < gestureObj.touchPointerArr.length; i++){\n                    var pointerObj = gestureObj.touchPointerArr[i];\n                    this.pincherArr.push({\n                        pointerId: pointerObj.pointerId,\n                        relX: pointerObj.relX,\n                        relY: pointerObj.relY,\n                        downRelX: pointerObj.relX,\n                        downRelY: pointerObj.relY\n                    });\n                }\n                var event = {\n                    type: 'move',\n                    // temp\n                    downRelX: 0,\n                    downRelY: 0,\n                    relX: 0,\n                    relY: 0,\n                    angleRad: 0,\n                    scale: 1\n                };\n                if (this.pincherArr.length === 1) {\n                    event.relX = this.pincherArr[0].downRelX;\n                    event.relY = this.pincherArr[0].downRelY;\n                } else {\n                    event.relX = 0.5 * (this.pincherArr[0].downRelX + this.pincherArr[1].downRelX);\n                    event.relY = 0.5 * (this.pincherArr[0].downRelY + this.pincherArr[1].downRelY);\n                }\n                event.downRelX = event.relX;\n                event.downRelY = event.relY;\n                this.onPinch(event);\n            }\n        },\n        {\n            key: \"continuePinch\",\n            value: //actionObj = {type: 'down'|'move'|'up', index: number}\n            function continuePinch(gestureObj, actionObj) {\n                if (actionObj.index > 1) // only first two pointers matter\n                return;\n                if (actionObj.type === 'move') {\n                    var event;\n                    this.pincherArr[actionObj.index].relX = gestureObj.touchPointerArr[actionObj.index].relX;\n                    this.pincherArr[actionObj.index].relY = gestureObj.touchPointerArr[actionObj.index].relY;\n                    if (this.pincherArr.length === 1) event = {\n                        type: 'move',\n                        downRelX: this.pincherArr[0].downRelX,\n                        downRelY: this.pincherArr[0].downRelY,\n                        relX: this.pincherArr[0].relX,\n                        relY: this.pincherArr[0].relY,\n                        angleRad: 0,\n                        scale: 1\n                    };\n                    else {\n                        var startDist = (0, $eg83P.dist)(this.pincherArr[0].downRelX, this.pincherArr[0].downRelY, this.pincherArr[1].downRelX, this.pincherArr[1].downRelY);\n                        var distance = (0, $eg83P.dist)(this.pincherArr[0].relX, this.pincherArr[0].relY, this.pincherArr[1].relX, this.pincherArr[1].relY);\n                        var startAngle = (0, $eg83P.pointsToAngleRad)({\n                            x: this.pincherArr[0].downRelX,\n                            y: this.pincherArr[0].downRelY\n                        }, {\n                            x: this.pincherArr[1].downRelX,\n                            y: this.pincherArr[1].downRelY\n                        });\n                        var angle = (0, $eg83P.pointsToAngleRad)({\n                            x: this.pincherArr[0].relX,\n                            y: this.pincherArr[0].relY\n                        }, {\n                            x: this.pincherArr[1].relX,\n                            y: this.pincherArr[1].relY\n                        });\n                        event = {\n                            type: 'move',\n                            downRelX: 0.5 * (this.pincherArr[0].downRelX + this.pincherArr[1].downRelX),\n                            downRelY: 0.5 * (this.pincherArr[0].downRelY + this.pincherArr[1].downRelY),\n                            relX: 0.5 * (this.pincherArr[0].relX + this.pincherArr[1].relX),\n                            relY: 0.5 * (this.pincherArr[0].relY + this.pincherArr[1].relY),\n                            angleRad: angle - startAngle,\n                            scale: distance / startDist\n                        };\n                    }\n                    this.onPinch(event);\n                } else if (actionObj.type === 'down' || actionObj.type === 'up') {\n                    this.endPinch();\n                    this.beginPinch(gestureObj);\n                }\n            }\n        },\n        {\n            key: \"endPinch\",\n            value: function endPinch() {\n                this.pincherArr = [];\n                this.onPinch({\n                    type: 'end'\n                });\n            }\n        },\n        {\n            key: \"chainIn\",\n            value: function chainIn(event) {\n                this.processEvent(event);\n                if (this.gestureObj) {\n                    if (!this.gestureObj.isInProgress) // might still fail -> into queue\n                    this.eventQueueArr.push(event);\n                } else return event;\n                return null;\n            }\n        },\n        {\n            key: \"setChainOut\",\n            value: function setChainOut(func) {\n                this.chainOut = func;\n            }\n        }\n    ]);\n    return PinchZoomer;\n}();\n\n});\n\nparcelRegister(\"c1lmK\", function(module, exports) {\n\n$parcel$export(module.exports, \"DoubleTapper\", function () { return $f607ef98ce9eccdc$export$db3963a21c01d803; });\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\n\nvar $bX4ja = parcelRequire(\"bX4ja\");\n\nvar $eg83P = parcelRequire(\"eg83P\");\nvar $f607ef98ce9eccdc$export$db3963a21c01d803 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function DoubleTapper(p) {\n        var _this = this;\n        (0, $cx0mh._)(this, DoubleTapper);\n        this.allowedPointerTypeArr = [\n            'touch',\n            'mouse',\n            'pen'\n        ];\n        this.allowedButtonArr = [\n            'left'\n        ];\n        this.minSilenceBeforeDurationMs = 400;\n        this.maxPressedDurationMs = 300;\n        this.maxPressedDistancePx = 10;\n        this.maxInbetweenDistancePx = 19;\n        this.maxUpToUpDurationMs = 500;\n        this.maxUntilSecondDownDurationMs = 300;\n        this.minSilenceAfterMs = 250;\n        this.sequenceArr = [];\n        this.pointersDownIdArr = [];\n        this.lastUpTime = 0;\n        this.nowTime = 0;\n        this.eventQueueArr = [];\n        this.timeoutObj = {\n            fail: null,\n            maxUntilSecondDown: null,\n            success: null\n        };\n        this.onDoubleTap = p.onDoubleTap;\n        if (p.isInstant) {\n            this.minSilenceBeforeDurationMs = 0;\n            this.minSilenceAfterMs = 0;\n        }\n        this.gestureFailed = function() {\n            if (_this.sequenceArr.length === 0) // no gesture started -> can be ignored\n            return;\n            _this.timeoutObj.fail && clearTimeout(_this.timeoutObj.fail);\n            _this.timeoutObj.maxUntilSecondDown && clearTimeout(_this.timeoutObj.maxUntilSecondDown);\n            _this.timeoutObj.success && clearTimeout(_this.timeoutObj.success);\n            _this.timeoutObj.fail = null;\n            _this.timeoutObj.maxUntilSecondDown = null;\n            _this.timeoutObj.success = null;\n            if (_this.chainOut) for(var i = 0; i < _this.eventQueueArr.length; i++)_this.chainOut(_this.eventQueueArr[i]);\n            _this.eventQueueArr = [];\n            _this.sequenceArr = [];\n        };\n    }\n    (0, $7h4XF._)(DoubleTapper, [\n        {\n            key: \"success\",\n            value: // double tap achieved\n            function success() {\n                this.timeoutObj.fail = null;\n                this.timeoutObj.success = null;\n                this.eventQueueArr = []; // events get swallowed\n                var lastSequenceItem = this.sequenceArr[this.sequenceArr.length - 1];\n                this.sequenceArr = [];\n                if ('pageX' in lastSequenceItem) this.onDoubleTap({\n                    pageX: lastSequenceItem.pageX,\n                    pageY: lastSequenceItem.pageY,\n                    relX: lastSequenceItem.relX,\n                    relY: lastSequenceItem.relY\n                });\n            }\n        },\n        {\n            key: \"setupTimeout\",\n            value: // returns false if time already up. otherwise sets up timeout\n            function setupTimeout(timeoutStr, targetFunc, timeMS, noComparison) {\n                var diff = timeMS - this.nowTime;\n                // console.log(fingers + ': ' + timeoutStr + ' diff', diff);\n                if (diff <= 0 && !noComparison) // time already up\n                return false;\n                this.timeoutObj[timeoutStr] = setTimeout(targetFunc, Math.max(0, diff));\n                return true;\n            }\n        },\n        {\n            key: \"processEvent\",\n            value: /**\n     * @param event object - a pointer event from BB.PointerListener\n     */ function processEvent(event) {\n                var _this = this;\n                if (event.type === 'pointerdown') this.pointersDownIdArr.push(event.pointerId);\n                else if (event.type === 'pointerup') {\n                    for(var i = 0; i < this.pointersDownIdArr.length; i++)if (this.pointersDownIdArr[i] === event.pointerId) {\n                        this.pointersDownIdArr.splice(i, 1);\n                        break;\n                    }\n                }\n                if (!this.allowedPointerTypeArr.includes(event.pointerType)) {\n                    //wrong input type -> fail\n                    //console.log('wrong input type -> fail');\n                    this.gestureFailed();\n                    return;\n                }\n                this.nowTime = performance.now();\n                var lastSequenceItem = this.sequenceArr.length > 0 ? this.sequenceArr[this.sequenceArr.length - 1] : null;\n                if (event.type === 'pointerup') this.lastUpTime = event.time;\n                if (event.type === 'pointerdown') {\n                    if (this.pointersDownIdArr.length > 1) {\n                        // more than one pointer down -> fail\n                        //console.log('more than one pointer down -> fail');\n                        this.gestureFailed();\n                        return;\n                    }\n                    if (this.timeoutObj.success !== null) {\n                        // silence-after not achieved -> fail\n                        //console.log('silence-after not achieved -> fail');\n                        this.gestureFailed();\n                        return;\n                    }\n                    if (this.sequenceArr.length === 0 && this.nowTime - this.lastUpTime < this.minSilenceBeforeDurationMs) {\n                        // silence before not achieved -> fail\n                        //console.log('silence before not achieved -> fail');\n                        this.gestureFailed();\n                        return;\n                    }\n                    if (event.button && !this.allowedButtonArr.includes(event.button)) {\n                        // wrong button -> fail\n                        //console.log('wrong button -> fail', event.button, allowedButtonArr);\n                        this.gestureFailed();\n                        return;\n                    }\n                    if (lastSequenceItem && 'isDown' in lastSequenceItem && lastSequenceItem.isDown || this.sequenceArr.length > 2) {\n                        // jumbled -> fail\n                        //console.log('jumbled -> fail');\n                        this.gestureFailed();\n                        return;\n                    }\n                    if (lastSequenceItem && 'position' in lastSequenceItem) {\n                        var distance = (0, $eg83P.dist)(lastSequenceItem.position[0], lastSequenceItem.position[1], event.pageX, event.pageY);\n                        if (distance > this.maxInbetweenDistancePx) {\n                            //moved too much -> reset\n                            //console.log('maxInbetweenDistancePx -> reset');\n                            this.gestureFailed();\n                            if ('time' in lastSequenceItem && this.nowTime - lastSequenceItem.time < this.minSilenceBeforeDurationMs) //silence before not achieved -> fail\n                            return;\n                        }\n                    }\n                    this.sequenceArr.push({\n                        isDown: true,\n                        time: this.nowTime,\n                        position: [\n                            event.pageX,\n                            event.pageY\n                        ],\n                        pointerId: event.pointerId\n                    });\n                    //maxUntilSecondDown\n                    if (this.sequenceArr.length > 1) this.timeoutObj.maxUntilSecondDown && clearTimeout(this.timeoutObj.maxUntilSecondDown);\n                    else if (!this.setupTimeout('maxUntilSecondDown', function() {\n                        return _this.gestureFailed();\n                    }, event.time + this.maxUntilSecondDownDurationMs)) {\n                        //console.log('event.time + maxPressedDurationMs -> fail');\n                        this.gestureFailed();\n                        return;\n                    }\n                    this.timeoutObj.fail && clearTimeout(this.timeoutObj.fail);\n                    if (!this.setupTimeout('fail', function() {\n                        return _this.gestureFailed();\n                    }, event.time + this.maxPressedDurationMs)) {\n                        //console.log('event.time + maxPressedDurationMs -> fail');\n                        this.gestureFailed();\n                        return;\n                    }\n                }\n                if (lastSequenceItem && event.type === 'pointermove' && 'pointerId' in lastSequenceItem && lastSequenceItem.pointerId === event.pointerId) {\n                    /*if (lastSequenceItem.pointerId !== event.pointerId) { //another pointer mixing in -> fail\n                console.log('another pointer mixing in -> fail');\n                this.fail();\n                return;\n            }*/ var distance1 = (0, $eg83P.dist)(lastSequenceItem.position[0], lastSequenceItem.position[1], event.pageX, event.pageY);\n                    if (distance1 > this.maxPressedDistancePx) {\n                        //moved too much -> fail\n                        //console.log('maxPressedDistancePx -> fail');\n                        this.gestureFailed();\n                        return;\n                    }\n                }\n                if (lastSequenceItem && event.type === 'pointerup') {\n                    if ('pointerId' in lastSequenceItem && lastSequenceItem.pointerId !== event.pointerId) {\n                        //another pointer mixing in -> fail\n                        this.gestureFailed();\n                        return;\n                    }\n                    if ('time' in lastSequenceItem && this.nowTime >= lastSequenceItem.time + this.maxPressedDurationMs) {\n                        //pressed too long -> fail\n                        this.gestureFailed();\n                        return;\n                    }\n                    this.timeoutObj.fail && clearTimeout(this.timeoutObj.fail);\n                    if (this.sequenceArr.length < 3) {\n                        if (!this.setupTimeout('fail', function() {\n                            return _this.gestureFailed();\n                        }, event.time + this.maxUpToUpDurationMs)) {\n                            this.gestureFailed();\n                            return;\n                        }\n                        this.sequenceArr = [\n                            lastSequenceItem,\n                            {\n                                isUp: true,\n                                time: this.nowTime,\n                                position: [\n                                    event.pageX,\n                                    event.pageY\n                                ]\n                            }\n                        ];\n                        return;\n                    }\n                    if ('time' in this.sequenceArr[1] && this.nowTime < this.sequenceArr[1].time + this.maxUpToUpDurationMs) {\n                        // double tap almost success\n                        // only needs silence\n                        this.sequenceArr.push({\n                            pageX: event.pageX,\n                            pageY: event.pageY,\n                            relX: event.relX,\n                            relY: event.relY\n                        });\n                        if (!this.setupTimeout('success', function() {\n                            return _this.success();\n                        }, event.time + this.minSilenceAfterMs, true)) this.gestureFailed();\n                    } else // time up -> fail\n                    this.gestureFailed();\n                }\n            }\n        },\n        {\n            key: \"chainIn\",\n            value: function chainIn(event) {\n                this.processEvent(event);\n                if (this.sequenceArr.length === 0) {\n                    //existing events can not become a double tap\n                    this.gestureFailed();\n                    return event;\n                }\n                // events might become a double tap -> queue\n                this.eventQueueArr.push(event);\n                return null;\n            }\n        },\n        {\n            key: \"setChainOut\",\n            value: function setChainOut(func) {\n                this.chainOut = func;\n            }\n        },\n        {\n            key: \"setAllowedPointerTypeArr\",\n            value: function setAllowedPointerTypeArr(arr) {\n                this.allowedPointerTypeArr = (0, $bX4ja._)(arr);\n            }\n        },\n        {\n            key: \"setAllowedButtonArr\",\n            value: function setAllowedButtonArr(arr) {\n                this.allowedButtonArr = (0, $bX4ja._)(arr);\n            }\n        }\n    ]);\n    return DoubleTapper;\n}();\n\n});\n\nparcelRegister(\"635F6\", function(module, exports) {\n\n$parcel$export(module.exports, \"OnePointerLimiter\", function () { return $956c5ff01a38849f$export$71ff2f51bf1f4062; });\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\nvar $956c5ff01a38849f$export$71ff2f51bf1f4062 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function OnePointerLimiter() {\n        (0, $cx0mh._)(this, OnePointerLimiter);\n        this.downPointerId = null;\n        this.ignorePointerIdArr = [];\n    }\n    (0, $7h4XF._)(OnePointerLimiter, [\n        {\n            // ----------------------------------- public -----------------------------------\n            key: \"chainIn\",\n            value: function chainIn(event) {\n                if (this.ignorePointerIdArr.includes(event.pointerId)) {\n                    if (event.type === 'pointerup') {\n                        for(var i = 0; i < this.ignorePointerIdArr.length; i++)if (this.ignorePointerIdArr[i] === event.pointerId) {\n                            this.ignorePointerIdArr.splice(i, 1);\n                            break;\n                        }\n                    }\n                    return null;\n                }\n                if (this.downPointerId === null) {\n                    if (event.type === 'pointerdown') this.downPointerId = event.pointerId;\n                    return event;\n                } else {\n                    if (event.pointerId !== this.downPointerId) {\n                        if (event.type === 'pointerdown') this.ignorePointerIdArr.push(event.pointerId);\n                        return null;\n                    }\n                    if (event.type === 'pointerup') this.downPointerId = null;\n                    return event;\n                }\n            }\n        },\n        {\n            key: \"setChainOut\",\n            value: function setChainOut(func) {\n                this.chainOut = func;\n            }\n        }\n    ]);\n    return OnePointerLimiter;\n}();\n\n});\n\nparcelRegister(\"gCzYB\", function(module, exports) {\n\n$parcel$export(module.exports, \"EventChain\", function () { return $4fb7927cde0b2f75$export$649a211db9812745; });\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\nvar $4fb7927cde0b2f75$export$649a211db9812745 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function EventChain(p) {\n        var _this = this;\n        (0, $cx0mh._)(this, EventChain);\n        this.chainArr = p.chainArr;\n        for(var i = 0; i < this.chainArr.length; i++)(function(i) {\n            _this.chainArr[i].setChainOut(function(event) {\n                _this.continueChain(i + 1, event);\n            });\n        })(i);\n    }\n    (0, $7h4XF._)(EventChain, [\n        {\n            key: \"continueChain\",\n            value: function continueChain(i, event) {\n                for(; i < this.chainArr.length; i++){\n                    event = this.chainArr[i].chainIn(event);\n                    if (event === null) return null;\n                }\n                this.chainOut && this.chainOut(event);\n                return null;\n            }\n        },\n        {\n            /**\n     * feed an event into the chain\n     */ key: \"chainIn\",\n            value: function chainIn(event) {\n                return this.continueChain(0, event);\n            }\n        },\n        {\n            /**\n     * func will be called when event has passed through the chain\n     */ key: \"setChainOut\",\n            value: function setChainOut(func) {\n                this.chainOut = func;\n            }\n        }\n    ]);\n    return EventChain;\n}();\n\n});\n\n\n\nparcelRegister(\"ar0Oi\", function(module, exports) {\n\n\nmodule.exports = Promise.all([\n    (parcelRequire(\"i5Beu\"))($parcel$resolve(\"bIDbX\")),\n    (parcelRequire(\"ih7W4\"))($parcel$resolve(\"dafOa\"))\n]).then(function() {\n    return parcelRequire('6NgYC');\n});\n\n});\nparcelRegister(\"i5Beu\", function(module, exports) {\n\"use strict\";\n\nvar $5Y6Bl = parcelRequire(\"5Y6Bl\");\nmodule.exports = $5Y6Bl(function(bundle) {\n    return new Promise(function(resolve, reject) {\n        if (typeof document === 'undefined') return resolve();\n        var link = document.createElement('link');\n        link.rel = 'stylesheet';\n        link.href = bundle;\n        // Don't insert the same link element twice (e.g. if it was already in the HTML)\n        var existingLinks = document.getElementsByTagName('link');\n        if (Array.from(existingLinks).some(function(existing) {\n            return existing.href === link.href && existing.rel.indexOf('stylesheet') > -1;\n        })) {\n            resolve();\n            return;\n        }\n        link.onerror = function(e) {\n            link.onerror = link.onload = null;\n            link.remove();\n            reject(e);\n        };\n        link.onload = function() {\n            link.onerror = link.onload = null;\n            resolve();\n        };\n        document.getElementsByTagName('head')[0].appendChild(link);\n    });\n});\n\n});\n\n\nparcelRegister(\"gcVy2\", function(module, exports) {\n\nmodule.exports = (parcelRequire(\"i5Beu\"))($parcel$resolve(\"4GTbM\"));\n\n});\n\nvar $0ba68c4f63bdd717$exports = {};\n$parcel$extendImportMap({\n    \"eHdqz\": \"klecks-logo.ae8bd45e.png\",\n    \"5RGAp\": \"de.9af5c274.js\",\n    \"3uTpJ\": \"es.ba06aaff.js\",\n    \"4XbAZ\": \"fi.7629ab8b.js\",\n    \"2bKIP\": \"fr.8783c9d5.js\",\n    \"i0BNf\": \"hu.89de6ca3.js\",\n    \"98Cvg\": \"id.64a92dfc.js\",\n    \"y5edP\": \"ja.afd13f45.js\",\n    \"9fDFY\": \"jv.0dce4c5c.js\",\n    \"cW2nR\": \"ko.d8e6b1c3.js\",\n    \"8ucza\": \"lv.ee5d3af5.js\",\n    \"f3RKT\": \"nl.1402c478.js\",\n    \"fVlhe\": \"pt-BR.988d347f.js\",\n    \"kcBSP\": \"ru.4e97c337.js\",\n    \"4RByM\": \"su.add81733.js\",\n    \"ap9yw\": \"sv.2e7effd2.js\",\n    \"dsJ3g\": \"zh-CN.dac2191e.js\",\n    \"lF1Tu\": \"zh-TW.71abe7bc.js\",\n    \"kNYzr\": \"dist.e4d721e1.js\",\n    \"dafOa\": \"main-embed.0f8e715c.js\",\n    \"kbyFQ\": \"cancel.340fb0bb.svg\",\n    \"l7FYj\": \"check.e6114d75.svg\",\n    \"kino6\": \"remove-layer.da17ce5a.svg\",\n    \"5H9IS\": \"brush-pressure.8782e24b.svg\",\n    \"la7yv\": \"copy.22819386.svg\",\n    \"cTtMO\": \"tool-picker.896489f2.svg\",\n    \"iQ1f0\": \"angle.319ede69.svg\",\n    \"04ZZm\": \"tool-zoom-in.a322442c.svg\",\n    \"j9xio\": \"tool-zoom-out.a0c9b082.svg\",\n    \"fER1z\": \"viewport-reset.f69c6fbc.svg\",\n    \"2gZH2\": \"tool-hand.b64de96e.svg\",\n    \"ghFv7\": \"edit-pencil.070f95f1.svg\",\n    \"cazOx\": \"edit-crop.5a25544f.svg\",\n    \"1mb1v\": \"add-layer.ec19e714.svg\",\n    \"11KJK\": \"duplicate-layer.fd421984.svg\",\n    \"floUo\": \"merge-layers.ec5eab67.svg\",\n    \"hhQeq\": \"rename-layer.a037b591.svg\",\n    \"dz3mY\": \"caret-down.5e676c46.svg\",\n    \"045N6\": \"cursor-rotate.0c8e34b1.png\",\n    \"3x5dR\": \"new-image.1891be3f.svg\",\n    \"hbDTd\": \"import.eacba42d.svg\",\n    \"16iGk\": \"export.15a4d72c.svg\",\n    \"2ME3z\": \"share.ab903904.svg\",\n    \"hZnSk\": \"help.648f7d00.svg\",\n    \"6mHrC\": \"tool-paint.1b2f44ed.svg\",\n    \"hS5Hj\": \"tool-fill.bbd4ae51.svg\",\n    \"4KGfM\": \"tool-gradient.dedc893d.svg\",\n    \"doX4v\": \"tool-text.0da9f984.svg\",\n    \"7NqHO\": \"tool-shape.522cd4b5.svg\",\n    \"kOuYd\": \"tool-select.5ec1da7d.svg\",\n    \"AnO0a\": \"tool-undo.9138898d.svg\",\n    \"6toXQ\": \"edit-rotate.8fb5b1ef.svg\",\n    \"b1UMP\": \"ui-collapse.da4b78fc.svg\",\n    \"lvwQ5\": \"align-left.dd4a3407.svg\",\n    \"imAvm\": \"align-center.13c1a9ae.svg\",\n    \"dC0sF\": \"align-right.20a4fe41.svg\",\n    \"h3hPo\": \"typo-italic.010c7282.svg\",\n    \"1pAeY\": \"typo-bold.e186ac23.svg\",\n    \"hapKl\": \"Caveat-Regular.2fe80bbd.woff2\",\n    \"dqzux\": \"ClimateCrisis-Regular-VariableFont_YEAR.3ad02523.woff2\",\n    \"l7VGL\": \"CorrectionBrush.a69973aa.woff2\",\n    \"dm0T7\": \"DancingScript-Regular.ef2fe647.woff2\",\n    \"2U3dq\": \"Diabolik-Regular-VF.f4eeb79e.woff2\",\n    \"axzlU\": \"FreckleFace-Regular.05946539.woff2\",\n    \"avgh6\": \"Gloock-Regular.60f8f765.woff2\",\n    \"H9bSu\": \"Pacha.08c8457a.woff2\",\n    \"emBfm\": \"GochiHand-Regular.c45792b0.woff2\",\n    \"kjRvm\": \"PassionOne-Bold.9e08b0dc.woff2\",\n    \"c79R0\": \"PixeloidSans.bc292131.woff2\",\n    \"fndWQ\": \"PlaypenSans-Thin.314b29a4.woff2\",\n    \"iAFmc\": \"Quicksand-Light.1f0c44a2.woff2\",\n    \"2Bq6W\": \"Silkscreen-Regular.cef2b4cb.woff2\",\n    \"hmfbp\": \"Tehroc-Regular.4540047b.woff2\",\n    \"iItsG\": \"YUNGA-Display.30c04a15.woff2\",\n    \"5tPq3\": \"edit-brightness-contrast.78620665.svg\",\n    \"245NA\": \"edit-curves.56e09e16.svg\",\n    \"1hkCG\": \"edit-flip.8010ad0f.svg\",\n    \"k2eFf\": \"edit-hue-saturation.373aa41d.svg\",\n    \"krKGd\": \"edit-invert.91bfa402.png\",\n    \"ehfxY\": \"edit-perspective.474c436b.svg\",\n    \"beOjS\": \"edit-resize.673fffa7.svg\",\n    \"Gk9bV\": \"edit-tilt-shift.7ad164eb.png\",\n    \"csed7\": \"edit-to-alpha.10878d74.svg\",\n    \"equSE\": \"edit-transform.56e34528.svg\",\n    \"h1dN3\": \"edit-triangle-blur.17417e43.png\",\n    \"LfAXI\": \"edit-unsharp-mask.38afa514.png\",\n    \"cB6q6\": \"edit-grid.c20f8e5f.svg\",\n    \"S9ano\": \"edit-noise.20c18f19.svg\",\n    \"4eqRj\": \"edit-pattern.f6d27c58.svg\",\n    \"8mvSV\": \"edit-vanish-point.a8c2dde8.svg\",\n    \"kbc0v\": \"edit-distort.33c9d58d.svg\",\n    \"iiCd6\": \"brush-pen.c04fbc65.svg\",\n    \"6fRlX\": \"brush-blend.d8ce5270.svg\",\n    \"hC7PC\": \"brush-sketchy.6c75169d.png\",\n    \"eZgVv\": \"brush-pixel.bfd351cf.svg\",\n    \"fPZin\": \"brush-eraser.388bfa8c.svg\",\n    \"fp7H1\": \"brush-smudge.9c9edfb1.svg\",\n    \"eX098\": \"brush-chemy.a5a188f6.svg\",\n    \"2oHM2\": \"upload.fb4a8f36.svg\",\n    \"iGeXe\": \"loading.7ff8a2ac.gif\",\n    \"kSWIa\": \"bitbof-logo.738252a6.svg\",\n    \"4FMUg\": \"ui-swap-lr.695f74b3.svg\",\n    \"62mlz\": \"licenses.fc8627f9.js\",\n    \"76QQo\": \"font-licenses.0e2c26a4.js\",\n    \"2BZYe\": \"constrain.46a31747.svg\",\n    \"k9Nks\": \"tab-settings.980aa34c.svg\",\n    \"bBxqy\": \"tab-layers.e4748a75.svg\",\n    \"3UXKl\": \"tab-edit.0d1e8b85.svg\",\n    \"1dLwT\": \"cursor-picker.71be1460.png\",\n    \"hQSEH\": \"cursor-fill.ab749dde.png\",\n    \"916ZI\": \"cursor-text.b4ebf6cd.png\",\n    \"9wZxU\": \"cursor-zoom-ew.d3ab2d60.png\",\n    \"kiEfz\": \"select-mode-select.46ceb4fe.svg\",\n    \"4uXfZ\": \"select-mode-move.321505b0.svg\",\n    \"bjhUB\": \"select-default.a4d71ff2.svg\",\n    \"9MYhm\": \"select-union.add41cd9.svg\",\n    \"fsl8L\": \"select-subtract.a2c61ba8.svg\",\n    \"3QHUd\": \"select-shape-rect.ecb1b83c.svg\",\n    \"5GkZe\": \"select-shape-ellipse.42a3a2f0.svg\",\n    \"2zM6R\": \"select-shape-lasso.3dedd955.svg\",\n    \"5rTlv\": \"select-shape-poly.25fd4f29.svg\",\n    \"bIDbX\": \"main-embed.647002b3.css\",\n    \"4GTbM\": \"embed.3ca9f2f9.css\",\n    \"eW5wL\": \"caret-down.5e676c46.svg\",\n    \"9clYo\": \"error.0d506571.svg\",\n    \"bLSjr\": \"ok.db60f162.svg\",\n    \"8eSFI\": \"warning.245b9b7a.svg\",\n    \"d56Qw\": \"upload-large.19c94192.svg\"\n});\n\n\nvar $1LaJZ = parcelRequire(\"1LaJZ\");\n\nvar $cx0mh = parcelRequire(\"cx0mh\");\n\nvar $7h4XF = parcelRequire(\"7h4XF\");\n\nvar $cL71g = parcelRequire(\"cL71g\");\n\nvar $4EWN2 = parcelRequire(\"4EWN2\");\n\nvar $2gUX3 = parcelRequire(\"2gUX3\");\n\nvar $ci8rB = parcelRequire(\"ci8rB\");\nvar $331bd445235135e6$var$embedUrl;\nfunction $331bd445235135e6$var$getBaseUrl(url) {\n    return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\nfunction $331bd445235135e6$export$bc5948d2034163b0() {\n    if ($331bd445235135e6$var$embedUrl) return $331bd445235135e6$var$embedUrl;\n    var match;\n    try {\n        throw new Error();\n    } catch (e) {\n        if (e instanceof Error) match = ('' + e.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    }\n    var index = 0;\n    match.forEach(function(item, i) {\n        if (item.indexOf('embed.js') !== -1) index = i;\n    });\n    $331bd445235135e6$var$embedUrl = $331bd445235135e6$var$getBaseUrl(match[index]);\n    return $331bd445235135e6$var$embedUrl;\n}\n\n\n\nvar $1mH1z = parcelRequire(\"1mH1z\");\n\nvar $1C8RU = parcelRequire(\"1C8RU\");\n\nvar $iVf04 = parcelRequire(\"iVf04\");\n\nvar $7jh4K = parcelRequire(\"7jh4K\");\n\nvar $72Jv0 = parcelRequire(\"72Jv0\");\n// only one instance can exist\nvar $857b3526238e92d2$var$wrapperCreated = false;\n// add missing props. modifies project object\nfunction $857b3526238e92d2$var$processProject(project) {\n    if (!project) return;\n    project.layers.forEach(function(layer) {\n        layer.isVisible = layer.isVisible === undefined ? true : layer.isVisible;\n    });\n}\n\nvar $857b3526238e92d2$export$3d00aece85073019 = /*#__PURE__*/ function() {\n    \"use strict\";\n    function EmbedWrapper(p) {\n        var _this = this;\n        (0, $cx0mh._)(this, EmbedWrapper);\n        this.psds = [] // if instance not loaded yet, these are psds to be read\n        ;\n        this.getPNG = undefined;\n        this.getPSD = undefined;\n        if ($857b3526238e92d2$var$wrapperCreated) throw new Error('Already created an embed');\n        $857b3526238e92d2$var$wrapperCreated = true;\n        $857b3526238e92d2$var$processProject(p.project);\n        p = (0, $4EWN2._)((0, $cL71g._)({}, p), {\n            embedUrl: p.embedUrl ? p.embedUrl : (0, $331bd445235135e6$export$bc5948d2034163b0)()\n        });\n        (function() {\n            return (/*#__PURE__*/ 0, /*#__PURE__*/ $1LaJZ._)(function() {\n                var _this, loadingScreen, loadingStyleArr, i, mainEmbed;\n                return (0, $2gUX3.__generator)(this, function(_state) {\n                    switch(_state.label){\n                        case 0:\n                            _this = this;\n                            return [\n                                4,\n                                (0, $1mH1z.initLANG)()\n                            ];\n                        case 1:\n                            _state.sent();\n                            // loading screen\n                            loadingScreen = document.createElement('div');\n                            loadingStyleArr = [\n                                [\n                                    'position',\n                                    'fixed'\n                                ],\n                                [\n                                    'left',\n                                    '0'\n                                ],\n                                [\n                                    'top',\n                                    '0'\n                                ],\n                                [\n                                    'width',\n                                    '100vw'\n                                ],\n                                [\n                                    'height',\n                                    '100vh'\n                                ],\n                                [\n                                    'display',\n                                    'flex'\n                                ],\n                                [\n                                    'alignItems',\n                                    'center'\n                                ],\n                                [\n                                    'justifyContent',\n                                    'center'\n                                ],\n                                [\n                                    'flexDirection',\n                                    'column'\n                                ],\n                                [\n                                    'background',\n                                    (0, $1C8RU.THEME).isDark() ? 'rgb(33, 33, 33)' : 'rgb(158,158,158)'\n                                ],\n                                [\n                                    'fontFamily',\n                                    'system-ui, sans-serif'\n                                ],\n                                [\n                                    'fontSize',\n                                    '30px'\n                                ],\n                                [\n                                    'color',\n                                    '#e3e3e3'\n                                ]\n                            ];\n                            for(i = 0; i < loadingStyleArr.length; i++)loadingScreen.style[loadingStyleArr[i][0]] = loadingStyleArr[i][1];\n                            loadingScreen.id = 'loading-screen';\n                            loadingScreen.append((0, $72Jv0.createImage)({\n                                width: 150,\n                                height: 54,\n                                alt: 'Logo',\n                                src: p.logoImg ? p.logoImg : (0, (/*@__PURE__*/$parcel$interopDefault($ci8rB))),\n                                css: {\n                                    filter: (0, $1C8RU.THEME).isDark() && !p.logoImg ? 'invert(1)' : undefined\n                                }\n                            }));\n                            loadingScreen.innerHTML += '<div style=\"margin: 15px 0 0 0; display: flex; align-items: center\">\\n<div class=\"spinner\"></div>\\n<span id=\"loading-screen-text\">' + (0, $1mH1z.LANG)('embed-init-loading') + '</span>' + '</div>';\n                            document.body.appendChild(loadingScreen);\n                            return [\n                                4,\n                                (parcelRequire(\"ar0Oi\"))\n                            ];\n                        case 2:\n                            mainEmbed = _state.sent();\n                            this.instance = new mainEmbed.Embed(p);\n                            this.getPNG = function() {\n                                return _this.instance.getPNG();\n                            };\n                            this.getPSD = function() {\n                                return _this.instance.getPSD();\n                            };\n                            if (this.project) this.instance.openProject(this.project);\n                            if (this.errorStr) this.instance.initError(this.errorStr);\n                            if (this.psds.length) this.instance.readPSDs(this.psds);\n                            return [\n                                2\n                            ];\n                    }\n                });\n            }).call(_this);\n        })();\n        // needed for uploading. load here to prevent possible timeouts due to server cold-start\n        (0, $iVf04.loadAgPsd)();\n    }\n    (0, $7h4XF._)(EmbedWrapper, [\n        {\n            key: \"openProject\",\n            value: function openProject(project) {\n                var _project_projectId;\n                var projectWithId = (0, $4EWN2._)((0, $cL71g._)({}, project), {\n                    projectId: (_project_projectId = project.projectId) !== null && _project_projectId !== void 0 ? _project_projectId : (0, $7jh4K.randomUuid)()\n                });\n                $857b3526238e92d2$var$processProject(projectWithId);\n                if (this.instance) this.instance.openProject(projectWithId);\n                else {\n                    if (this.project) throw new Error('Already called openProject');\n                    this.project = projectWithId;\n                }\n            }\n        },\n        {\n            key: \"initError\",\n            value: function initError(error) {\n                if (this.instance) this.instance.initError(error);\n                else this.errorStr = error;\n            }\n        },\n        {\n            key: \"readPSD\",\n            value: function readPSD(blob) {\n                return (/*#__PURE__*/ 0, /*#__PURE__*/ $1LaJZ._)(function() {\n                    var _this;\n                    return (0, $2gUX3.__generator)(this, function(_state) {\n                        _this = this;\n                        return [\n                            2,\n                            new Promise(function(resolve, reject) {\n                                var item = {\n                                    blob: blob,\n                                    callback: function(loadedProject) {\n                                        _this.psds.splice(_this.psds.indexOf(item), 1);\n                                        if (loadedProject) resolve(loadedProject);\n                                        else reject();\n                                    }\n                                };\n                                if (_this.instance) _this.instance.readPSDs([\n                                    item\n                                ]);\n                                else _this.psds.push(item);\n                            })\n                        ];\n                    });\n                }).call(this);\n            }\n        }\n    ]);\n    return EmbedWrapper;\n}();\n\n\n\n/**\r\n * by bitbof (bitbof.com)\r\n */ // Important to keep the initial bundle small so there can be a loading screen\n(parcelRequire(\"gcVy2\")); // loading like this gives it a hash\nObject.defineProperty(window, 'Klecks', {\n    value: (0, $857b3526238e92d2$export$3d00aece85073019)\n});\n\n})();\n//# sourceMappingURL=embed.js.map\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) resolve(value);\n    else Promise.resolve(value).then(_next, _throw);\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n\n            _next(undefined);\n        });\n    };\n}\nexport { _async_to_generator as _ };\n","function _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _class_call_check as _ };\n","function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n\n        if (\"value\" in descriptor) descriptor.writable = true;\n\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n\n    return Constructor;\n}\nexport { _create_class as _ };\n","import { _ as _define_property } from \"./_define_property.js\";\n\nfunction _object_spread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(\n                Object.getOwnPropertySymbols(source).filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n                })\n            );\n        }\n\n        ownKeys.forEach(function(key) {\n            _define_property(target, key, source[key]);\n        });\n    }\n\n    return target;\n}\nexport { _object_spread as _ };\n","function _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n    } else obj[key] = value;\n\n    return obj;\n}\nexport { _define_property as _ };\n","function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n}\nfunction _object_spread_props(target, source) {\n    source = source != null ? source : {};\n\n    if (Object.getOwnPropertyDescriptors) Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    else {\n        ownKeys(Object(source)).forEach(function(key) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n    }\n\n    return target;\n}\nexport { _object_spread_props as _ };\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","module.exports = parcelRequire.resolve(\"eHdqz\");","import { english, languages, loadLanguage, TTranslationCode } from '../../languages/languages';\nimport { LocalStorage } from '../bb/base/local-storage';\n\nexport const LS_LANGUAGE_KEY = 'klecks-language';\n\nclass LanguageStrings {\n    private data: any;\n    private listeners: (() => void)[] = [];\n    private code: string;\n\n    // ----------------------------------- public -----------------------------------\n    constructor() {\n        // need to use setLanguage for a different language\n        this.data = { ...english };\n        this.code = 'en';\n    }\n\n    async setLanguage(langCode: string): Promise<void> {\n        if (langCode === 'en') {\n            this.data = { ...english };\n        } else {\n            this.data = { ...english, ...(await loadLanguage(langCode)) };\n        }\n        this.code = langCode;\n        document.documentElement.setAttribute('lang', langCode);\n        this.listeners.forEach((item) => {\n            item();\n        });\n    }\n\n    get(code: TTranslationCode): string {\n        if (!(code in this.data)) {\n            throw new Error(\"translation code doesn't exist: \" + code);\n        }\n        return this.data[code];\n    }\n\n    getLanguage(): { code: string; name: string } {\n        return languages.find((item) => {\n            return item.code === this.code;\n        })!;\n    }\n\n    getAutoLanguage(): { code: string; name: string } {\n        const autoCode = getLanguage(false);\n        return languages.find((item) => {\n            return item.code === autoCode;\n        })!;\n    }\n\n    getCode(): string {\n        return this.code;\n    }\n\n    // get notified on language change\n    subscribe(subscriber: () => void) {\n        if (this.listeners.includes(subscriber)) {\n            return;\n        }\n        this.listeners.push(subscriber);\n    }\n\n    unsubscribe(subscriber: () => void) {\n        for (let i = 0; i < this.listeners.length; i++) {\n            if (subscriber === this.listeners[i]) {\n                this.listeners.splice(i, 1);\n                return;\n            }\n        }\n    }\n}\n\nexport function getLanguage(useLocalStorage?: boolean): string {\n    let result: string = 'en';\n\n    const langs: string[] = []; // from highest to lowest priority\n    const navLangs = navigator.languages ? navigator.languages : [navigator.language];\n    navLangs.forEach((item) => {\n        const split = item.split('-');\n        langs.push(item);\n        if (split.length === 2) {\n            langs.push(split[0]);\n        }\n    });\n\n    if (useLocalStorage) {\n        try {\n            const item = LocalStorage.getItem(LS_LANGUAGE_KEY);\n            if (item) {\n                langs.unshift(item);\n            }\n        } catch (e) {\n            // likely cookies disabled in Safari\n        }\n    }\n\n    for (let i = 0; i < langs.length; i++) {\n        const lang = langs[i];\n        const found = languages.find((item) => {\n            return item.code.toLowerCase() === lang.toLowerCase();\n        });\n        if (found) {\n            result = found.code;\n            break;\n        }\n    }\n    return result;\n}\n\nconst activeLanguageCode = getLanguage(true);\nexport const LANGUAGE_STRINGS = new LanguageStrings();\n\nexport const LANG = (code: TTranslationCode, replace?: { [key: string]: string }): string => {\n    if (replace) {\n        let result = LANGUAGE_STRINGS.get(code);\n        const keyArr = Object.keys(replace);\n        keyArr.forEach((key) => {\n            result = result.replace(`{${key}}`, replace[key]);\n        });\n        return result;\n    } else {\n        return LANGUAGE_STRINGS.get(code);\n    }\n};\n\nexport const initLANG = () => LANGUAGE_STRINGS.setLanguage(activeLanguageCode);\n","// generated from src/languages. \"npm run lang:build\" to update\n\nimport dataEn from './en.json';\n\nexport const english = dataEn;\nexport const languages: {code: string; name: string}[] = [\n    {\n        code: 'en',\n        name: 'English',\n    },\n    {\n        code: 'de',\n        name: 'Deutsch',\n    },\n    {\n        code: 'es',\n        name: 'Espaol',\n    },\n    {\n        code: 'fi',\n        name: 'suomi',\n    },\n    {\n        code: 'fr',\n        name: 'Franais',\n    },\n    {\n        code: 'hu',\n        name: 'Magyar',\n    },\n    {\n        code: 'id',\n        name: 'Bahasa Indonesia',\n    },\n    {\n        code: 'ja',\n        name: '',\n    },\n    {\n        code: 'jv',\n        name: 'Basa Jawa',\n    },\n    {\n        code: 'ko',\n        name: '',\n    },\n    {\n        code: 'lv',\n        name: 'Latvieu Valoda',\n    },\n    {\n        code: 'nl',\n        name: 'Nederlands',\n    },\n    {\n        code: 'pt-BR',\n        name: 'Portugus Brasil',\n    },\n    {\n        code: 'ru',\n        name: '',\n    },\n    {\n        code: 'su',\n        name: 'Basa Sunda',\n    },\n    {\n        code: 'sv',\n        name: 'Svenska',\n    },\n    {\n        code: 'zh-CN',\n        name: '',\n    },\n    {\n        code: 'zh-TW',\n        name: '',\n    },\n];\nexport const loadLanguage = async (code: string): Promise<Partial<Record<TTranslationCode, string>>> => {\n    if (code === 'en') {\n        return english;\n    } else if (code === 'de') {\n        return await import('./de.json');\n    } else if (code === 'es') {\n        return await import('./es.json');\n    } else if (code === 'fi') {\n        return await import('./fi.json');\n    } else if (code === 'fr') {\n        return await import('./fr.json');\n    } else if (code === 'hu') {\n        return await import('./hu.json');\n    } else if (code === 'id') {\n        return await import('./id.json');\n    } else if (code === 'ja') {\n        return await import('./ja.json');\n    } else if (code === 'jv') {\n        return await import('./jv.json');\n    } else if (code === 'ko') {\n        return await import('./ko.json');\n    } else if (code === 'lv') {\n        return await import('./lv.json');\n    } else if (code === 'nl') {\n        return await import('./nl.json');\n    } else if (code === 'pt-BR') {\n        return await import('./pt-BR.json');\n    } else if (code === 'ru') {\n        return await import('./ru.json');\n    } else if (code === 'su') {\n        return await import('./su.json');\n    } else if (code === 'sv') {\n        return await import('./sv.json');\n    } else if (code === 'zh-CN') {\n        return await import('./zh-CN.json');\n    } else if (code === 'zh-TW') {\n        return await import('./zh-TW.json');\n    }\n    throw new Error('unknown language code');\n};\n\nexport type TTranslationCode = 'switch-ui-left-right' | // Switch left/right UI\n    'toggle-show-tools' | // Show/Hide Tools\n    'scroll' | // Scroll\n    'donate' | // Donate\n    'home' | // Home\n    'modal-new-tab' | // Open in new tab\n    'tab-edit' | // Edit\n    'tab-file' | // File\n    'tool-brush' | // Brush\n    'tool-paint-bucket' | // Paint Bucket\n    'tool-gradient' | // Gradient\n    'tool-shape' | // Shape\n    'tool-text' | // Text\n    'tool-hand' | // Hand Tool\n    'tool-select' | // Select Tool\n    'tool-zoom' | // Zoom\n    'tool-more-tools' | // More Tools\n    'tool-more-tools-click-again' | // Click again for more tools\n    'undo' | // Undo\n    'redo' | // Redo\n    'brush-pen' | // Pen\n    'brush-blend' | // Blend\n    'brush-sketchy' | // Sketchy\n    'brush-pixel' | // Pixel\n    'brush-chemy' | // Chemy\n    'brush-smudge' | // Smudge\n    'brush-size' | // Size\n    'brush-blending' | // Blending\n    'brush-toggle-pressure' | // Toggle Pressure Sensitivity\n    'brush-pen-circle' | // Circle\n    'brush-pen-chalk' | // Chalk\n    'brush-pen-calligraphy' | // Calligraphy\n    'brush-pen-square' | // Square\n    'brush-sketchy-scale' | // Scale\n    'brush-pixel-dither' | // Dither\n    'brush-chemy-fill' | // Fill\n    'brush-chemy-stroke' | // Stroke\n    'brush-chemy-mirror-x' | // Horizontal Symmetry\n    'brush-chemy-mirror-y' | // Vertical Symmetry\n    'brush-chemy-gradient' | // Gradient\n    'brush-eraser-transparent-bg' | // Transparent Background\n    'stabilizer' | // Stabilizer\n    'stabilizer-title' | // Stroke Stabilizer\n    'eyedropper' | // Eyedropper\n    'secondary-color' | // Secondary Color\n    'manual-color-input' | // Manual Color Input\n    'mci-hex' | // Hex\n    'mci-copy' | // Copy\n    'modal-ok' | // Ok\n    'modal-cancel' | // Cancel\n    'modal-close' | // Close\n    'layers-active-layer' | // Active Layer\n    'layers-layer' | // Layer\n    'layers-copy' | // copy\n    'layers-blending' | // Blending\n    'layers-new' | // New Layer\n    'layers-remove' | // Remove Layer\n    'layers-duplicate' | // Duplicate Layer\n    'layers-merge' | // Merge with layer below\n    'layers-clear' | // Clear layer\n    'layers-merge-advanced' | // Advanced merge\n    'layers-merge-all' | // Merge all\n    'layers-rename' | // Rename\n    'layers-active-layer-visible' | // Active layer is visible\n    'layers-active-layer-hidden' | // Active layer is hidden\n    'layers-visibility-toggle' | // Layer Visibility\n    'layers-blend-normal' | // normal\n    'layers-blend-darken' | // darken\n    'layers-blend-multiply' | // multiply\n    'layers-blend-color-burn' | // color burn\n    'layers-blend-lighten' | // lighten\n    'layers-blend-screen' | // screen\n    'layers-blend-color-dodge' | // color dodge\n    'layers-blend-overlay' | // overlay\n    'layers-blend-soft-light' | // soft light\n    'layers-blend-hard-light' | // hard light\n    'layers-blend-difference' | // difference\n    'layers-blend-exclusion' | // exclusion\n    'layers-blend-hue' | // hue\n    'layers-blend-saturation' | // saturation\n    'layers-blend-color' | // color\n    'layers-blend-luminosity' | // luminosity\n    'layers-rename-title' | // Rename Layer\n    'layers-rename-name' | // Name\n    'layers-rename-clear' | // Clear Name\n    'layers-rename-sketch' | // Sketch\n    'layers-rename-colors' | // Colors\n    'layers-rename-shading' | // Shading\n    'layers-rename-lines' | // Lines\n    'layers-rename-effects' | // Effects\n    'layers-rename-foreground' | // Foreground\n    'layers-merge-modal-title' | // Merge/Mix Layers\n    'layers-merge-description' | // Merges the selected layer with the one underneath. Select the mix mode:\n    'file-no-autosave' | // No autosave, no cloud storage\n    'file-new' | // New\n    'file-import' | // Import\n    'file-save' | // Save\n    'file-format' | // File Format\n    'file-show-save-dialog' | // Show save dialog\n    'file-copy' | // Copy\n    'file-copy-title' | // Copy To Clipboard\n    'file-paste' | // Paste\n    'file-share' | // Share\n    'file-storage' | // Browser Storage\n    'file-storage-about' | // About Browser Storage\n    'file-storage-cant-access' | // Can't access storage.\n    'file-storage-empty' | // Empty\n    'file-storage-store' | // Store\n    'file-storage-open' | // Open\n    'file-storage-open-confirmation' | // This image is already open in another tab. Open it here too?\n    'file-storage-open-failed' | // Failed to load.\n    'file-storage-clear' | // Clear\n    'file-storage-clear-prompt' | // Clear Browser Storage? Clearing can not be undone.\n    'file-storage-storing' | // Storing\n    'file-storage-overwrite' | // Overwrite\n    'file-storage-overwrite-confirm' | // Overwrite Browser Storage? Overwritten data will be permanently deleted.\n    'file-storage-min-ago' | // {x}min ago\n    'file-storage-hours-ago' | // {x}h ago\n    'file-storage-days-ago' | // {x}d ago\n    'file-storage-month-ago' | // > 1month ago\n    'file-storage-restored' | // Restored from Browser Storage\n    'file-storage-stored' | // Stored to Browser Storage\n    'file-storage-failed' | // Failed to store to Browser Storage\n    'file-storage-failed-1' | // Failed to store. Possible causes:\n    'file-storage-failed-2' | // Out of disk space\n    'file-storage-failed-3' | // Storage disabled in incognito tab\n    'file-storage-failed-4' | // Browser doesn't support storage\n    'file-storage-failed-clear' | // Failed to clear.\n    'file-upload' | // Upload\n    'tab-recovery-recover-tabs' | // Recover closed tabs\n    'tab-recovery-explanation' | // Recovery data is only kept for a little while. Save to ensure your work is not lost.\n    'tab-recovery-total-quota-label' | // Total:\n    'tab-recovery-empty' | // Nothing to recover.\n    'tab-recovery-recover' | // Recover\n    'tab-recovery-delete' | // Delete\n    'tab-recovery-delete-confirmation' | // Delete this recovery? Deletion can not be undone.\n    'tab-recovery-failed-to-recover' | // Failed to recover tab.\n    'tab-recovery-recovered' | // Tab recovered.\n    'cleared-layer' | // Cleared layer\n    'cleared-selected-area' | // Cleared selected area\n    'filled' | // Filled\n    'filled-selected-area' | // Filled selection\n    'new-title' | // New Image\n    'new-current' | // Current\n    'new-fit' | // Fit\n    'new-oversize' | // Oversize\n    'new-square' | // Square\n    'new-landscape' | // Landscape\n    'new-portrait' | // Portrait\n    'new-screen' | // Screen\n    'new-video' | // Video\n    'new-din-paper' | // DIN Paper\n    'new-px' | // px\n    'new-ratio' | // Ratio\n    'upload-title' | // Upload to Imgur\n    'upload-link-notice' | // Anyone with the link to your uploaded image will be able to view it.\n    'upload-name' | // Title\n    'upload-title-untitled' | // Untitled\n    'upload-caption' | // Caption\n    'upload-submit' | // Upload\n    'upload-uploading' | // Uploading...\n    'upload-success' | // Upload Successful\n    'upload-failed' | // Upload failed.\n    'upload-delete' | // To delete your image from Imgur visit:\n    'cropcopy-title-copy' | // Copy To Clipboard\n    'cropcopy-title-crop' | // Crop\n    'cropcopy-mask' | // Mask unselected\n    'cropcopy-click-hold' | // Right-click or press hold to copy.\n    'cropcopy-btn-copy' | // To Clipboard\n    'cropcopy-copied' | // Copied.\n    'cropcopy-btn-crop' | // Apply Crop\n    'crop-drag-to-crop' | // Drag to crop\n    'filter-crop-extend' | // Crop/Extend\n    'filter-flip' | // Flip\n    'filter-perspective' | // Perspective\n    'filter-resize' | // Resize\n    'filter-rotate' | // Rotate\n    'filter-transform' | // Transform\n    'filter-bright-contrast' | // Bright/Contrast\n    'filter-curves' | // Curves\n    'filter-hue-sat' | // Hue/Saturation\n    'filter-invert' | // Invert\n    'filter-tilt-shift' | // Tilt Shift\n    'filter-to-alpha' | // To Alpha\n    'filter-triangle-blur' | // Triangle Blur\n    'filter-unsharp-mask' | // Unsharp Mask\n    'filter-crop-title' | // Crop / Extend\n    'filter-crop-description' | // Crop or extend the image.\n    'filter-crop-left' | // Left\n    'filter-crop-right' | // Right\n    'filter-crop-top' | // Top\n    'filter-crop-bottom' | // Bottom\n    'filter-crop-rule-thirds' | // Rule of Thirds\n    'filter-crop-fill' | // Fill\n    'filter-flip-title' | // Flip\n    'filter-flip-description' | // Flips layer or whole image.\n    'filter-flip-horizontal' | // Horizontal\n    'filter-flip-vertical' | // Vertical\n    'filter-flip-image' | // Flip Image\n    'filter-flip-layer' | // Flip Layer\n    'filter-perspective-title' | // Perspective\n    'filter-perspective-description' | // Transforms the selected layer.\n    'filter-resize-title' | // Resize\n    'filter-resize-description' | // Resizes the image.\n    'filter-rotate-title' | // Rotate\n    'filter-rotate-description' | // Rotates the image.\n    'filter-transform-empty' | // Layer is empty.\n    'filter-transform-empty-selection' | // Layer is empty in selected area.\n    'filter-transform-title' | // Transform\n    'filter-transform-description' | // Transforms selected layer. Hold Shift for additional behavior.\n    'filter-transform-rotation' | // Rotation\n    'filter-transform-flip' | // Flip\n    'filter-transform-center' | // Center\n    'filter-transform-constrain' | // Constrain\n    'filter-transform-snap' | // Snap\n    'filter-transform-snap-title' | // Snap Rotation And Position\n    'filter-bright-contrast-title' | // Brightness / Contrast\n    'filter-bright-contrast-description' | // Change brightness and contrast for the selected layer.\n    'filter-bright-contrast-brightness' | // Brightness\n    'filter-bright-contrast-contrast' | // Contrast\n    'filter-curves-title' | // Curves\n    'filter-curves-description' | // Apply curves on the selected layer.\n    'filter-curves-all' | // All\n    'filter-hue-sat-title' | // Hue / Saturation\n    'filter-hue-sat-description' | // Change hue and saturation for the selected layer.\n    'filter-hue-sat-hue' | // Hue\n    'filter-hue-sat-saturation' | // Saturation\n    'filter-applied' | // applied\n    'filter-tilt-shift-title' | // Tilt Shift\n    'filter-tilt-shift-description' | // Applies tilt shift on the selected layer.\n    'filter-tilt-shift-blur' | // Blur Radius\n    'filter-tilt-shift-gradient' | // Gradient Radius\n    'filter-to-alpha-title' | // To Alpha\n    'filter-to-alpha-description' | // Generates alpha channel for selected layer from:\n    'filter-to-alpha-inverted-lum' | // Inverted Luminance\n    'filter-to-alpha-lum' | // Luminance\n    'filter-to-alpha-replace' | // Replace RGB\n    'filter-triangle-blur-title' | // Triangle Blur\n    'filter-triangle-blur-description' | // Applies triangle blur on the selected layer.\n    'filter-unsharp-mask-title' | // Unsharp Mask\n    'filter-unsharp-mask-description' | // Sharpens the selected layer by scaling pixels away from the average of their neighbors.\n    'filter-unsharp-mask-strength' | // Strength\n    'filter-grid' | // Grid\n    'filter-grid-description' | // Draws grid on selected layer.\n    'filter-noise' | // Noise\n    'filter-noise-description' | // Adds noise to selected layer.\n    'filter-noise-scale' | // Scale\n    'filter-noise-alpha' | // Alpha\n    'filter-pattern' | // Pattern\n    'filter-pattern-description' | // Generates pattern on selected layer. Drag the preview for further controls.\n    'filter-distort' | // Distort\n    'filter-distort-description' | // Distorts the selected layer.\n    'filter-distort-phase' | // Phase\n    'filter-distort-stepsize' | // Step Size\n    'filter-distort-sync-xy' | // Sync XY\n    'filter-vanish-point' | // Vanish Point\n    'filter-vanish-point-title' | // Vanishing Point\n    'filter-vanish-point-description' | // Adds vanishing point to selected layer. Drag preview to move.\n    'filter-vanish-point-lines' | // Lines\n    'dropper-drop' | // Drop to import\n    'dropper-as-image' | // As New Image\n    'dropper-as-layer' | // As Layer\n    'import-opening' | // Opening file...\n    'import-title' | // Import Image\n    'import-too-large' | // Image too large, will be downscaled.\n    'import-btn-as-layer' | // As Layer\n    'import-btn-as-image' | // As Image\n    'import-as-layer-title' | // Import Image as New Layer\n    'import-as-layer-description' | // Adjust the position of the imported image.\n    'import-as-layer-limit-reached' | // Layer limit reached. Image will be placed on existing layer.\n    'import-as-layer-fit' | // Fit\n    'import-flatten' | // Flatten image\n    'import-unsupported-file' | // Unsupported file type. See Help for supported types.\n    'import-broken-file' | // Couldn't load image. File might be corrupted.\n    'import-psd-unsupported' | // Unsupported features. PSD had to be flattened.\n    'import-psd-limited-support' | // PSD support is limited. Flattened will more likely look correct.\n    'import-psd-too-large' | // Image exceeds maximum dimensions of {x} x {x} pixels. Unable to import.\n    'import-psd-size' | // Image size\n    'clipboard-read-fail' | // Failed to read from clipboard.\n    'clipboard-no-image' | // No image found in clipboard.\n    'hand-reset' | // Reset\n    'hand-fit' | // Fit\n    'hand-inertia-scrolling' | // Inertia Scrolling\n    'bucket-tolerance' | // Tolerance\n    'bucket-sample' | // Sample\n    'bucket-sample-title' | // Which layers to sample color from\n    'bucket-sample-all' | // All\n    'bucket-sample-active' | // Active\n    'bucket-sample-above' | // Above\n    'bucket-grow' | // Grow\n    'bucket-grow-title' | // Grow filled area (in pixels)\n    'bucket-contiguous' | // Contiguous\n    'bucket-contiguous-title' | // Only fill connected areas\n    'gradient-linear' | // Linear\n    'gradient-linear-mirror' | // Linear-Mirror\n    'gradient-radial' | // Radial\n    'shape-stroke' | // Stroke\n    'shape-fill' | // Fill\n    'shape-rect' | // Rectangle\n    'shape-ellipse' | // Ellipse\n    'shape-line' | // Line\n    'shape-line-width' | // Line Width\n    'shape-outwards' | // Outwards\n    'shape-fixed' | // Fixed 1:1\n    'shape-auto-pan' | // Auto-pan\n    'shape-auto-pan-title' | // Automatically moves as you draw\n    'text-instruction' | // Click canvas to place text\n    'text-title' | // Add Text\n    'text-text' | // Text\n    'text-font' | // Font\n    'text-placeholder' | // Your text\n    'text-color' | // Color\n    'text-size' | // Size\n    'text-line-height' | // Line Height\n    'text-letter-spacing' | // Letter Spacing\n    'text-left' | // Left\n    'text-center' | // Center\n    'text-right' | // Right\n    'text-italic' | // Italic\n    'text-bold' | // Bold\n    'text-failed-import' | // Failed to import the following files:\n    'text-supported-formats' | // Supported formats:\n    'select-select' | // Select\n    'select-transform' | // Transform\n    'select-lasso' | // Lasso\n    'select-polygon' | // Polygon\n    'select-boolean-replace' | // Replace\n    'select-boolean-add' | // Add\n    'select-boolean-subtract' | // Subtract\n    'select-all' | // All\n    'select-invert' | // Invert\n    'select-reset' | // Reset\n    'select-fill' | // Fill\n    'select-erase' | // Erase\n    'select-transform-clone' | // Clone\n    'select-transform-clone-applied' | // Cloned\n    'select-transform-move-to-layer' | // Move to layer:\n    'select-transform-applied' | // Transformation applied\n    'select-transform-empty' | // Selected area on active layer is empty.\n    'save-reminder-title' | // Unsaved Work\n    'save-reminder-text' | // Image was not saved in {a} minutes{b}. Save now to prevent eventual loss.\n    'save-reminder-save-psd' | // Save As PSD\n    'save-reminder-psd-layers' | // PSD will remember all layers.\n    'backup-drawing' | // You can backup your drawing.\n    'submit' | // Submit\n    'submit-title' | // Submit Drawing\n    'submit-prompt' | // Submit drawing?\n    'submit-submitting' | // Submitting\n    'embed-init-loading' | // Loading app\n    'embed-init-waiting' | // Waiting for image\n    'help' | // Help\n    'tab-settings' | // Settings\n    'settings-language' | // Language\n    'settings-language-reload' | // Will update after reloading.\n    'settings-theme' | // Theme\n    'settings-save-reminder-label' | // Save Reminder\n    'settings-save-reminder-disabled' | // disabled\n    'settings-save-reminder-confirm-title' | // Turn off Save Reminder?\n    'settings-save-reminder-confirm-a' | // There is no autosave and browser tabs don't last forever. If you don't periodically save you will likely lose work.\n    'settings-save-reminder-confirm-b' | // Disable at your own risk?\n    'settings-save-reminder-confirm-disable' | // Disable\n    'theme-dark' | // Dark\n    'theme-light' | // Light\n    'terms-of-service' | // Terms of Service\n    'licenses' | // Licenses\n    'source-code' | // Source Code\n    'auto' | // auto\n    'zoom-in' | // Zoom In\n    'zoom-out' | // Zoom Out\n    'radius' | // Radius\n    'constrain-proportions' | // Constrain Proportions\n    'width' | // Width\n    'height' | // Height\n    'opacity' | // Opacity\n    'scatter' | // Scatter\n    'red' | // Red\n    'green' | // Green\n    'blue' | // Blue\n    'eraser' | // Eraser\n    'center' | // Center\n    'layers' | // Layers\n    'background' | // Background\n    'scaling-algorithm' | // Scaling Algorithm\n    'algorithm-smooth' | // Smooth\n    'algorithm-pixelated' | // Pixelated\n    'preview' | // Preview\n    'angle-snap' | // Snap\n    'angle-snap-title' | // 45 Angle Snapping\n    'lock-alpha' | // Lock Alpha\n    'lock-alpha-title' | // Locks layer's alpha channel\n    'reverse' | // Reverse\n    'compare-before' | // Before\n    'compare-after' | // After\n    'loading' | // Loading\n    'more' | // More\n    'x-minutes' | // {x}min\n    'wip' | // Work in progress\n    'browser-zoom-help' | // Double-tap or pinch-out to reset browser zoom.\n    'dismiss'; // Dismiss\n","{\"switch-ui-left-right\":\"Switch left/right UI\",\"toggle-show-tools\":\"Show/Hide Tools\",\"scroll\":\"Scroll\",\"donate\":\"Donate\",\"home\":\"Home\",\"modal-new-tab\":\"Open in new tab\",\"tab-edit\":\"Edit\",\"tab-file\":\"File\",\"tool-brush\":\"Brush\",\"tool-paint-bucket\":\"Paint Bucket\",\"tool-gradient\":\"Gradient\",\"tool-shape\":\"Shape\",\"tool-text\":\"Text\",\"tool-hand\":\"Hand Tool\",\"tool-select\":\"Select Tool\",\"tool-zoom\":\"Zoom\",\"tool-more-tools\":\"More Tools\",\"tool-more-tools-click-again\":\"Click again for more tools\",\"undo\":\"Undo\",\"redo\":\"Redo\",\"brush-pen\":\"Pen\",\"brush-blend\":\"Blend\",\"brush-sketchy\":\"Sketchy\",\"brush-pixel\":\"Pixel\",\"brush-chemy\":\"Chemy\",\"brush-smudge\":\"Smudge\",\"brush-size\":\"Size\",\"brush-blending\":\"Blending\",\"brush-toggle-pressure\":\"Toggle Pressure Sensitivity\",\"brush-pen-circle\":\"Circle\",\"brush-pen-chalk\":\"Chalk\",\"brush-pen-calligraphy\":\"Calligraphy\",\"brush-pen-square\":\"Square\",\"brush-sketchy-scale\":\"Scale\",\"brush-pixel-dither\":\"Dither\",\"brush-chemy-fill\":\"Fill\",\"brush-chemy-stroke\":\"Stroke\",\"brush-chemy-mirror-x\":\"Horizontal Symmetry\",\"brush-chemy-mirror-y\":\"Vertical Symmetry\",\"brush-chemy-gradient\":\"Gradient\",\"brush-eraser-transparent-bg\":\"Transparent Background\",\"stabilizer\":\"Stabilizer\",\"stabilizer-title\":\"Stroke Stabilizer\",\"eyedropper\":\"Eyedropper\",\"secondary-color\":\"Secondary Color\",\"manual-color-input\":\"Manual Color Input\",\"mci-hex\":\"Hex\",\"mci-copy\":\"Copy\",\"modal-ok\":\"Ok\",\"modal-cancel\":\"Cancel\",\"modal-close\":\"Close\",\"layers-active-layer\":\"Active Layer\",\"layers-layer\":\"Layer\",\"layers-copy\":\"copy\",\"layers-blending\":\"Blending\",\"layers-new\":\"New Layer\",\"layers-remove\":\"Remove Layer\",\"layers-duplicate\":\"Duplicate Layer\",\"layers-merge\":\"Merge with layer below\",\"layers-clear\":\"Clear layer\",\"layers-merge-advanced\":\"Advanced merge\",\"layers-merge-all\":\"Merge all\",\"layers-rename\":\"Rename\",\"layers-active-layer-visible\":\"Active layer is visible\",\"layers-active-layer-hidden\":\"Active layer is hidden\",\"layers-visibility-toggle\":\"Layer Visibility\",\"layers-blend-normal\":\"normal\",\"layers-blend-darken\":\"darken\",\"layers-blend-multiply\":\"multiply\",\"layers-blend-color-burn\":\"color burn\",\"layers-blend-lighten\":\"lighten\",\"layers-blend-screen\":\"screen\",\"layers-blend-color-dodge\":\"color dodge\",\"layers-blend-overlay\":\"overlay\",\"layers-blend-soft-light\":\"soft light\",\"layers-blend-hard-light\":\"hard light\",\"layers-blend-difference\":\"difference\",\"layers-blend-exclusion\":\"exclusion\",\"layers-blend-hue\":\"hue\",\"layers-blend-saturation\":\"saturation\",\"layers-blend-color\":\"color\",\"layers-blend-luminosity\":\"luminosity\",\"layers-rename-title\":\"Rename Layer\",\"layers-rename-name\":\"Name\",\"layers-rename-clear\":\"Clear Name\",\"layers-rename-sketch\":\"Sketch\",\"layers-rename-colors\":\"Colors\",\"layers-rename-shading\":\"Shading\",\"layers-rename-lines\":\"Lines\",\"layers-rename-effects\":\"Effects\",\"layers-rename-foreground\":\"Foreground\",\"layers-merge-modal-title\":\"Merge/Mix Layers\",\"layers-merge-description\":\"Merges the selected layer with the one underneath. Select the mix mode:\",\"file-no-autosave\":\"No autosave, no cloud storage\",\"file-new\":\"New\",\"file-import\":\"Import\",\"file-save\":\"Save\",\"file-format\":\"File Format\",\"file-show-save-dialog\":\"Show save dialog\",\"file-copy\":\"Copy\",\"file-copy-title\":\"Copy To Clipboard\",\"file-paste\":\"Paste\",\"file-share\":\"Share\",\"file-storage\":\"Browser Storage\",\"file-storage-about\":\"About Browser Storage\",\"file-storage-cant-access\":\"Can't access storage.\",\"file-storage-empty\":\"Empty\",\"file-storage-store\":\"Store\",\"file-storage-open\":\"Open\",\"file-storage-open-confirmation\":\"This image is already open in another tab. Open it here too?\",\"file-storage-open-failed\":\"Failed to load.\",\"file-storage-clear\":\"Clear\",\"file-storage-clear-prompt\":\"Clear Browser Storage? Clearing can not be undone.\",\"file-storage-storing\":\"Storing\",\"file-storage-overwrite\":\"Overwrite\",\"file-storage-overwrite-confirm\":\"Overwrite Browser Storage? Overwritten data will be permanently deleted.\",\"file-storage-min-ago\":\"{x}min ago\",\"file-storage-hours-ago\":\"{x}h ago\",\"file-storage-days-ago\":\"{x}d ago\",\"file-storage-month-ago\":\"> 1month ago\",\"file-storage-restored\":\"Restored from Browser Storage\",\"file-storage-stored\":\"Stored to Browser Storage\",\"file-storage-failed\":\"Failed to store to Browser Storage\",\"file-storage-failed-1\":\"Failed to store. Possible causes:\",\"file-storage-failed-2\":\"Out of disk space\",\"file-storage-failed-3\":\"Storage disabled in incognito tab\",\"file-storage-failed-4\":\"Browser doesn't support storage\",\"file-storage-failed-clear\":\"Failed to clear.\",\"file-upload\":\"Upload\",\"tab-recovery-recover-tabs\":\"Recover closed tabs\",\"tab-recovery-explanation\":\"Recovery data is only kept for a little while. Save to ensure your work is not lost.\",\"tab-recovery-total-quota-label\":\"Total:\",\"tab-recovery-empty\":\"Nothing to recover.\",\"tab-recovery-recover\":\"Recover\",\"tab-recovery-delete\":\"Delete\",\"tab-recovery-delete-confirmation\":\"Delete this recovery? Deletion can not be undone.\",\"tab-recovery-failed-to-recover\":\"Failed to recover tab.\",\"tab-recovery-recovered\":\"Tab recovered.\",\"cleared-layer\":\"Cleared layer\",\"cleared-selected-area\":\"Cleared selected area\",\"filled\":\"Filled\",\"filled-selected-area\":\"Filled selection\",\"new-title\":\"New Image\",\"new-current\":\"Current\",\"new-fit\":\"Fit\",\"new-oversize\":\"Oversize\",\"new-square\":\"Square\",\"new-landscape\":\"Landscape\",\"new-portrait\":\"Portrait\",\"new-screen\":\"Screen\",\"new-video\":\"Video\",\"new-din-paper\":\"DIN Paper\",\"new-px\":\"px\",\"new-ratio\":\"Ratio\",\"upload-title\":\"Upload to Imgur\",\"upload-link-notice\":\"Anyone with the link to your uploaded image will be able to view it.\",\"upload-name\":\"Title\",\"upload-title-untitled\":\"Untitled\",\"upload-caption\":\"Caption\",\"upload-submit\":\"Upload\",\"upload-uploading\":\"Uploading...\",\"upload-success\":\"Upload Successful\",\"upload-failed\":\"Upload failed.\",\"upload-delete\":\"To delete your image from Imgur visit:\",\"cropcopy-title-copy\":\"Copy To Clipboard\",\"cropcopy-title-crop\":\"Crop\",\"cropcopy-mask\":\"Mask unselected\",\"cropcopy-click-hold\":\"Right-click or press hold to copy.\",\"cropcopy-btn-copy\":\"To Clipboard\",\"cropcopy-copied\":\"Copied.\",\"cropcopy-btn-crop\":\"Apply Crop\",\"crop-drag-to-crop\":\"Drag to crop\",\"filter-crop-extend\":\"Crop/Extend\",\"filter-flip\":\"Flip\",\"filter-perspective\":\"Perspective\",\"filter-resize\":\"Resize\",\"filter-rotate\":\"Rotate\",\"filter-transform\":\"Transform\",\"filter-bright-contrast\":\"Bright/Contrast\",\"filter-curves\":\"Curves\",\"filter-hue-sat\":\"Hue/Saturation\",\"filter-invert\":\"Invert\",\"filter-tilt-shift\":\"Tilt Shift\",\"filter-to-alpha\":\"To Alpha\",\"filter-triangle-blur\":\"Triangle Blur\",\"filter-unsharp-mask\":\"Unsharp Mask\",\"filter-crop-title\":\"Crop / Extend\",\"filter-crop-description\":\"Crop or extend the image.\",\"filter-crop-left\":\"Left\",\"filter-crop-right\":\"Right\",\"filter-crop-top\":\"Top\",\"filter-crop-bottom\":\"Bottom\",\"filter-crop-rule-thirds\":\"Rule of Thirds\",\"filter-crop-fill\":\"Fill\",\"filter-flip-title\":\"Flip\",\"filter-flip-description\":\"Flips layer or whole image.\",\"filter-flip-horizontal\":\"Horizontal\",\"filter-flip-vertical\":\"Vertical\",\"filter-flip-image\":\"Flip Image\",\"filter-flip-layer\":\"Flip Layer\",\"filter-perspective-title\":\"Perspective\",\"filter-perspective-description\":\"Transforms the selected layer.\",\"filter-resize-title\":\"Resize\",\"filter-resize-description\":\"Resizes the image.\",\"filter-rotate-title\":\"Rotate\",\"filter-rotate-description\":\"Rotates the image.\",\"filter-transform-empty\":\"Layer is empty.\",\"filter-transform-empty-selection\":\"Layer is empty in selected area.\",\"filter-transform-title\":\"Transform\",\"filter-transform-description\":\"Transforms selected layer. Hold Shift for additional behavior.\",\"filter-transform-rotation\":\"Rotation\",\"filter-transform-flip\":\"Flip\",\"filter-transform-center\":\"Center\",\"filter-transform-constrain\":\"Constrain\",\"filter-transform-snap\":\"Snap\",\"filter-transform-snap-title\":\"Snap Rotation And Position\",\"filter-bright-contrast-title\":\"Brightness / Contrast\",\"filter-bright-contrast-description\":\"Change brightness and contrast for the selected layer.\",\"filter-bright-contrast-brightness\":\"Brightness\",\"filter-bright-contrast-contrast\":\"Contrast\",\"filter-curves-title\":\"Curves\",\"filter-curves-description\":\"Apply curves on the selected layer.\",\"filter-curves-all\":\"All\",\"filter-hue-sat-title\":\"Hue / Saturation\",\"filter-hue-sat-description\":\"Change hue and saturation for the selected layer.\",\"filter-hue-sat-hue\":\"Hue\",\"filter-hue-sat-saturation\":\"Saturation\",\"filter-applied\":\"applied\",\"filter-tilt-shift-title\":\"Tilt Shift\",\"filter-tilt-shift-description\":\"Applies tilt shift on the selected layer.\",\"filter-tilt-shift-blur\":\"Blur Radius\",\"filter-tilt-shift-gradient\":\"Gradient Radius\",\"filter-to-alpha-title\":\"To Alpha\",\"filter-to-alpha-description\":\"Generates alpha channel for selected layer from:\",\"filter-to-alpha-inverted-lum\":\"Inverted Luminance\",\"filter-to-alpha-lum\":\"Luminance\",\"filter-to-alpha-replace\":\"Replace RGB\",\"filter-triangle-blur-title\":\"Triangle Blur\",\"filter-triangle-blur-description\":\"Applies triangle blur on the selected layer.\",\"filter-unsharp-mask-title\":\"Unsharp Mask\",\"filter-unsharp-mask-description\":\"Sharpens the selected layer by scaling pixels away from the average of their neighbors.\",\"filter-unsharp-mask-strength\":\"Strength\",\"filter-grid\":\"Grid\",\"filter-grid-description\":\"Draws grid on selected layer.\",\"filter-noise\":\"Noise\",\"filter-noise-description\":\"Adds noise to selected layer.\",\"filter-noise-scale\":\"Scale\",\"filter-noise-alpha\":\"Alpha\",\"filter-pattern\":\"Pattern\",\"filter-pattern-description\":\"Generates pattern on selected layer. Drag the preview for further controls.\",\"filter-distort\":\"Distort\",\"filter-distort-description\":\"Distorts the selected layer.\",\"filter-distort-phase\":\"Phase\",\"filter-distort-stepsize\":\"Step Size\",\"filter-distort-sync-xy\":\"Sync XY\",\"filter-vanish-point\":\"Vanish Point\",\"filter-vanish-point-title\":\"Vanishing Point\",\"filter-vanish-point-description\":\"Adds vanishing point to selected layer. Drag preview to move.\",\"filter-vanish-point-lines\":\"Lines\",\"dropper-drop\":\"Drop to import\",\"dropper-as-image\":\"As New Image\",\"dropper-as-layer\":\"As Layer\",\"import-opening\":\"Opening file...\",\"import-title\":\"Import Image\",\"import-too-large\":\"Image too large, will be downscaled.\",\"import-btn-as-layer\":\"As Layer\",\"import-btn-as-image\":\"As Image\",\"import-as-layer-title\":\"Import Image as New Layer\",\"import-as-layer-description\":\"Adjust the position of the imported image.\",\"import-as-layer-limit-reached\":\"Layer limit reached. Image will be placed on existing layer.\",\"import-as-layer-fit\":\"Fit\",\"import-flatten\":\"Flatten image\",\"import-unsupported-file\":\"Unsupported file type. See Help for supported types.\",\"import-broken-file\":\"Couldn't load image. File might be corrupted.\",\"import-psd-unsupported\":\"Unsupported features. PSD had to be flattened.\",\"import-psd-limited-support\":\"PSD support is limited. Flattened will more likely look correct.\",\"import-psd-too-large\":\"Image exceeds maximum dimensions of {x} x {x} pixels. Unable to import.\",\"import-psd-size\":\"Image size\",\"clipboard-read-fail\":\"Failed to read from clipboard.\",\"clipboard-no-image\":\"No image found in clipboard.\",\"hand-reset\":\"Reset\",\"hand-fit\":\"Fit\",\"hand-inertia-scrolling\":\"Inertia Scrolling\",\"bucket-tolerance\":\"Tolerance\",\"bucket-sample\":\"Sample\",\"bucket-sample-title\":\"Which layers to sample color from\",\"bucket-sample-all\":\"All\",\"bucket-sample-active\":\"Active\",\"bucket-sample-above\":\"Above\",\"bucket-grow\":\"Grow\",\"bucket-grow-title\":\"Grow filled area (in pixels)\",\"bucket-contiguous\":\"Contiguous\",\"bucket-contiguous-title\":\"Only fill connected areas\",\"gradient-linear\":\"Linear\",\"gradient-linear-mirror\":\"Linear-Mirror\",\"gradient-radial\":\"Radial\",\"shape-stroke\":\"Stroke\",\"shape-fill\":\"Fill\",\"shape-rect\":\"Rectangle\",\"shape-ellipse\":\"Ellipse\",\"shape-line\":\"Line\",\"shape-line-width\":\"Line Width\",\"shape-outwards\":\"Outwards\",\"shape-fixed\":\"Fixed 1:1\",\"shape-auto-pan\":\"Auto-pan\",\"shape-auto-pan-title\":\"Automatically moves as you draw\",\"text-instruction\":\"Click canvas to place text\",\"text-title\":\"Add Text\",\"text-text\":\"Text\",\"text-font\":\"Font\",\"text-placeholder\":\"Your text\",\"text-color\":\"Color\",\"text-size\":\"Size\",\"text-line-height\":\"Line Height\",\"text-letter-spacing\":\"Letter Spacing\",\"text-left\":\"Left\",\"text-center\":\"Center\",\"text-right\":\"Right\",\"text-italic\":\"Italic\",\"text-bold\":\"Bold\",\"text-failed-import\":\"Failed to import the following files:\",\"text-supported-formats\":\"Supported formats:\",\"select-select\":\"Select\",\"select-transform\":\"Transform\",\"select-lasso\":\"Lasso\",\"select-polygon\":\"Polygon\",\"select-boolean-replace\":\"Replace\",\"select-boolean-add\":\"Add\",\"select-boolean-subtract\":\"Subtract\",\"select-all\":\"All\",\"select-invert\":\"Invert\",\"select-reset\":\"Reset\",\"select-fill\":\"Fill\",\"select-erase\":\"Erase\",\"select-transform-clone\":\"Clone\",\"select-transform-clone-applied\":\"Cloned\",\"select-transform-move-to-layer\":\"Move to layer:\",\"select-transform-applied\":\"Transformation applied\",\"select-transform-empty\":\"Selected area on active layer is empty.\",\"save-reminder-title\":\"Unsaved Work\",\"save-reminder-text\":\"Image was not saved in {a} minutes{b}. Save now to prevent eventual loss.\",\"save-reminder-save-psd\":\"Save As PSD\",\"save-reminder-psd-layers\":\"PSD will remember all layers.\",\"backup-drawing\":\"You can backup your drawing.\",\"submit\":\"Submit\",\"submit-title\":\"Submit Drawing\",\"submit-prompt\":\"Submit drawing?\",\"submit-submitting\":\"Submitting\",\"embed-init-loading\":\"Loading app\",\"embed-init-waiting\":\"Waiting for image\",\"help\":\"Help\",\"tab-settings\":\"Settings\",\"settings-language\":\"Language\",\"settings-language-reload\":\"Will update after reloading.\",\"settings-theme\":\"Theme\",\"settings-save-reminder-label\":\"Save Reminder\",\"settings-save-reminder-disabled\":\"disabled\",\"settings-save-reminder-confirm-title\":\"Turn off Save Reminder?\",\"settings-save-reminder-confirm-a\":\"There is no autosave and browser tabs don't last forever. If you don't periodically save you will likely lose work.\",\"settings-save-reminder-confirm-b\":\"Disable at your own risk?\",\"settings-save-reminder-confirm-disable\":\"Disable\",\"theme-dark\":\"Dark\",\"theme-light\":\"Light\",\"terms-of-service\":\"Terms of Service\",\"licenses\":\"Licenses\",\"source-code\":\"Source Code\",\"auto\":\"auto\",\"zoom-in\":\"Zoom In\",\"zoom-out\":\"Zoom Out\",\"radius\":\"Radius\",\"constrain-proportions\":\"Constrain Proportions\",\"width\":\"Width\",\"height\":\"Height\",\"opacity\":\"Opacity\",\"scatter\":\"Scatter\",\"red\":\"Red\",\"green\":\"Green\",\"blue\":\"Blue\",\"eraser\":\"Eraser\",\"center\":\"Center\",\"layers\":\"Layers\",\"background\":\"Background\",\"scaling-algorithm\":\"Scaling Algorithm\",\"algorithm-smooth\":\"Smooth\",\"algorithm-pixelated\":\"Pixelated\",\"preview\":\"Preview\",\"angle-snap\":\"Snap\",\"angle-snap-title\":\"45 Angle Snapping\",\"lock-alpha\":\"Lock Alpha\",\"lock-alpha-title\":\"Locks layer's alpha channel\",\"reverse\":\"Reverse\",\"compare-before\":\"Before\",\"compare-after\":\"After\",\"loading\":\"Loading\",\"more\":\"More\",\"x-minutes\":\"{x}min\",\"wip\":\"Work in progress\",\"browser-zoom-help\":\"Double-tap or pinch-out to reset browser zoom.\",\"dismiss\":\"Dismiss\"}","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"5RGAp\"))).then(() => parcelRequire('fz5vW'));","\"use strict\";\n\nvar cacheLoader = require('../cacheLoader');\nmodule.exports = cacheLoader(function (bundle) {\n  return new Promise(function (resolve, reject) {\n    // Don't insert the same script twice (e.g. if it was already in the HTML)\n    var existingScripts = document.getElementsByTagName('script');\n    if ([].concat(existingScripts).some(function (script) {\n      return script.src === bundle;\n    })) {\n      resolve();\n      return;\n    }\n    var preloadLink = document.createElement('link');\n    preloadLink.href = bundle;\n    preloadLink.rel = 'preload';\n    preloadLink.as = 'script';\n    document.head.appendChild(preloadLink);\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.src = bundle;\n    script.onerror = function (e) {\n      var error = new TypeError(\"Failed to fetch dynamically imported module: \".concat(bundle, \". Error: \").concat(e.message));\n      script.onerror = script.onload = null;\n      script.remove();\n      reject(error);\n    };\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n});","\"use strict\";\n\nvar cachedBundles = {};\nvar cachedPreloads = {};\nvar cachedPrefetches = {};\nfunction getCache(type) {\n  switch (type) {\n    case 'preload':\n      return cachedPreloads;\n    case 'prefetch':\n      return cachedPrefetches;\n    default:\n      return cachedBundles;\n  }\n}\nmodule.exports = function (loader, type) {\n  return function (bundle) {\n    var cache = getCache(type);\n    if (cache[bundle]) {\n      return cache[bundle];\n    }\n    return cache[bundle] = loader.apply(null, arguments).catch(function (e) {\n      delete cache[bundle];\n      throw e;\n    });\n  };\n};","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"3uTpJ\"))).then(() => parcelRequire('5xWmk'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"4XbAZ\"))).then(() => parcelRequire('gFNXg'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"2bKIP\"))).then(() => parcelRequire('iGIhP'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"i0BNf\"))).then(() => parcelRequire('9105N'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"98Cvg\"))).then(() => parcelRequire('dH6Cx'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"y5edP\"))).then(() => parcelRequire('7ZPTi'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"9fDFY\"))).then(() => parcelRequire('2Ylu6'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"cW2nR\"))).then(() => parcelRequire('aeHic'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"8ucza\"))).then(() => parcelRequire('52L7X'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"f3RKT\"))).then(() => parcelRequire('hmSlK'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"fVlhe\"))).then(() => parcelRequire('cmxjs'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"kcBSP\"))).then(() => parcelRequire('6vhv2'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"4RByM\"))).then(() => parcelRequire('3bjy6'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"ap9yw\"))).then(() => parcelRequire('aWNha'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"dsJ3g\"))).then(() => parcelRequire('blNy6'));","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"lF1Tu\"))).then(() => parcelRequire('iRLcJ'));","/**\r\n * LocalStorage wrapper that does not throw exceptions.\r\n * If cookies disabled in Safari localStorage interactions throw exception \"insecure operation\"\r\n */\r\nexport class LocalStorage {\r\n    private static error: unknown | undefined;\r\n\r\n    static getItem(key: string): string | null {\r\n        // (disabled) eslint-disable-next-line no-null/no-null\r\n        let result = null;\r\n        try {\r\n            result = localStorage.getItem(key);\r\n        } catch (e) {\r\n            this.error = e;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static setItem(key: string, value: string): void {\r\n        try {\r\n            localStorage.setItem(key, value);\r\n        } catch (e) {\r\n            this.error = e;\r\n        }\r\n    }\r\n\r\n    static removeItem(key: string): void {\r\n        try {\r\n            localStorage.removeItem(key);\r\n        } catch (e) {\r\n            this.error = e;\r\n        }\r\n    }\r\n\r\n    static getError(): unknown {\r\n        return this.error;\r\n    }\r\n}\r\n","import { addIsDarkListener, isDark } from '../bb/base/base';\nimport { LocalStorage } from '../bb/base/local-storage';\n\nconst LS_THEME_KEY = 'klecks-theme';\n\nexport type TTheme = 'dark' | 'light';\ntype TThemeListener = () => void;\n\nclass Theme {\n    private storedTheme: TTheme | undefined;\n    // initialization will be overwritten.\n    private mediaQueryTheme: TTheme = 'light'; // prefers-color-scheme\n    private theme: TTheme = 'light';\n    private readonly listeners: TThemeListener[] = [];\n\n    private updateTheme(): void {\n        const oldTheme = this.theme;\n        this.theme = this.storedTheme || this.mediaQueryTheme;\n\n        if (this.theme === oldTheme) {\n            return;\n        }\n        document.body.classList.toggle('kl-theme-dark', this.theme === 'dark');\n        this.listeners.forEach((item) => item());\n    }\n\n    private readLocalStorage(): TTheme | undefined {\n        let result = LocalStorage.getItem(LS_THEME_KEY) as unknown;\n        if (!result || (typeof result === 'string' && !['dark', 'light'].includes(result))) {\n            result = undefined;\n            LocalStorage.removeItem(LS_THEME_KEY); // reset because invalid\n        }\n        return result as TTheme | undefined;\n    }\n\n    // ----------------------------------- public -----------------------------------\n    constructor() {\n        // init media query\n        this.mediaQueryTheme = isDark() ? 'dark' : 'light';\n        addIsDarkListener(() => {\n            this.mediaQueryTheme = isDark() ? 'dark' : 'light';\n            this.updateTheme();\n        });\n\n        // init local storage\n        this.storedTheme = this.readLocalStorage();\n        addEventListener('storage', (e) => {\n            if (e.key === LS_THEME_KEY) {\n                this.storedTheme = this.readLocalStorage();\n                this.updateTheme();\n            }\n        });\n\n        this.updateTheme();\n    }\n\n    isDark(): boolean {\n        return this.theme === 'dark';\n    }\n\n    addIsDarkListener(func: TThemeListener): void {\n        if (this.listeners.includes(func)) {\n            return;\n        }\n        this.listeners.push(func);\n    }\n\n    removeIsDarkListener(func: TThemeListener): void {\n        for (let i = 0; i < this.listeners.length; i++) {\n            if (this.listeners[i] === func) {\n                this.listeners.splice(i, 1);\n                return;\n            }\n        }\n    }\n\n    getMediaQueryTheme(): TTheme {\n        return this.mediaQueryTheme;\n    }\n\n    getStoredTheme(): TTheme | undefined {\n        return this.storedTheme;\n    }\n\n    setStoredTheme(theme: TTheme | undefined): void {\n        if (theme) {\n            LocalStorage.setItem(LS_THEME_KEY, theme);\n        } else {\n            LocalStorage.removeItem(LS_THEME_KEY);\n        }\n        this.storedTheme = theme;\n        this.updateTheme();\n    }\n}\n\nexport const THEME = new Theme();\n","import { TKeyString, TSize2D, TSvg, TVector2D } from '../bb-types';\n\nexport function insertAfter(referenceNode: Element, newNode: Element): void {\n    if (referenceNode.parentNode) {\n        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    }\n}\n\nexport function loadImage(im: HTMLImageElement, callback: () => void): void {\n    let counter = 0;\n\n    function check(): void {\n        if (counter === 1000) {\n            alert(\"couldn't load\");\n            return;\n        }\n        if (im.complete) {\n            counter++;\n            callback();\n        } else {\n            setTimeout(check, 1);\n        }\n    }\n\n    check();\n}\n\nexport function asyncLoadImage(src: string): Promise<HTMLImageElement> {\n    return new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => resolve(img);\n        img.onerror = reject;\n        img.src = src;\n    });\n}\n\nexport function css(el: HTMLElement | SVGElement, styleObj: Partial<CSSStyleDeclaration>): void {\n    const elStyle: any = el.style;\n    Object.keys(styleObj).forEach((key) => {\n        const property = key as keyof CSSStyleDeclaration;\n        elStyle[property] = styleObj[property];\n        if (property === 'userSelect') {\n            elStyle.webkitUserSelect = styleObj[property]; // Safari support\n        }\n    });\n}\n\nexport function setAttributes(el: Element, attrObj: TKeyString): void {\n    const keyArr = Object.keys(attrObj);\n    let keyStr;\n    for (let i = 0; i < keyArr.length; i++) {\n        keyStr = keyArr[i];\n        el.setAttribute(keyStr, attrObj[keyStr]);\n    }\n}\n\n/**\n * append a list to DOM element\n */\nexport function append(target: HTMLElement, els: (HTMLElement | string | undefined)[]): void {\n    const fragment = document.createDocumentFragment();\n    els.forEach((item) => item && fragment.append(item));\n    target.append(fragment);\n}\n\n/**\n * a needs to fit into b\n */\nexport function fitInto(aw: number, ah: number, bw: number, bh: number, min?: number): TSize2D {\n    let width = aw * bw,\n        height = ah * bw;\n    if (width > bw) {\n        height = (bw / width) * height;\n        width = bw;\n    }\n    if (height > bh) {\n        width = (bh / height) * width;\n        height = bh;\n    }\n    if (min) {\n        width = Math.max(min, width);\n        height = Math.max(min, height);\n    }\n    return { width, height };\n}\n\n/**\n * center b in a\n * @param aw\n * @param ah\n * @param bw\n * @param bh\n */\nexport function centerWithin(aw: number, ah: number, bw: number, bh: number): TVector2D {\n    return {\n        x: aw / 2 - bw / 2,\n        y: ah / 2 - bh / 2,\n    };\n}\n\nexport function getDate(): string {\n    const date = new Date();\n    const year = date.getFullYear();\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const day = date.getDate().toString().padStart(2, '0');\n    const minutes = (date.getHours() * 60 + date.getMinutes()).toString(36).padStart(3, '0');\n\n    return year + '_' + month + '_' + day + '_' + minutes + '_';\n}\n\nexport function gcd(a: number, b: number): number {\n    return b ? gcd(b, a % b) : a;\n}\n\nexport function reduce(numerator: number, denominator: number): [number, number] {\n    const g = gcd(numerator, denominator);\n    return [numerator / g, denominator / g];\n}\n\nexport function decToFraction(decimalNumber: number): [number, number] {\n    const len = decimalNumber.toString().length - 2;\n    const denominator = Math.pow(10, len);\n    const numerator = decimalNumber * denominator;\n    return reduce(numerator, denominator);\n}\n\nexport function isBlob(maybeBlob: unknown): maybeBlob is Blob {\n    return (\n        maybeBlob instanceof Blob || Object.prototype.toString.call(maybeBlob) === '[object Blob]'\n    );\n}\n\n/**\n * blobObj isn't always a Blob, but rather an object, because Blob doesn't exist.\n * @param blobObj\n * @returns {string}\n */\nexport function imageBlobToUrl(blobObj: Blob): string {\n    if (!blobObj) {\n        throw new Error('blobObj is undefined or null');\n    }\n    if (window.Blob && blobObj instanceof Blob) {\n        return URL.createObjectURL(blobObj); // object url\n    } else if (blobObj.constructor.name === 'Object') {\n        const fauxBlob = blobObj as unknown as {\n            type: string;\n            encoding: string;\n            data: string;\n        };\n        return 'data:' + fauxBlob.type + ';' + fauxBlob.encoding + ',' + fauxBlob.data; // data url\n    } else {\n        throw new Error('unknown blob format');\n    }\n}\n\nexport function dateDayDifference(dateA: string | Date, dateB: string | Date): number {\n    dateA = new Date(dateA);\n    dateB = new Date(dateB);\n    dateA.setHours(0, 0, 0, 0);\n    dateB.setHours(0, 0, 0, 0);\n    return (dateB.getTime() - dateA.getTime()) / (1000 * 60 * 60 * 24);\n}\n\nexport function copyObj<T>(obj: T): T {\n    return JSON.parse(JSON.stringify(obj));\n}\n\n/**\n * triggers Web Share API - share feature on mobile devices\n * Only works if they support file sharing - e.g. Safari can't do this yet\n * only call if BB.canShareFiles() -> true\n *\n * p = {\n *     canvas: Canvas,\n *     fileName: string,\n *     title: string\n * }\n *\n * @param p\n */\nexport function shareCanvas(p: {\n    canvas: HTMLCanvasElement;\n    fileName: string;\n    title: string;\n    callback: () => void;\n}): void {\n    const mimetype = 'image/png';\n    const err = (): void => alert('sharing not supported');\n    p.canvas.toBlob(function (blob) {\n        if (!blob) {\n            err();\n            p.callback();\n            return;\n        }\n        try {\n            const filesArray = [new File([blob], p.fileName, { type: mimetype })];\n            navigator\n                .share({\n                    title: p.title,\n                    files: filesArray,\n                } as any)\n                .then(() => {})\n                .catch(() => {\n                    err();\n                });\n        } catch (e) {\n            err();\n        }\n        p.callback();\n    }, mimetype);\n}\n\n/**\n * Prevent ipad from zooming in when double tapping. iPadOS 13 bug.\n * Give it your click event\n *\n * Can have GLOBAL EFFECT!\n *\n * @param clickEvent\n * @returns {boolean}\n */\nexport function handleClick(clickEvent: Event): boolean {\n    const target: HTMLElement | null = clickEvent.target as HTMLElement;\n    if (!target) {\n        return false;\n    }\n    let el: HTMLElement | null = target;\n    while (el) {\n        if (['A', 'LABEL', 'INPUT', 'SUMMARY'].includes(el.tagName)) {\n            return true;\n        }\n        el = el.parentElement;\n    }\n    clickEvent.preventDefault();\n    return false;\n}\n\nexport function createSvg(p: TSvg): SVGElement {\n    const result = document.createElementNS('http://www.w3.org/2000/svg', p.elementType);\n    Object.entries(p).forEach(([keyStr, item]) => {\n        if (keyStr === 'childrenArr') {\n            (item as TSvg[]).forEach((child) => {\n                result.append(createSvg(child));\n            });\n        } else if (keyStr === 'css') {\n            css(result, item as Partial<CSSStyleDeclaration>);\n        } else if (keyStr !== 'elementType') {\n            result.setAttribute(keyStr, item as string);\n        }\n    });\n    return result;\n}\n\nexport function throwIfNull<T>(v: T | null): T {\n    // (disabled) eslint-disable-next-line no-null/no-null\n    if (v === null) {\n        throw new Error('value is null');\n    }\n    return v;\n}\n\nexport function throwIfUndefined<T>(v: T | undefined, message = 'value is undefined'): T {\n    if (v === undefined) {\n        throw new Error(message);\n    }\n    return v;\n}\n\nexport function nullToUndefined<T>(v: T | null): T | undefined {\n    return v === null ? undefined : v;\n}\n\nconst matchMediaDark =\n    'matchMedia' in window ? window.matchMedia('(prefers-color-scheme: dark)') : false;\n\nexport function isDark(): boolean {\n    return matchMediaDark && matchMediaDark.matches;\n}\n\nexport function addIsDarkListener(func: () => void): void {\n    matchMediaDark &&\n        'addEventListener' in matchMediaDark &&\n        matchMediaDark.addEventListener('change', func);\n}\n\nexport function removeIsDarkListener(func: () => void): void {\n    matchMediaDark &&\n        'removeEventListener' in matchMediaDark &&\n        matchMediaDark.removeEventListener('change', func);\n}\n\nexport function base64ToBlob(base64Str: string): Blob {\n    const parts = base64Str.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/) as [\n        string,\n        string,\n        string,\n        string,\n    ];\n    const binStr = atob(parts[3]);\n    const buf = new ArrayBuffer(binStr.length);\n    const view = new Uint8Array(buf);\n    for (let i = 0; i < view.length; i++) {\n        view[i] = binStr.charCodeAt(i);\n    }\n    return new Blob([view], { type: parts[1] });\n}\n\nexport function createArray<T>(length: number, fillValue: T): T[] {\n    return new Array(length).fill(fillValue);\n}\n\nexport function randomUuid(): string {\n    if ('randumUUID' in crypto) {\n        return crypto.randomUUID();\n    }\n    // fallback just for dev\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        const r = (Math.random() * 16) | 0,\n            v = c === 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n\nexport function sleep(ms: number) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\n// if a promise takes too long\nexport async function timeoutWrapper<G>(\n    promise: Promise<G>,\n    name: string,\n    timeoutMs: number = 5000,\n): Promise<G> {\n    return Promise.race<G>([\n        promise,\n        new Promise((_, reject) => {\n            setTimeout(() => reject(new Error(`Promise \"${name}\" timed out.`)), timeoutMs);\n        }),\n    ]);\n}\n\nexport async function loadSvg(url: string): Promise<SVGSVGElement> {\n    const response = await fetch(url);\n    const svgText = await response.text();\n\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(svgText, 'image/svg+xml');\n    const svg = doc.querySelector('svg');\n\n    if (!svg) {\n        throw new Error('No <svg> found in the file');\n    }\n\n    // Optional: Clone to prevent reusing the same node\n    return svg.cloneNode(true) as SVGSVGElement;\n}\n","import { _ as _array_with_holes } from \"./_array_with_holes.js\";\nimport { _ as _iterable_to_array_limit } from \"./_iterable_to_array_limit.js\";\nimport { _ as _non_iterable_rest } from \"./_non_iterable_rest.js\";\nimport { _ as _unsupported_iterable_to_array } from \"./_unsupported_iterable_to_array.js\";\n\nfunction _sliced_to_array(arr, i) {\n    return _array_with_holes(arr) || _iterable_to_array_limit(arr, i) || _unsupported_iterable_to_array(arr, i) || _non_iterable_rest();\n}\nexport { _sliced_to_array as _ };\n","function _array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nexport { _array_with_holes as _ };\n","function _iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n    if (_i == null) return;\n\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n\n    try {\n        for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally {\n        try {\n            if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n        } finally {\n            if (_d) throw _e;\n        }\n    }\n\n    return _arr;\n}\nexport { _iterable_to_array_limit as _ };\n","function _non_iterable_rest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _non_iterable_rest as _ };\n","import { _ as _array_like_to_array } from \"./_array_like_to_array.js\";\n\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\nexport { _unsupported_iterable_to_array as _ };\n","function _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n}\nexport { _array_like_to_array as _ };\n","export type TAgPsd = Awaited<typeof import('ag-psd')>;\r\nlet agPsdLazy: TAgPsd;\r\n\r\nexport async function loadAgPsd(): Promise<TAgPsd> {\r\n    if (!agPsdLazy) {\r\n        agPsdLazy = await import('ag-psd');\r\n    }\r\n    return agPsdLazy;\r\n}\r\n","module.exports = (require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"kNYzr\"))).then(() => parcelRequire('2m2jt'));","import { css } from './base';\nimport { BB } from '../bb';\n\nexport function appendTextDiv(target: HTMLElement, text: string): HTMLDivElement {\n    const div = document.createElement('div');\n    div.innerHTML = text;\n    target.append(div);\n    return div;\n}\n\n/**\n * Is an input element focused.\n * Set attribute \"data-ignore-focus\" to \"true\" if its focus should be ignored.\n *\n * @param getAll - check all, even those with \"data-ignore-focus\" = \"true\"\n */\nexport function isInputFocused(getAll: boolean = false): boolean {\n    const result: boolean =\n        !!document.activeElement &&\n        ['INPUT', 'TEXTAREA', 'SELECT'].includes(document.activeElement.tagName);\n    if (getAll) {\n        return result;\n    } else {\n        return result && !document.activeElement?.getAttribute('data-ignore-focus');\n    }\n}\n\nexport function unfocusAnyInput(): void {\n    if (isInputFocused(true)) {\n        /*\n            Unfocus anything that is focused.\n\n            If an Input is focused in Firefox, and it gets detached from the DOM via a Node\n            that isn't its direct parent, then Firefox will keep anything attached to this\n            Input in memory. It will not be garbage collected until a new Input is focused.\n\n            Workaround: Temporarily create an input, focus it, detach it.\n             */\n        const focusEl = BB.el({\n            parent: document.body,\n            tagName: 'input',\n            css: {\n                opacity: '0',\n                width: '0',\n                height: '0',\n            },\n        });\n        setTimeout(() => {\n            focusEl.select();\n            focusEl.focus();\n            focusEl.remove();\n        }, 10);\n    }\n}\n\n/**\n * clears text selection in window\n */\nexport function clearSelection(): void {\n    if (window.getSelection) {\n        const sel = window.getSelection();\n        if (sel) {\n            if (sel.empty) {\n                sel.empty();\n            } else if (sel.removeAllRanges) {\n                sel.removeAllRanges();\n            }\n        }\n    }\n}\n\n/**\n * prevents being able to focus element.\n * warning: it creates a listener\n *\n * @param el - dom element\n */\nexport const makeUnfocusable = (function (): (el: HTMLElement) => void {\n    function preventFocus(event: FocusEvent): void {\n        event.preventDefault();\n        let didFocusRelated = false;\n        if (event.relatedTarget) {\n            try {\n                (event.relatedTarget as HTMLElement).focus();\n                didFocusRelated = true;\n            } catch (e) {\n                console.error('failed to focus');\n            }\n        }\n        if (!didFocusRelated) {\n            (event.currentTarget as HTMLElement).blur();\n        }\n    }\n\n    return function (el) {\n        el.setAttribute('tabindex', '-1');\n        el.addEventListener('focus', preventFocus);\n    };\n})();\n\nconst els: {\n    el: HTMLElement;\n    listeners: [keyof HTMLElementEventMap, EventListener][];\n}[] = [];\n// window['els'] = els;\n\n/**\n *\n * Create DOM element - div by default\n * params = {\n * \t    parent: someOtherDiv,\n * \t    css: {\n * \t\t    width: \"500px\",\n * \t\t    backgroundColor: \"#fff\"\n * \t    },\n * \t    content: \"test\", //or  content: [divA, divB, divC]   or content: someDiv\n * \t    className: \"bla\",\n *      id: \"bla\"\n * }\n *\n *  If onClick or onChange is used, then BB.destroyEl MUST be called\n *  to prevent a memory leak.\n *\n * @param params\n */\nexport function el<GTag extends keyof HTMLElementTagNameMap = 'div'>(params?: {\n    parent?: HTMLElement;\n    css?: Partial<CSSStyleDeclaration>;\n    custom?: { [key: string]: string };\n    content?: string | (HTMLElement | string | undefined)[] | Element;\n    textContent?: string;\n    className?: string;\n    title?: string;\n    id?: string;\n    tagName?: GTag;\n    onClick?: (e: Event) => void;\n    onChange?: (e: Event) => void;\n    // Don't keep references of listeners.\n    // If false and has onClick/onChange handler, must call destroyEl.\n    // default = false\n    noRef?: boolean;\n}) {\n    if (!params) {\n        return document.createElement('div') as HTMLElementTagNameMap[GTag];\n    }\n    const result = document.createElement(params.tagName ? params.tagName : 'div');\n    params.css && css(result, params.css);\n\n    if (params.content) {\n        if (typeof params.content === typeof 'aa') {\n            result.innerHTML = params.content as string;\n        } else if (Array.isArray(params.content)) {\n            BB.append(result, params.content);\n        } else {\n            result.append(params.content as HTMLElement);\n        }\n    }\n    if (params.textContent) {\n        result.textContent = params.textContent;\n    }\n    if (params.className) {\n        result.className = params.className;\n    }\n    if (params.id) {\n        result.id = params.id;\n    }\n    if (params.parent) {\n        params.parent.append(result);\n    }\n    if ('title' in params && params.title !== undefined) {\n        result.title = params.title;\n    }\n    const listeners: [keyof HTMLElementEventMap, EventListener][] = [];\n    if (params.onClick !== undefined) {\n        result.addEventListener('click', params.onClick);\n        !params.noRef && listeners.push(['click', params.onClick as EventListener]);\n    }\n    if (params.onChange !== undefined) {\n        result.addEventListener('change', params.onChange);\n        !params.noRef && listeners.push(['change', params.onChange]);\n    }\n    if (listeners.length > 0) {\n        els.push({\n            el: result,\n            listeners,\n        });\n        /*div.style.backgroundColor = '#ff0';\n        div.style.border = '1px solid #ff0';*/\n    }\n    if ('custom' in params && params.custom) {\n        const customKeyArr = Object.keys(params.custom);\n        for (let i = 0; i < customKeyArr.length; i++) {\n            result.setAttribute(customKeyArr[i], params.custom[customKeyArr[i]]);\n        }\n    }\n    return result as HTMLElementTagNameMap[GTag];\n}\n\n/**\n * removes event listeners for Elements created via el()\n * @param el\n */\nexport function destroyEl(el?: HTMLElement): void {\n    if (!el) {\n        return;\n    }\n    for (let i = 0; i < els.length; i++) {\n        const item = els[i];\n        if (item.el === el) {\n            item.listeners.forEach((item) => {\n                el.removeEventListener(item[0], item[1]);\n            });\n            els.splice(i, 1);\n            return;\n        }\n    }\n    // not found\n    return;\n}\n\nexport function createImage(p: {\n    src?: string;\n    alt?: string;\n    width?: number;\n    height?: number;\n    className?: string;\n    css?: Partial<CSSStyleDeclaration>;\n}): HTMLImageElement {\n    const result = new Image();\n    if (p.src !== undefined) {\n        result.src = p.src;\n    }\n    if (p.alt !== undefined) {\n        result.alt = p.alt;\n    }\n    if (p.width !== undefined) {\n        result.width = p.width;\n    }\n    if (p.height !== undefined) {\n        result.height = p.height;\n    }\n    if (p.className !== undefined) {\n        result.className = p.className;\n    }\n    p.css && css(result, p.css);\n    return result;\n}\n","import {\n    append,\n    centerWithin,\n    copyObj,\n    createSvg,\n    css,\n    dateDayDifference,\n    decToFraction,\n    fitInto,\n    gcd,\n    getDate,\n    handleClick,\n    imageBlobToUrl,\n    insertAfter,\n    isDark,\n    loadImage,\n    nullToUndefined,\n    reduce,\n    setAttributes,\n    shareCanvas,\n    throwIfNull,\n} from './base/base';\nimport {\n    canShareFiles,\n    EVENT_USES_HIGH_RES_TIMESTAMP,\n    HAS_POINTER_EVENTS,\n    IS_CSS_MIN_MAX_SUPPORTED,\n    unsetEventHandler,\n} from './base/browser';\nimport { KeyListener, sameKeys } from './input/key-listener';\nimport { PointerListener } from './input/pointer-listener';\nimport {\n    canvasBounds,\n    convertToAlphaChannelCanvas,\n    copyCanvas,\n    createCheckerCanvas,\n    createCheckerDataUrl,\n    ctx,\n    drawTransformedImageOnCanvas,\n    drawTransformedImageWithBounds,\n    freeCanvas,\n    resizeCanvas,\n    testShouldPixelate,\n} from './base/canvas';\nimport { Matrix } from './math/matrix';\nimport { Vec2 } from './math/vec2';\nimport {\n    BezierLine,\n    PointLine,\n    powerSplineInput,\n    projectPointOnLine,\n    SplineInterpolator,\n} from './math/line';\nimport { CMYK, ColorConverter, HSV, RGB, testIsWhiteBestContrast } from './color/color';\nimport {\n    appendTextDiv,\n    clearSelection,\n    destroyEl,\n    el,\n    isInputFocused,\n    unfocusAnyInput,\n} from './base/ui';\nimport {\n    boundsInArea,\n    clamp,\n    dist,\n    distSquared,\n    intDxy,\n    isInsideRect,\n    lenSquared,\n    mix,\n    pointsToAngleDeg,\n    pointsToAngleRad,\n    rotate,\n    rotateAround,\n    round,\n    roundEven,\n    roundUneven,\n    updateBounds,\n} from './math/math';\nimport { createCanvas } from './base/create-canvas';\nimport { BbLog } from './base/bb-log';\nimport { LocalStorage } from './base/local-storage';\nimport { CoalescedExploder } from './input/event-chain/coalesced-exploder';\nimport { NFingerTapper } from './input/event-chain/n-finger-tapper';\nimport { PinchZoomer } from './input/event-chain/pinch-zoomer';\nimport { DoubleTapper } from './input/event-chain/double-tapper';\nimport { OnePointerLimiter } from './input/event-chain/one-pointer-limiter';\nimport { EventChain } from './input/event-chain/event-chain';\n\nexport const BB = {\n    // ---- browser ----\n    eventUsesHighResTimeStamp: EVENT_USES_HIGH_RES_TIMESTAMP,\n    hasPointerEvents: HAS_POINTER_EVENTS,\n    isCssMinMaxSupported: IS_CSS_MIN_MAX_SUPPORTED,\n    canShareFiles: canShareFiles,\n    unsetEventHandler,\n\n    // ---- base ----\n    insertAfter,\n    loadImage,\n    css,\n    setAttributes,\n    append,\n    fitInto,\n    centerWithin,\n    getDate,\n    gcd,\n    reduce,\n    decToFraction,\n    imageBlobToUrl,\n    dateDayDifference,\n    copyObj,\n    shareCanvas,\n    handleClick,\n    createSvg,\n    BbLog,\n    LocalStorage,\n    throwIfNull,\n    nullToUndefined,\n    isDark,\n\n    // ---- math ----\n    mix,\n    dist,\n    distSquared,\n    lenSquared,\n    pointsToAngleRad,\n    pointsToAngleDeg,\n    isInsideRect,\n    clamp,\n    rotate,\n    rotateAround,\n    Matrix,\n    Vec2,\n    intDxy,\n    roundEven,\n    roundUneven,\n    round,\n    updateBounds,\n    boundsInArea,\n\n    // ---- line ----\n    projectPointOnLine,\n    PointLine,\n    BezierLine,\n    SplineInterpolator,\n    powerSplineInput,\n\n    // ---- canvas ----\n    canvas: createCanvas,\n    ctx,\n    copyCanvas,\n    testShouldPixelate,\n    drawTransformedImageWithBounds,\n    drawTransformedImageOnCanvas,\n    createCheckerCanvas,\n    createCheckerDataUrl,\n    resizeCanvas,\n    convertToAlphaChannelCanvas,\n    freeCanvas,\n    canvasBounds,\n\n    // ---- color ----\n    HSV,\n    RGB,\n    CMYK,\n    ColorConverter,\n    testIsWhiteBestContrast,\n\n    // ---- UI ----\n    appendTextDiv,\n    clearSelection,\n    el,\n    destroyEl,\n    isInputFocused,\n    unfocusAnyInput,\n\n    // ---- events / input ----\n\n    KeyListener,\n    PointerListener,\n    sameKeys,\n\n    EventChain,\n    DoubleTapper,\n    NFingerTapper,\n    PinchZoomer,\n    CoalescedExploder,\n    OnePointerLimiter,\n};\n\nObject.keys(BB); // without this, parcel build may break this object\n","export const IS_FIREFOX = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n\nexport const EVENT_USES_HIGH_RES_TIMESTAMP = (function (): () => boolean {\n    const eventUsesHighResTimeStamp: boolean = new Event('').timeStamp < 1000 * 60 * 60;\n    return function (): boolean {\n        return eventUsesHighResTimeStamp;\n    };\n})();\n\nexport const HAS_POINTER_EVENTS = !!window.PointerEvent;\n\nexport const IS_CSS_MIN_MAX_SUPPORTED = (function (): () => boolean {\n    let result: boolean | undefined;\n\n    function test(): void {\n        const div = document.createElement('div');\n        div.style.position = 'absolute';\n        div.style.top = '0';\n        div.style.left = 'max(0px, 25px)';\n        document.body.append(div);\n        setTimeout(function () {\n            result = div.offsetLeft === 25;\n            div.remove();\n        }, 25);\n    }\n\n    if (document.body) {\n        test();\n    } else {\n        window.addEventListener('DOMContentLoaded', function () {\n            test();\n        });\n    }\n\n    return function (): boolean {\n        if (result === undefined) {\n            throw new Error('isCssMinMaxSupported not initialized');\n        }\n        return result;\n    };\n})();\n\nexport const canShareFiles = function (): boolean {\n    return 'share' in navigator && 'canShare' in navigator;\n};\n\ntype THandler = 'onchange' | 'onclick' | 'onkeyup';\nexport function unsetEventHandler(obj: HTMLElement, ...handlers: [...THandler[]]): void {\n    handlers.forEach((handler) => {\n        // (disabled) eslint-disable-next-line no-null/no-null\n        obj[handler] = null;\n    });\n}\n\nexport function printStorageQuota(): void {\n    navigator.storage.estimate().then((estimate) => {\n        if (estimate.quota === undefined || estimate.usage === undefined) {\n            console.log('no quota info');\n            return;\n        }\n        console.log(\n            `using ${((estimate.usage / estimate.quota) * 100).toFixed(2)}% of total quota`,\n        );\n\n        console.log('usage (GB)', (estimate.usage / 1024 / 1024 / 1024).toFixed(2));\n        console.log('quota (GB)', (estimate.quota / 1024 / 1024 / 1024).toFixed(2));\n    });\n}\n","import { TKeyString } from '../bb-types';\n\ntype TGlobalKey = {\n    add: (keyListenerRef: TKeyListenerRef) => void;\n    remove: (keyListenerRef: TKeyListenerRef) => void;\n    getIsDown: () => TIsDown;\n    getCombo: () => string[];\n    blur: () => void;\n};\n\ntype TIsDown = {\n    [key: string]: boolean;\n};\n\nexport type TOnKeyDown = (\n    keyStr: string,\n    e: KeyboardEvent,\n    comboStr: string,\n    isRepeat?: boolean,\n) => void;\nexport type TOnKeyUp = (keyStr: string, e: KeyboardEvent, oldComboStr: string) => void;\nexport type TOnBlur = () => void;\ntype TKeyListenerRef = [TOnKeyDown | undefined, TOnKeyUp | undefined, TOnBlur | undefined];\n\nconst globalKey = ((): TGlobalKey => {\n    // keyStr - our key naming system\n    // key - KeyboardEvent.key\n    // code - KeyboardEvent.code\n\n    const keyStrToKeyObj = {\n        // keyStr not to contain a '+', because that's used for the comboStr\n        space: [' ', 'Spacebar'], // Spacebar in IE\n        alt: ['Alt', 'AltGraph'],\n        shift: 'Shift',\n        ctrl: 'Control',\n        cmd: ['Meta', 'MetaLeft', 'MetaRight'],\n        enter: 'Enter',\n        esc: 'Escape',\n        backspace: 'Backspace',\n        delete: 'Delete',\n        sqbr_open: '[',\n        sqbr_close: ']',\n        a: ['a', 'A'],\n        b: ['b', 'B'],\n        c: ['c', 'C'],\n        e: ['e', 'E'],\n        f: ['f', 'F'],\n        g: ['g', 'G'],\n        l: ['l', 'L'],\n        r: ['r', 'R'], // when holding shift\n        s: ['s', 'S'],\n        t: ['t', 'T'],\n        u: ['u', 'U'],\n        x: ['x', 'X'],\n        y: ['y', 'Y'],\n        z: ['z', 'Z'],\n        plus: '+',\n        minus: '-',\n        left: 'ArrowLeft',\n        right: 'ArrowRight',\n        up: 'ArrowUp',\n        down: 'ArrowDown',\n        home: 'Home',\n        end: 'End',\n    };\n\n    // ['space', 'alt', ... ]\n    const keyStrArr = Object.keys(keyStrToKeyObj);\n\n    // { space: false, ... }\n    const isDownObj: TIsDown = Object.entries(keyStrToKeyObj).reduce((acc, [key]) => {\n        acc[key] = false;\n        return acc;\n    }, {} as TIsDown);\n\n    // event.key to keyStr\n    // { ArrowLeft: 'left', ... }\n    const keyToKeyStrObj = Object.entries(keyStrToKeyObj).reduce((acc, [key, code]) => {\n        if (typeof code === 'string') {\n            acc[code] = key;\n        } else {\n            code.forEach((item) => {\n                acc[item] = key;\n            });\n        }\n        return acc;\n    }, {} as TKeyString);\n\n    let comboArr: string[] = [];\n\n    // a physical key's \"key\" can change as other keys get pressed. to keep track, need to also track the code\n    // { KeyE: 'e', KeyF: undefined } - undefined - not down, string - the associated keyStr\n    let codeIsDownObj: {\n        [key: string]: string | undefined;\n    } = {};\n    const listenerArr: TKeyListenerRef[] = [];\n\n    /**\n     * Windows bug in all browsers: Pressing the Windows key leads to keyboard events not firing.\n     * It breaks key state tracking.\n     * Workaround: If after a timeout, only the meta key is pressed, fire a keyup for the meta key.\n     */\n    let metaClearTimeout: ReturnType<typeof setTimeout> | undefined;\n    const setupMetaClear = (keyStr: string, code: string) => {\n        metaClearTimeout = setTimeout(() => {\n            if (comboArr.length !== 1 || comboArr[0] === 'cmd') {\n                return;\n            }\n            const oldComboStr = comboArr.join('+');\n            isDownObj[keyStr] = false;\n            codeIsDownObj[code] = undefined;\n            // remove from combo\n            for (let i = 0; i < comboArr.length; i++) {\n                if (comboArr[i] == keyStr) {\n                    comboArr.splice(i, 1);\n                    i--;\n                }\n            }\n            emitUp(\n                keyStr,\n                {\n                    preventDefault: function () {},\n                    stopPropagation: function () {},\n                } as KeyboardEvent,\n                oldComboStr,\n            );\n            metaClearTimeout = undefined;\n        }, 1000);\n    };\n\n    const emitDown: TOnKeyDown = function (a, b, c, d?): void {\n        listenerArr.forEach((item) => {\n            if (!item[0]) {\n                return;\n            }\n            item[0](a, b, c, d);\n        });\n    };\n\n    const emitUp: TOnKeyUp = function (a, b, c): void {\n        listenerArr.forEach((item) => {\n            if (!item[1]) {\n                return;\n            }\n            item[1](a, b, c);\n        });\n    };\n\n    const emitBlur: TOnBlur = function (): void {\n        listenerArr.forEach((item) => {\n            if (!item[2]) {\n                return;\n            }\n            item[2]();\n        });\n    };\n\n    function keyDown(e: KeyboardEvent): void {\n        const key = e.key;\n        const code = e.code;\n\n        if (key in keyToKeyStrObj) {\n            const keyStr = keyToKeyStrObj[key];\n            if (isDownObj[keyStr]) {\n                emitDown(keyStr, e, comboArr.join('+'), true);\n                return;\n            } else {\n                if (keyStr === 'cmd') {\n                    setupMetaClear(keyStr, code);\n                } else {\n                    clearTimeout(metaClearTimeout);\n                }\n                if (keyStr === 'esc') {\n                    // Workaround for a macOS behavior\n                    // When in fullscreen, pressing escape exits the fullscreen mode.\n                    // When that happens, no keyup for escape is fired.\n                    setTimeout(() => blur());\n                }\n            }\n            isDownObj[keyStr] = true;\n            codeIsDownObj[code] = keyStr;\n\n            //add to combo\n            comboArr.push(keyStr);\n\n            emitDown(keyStr, e, comboArr.join('+'));\n        }\n    }\n\n    function keyUp(e: KeyboardEvent): void {\n        const code = e.code;\n        const oldComboStr = comboArr.join('+');\n\n        // because of a macOS bug: when meta key is down, keyup of other keys does not fire.\n        // https://stackoverflow.com/questions/25438608/javascript-keyup-isnt-called-when-command-and-another-is-pressed\n        if (\n            [\n                'Meta',\n                'MetaLeft',\n                'MetaRight',\n                'OSLeft',\n                'OSRight', // Firefox\n            ].includes(code)\n        ) {\n            blur();\n            return;\n        } else if (isDownObj['cmd']) {\n            // Workaround for Windows bug. Windows doesn't fire keyup for Meta key when pressing Windows Key + Space,\n            // neither does it fire blur\n            blur();\n            return;\n        }\n\n        const keyStr = codeIsDownObj[code];\n        if (keyStr !== undefined) {\n            isDownObj[keyStr] = false;\n            codeIsDownObj[code] = undefined;\n\n            // remove from combo\n            for (let i = 0; i < comboArr.length; i++) {\n                if (comboArr[i] == keyStr) {\n                    comboArr.splice(i, 1);\n                    i--;\n                }\n            }\n\n            emitUp(keyStr, e, oldComboStr);\n        }\n    }\n\n    function blur(): void {\n        const oldComboStr = comboArr.join('+');\n        comboArr = [];\n        codeIsDownObj = {};\n\n        const eventArr: string[] = [];\n        keyStrArr.forEach((keyStr) => {\n            if (isDownObj[keyStr]) {\n                isDownObj[keyStr] = false;\n                eventArr.push(keyStr);\n            }\n        });\n        for (let i = 0; i < eventArr.length; i++) {\n            emitUp(\n                eventArr[i],\n                {\n                    preventDefault: function () {},\n                    stopPropagation: function () {},\n                } as KeyboardEvent,\n                oldComboStr,\n            );\n        }\n        emitBlur();\n    }\n\n    return {\n        add: (keyListenerRef: TKeyListenerRef): void => {\n            if (listenerArr.includes(keyListenerRef)) {\n                return;\n            }\n            const first = listenerArr.length === 0;\n            listenerArr.push(keyListenerRef);\n\n            if (first) {\n                document.addEventListener('keydown', keyDown);\n                document.addEventListener('keyup', keyUp);\n                window.addEventListener('blur', blur);\n            }\n        },\n        remove: (keyListenerRef: TKeyListenerRef): void => {\n            if (!listenerArr.includes(keyListenerRef)) {\n                return;\n            }\n            const last = listenerArr.length === 1;\n            for (let i = 0; i < listenerArr.length; i++) {\n                if (listenerArr[i] === keyListenerRef) {\n                    listenerArr.splice(i, 1);\n                    break;\n                }\n            }\n            if (last) {\n                document.removeEventListener('keydown', keyDown);\n                document.removeEventListener('keyup', keyUp);\n                window.removeEventListener('blur', blur);\n            }\n        },\n        getIsDown: (): TIsDown => isDownObj,\n        getCombo: (): string[] => comboArr,\n        blur,\n    };\n})();\n\nexport type TKeyListenerParams = {\n    onDown?: TOnKeyDown;\n    onUp?: TOnKeyUp;\n    onBlur?: TOnBlur; // on window blur\n};\n\n/**\n * Listens to key events in window. Makes combos easier - e.g. ctrl + z\n *\n * keyStr - see in implementation - my representation of a key. e.g. 'r' can be 'r' and 'R'\n * comboStr - string joins currently pressed keyStr with a +\n *              e.g. 'ctrl+z'\n *\n */\nexport class KeyListener {\n    private readonly onDown: TOnKeyDown | undefined;\n    private readonly onUp: TOnKeyUp | undefined;\n    private readonly onBlur: TOnBlur | undefined;\n    private readonly ref: TKeyListenerRef;\n\n    // ----------------------------------- public -----------------------------------\n    constructor(p: TKeyListenerParams) {\n        this.onDown = p.onDown;\n        this.onUp = p.onUp;\n        this.onBlur = p.onBlur;\n        this.ref = [this.onDown, this.onUp, this.onBlur];\n        globalKey.add(this.ref);\n    }\n\n    isPressed(keyStr: string): boolean {\n        if (!(keyStr in globalKey.getIsDown())) {\n            throw 'key \"' + keyStr + '\" not found';\n        }\n        return globalKey.getIsDown()[keyStr];\n    }\n\n    getComboStr(): string {\n        return globalKey.getCombo().join('+');\n    }\n\n    comboOnlyContains(keyStrArr: string[]): boolean {\n        for (let i = 0; i < globalKey.getCombo().length; i++) {\n            if (!keyStrArr.includes(globalKey.getCombo()[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    destroy(): void {\n        globalKey.remove(this.ref);\n        globalKey.blur();\n    }\n}\n\n/**\n * Test, are the same keys pressed. Order does not matter.\n */\nexport function sameKeys(comboAStr: string, comboBStr: string): boolean {\n    return comboAStr.split('+').sort().join('+') === comboBStr.split('+').sort().join('+');\n}\n","import { EVENT_USES_HIGH_RES_TIMESTAMP, HAS_POINTER_EVENTS, IS_FIREFOX } from '../base/browser';\nimport { TWheelCleanerEvent, WheelCleaner } from './wheel-cleaner';\nimport {\n    TPointerButton,\n    TPointerEvent,\n    TPointerEventType,\n    TPointerType,\n    TWheelEvent,\n} from './event.types';\nimport { PressureNormalizer } from './pressure-normalizer';\n\nexport type TPointerListenerParams = {\n    target: HTMLElement | SVGElement;\n    onPointer?: (pointerEvent: TPointerEvent) => void;\n    onWheel?: (wheelEvent: TWheelEvent) => void;\n    useDirtyWheel?: boolean; // default false - use dirty wheel events - not just increments of 1\n    isWheelPassive?: boolean; // default false\n    onEnterLeave?: (isOver: boolean) => void; // optional\n    maxPointers?: number; // int [1,n] default is 1 - how many concurrent pointers to pay attention to\n    fixScribble?: boolean; // fix ipad scribble issue - TODO remove, fixed start of 2022 -> https://bugs.webkit.org/show_bug.cgi?id=217430#c2\n};\n\ntype TPointer = {\n    pointerId: number;\n    lastPageX: number | null;\n    lastPageY: number | null;\n};\n\ntype TDragObj = {\n    pointerId: number; // long\n    pointerType?: TPointerType;\n    downPageX: number; //where was pointer when down-event occurred\n    downPageY: number;\n    buttons: number; // long\n    lastPageX: number; //pageX in previous event - only for touch events, because they don't have movementX/Y\n    lastPageY: number;\n    lastTimeStamp?: number;\n};\n\ntype TCoalescedPointerEvent = {\n    pageX: number;\n    pageY: number;\n    clientX: number;\n    clientY: number;\n    movementX: number;\n    movementY: number;\n    timeStamp: number;\n    pressure: number;\n};\n\ntype TCorrectedPointerEvent = {\n    pointerId: number;\n    pointerType: string;\n    pageX: number;\n    pageY: number;\n    clientX: number;\n    clientY: number;\n    movementX: number;\n    movementY: number;\n    timeStamp: number;\n    pressure: number; // normalized\n    buttons: number;\n    button: number;\n    coalescedArr: TCoalescedPointerEvent[];\n    eventPreventDefault: () => void;\n    eventStopPropagation: () => void;\n};\n\ntype TExtendedDOMPointerEvent = PointerEvent & {\n    corrected: TCorrectedPointerEvent;\n};\n\n// keeping track of pointers for movement fallback\nconst pointerArr: TPointer[] = [];\n\nfunction addPointer(event: TCorrectedPointerEvent): TPointer {\n    const pointerObj: TPointer = {\n        pointerId: event.pointerId,\n        lastPageX: null,\n        lastPageY: null,\n    };\n    pointerArr.push(pointerObj);\n\n    if (pointerArr.length > 15) {\n        pointerArr.shift();\n    }\n\n    return pointerObj;\n}\n\nfunction getPointer(event: TCorrectedPointerEvent): TPointer | null {\n    for (let i = pointerArr.length - 1; i >= 0; i--) {\n        if (event.pointerId === pointerArr[i].pointerId) {\n            return pointerArr[i];\n        }\n    }\n    return null;\n}\n\nfunction getButtonStr(buttons: number): TPointerButton | undefined {\n    switch (buttons) {\n        case 1:\n            return 'left';\n        case 2:\n            return 'right';\n        case 4:\n            return 'middle';\n        default:\n            return undefined;\n    }\n}\n\nconst pressureNormalizer = new PressureNormalizer();\nconst timeStampOffset = EVENT_USES_HIGH_RES_TIMESTAMP() ? 0 : -performance.timing.navigationStart;\n\nconst pointerDownEvt = (HAS_POINTER_EVENTS ? 'pointerdown' : 'mousedown') as 'pointerdown';\nconst pointerMoveEvt = (HAS_POINTER_EVENTS ? 'pointermove' : 'mousemove') as 'pointermove';\nconst pointerUpEvt = (HAS_POINTER_EVENTS ? 'pointerup' : 'mouseup') as 'pointerup';\nconst pointerCancelEvt = (HAS_POINTER_EVENTS ? 'pointercancel' : 'mousecancel') as 'pointercancel';\nconst pointerLeaveEvt = (HAS_POINTER_EVENTS ? 'pointerleave' : 'mouseleave') as 'pointerleave';\nconst pointerEnterEvt = (HAS_POINTER_EVENTS ? 'pointerenter' : 'mouseenter') as 'pointerenter';\n\n/**\n * More trustworthy pointer attributes. that behave the same across browsers.\n * returns a new object. Also attaches itself to the orig event. -> event.corrected\n */\nfunction correctPointerEvent(\n    event: PointerEvent | TExtendedDOMPointerEvent,\n): TCorrectedPointerEvent {\n    if ('corrected' in event) {\n        return event.corrected;\n    }\n\n    function determineButtons(): number {\n        if (event.buttons !== undefined) {\n            return event.buttons;\n        }\n        /*\n                button -> buttons\n        none:\tundefined -> 0\n        left:\t0 -> 1\n        middle:\t1 -> 4\n        right:\t2 -> 2\n        fourth:\t3 -> 8\n        fifth:\t4 -> 16\n         */\n        if (event.button !== undefined) {\n            // old safari on mac has no buttons. remove eventually.\n            return [1, 4, 2, 8, 16][event.button];\n        }\n        return 0;\n    }\n\n    const correctedObj: TCorrectedPointerEvent = {\n        pointerId: event.pointerId,\n        pointerType: event.pointerType,\n        pageX: event.pageX,\n        pageY: event.pageY,\n        clientX: event.clientX,\n        clientY: event.clientY,\n        movementX: event.movementX,\n        movementY: event.movementY,\n        timeStamp: event.timeStamp + timeStampOffset,\n        pressure: pressureNormalizer.normalize(event.pressure, event.type, event.pointerType),\n        buttons: determineButtons(),\n        button: event.button,\n        coalescedArr: [],\n        eventPreventDefault: () => event.preventDefault(),\n        eventStopPropagation: () => event.stopPropagation(),\n    };\n    (event as TExtendedDOMPointerEvent).corrected = correctedObj;\n\n    let customPressure = null;\n    if ('pointerId' in event) {\n        if ('pressure' in event && event.buttons !== 0) {\n            if (event.pointerType === 'touch' && event.pressure === 0) {\n                correctedObj.pressure = 1;\n                customPressure = 1;\n            }\n            // Spec: If there's no pressure support, pressure is 0.5.\n            // https://w3c.github.io/pointerevents/#dom-pointerevent-pressure\n            // & in older Safari (<=16) it seems to be \"mouse\" and 0.\n            if (event.pointerType === 'mouse' && (event.pressure === 0.5 || event.pressure === 0)) {\n                correctedObj.pressure = 1;\n                customPressure = 1;\n            }\n        }\n    } else {\n        correctedObj.pointerId = 0;\n        correctedObj.pointerType = 'mouse';\n        correctedObj.pressure = (event as PointerEvent).buttons !== 0 ? 1 : 0;\n        customPressure = correctedObj.pressure;\n    }\n\n    if (\n        IS_FIREFOX &&\n        event.pointerType != 'mouse' &&\n        event.type === 'pointermove' &&\n        event.buttons === 0\n    ) {\n        // once again firefox\n        correctedObj.buttons = 1; // todo wrong if no buttons actually pressed\n    }\n\n    let coalescedEventArr: PointerEvent[] = [];\n    if ('getCoalescedEvents' in event) {\n        coalescedEventArr = event.getCoalescedEvents();\n    }\n\n    // chrome somehow movementX not same scale as pageX. todo: only chrome?\n    // so make my own\n\n    const pointerObj: TPointer = getPointer(correctedObj) || addPointer(correctedObj);\n\n    const totalLastX = pointerObj.lastPageX;\n    const totalLastY = pointerObj.lastPageY;\n\n    for (let i = 0; i < coalescedEventArr.length; i++) {\n        const eventItem = coalescedEventArr[i];\n\n        correctedObj.coalescedArr.push({\n            pageX: eventItem.pageX,\n            pageY: eventItem.pageY,\n            clientX: eventItem.clientX,\n            clientY: eventItem.clientY,\n            movementX: pointerObj.lastPageX === null ? 0 : eventItem.pageX - pointerObj.lastPageX,\n            movementY: pointerObj.lastPageY === null ? 0 : eventItem.pageY - pointerObj.lastPageY,\n            timeStamp:\n                eventItem.timeStamp === 0\n                    ? correctedObj.timeStamp\n                    : eventItem.timeStamp + timeStampOffset, // 0 in firefox\n            pressure:\n                customPressure === null\n                    ? pressureNormalizer.normalize(eventItem.pressure)\n                    : customPressure,\n        });\n\n        pointerObj.lastPageX = eventItem.pageX;\n        pointerObj.lastPageY = eventItem.pageY;\n    }\n\n    pointerObj.lastPageX = correctedObj.pageX;\n    pointerObj.lastPageY = correctedObj.pageY;\n    correctedObj.movementX = totalLastX === null ? 0 : pointerObj.lastPageX - totalLastX;\n    correctedObj.movementY = totalLastY === null ? 0 : pointerObj.lastPageY - totalLastY;\n\n    return correctedObj;\n}\n\nconst OPTIONS_PASSIVE = {\n    passive: false,\n};\n\n/**\n * PointerListener - for pointer events, wheel events. uses fallbacks. ideally consistent behavior across browsers.\n * Has some workarounds for browser specific bugs. As browsers evolve this constructor should get smaller.\n */\nexport class PointerListener {\n    private isDestroyed: boolean = false;\n\n    // ts has problems with (HTMLElement|SVGElement) when adding event listeners\n    // https://github.com/microsoft/TypeScript/issues/46819\n    private readonly targetElement: HTMLElement;\n    private readonly onPointerCallback: undefined | ((pointerEvent: TPointerEvent) => void);\n    private readonly onWheelCallback: undefined | ((wheelEvent: TWheelEvent) => void);\n    private readonly onEnterLeaveCallback: undefined | ((isOver: boolean) => void);\n    private readonly maxPointers: number;\n    private readonly wheelCleaner: WheelCleaner | undefined;\n    private isOverCounter: number = 0;\n\n    // pointers that are pressing a button\n    private dragObjArr: TDragObj[] = [];\n    private dragPointerIdArr: number[] = [];\n\n    // chrome input glitch workaround\n    private lastPointerType: TPointerType | null = null;\n    private didSkip: boolean = false;\n\n    // listeners\n    private readonly onPointerEnter: (() => void) | undefined;\n    private readonly onPointerLeave: (() => void) | undefined;\n    private readonly onPointerMove: ((event: PointerEvent) => void) | undefined;\n    private readonly onPointerDown:\n        | ((event: PointerEvent, skipGlobal?: boolean) => void)\n        | undefined;\n    private readonly onWheel: ((e: WheelEvent) => void) | undefined;\n    private readonly onTouchMoveScribbleFix: ((e: TouchEvent) => void) | undefined;\n    private readonly windowOnPointerMove: ((event: PointerEvent) => void) | undefined;\n    private readonly windowOnPointerUp: ((event: PointerEvent) => void) | undefined;\n    private readonly windowOnPointerLeave: ((event: PointerEvent) => void) | undefined;\n    // fallback pre pointer events (iOS < 13, as of 2023-02, still 4.4% of iOS users)\n    private readonly onTouchStart: ((e: TouchEvent) => void) | undefined;\n    private readonly onTouchMove: ((e: TouchEvent) => void) | undefined;\n    private readonly onTouchEnd: ((e: TouchEvent) => void) | undefined;\n    private readonly onTouchCancel: ((e: TouchEvent) => void) | undefined;\n\n    private getDragObj(pointerId: number): TDragObj | null {\n        for (let i = 0; i < this.dragObjArr.length; i++) {\n            if (pointerId === this.dragObjArr[i].pointerId) {\n                return this.dragObjArr[i];\n            }\n        }\n        return null;\n    }\n\n    private removeDragObj(pointerId: number): TDragObj | null {\n        let removedDragObj: TDragObj | null = null;\n        for (let i = 0; i < this.dragPointerIdArr.length; i++) {\n            if (this.dragPointerIdArr[i] === pointerId) {\n                removedDragObj = this.dragObjArr[i];\n                this.dragObjArr.splice(i, 1);\n                this.dragPointerIdArr.splice(i, 1);\n                i--;\n            }\n        }\n        return removedDragObj;\n    }\n\n    /**\n     * Creates a value for onPointer, from a pointer event handler.\n     */\n    private createPointerOutEvent(\n        typeStr: TPointerEventType,\n        correctedEvent: TCorrectedPointerEvent,\n        custom?: Partial<TPointerEvent>,\n    ): TPointerEvent {\n        const bounds: DOMRect = this.targetElement.getBoundingClientRect();\n        const result: TPointerEvent = {\n            type: typeStr,\n            pointerId: correctedEvent.pointerId,\n            pointerType: correctedEvent.pointerType as TPointerType,\n            pageX: correctedEvent.pageX,\n            pageY: correctedEvent.pageY,\n            clientX: correctedEvent.clientX,\n            clientY: correctedEvent.clientY,\n            relX: correctedEvent.clientX - bounds.left + this.targetElement.scrollLeft,\n            relY: correctedEvent.clientY - bounds.top + this.targetElement.scrollTop,\n            dX: correctedEvent.movementX,\n            dY: correctedEvent.movementY,\n            time: correctedEvent.timeStamp,\n            eventPreventDefault: correctedEvent.eventPreventDefault,\n            eventStopPropagation: correctedEvent.eventStopPropagation,\n            ...custom,\n        };\n\n        if (typeStr === 'pointermove') {\n            result.coalescedArr = [];\n            if (correctedEvent.coalescedArr.length > 1) {\n                let coalescedItem;\n                for (let i = 0; i < correctedEvent.coalescedArr.length; i++) {\n                    coalescedItem = correctedEvent.coalescedArr[i];\n                    result.coalescedArr.push({\n                        pageX: coalescedItem.pageX,\n                        pageY: coalescedItem.pageY,\n                        clientX: coalescedItem.clientX,\n                        clientY: coalescedItem.clientY,\n                        relX: coalescedItem.clientX - bounds.left + this.targetElement.scrollLeft,\n                        relY: coalescedItem.clientY - bounds.top + this.targetElement.scrollTop,\n                        dX: coalescedItem.movementX,\n                        dY: coalescedItem.movementY,\n                        time: coalescedItem.timeStamp,\n                    });\n                }\n            }\n        }\n\n        return result;\n    }\n\n    private setupDocumentListeners() {\n        this.windowOnPointerMove &&\n            document.addEventListener(pointerMoveEvt, this.windowOnPointerMove, OPTIONS_PASSIVE);\n        this.windowOnPointerUp &&\n            document.addEventListener(pointerUpEvt, this.windowOnPointerUp, OPTIONS_PASSIVE);\n        this.windowOnPointerLeave &&\n            document.addEventListener(pointerCancelEvt, this.windowOnPointerLeave, OPTIONS_PASSIVE);\n        this.windowOnPointerLeave &&\n            document.addEventListener(pointerLeaveEvt, this.windowOnPointerLeave, OPTIONS_PASSIVE);\n    }\n\n    private destroyDocumentListeners() {\n        this.windowOnPointerMove &&\n            document.removeEventListener(pointerMoveEvt, this.windowOnPointerMove);\n        this.windowOnPointerUp &&\n            document.removeEventListener(pointerUpEvt, this.windowOnPointerUp);\n        this.windowOnPointerLeave &&\n            document.removeEventListener(pointerCancelEvt, this.windowOnPointerLeave);\n        this.windowOnPointerLeave &&\n            document.removeEventListener(pointerLeaveEvt, this.windowOnPointerLeave);\n    }\n\n    // ----------------------------------- public -----------------------------------\n\n    constructor(p: TPointerListenerParams) {\n        this.targetElement = p.target as HTMLElement;\n        this.onPointerCallback = p.onPointer;\n        this.onWheelCallback = p.onWheel;\n        this.onEnterLeaveCallback = p.onEnterLeave;\n        this.maxPointers = Math.max(1, p.maxPointers ?? 1);\n\n        const finalizeWheelEvent = (e: WheelEvent | TWheelCleanerEvent): void => {\n            if (this.isDestroyed || !this.onWheelCallback) {\n                return;\n            }\n            const bounds = this.targetElement.getBoundingClientRect();\n            const whlEvent: TWheelEvent = {\n                ...(e instanceof WheelEvent\n                    ? { deltaY: e.deltaY / 120, pageX: e.pageX, pageY: e.pageY }\n                    : e),\n                relX: e.clientX - bounds.left + this.targetElement.scrollLeft,\n                relY: e.clientY - bounds.top + this.targetElement.scrollTop,\n                ...(e instanceof WheelEvent ? { event: e } : {}),\n            };\n            this.onWheelCallback(whlEvent);\n        };\n        this.wheelCleaner = p.useDirtyWheel ? undefined : new WheelCleaner(finalizeWheelEvent);\n\n        if (this.onPointerCallback) {\n            this.onPointerMove = (event: PointerEvent) => {\n                const correctedEvent = correctPointerEvent(event);\n\n                const tempLastPointerType = this.lastPointerType;\n                this.lastPointerType = correctedEvent.pointerType as TPointerType;\n\n                if (\n                    this.dragPointerIdArr.includes(correctedEvent.pointerId) ||\n                    this.dragPointerIdArr.length === this.maxPointers ||\n                    correctedEvent.pointerType === 'touch'\n                ) {\n                    this.didSkip = false;\n                    return;\n                }\n\n                // chrome input glitch workaround - throws in a random mouse event with the wrong position when using a stylus\n                if (\n                    !this.didSkip &&\n                    correctedEvent.pointerType === 'mouse' &&\n                    tempLastPointerType === 'pen'\n                ) {\n                    this.didSkip = true;\n                    return;\n                }\n                this.didSkip = false;\n\n                const outEvent = this.createPointerOutEvent('pointermove', correctedEvent);\n                this.onPointerCallback?.(outEvent);\n            };\n\n            this.onPointerDown = (event: PointerEvent, onSkipGlobal?: boolean) => {\n                //BB.throwOut('pointerdown ' + event.pointerId + ' | ' + dragPointerIdArr.length);\n                const correctedEvent = correctPointerEvent(event);\n                ////console.log('debug: ' + event.pointerId + ' pointerdown');\n                if (\n                    this.dragPointerIdArr.includes(correctedEvent.pointerId) ||\n                    this.dragPointerIdArr.length === this.maxPointers ||\n                    ![1, 2, 4].includes(correctedEvent.buttons)\n                ) {\n                    //BB.throwOut('pointerdown ignored');\n                    return;\n                }\n\n                //set up global listeners\n                if (this.dragObjArr.length === 0 && !onSkipGlobal) {\n                    this.setupDocumentListeners();\n                }\n                const dragObj: TDragObj = {\n                    pointerId: correctedEvent.pointerId,\n                    pointerType: correctedEvent.pointerType as TPointerType,\n                    downPageX: correctedEvent.pageX,\n                    downPageY: correctedEvent.pageY,\n                    buttons: correctedEvent.buttons,\n                    lastPageX: correctedEvent.pageX,\n                    lastPageY: correctedEvent.pageY,\n                    lastTimeStamp: correctedEvent.timeStamp,\n                };\n                this.dragObjArr.push(dragObj);\n                this.dragPointerIdArr.push(correctedEvent.pointerId);\n\n                const outEvent: TPointerEvent = this.createPointerOutEvent(\n                    'pointerdown',\n                    correctedEvent,\n                    {\n                        downPageX: correctedEvent.pageX,\n                        downPageY: correctedEvent.pageY,\n                        button: getButtonStr(correctedEvent.buttons),\n                        pressure: correctedEvent.pressure,\n                    },\n                );\n\n                this.onPointerCallback?.(outEvent);\n            };\n\n            this.windowOnPointerMove = (event: PointerEvent) => {\n                //BB.throwOut('pointermove ' + event.pointerId);\n                const correctedEvent = correctPointerEvent(event);\n                ////console.log('debug: ' + event.pointerId + ' GLOBALpointermove');\n                if (!this.dragPointerIdArr.includes(correctedEvent.pointerId)) {\n                    return;\n                }\n\n                const dragObj = this.getDragObj(correctedEvent.pointerId);\n\n                if (!dragObj) {\n                    // todo need to handle this!\n                    return;\n                }\n\n                //if pointer changes button its pressing -> turn into pointerup\n                if (correctedEvent.buttons !== dragObj.buttons) {\n                    //pointer up\n\n                    //remove listener\n                    if (this.dragObjArr.length === 1) {\n                        this.destroyDocumentListeners();\n                    }\n                    this.removeDragObj(correctedEvent.pointerId);\n\n                    const outEvent = this.createPointerOutEvent('pointerup', correctedEvent, {\n                        downPageX: dragObj.downPageX,\n                        downPageY: dragObj.downPageY,\n                    });\n                    this.onPointerCallback?.(outEvent);\n                    return;\n                }\n\n                // ipad likes to do this\n                if (\n                    correctedEvent.pointerType === 'pen' &&\n                    correctedEvent.pageX === dragObj.lastPageX &&\n                    correctedEvent.pageY === dragObj.lastPageY &&\n                    correctedEvent.timeStamp === dragObj.lastTimeStamp\n                ) {\n                    //ignore\n                    return;\n                }\n\n                const outEvent = this.createPointerOutEvent('pointermove', correctedEvent, {\n                    downPageX: dragObj.downPageX,\n                    downPageY: dragObj.downPageY,\n                    button: getButtonStr(correctedEvent.buttons),\n                    pressure: correctedEvent.pressure,\n                });\n\n                dragObj.lastPageX = correctedEvent.pageX;\n                dragObj.lastPageY = correctedEvent.pageY;\n                dragObj.lastTimeStamp = correctedEvent.timeStamp;\n\n                this.onPointerCallback?.(outEvent);\n            };\n\n            this.windowOnPointerUp = (event: PointerEvent) => {\n                //BB.throwOut('pointerup ' + event.pointerId);\n                const correctedEvent = correctPointerEvent(event);\n                ////console.log('debug: ' + event.pointerId + ' GLOBALpointerup');\n                if (!this.dragPointerIdArr.includes(correctedEvent.pointerId)) {\n                    return;\n                }\n\n                //remove listener\n                if (this.dragObjArr.length === 1) {\n                    this.destroyDocumentListeners();\n                }\n                const dragObj = this.removeDragObj(correctedEvent.pointerId);\n                if (!dragObj) {\n                    // todo need to handle this!\n                    return;\n                }\n\n                const outEvent = this.createPointerOutEvent('pointerup', correctedEvent, {\n                    downPageX: dragObj.downPageX,\n                    downPageY: dragObj.downPageY,\n                });\n                this.onPointerCallback?.(outEvent);\n            };\n\n            this.windowOnPointerLeave = (event: PointerEvent) => {\n                //BB.throwOut('pointerleave ' + event.pointerId);\n                const correctedEvent = correctPointerEvent(event);\n                ////console.log('debug: ' + event.pointerId + ' onGlobalPointerLeave', event);\n                if (!this.dragPointerIdArr.includes(correctedEvent.pointerId)) {\n                    //} || event.target !== document) {\n                    return;\n                }\n\n                //remove listener\n                if (this.dragObjArr.length === 1) {\n                    this.destroyDocumentListeners();\n                }\n                const dragObj = this.removeDragObj(correctedEvent.pointerId);\n                if (!dragObj) {\n                    // todo need to handle this!\n                    return;\n                }\n\n                const outEvent = this.createPointerOutEvent('pointerup', correctedEvent, {\n                    downPageX: dragObj.downPageX,\n                    downPageY: dragObj.downPageY,\n                });\n                this.onPointerCallback?.(outEvent);\n            };\n\n            this.targetElement.addEventListener(\n                pointerMoveEvt,\n                this.onPointerMove,\n                OPTIONS_PASSIVE,\n            );\n            this.targetElement.addEventListener(\n                pointerDownEvt,\n                this.onPointerDown,\n                OPTIONS_PASSIVE,\n            );\n\n            if (!HAS_POINTER_EVENTS) {\n                const touchToFakePointer = (\n                    touch: Touch,\n                    touchEvent: TouchEvent,\n                    isDown: boolean,\n                ) => {\n                    return {\n                        pointerId: touch.identifier,\n                        pointerType: 'touch',\n                        pageX: touch.pageX,\n                        pageY: touch.pageY,\n                        clientX: touch.clientX,\n                        clientY: touch.clientY,\n                        button: isDown ? 0 : undefined,\n                        buttons: isDown ? 1 : 0,\n                        timeStamp: touchEvent.timeStamp,\n                        target: touchEvent.target,\n                        pressure: isDown ? 1 : 0,\n                        preventDefault: () => touchEvent.preventDefault(),\n                        stopPropagation: () => touchEvent.stopPropagation(),\n                    };\n                };\n\n                const handleTouch = (\n                    e: TouchEvent,\n                    type: 'start' | 'move' | 'end' | 'cancel',\n                ): void => {\n                    for (let i = 0; i < e.changedTouches.length; i++) {\n                        const touch = e.changedTouches[i];\n                        const fakePointer = touchToFakePointer(\n                            touch,\n                            e,\n                            ['start', 'move'].includes(type),\n                        );\n                        if (type === 'start') {\n                            this.onPointerDown!(fakePointer as PointerEvent, false);\n                        } else if (type === 'move') {\n                            this.windowOnPointerMove!(fakePointer as PointerEvent);\n                        } else if (type === 'end') {\n                            this.windowOnPointerUp!(fakePointer as PointerEvent);\n                        } else {\n                            this.windowOnPointerLeave!(fakePointer as PointerEvent);\n                        }\n                    }\n                };\n\n                this.onTouchStart = (e: TouchEvent): void => {\n                    e.preventDefault();\n                    handleTouch(e, 'start');\n                };\n                this.onTouchMove = (e: TouchEvent): void => {\n                    handleTouch(e, 'move');\n                };\n                this.onTouchEnd = (e: TouchEvent): void => {\n                    handleTouch(e, 'end');\n                };\n                this.onTouchCancel = (e: TouchEvent): void => {\n                    handleTouch(e, 'cancel');\n                };\n\n                this.targetElement.addEventListener(\n                    'touchstart',\n                    this.onTouchStart,\n                    OPTIONS_PASSIVE,\n                );\n                this.targetElement.addEventListener('touchmove', this.onTouchMove, OPTIONS_PASSIVE);\n                this.targetElement.addEventListener('touchend', this.onTouchEnd, OPTIONS_PASSIVE);\n                this.targetElement.addEventListener(\n                    'touchcancel',\n                    this.onTouchCancel,\n                    OPTIONS_PASSIVE,\n                );\n            }\n        }\n        if (this.onWheelCallback) {\n            this.onWheel = (e: WheelEvent) => {\n                if (this.wheelCleaner) {\n                    this.wheelCleaner.process(e);\n                } else {\n                    finalizeWheelEvent(e);\n                }\n            };\n            this.targetElement.addEventListener('wheel', this.onWheel, {\n                passive: !!p.isWheelPassive,\n            });\n        }\n        if (this.onEnterLeaveCallback) {\n            this.onPointerEnter = () => {\n                this.isOverCounter++;\n                this.onEnterLeaveCallback?.(true);\n            };\n\n            this.onPointerLeave = () => {\n                this.isOverCounter--;\n                this.onEnterLeaveCallback?.(false);\n            };\n\n            this.targetElement.addEventListener(\n                pointerEnterEvt,\n                this.onPointerEnter,\n                OPTIONS_PASSIVE,\n            );\n            this.targetElement.addEventListener(\n                pointerLeaveEvt,\n                this.onPointerLeave,\n                OPTIONS_PASSIVE,\n            );\n        }\n\n        if (p.fixScribble) {\n            //ipad scribble workaround https://developer.apple.com/forums/thread/662874\n            this.onTouchMoveScribbleFix = (e: TouchEvent) => e.preventDefault();\n            this.targetElement.addEventListener(\n                'touchmove',\n                this.onTouchMoveScribbleFix,\n                OPTIONS_PASSIVE,\n            );\n        }\n    }\n\n    destroy(): void {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.isDestroyed = true;\n        this.onPointerEnter &&\n            this.targetElement.removeEventListener(pointerEnterEvt, this.onPointerEnter);\n        this.onPointerLeave &&\n            this.targetElement.removeEventListener(pointerLeaveEvt, this.onPointerLeave);\n        this.onPointerMove &&\n            this.targetElement.removeEventListener(pointerMoveEvt, this.onPointerMove);\n        this.onPointerDown &&\n            this.targetElement.removeEventListener(pointerDownEvt, this.onPointerDown);\n        this.onWheel && this.targetElement.removeEventListener('wheel', this.onWheel);\n        this.destroyDocumentListeners();\n        this.onTouchMoveScribbleFix &&\n            document.removeEventListener('touchmove', this.onTouchMoveScribbleFix);\n\n        this.onTouchStart &&\n            this.targetElement.removeEventListener('touchstart', this.onTouchStart);\n        this.onTouchMove && this.targetElement.removeEventListener('touchmove', this.onTouchMove);\n        this.onTouchEnd && this.targetElement.removeEventListener('touchend', this.onTouchEnd);\n        this.onTouchCancel &&\n            this.targetElement.removeEventListener('touchcancel', this.onTouchCancel);\n    }\n}\n","export type TWheelCleanerEvent = {\n    deltaY: number;\n    pageX: number;\n    pageY: number;\n    clientX: number;\n    clientY: number;\n};\n\nconst SEQUENCE_TIMEOUT_MS = 200;\n\n/**\n * Filters wheel events. removes swipe scrolling and pinch scrolling that trackpads do. (as best as it can)\n * Normalizes regular scrolls.\n *\n * Why:\n * - trackpad scrolling is different from old school mouse scrolling\n * - but there is no way to learn from the browser if it's trackpad scrolling\n * - browsers don't even give access to the raw swiping or pinching movement, but some abstraction on top, making the scrolling\n *      continue an arbitrary amount, at an arbitrary scale\n * - each browser does this differently. So you can't offer a consistent/controlled experience\n *\n * - also trackpads are painful to draw with. So supporting a trackpad-based workflow makes not much sense.\n */\nexport class WheelCleaner {\n    private readonly knownUnitArr: number[] = [100];\n    private sequenceLength: number = 0;\n    private sequenceUnit: null | number = null;\n    private endSequenceTimeout: undefined | ReturnType<typeof setTimeout>;\n    private toEmitDelta: null | number = null;\n    private position: null | {\n        pageX: number;\n        pageY: number;\n        clientX: number;\n        clientY: number;\n    } = null;\n\n    private emit(delta: number): void {\n        if (this.position === null || this.sequenceUnit === null) {\n            return;\n        }\n        this.callback({\n            deltaY: Math.round(delta / this.sequenceUnit),\n            pageX: this.position.pageX,\n            pageY: this.position.pageY,\n            clientX: this.position.clientX,\n            clientY: this.position.clientY,\n        });\n    }\n\n    private endSequence(): void {\n        if (this.toEmitDelta !== null) {\n            this.emit(this.toEmitDelta);\n            this.toEmitDelta = null;\n        }\n        if (this.sequenceUnit !== null && !this.knownUnitArr.includes(this.sequenceUnit)) {\n            this.knownUnitArr.push(this.sequenceUnit);\n        }\n        this.sequenceLength = 0;\n        this.sequenceUnit = null;\n    }\n\n    // ----------------------------------- public -----------------------------------\n\n    constructor(private callback: (p: TWheelCleanerEvent) => void) {}\n\n    process(event: WheelEvent): void {\n        this.position = {\n            pageX: event.pageX,\n            pageY: event.pageY,\n            clientX: event.clientX,\n            clientY: event.clientY,\n        };\n\n        if (this.endSequenceTimeout) {\n            clearTimeout(this.endSequenceTimeout);\n        }\n        this.endSequenceTimeout = setTimeout(() => this.endSequence(), SEQUENCE_TIMEOUT_MS);\n\n        //prep delta\n        let delta = event.deltaY;\n        if ('deltaMode' in event && event.deltaMode === 1) {\n            delta *= 100 / 3;\n        }\n        const absDelta = Math.abs(delta);\n\n        //sequence begins\n        if (this.sequenceLength === 0) {\n            this.sequenceLength++;\n            if (absDelta < 50) {\n                //dirty - probably a swipe scroll or pinch scroll on trackpad\n                return;\n            }\n\n            this.sequenceUnit = absDelta;\n            if (this.knownUnitArr.includes(this.sequenceUnit)) {\n                //we know this unit - emit right away\n                this.emit(delta);\n            } else {\n                //unknown unit - wait until next event or sequence end, to have more certainty that it's clean\n                this.toEmitDelta = delta;\n            }\n            return;\n        }\n\n        if (this.sequenceUnit === null) {\n            //previously determined dirty sequence\n            this.toEmitDelta = null;\n            return;\n        }\n\n        //sequence continues\n        if (absDelta === 0) {\n            //ignore zero scroll\n            return;\n        }\n        if (\n            absDelta === this.sequenceUnit ||\n            (absDelta / this.sequenceUnit) % 1 < 0.0001 // a multiple\n        ) {\n            //fine\n        } else if ((this.sequenceUnit / absDelta) % 1 < 0.0001) {\n            //unit was actually a multiple - update it\n            this.sequenceUnit = absDelta;\n        } else if (absDelta !== this.sequenceUnit) {\n            //not clean - delta is varying - probably a swipe scroll or pinch scroll on trackpad\n            this.sequenceUnit = null;\n            this.toEmitDelta = null;\n            return;\n        }\n\n        if (this.toEmitDelta !== null) {\n            this.emit(this.toEmitDelta);\n            this.toEmitDelta = null;\n        }\n        this.emit(delta);\n    }\n}\n","/**\n * Apple Pencil on iPad in Safari has two problems:\n * - You need to press the stylus very strong to reach 1.0 pressure, to the point where the screen starts discoloring\n * - Always fires the same pressure value on pointerdown\n *\n * This normalizer tries to fix that with a workaround.\n *\n * pressure range [0, 1]\n */\nexport class PressureNormalizer {\n    private detectionComplete = false;\n    private isApplePencil = false;\n\n    // detection\n    private initialPointerDownPressure = -1;\n    private pointerDownPressureRepeatCount = 0;\n    private pointerMoveHasDifferentPressure = false;\n\n    // ----------------------------------- public -----------------------------------\n    normalize(pressure: number, eventType?: string, pointerType?: string): number {\n        if (pointerType === 'pen') {\n            if (!this.detectionComplete) {\n                if (eventType === 'pointerdown') {\n                    if (this.initialPointerDownPressure === -1) {\n                        this.initialPointerDownPressure = pressure;\n                    } else if (this.initialPointerDownPressure === pressure) {\n                        this.pointerDownPressureRepeatCount++;\n                        if (\n                            this.pointerDownPressureRepeatCount > 1 &&\n                            this.pointerMoveHasDifferentPressure\n                        ) {\n                            this.detectionComplete = true;\n                            this.isApplePencil = true;\n                        }\n                    } else {\n                        this.detectionComplete = true;\n                        this.isApplePencil = false;\n                    }\n                } else if (eventType === 'pointermove') {\n                    if (this.initialPointerDownPressure !== pressure) {\n                        this.pointerMoveHasDifferentPressure = true;\n                    }\n                }\n            }\n\n            if (this.detectionComplete && this.isApplePencil) {\n                if (this.initialPointerDownPressure === pressure) {\n                    return 0;\n                }\n                pressure = Math.min(2, pressure * 2);\n            }\n            return pressure;\n        } else {\n            return pressure;\n        }\n    }\n}\n","import { TBounds, TKeyString, TRect } from '../bb-types';\nimport { createCanvas } from './create-canvas';\nimport { asyncLoadImage, base64ToBlob, copyObj } from './base';\nimport { MultiPolygon } from 'polygon-clipping';\nimport { getSelectionPath2d } from '../multi-polygon/get-selection-path-2d';\n\nexport function copyCanvas(canvas: HTMLCanvasElement | HTMLImageElement): HTMLCanvasElement {\n    const resultCanvas = createCanvas(canvas.width, canvas.height);\n    const ctx = resultCanvas.getContext('2d');\n    if (!ctx) {\n        throw new Error('2d context not supported or canvas already initialized');\n    }\n    ctx.drawImage(canvas, 0, 0);\n    return resultCanvas;\n}\n\nexport function ctx(\n    canvas: HTMLCanvasElement,\n    options?: CanvasRenderingContext2DSettings,\n): CanvasRenderingContext2D {\n    const ctx = canvas.getContext('2d', options);\n    if (!ctx) {\n        throw new Error(\"couldn't get 2d context\");\n    }\n    return ctx;\n}\n\nexport async function loadToCanvas(path: string): Promise<HTMLCanvasElement> {\n    const im = await asyncLoadImage(path);\n    const canvas = createCanvas(im.width, im.height);\n    const ctx = canvas.getContext('2d')!;\n    ctx.drawImage(im, 0, 0);\n    return canvas;\n}\n\n/**\n * Determine if we should disable imageSmoothing for transformation.\n * ImageSmoothing can make images blurry even when they're in the original scale and aligned with the pixelgrid.\n */\nexport function testShouldPixelate(\n    transform: {\n        x: number;\n        y: number;\n        width: number;\n        height: number;\n        angleDeg: number;\n    },\n    scaleX: number,\n    scaleY: number,\n): boolean {\n    if (\n        ![1, -1].includes(scaleX) ||\n        ![1, -1].includes(scaleY) ||\n        transform.width % 1 !== 0 ||\n        transform.height % 1 !== 0 ||\n        Math.abs(transform.angleDeg) % 90 !== 0\n    ) {\n        return false;\n    }\n    const whSwapped = Math.abs(transform.angleDeg - 90) % 180 === 0;\n    const width = whSwapped ? transform.height : transform.width;\n    const height = whSwapped ? transform.width : transform.height;\n    return (\n        ((Math.abs(width) % 2 === 0 && transform.x % 1 === 0) ||\n            (Math.abs(width) % 2 === 1 && transform.x % 1 === 0.5)) &&\n        ((Math.abs(height) % 2 === 0 && transform.y % 1 === 0) ||\n            (Math.abs(height) % 2 === 1 && transform.y % 1 === 0.5))\n    );\n}\n\n/**\n * @param destCtx - the canvas that will be drawn on\n * @param transformImage - image that will be drawn on canvas\n * @param transform - {x, y, width, height, angle} - x and y are center of transformImage\n * @param bounds object - optional {x, y, width, height} - crop of transformImage in transformImage image space\n * @param pixelated\n */\nexport function drawTransformedImageWithBounds(\n    destCtx: CanvasRenderingContext2D,\n    transformImage: HTMLImageElement | HTMLCanvasElement,\n    transform: {\n        x: number;\n        y: number;\n        width: number;\n        height: number;\n        angleDeg: number;\n    },\n    bounds?: { x: number; y: number; width: number; height: number },\n    pixelated?: boolean,\n): void {\n    if (!bounds) {\n        bounds = {\n            x: 0,\n            y: 0,\n            width: transformImage.width,\n            height: transformImage.height,\n        };\n    }\n\n    destCtx.save();\n    if (pixelated) {\n        destCtx.imageSmoothingEnabled = false;\n    } else {\n        destCtx.imageSmoothingEnabled = true;\n        destCtx.imageSmoothingQuality = 'high';\n    }\n\n    destCtx.translate(transform.x, transform.y);\n    destCtx.rotate((transform.angleDeg / 180) * Math.PI);\n    destCtx.scale(transform.width > 0 ? 1 : -1, transform.height > 0 ? 1 : -1);\n    destCtx.drawImage(\n        transformImage,\n        bounds.x,\n        bounds.y,\n        bounds.width,\n        bounds.height,\n        -Math.abs(transform.width) / 2,\n        -Math.abs(transform.height) / 2,\n        Math.abs(transform.width),\n        Math.abs(transform.height),\n    );\n\n    destCtx.restore();\n}\n\n/**\n * all transformations are optional\n * center is the point around which will be scaled and rotated\n *\n * @param baseCanvas canvas - the canvas that will be drawn on\n * @param transformImage image|canvas - image that will be drawn on canvas\n * @param transformObj {center: {x, y}, scale: {x, y}, translate: {x, y}, angleDegree}\n */\nexport function drawTransformedImageOnCanvas(\n    baseCanvas: HTMLCanvasElement,\n    transformImage: HTMLImageElement | HTMLCanvasElement,\n    transformObj: {\n        center: { x: number; y: number };\n        scale: { x: number; y: number };\n        translate: { x: number; y: number };\n        angleDegree: number;\n    },\n): void {\n    transformObj = copyObj(transformObj);\n    if (!transformObj.center) {\n        transformObj.center = {\n            x: transformImage.width / 2,\n            y: transformImage.height / 2,\n        };\n    }\n    if (!transformObj.scale) {\n        transformObj.scale = {\n            x: 1,\n            y: 1,\n        };\n    }\n    if (!transformObj.angleDegree) {\n        transformObj.angleDegree = 0;\n    }\n    if (!transformObj.translate) {\n        transformObj.translate = {\n            x: 0,\n            y: 0,\n        };\n    }\n\n    const ctx = baseCanvas.getContext('2d');\n    if (!ctx) {\n        throw new Error('2d context not supported or canvas already initialized');\n    }\n    ctx.save();\n    if (\n        Math.abs(transformObj.scale.x - 1) > 0.000001 ||\n        Math.abs(transformObj.scale.y - 1) > 0.000001 ||\n        Math.abs(transformObj.angleDegree % 90) > 0.000001\n    ) {\n        ctx.imageSmoothingEnabled = true;\n        ctx.imageSmoothingQuality = 'high';\n    } else {\n        ctx.imageSmoothingEnabled = false;\n    }\n\n    ctx.translate(transformObj.translate.x, transformObj.translate.y);\n    ctx.translate(transformObj.center.x, transformObj.center.y);\n    ctx.rotate((transformObj.angleDegree / 180) * Math.PI);\n    ctx.scale(transformObj.scale.x, transformObj.scale.y);\n    ctx.translate(-transformObj.center.x, -transformObj.center.y);\n    ctx.drawImage(transformImage, 0, 0, transformImage.width, transformImage.height);\n\n    ctx.restore();\n}\n\nexport const createCheckerCanvas = function (size: number, isDark?: boolean): HTMLCanvasElement {\n    const canvas = createCanvas();\n    let ctx;\n    if (size < 1) {\n        canvas.width = 1;\n        canvas.height = 1;\n        ctx = canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('2d context not supported or canvas already initialized');\n        }\n        ctx.fillStyle = 'rgb(128, 128, 128)';\n        ctx.fillRect(0, 0, 1, 1);\n    } else {\n        canvas.width = size * 2;\n        canvas.height = size * 2;\n        ctx = canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('2d context not supported or canvas already initialized');\n        }\n        ctx.fillStyle = isDark ? 'rgb(90, 90, 90)' : 'rgb(255, 255, 255)';\n        ctx.fillRect(0, 0, size * 2, size * 2);\n        ctx.fillStyle = isDark ? 'rgb(63, 63, 63)' : 'rgb(200, 200, 200)';\n        ctx.fillRect(0, 0, size, size);\n        ctx.fillRect(size, size, size * 2, size * 2);\n    }\n    return canvas;\n};\n\nexport const createCheckerDataUrl = (function () {\n    // previously created dataUrls\n    const cache: TKeyString = {};\n\n    return function (\n        size: number,\n        callback?: (s: string) => void,\n        isDark?: boolean,\n    ): string | void {\n        const modeStr = isDark ? 'd' : 'l';\n\n        function create(size: number): string {\n            size = parseInt('' + size);\n            if (cache['' + size + modeStr]) {\n                return cache['' + size + modeStr];\n            }\n            const canvas = createCheckerCanvas(size, isDark);\n            const result = canvas.toDataURL('image/png');\n            cache['' + size + modeStr] = result;\n            return result;\n        }\n\n        if (callback) {\n            //async\n            setTimeout(function () {\n                callback(create(size));\n            }, 1);\n        } else {\n            //sync\n            return create(size);\n        }\n    };\n})();\n\n/**\n * smooth resize image\n * @param canvas canvas - will be resized (modified)\n * @param w\n * @param h\n * @param tmp1 canvas - optional, provide to save resources\n * @param tmp2 canvas - optional, provide to save resources\n */\nexport function resizeCanvas(\n    canvas: HTMLCanvasElement,\n    w: number,\n    h: number,\n    tmp1?: HTMLCanvasElement,\n    tmp2?: HTMLCanvasElement,\n): void {\n    //determine base 2 exponents of old and new size\n    function getBase2Obj(oldW: number, oldH: number, newW: number, newH: number) {\n        const result = {\n            oldWidthEx: Math.round(Math.log2(oldW)),\n            oldHeightEx: Math.round(Math.log2(oldH)),\n            newWidthEx: Math.ceil(Math.log2(newW)),\n            newHeightEx: Math.ceil(Math.log2(newH)),\n        };\n        result.oldWidthEx = Math.max(result.oldWidthEx, result.newWidthEx);\n        result.oldHeightEx = Math.max(result.oldHeightEx, result.newHeightEx);\n        return result;\n    }\n\n    if (!w || !h || (w === canvas.width && h === canvas.height)) {\n        return;\n    }\n    w = Math.max(w, 1);\n    h = Math.max(h, 1);\n    if (w <= canvas.width && h <= canvas.height) {\n        tmp1 = !tmp1 ? createCanvas() : tmp1;\n        tmp2 = !tmp2 ? createCanvas() : tmp2;\n\n        const base2 = getBase2Obj(canvas.width, canvas.height, w, h);\n\n        //initially scale to a base of 2. unless new size is too close to old. e.g. sizing from 900 to 600\n        tmp2.width = base2.oldWidthEx > base2.newWidthEx ? Math.pow(2, base2.oldWidthEx) : w;\n        tmp2.height = base2.oldHeightEx > base2.newHeightEx ? Math.pow(2, base2.oldHeightEx) : h;\n        tmp1.getContext('2d')!.save();\n        tmp2.getContext('2d')!.save();\n\n        let ew, eh;\n        let buffer1 = tmp1,\n            buffer2 = tmp2;\n\n        ew = base2.oldWidthEx;\n        eh = base2.oldHeightEx;\n\n        let bufferCtx = buffer2.getContext('2d')!;\n        bufferCtx.imageSmoothingEnabled = true;\n        bufferCtx.imageSmoothingQuality = 'high';\n        bufferCtx.globalCompositeOperation = 'copy';\n        bufferCtx.drawImage(canvas, 0, 0, buffer2.width, buffer2.height);\n\n        let currentWidth = buffer2.width;\n        let currentHeight = buffer2.height;\n\n        //stepwise half the size\n        for (; ew > base2.newWidthEx || eh > base2.newHeightEx; ew--, eh--) {\n            bufferCtx = buffer1.getContext('2d')!;\n            bufferCtx.imageSmoothingEnabled = true;\n            bufferCtx.imageSmoothingQuality = 'high';\n            bufferCtx.globalCompositeOperation = 'copy';\n\n            const newWidth = ew > base2.newWidthEx ? currentWidth / 2 : currentWidth;\n            const newHeight = eh > base2.newHeightEx ? currentHeight / 2 : currentHeight;\n\n            //buffer also needs to be properly sized, unfortunately\n            buffer1.width = newWidth;\n            buffer1.height = newHeight;\n\n            bufferCtx.drawImage(\n                buffer2,\n                0,\n                0,\n                currentWidth,\n                currentHeight,\n                0,\n                0,\n                newWidth,\n                newHeight,\n            );\n            currentWidth = newWidth;\n            currentHeight = newHeight;\n\n            //swap\n            const tmp = buffer1;\n            buffer1 = buffer2;\n            buffer2 = tmp;\n        }\n\n        //when no longer can be halved, bring to target size\n        canvas.width = w;\n        canvas.height = h;\n        const canvasCtx = canvas.getContext('2d')!;\n        canvasCtx.save();\n        canvasCtx.imageSmoothingEnabled = true;\n        canvasCtx.imageSmoothingQuality = 'high';\n        canvasCtx.drawImage(buffer2, 0, 0, currentWidth, currentHeight, 0, 0, w, h);\n        canvasCtx.restore();\n        tmp1.getContext('2d')!.restore();\n        tmp2.getContext('2d')!.restore();\n    } else if (w >= canvas.width && h >= canvas.height) {\n        tmp1 = !tmp1 ? createCanvas() : tmp1;\n        tmp1.width = w;\n        tmp1.height = h;\n        const tmp1Ctx = tmp1.getContext('2d')!;\n        tmp1Ctx.save();\n        tmp1Ctx.imageSmoothingEnabled = true;\n        tmp1Ctx.imageSmoothingQuality = 'high';\n        tmp1Ctx.drawImage(canvas, 0, 0, w, h);\n        tmp1Ctx.restore();\n\n        canvas.width = w;\n        canvas.height = h;\n        canvas.getContext('2d')!.drawImage(tmp1, 0, 0);\n    } else {\n        resizeCanvas(canvas, w, canvas.height, tmp1, tmp2);\n        resizeCanvas(canvas, w, h, tmp1, tmp2);\n    }\n}\n\n/**\n * puts naive greyscale version of image into alpha channel.\n * only writes a, doesn't write rgb\n * @param canvas\n */\nexport function convertToAlphaChannelCanvas(canvas: HTMLCanvasElement): void {\n    const imdat = canvas.getContext('2d')!.getImageData(0, 0, canvas.width, canvas.height);\n    for (let i = 0; i < imdat.data.length; i += 4) {\n        if (imdat.data[i + 3] === 0) {\n            continue;\n        }\n        imdat.data[i + 3] =\n            ((imdat.data[i] + imdat.data[i + 1] + imdat.data[i + 2]) / 3) *\n            (imdat.data[i + 3] / 255);\n    }\n    canvas.getContext('2d')!.putImageData(imdat, 0, 0);\n}\n\n/**\n * Sometimes garbage collection is too slow, and canvases use up too much memory,\n * or in the worst case there is a hard to fix memory leak.\n * This function manually makes the canvas use as little memory as possible.\n */\nexport function freeCanvas(canvas: HTMLCanvasElement): void {\n    canvas.width = 1;\n    canvas.height = 1;\n    canvas.remove();\n}\n\n/**\n * Determine bounding box that describes all pixels which are not fully transparent.\n * Returns undefined if empty.\n *\n * @param context\n * @param integerBounds optional - restricts the search to this area. bounds have to be integers\n */\nexport function canvasBounds(\n    context: CanvasRenderingContext2D,\n    integerBounds?: TBounds,\n): TRect | undefined {\n    const searchBounds = integerBounds ?? {\n        x1: 0,\n        y1: 0,\n        x2: context.canvas.width - 1,\n        y2: context.canvas.height - 1,\n    };\n    const searchWidth = searchBounds.x2 - searchBounds.x1 + 1;\n    const searchHeight = searchBounds.y2 - searchBounds.y1 + 1;\n\n    const imdat = context.getImageData(searchBounds.x1, searchBounds.y1, searchWidth, searchHeight);\n\n    if (imdat.data[3] > 0 && imdat.data[imdat.data.length - 1] > 0) {\n        return {\n            x: searchBounds.x1,\n            y: searchBounds.y1,\n            width: searchBounds.x2 - searchBounds.x1 + 1,\n            height: searchBounds.y2 - searchBounds.y1 + 1,\n        };\n    }\n    const tempBounds: Partial<TBounds> = {\n        x1: undefined,\n        y1: undefined,\n        x2: undefined,\n        y2: undefined,\n    };\n    for (let i = 3; i < imdat.data.length; i += 4) {\n        if (imdat.data[i] > 0) {\n            const x = ((i - 3) / 4) % searchWidth;\n            const y = Math.floor((i - 3) / 4 / searchWidth);\n            if (tempBounds.x1 === undefined || tempBounds.x1 > x) {\n                tempBounds.x1 = x;\n            }\n            if (tempBounds.y1 === undefined) {\n                tempBounds.y1 = y;\n            }\n            if (tempBounds.x2 === undefined || tempBounds.x2 < x) {\n                tempBounds.x2 = x;\n            }\n            if (tempBounds.y2 === undefined || tempBounds.y2 < y) {\n                tempBounds.y2 = y;\n            }\n        }\n    }\n    if (\n        tempBounds.x1 === undefined ||\n        tempBounds.y1 === undefined ||\n        tempBounds.x2 === undefined ||\n        tempBounds.y2 === undefined\n    ) {\n        return undefined;\n    }\n\n    return {\n        x: tempBounds.x1 + searchBounds.x1,\n        y: tempBounds.y1 + searchBounds.y1,\n        width: tempBounds.x2! - tempBounds.x1 + 1,\n        height: tempBounds.y2! - tempBounds.y1 + 1,\n    };\n}\n\nexport function htmlCanvasToBlobAsync(canvas: HTMLCanvasElement, mimeType: string): Promise<Blob> {\n    return new Promise<Blob>((resolve, reject) => {\n        canvas.toBlob((blob) => {\n            if (blob) {\n                resolve(blob);\n            } else {\n                reject(new Error('Failed to create blob from canvas.'));\n            }\n        }, mimeType);\n    });\n}\n\nexport async function canvasToBlob(canvas: HTMLCanvasElement, mimeType: string): Promise<Blob> {\n    if ('toBlob' in HTMLCanvasElement.prototype) {\n        return await htmlCanvasToBlobAsync(canvas, mimeType);\n    } else {\n        // assume base64\n        return base64ToBlob(canvas.toDataURL(mimeType));\n    }\n}\n\nexport function drawSelectionMask(\n    selection: MultiPolygon,\n    context: CanvasRenderingContext2D,\n): void {\n    const canvas = context.canvas;\n    context.save();\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    const selectionPath = getSelectionPath2d(selection);\n    context.clip(selectionPath);\n    context.fillStyle = 'white';\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    context.restore();\n}\n","/*window['canvases'] = [];\r\n\r\nwindow['printCanvases'] = () => {\r\n    let total = 0;\r\n\r\n    console.log(window['canvases'].map(item => {\r\n        total += item.width * item.height;\r\n        return {w: item.width, h: item.height};\r\n    }));\r\n\r\n    console.log('total: ' + (total * 4 / 1000 / 1000) + 'mb');\r\n};*/\r\n\r\nexport function createCanvas(w?: number, h?: number): HTMLCanvasElement {\r\n    const result = document.createElement('canvas');\r\n    if (w && h) {\r\n        result.width = w;\r\n        result.height = h;\r\n    }\r\n    // window['canvases'].push(result);\r\n    return result;\r\n}\r\n","import { MultiPolygon } from 'polygon-clipping';\r\n\r\nexport function getSelectionPath2d(selection: MultiPolygon): Path2D {\r\n    const path = new Path2D();\r\n    selection.forEach((poly) => {\r\n        poly.forEach((ring) => {\r\n            ring.forEach((point, index) => {\r\n                if (index === 0) {\r\n                    path.moveTo(...point);\r\n                } else {\r\n                    path.lineTo(...point);\r\n                }\r\n            });\r\n        });\r\n        path.closePath();\r\n    });\r\n    return path;\r\n}\r\n\r\nexport function getSvgPathD(poly: MultiPolygon): string {\r\n    let result = '';\r\n    poly.forEach((poly) => {\r\n        poly.forEach((ring) => {\r\n            result += 'M';\r\n            ring.forEach((point) => {\r\n                result += point.join(',') + ' ';\r\n            });\r\n        });\r\n    });\r\n    return result.trim();\r\n}\r\n","import { _ as _array_without_holes } from \"./_array_without_holes.js\";\nimport { _ as _iterable_to_array } from \"./_iterable_to_array.js\";\nimport { _ as _non_iterable_spread } from \"./_non_iterable_spread.js\";\nimport { _ as _unsupported_iterable_to_array } from \"./_unsupported_iterable_to_array.js\";\n\nfunction _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nexport { _to_consumable_array as _ };\n","import { _ as _array_like_to_array } from \"./_array_like_to_array.js\";\n\nfunction _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nexport { _array_without_holes as _ };\n","function _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) {\n        return Array.from(iter);\n    }\n}\nexport { _iterable_to_array as _ };\n","function _non_iterable_spread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _non_iterable_spread as _ };\n","// https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Matrix_math_for_the_web\r\n// not optimized\r\n\r\ntype TMatrix4x4 = [\r\n    number,\r\n    number,\r\n    number,\r\n    number,\r\n    number,\r\n    number,\r\n    number,\r\n    number,\r\n    number,\r\n    number,\r\n    number,\r\n    number,\r\n    number,\r\n    number,\r\n    number,\r\n    number,\r\n];\r\n\r\nexport type TVec4 = [number, number, number, number];\r\n\r\nfunction getIdentity(): TMatrix4x4 {\r\n    return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n}\r\n\r\n// point  matrix\r\nfunction multiplyMatrixAndPoint(matrix: TMatrix4x4, point: TVec4): TVec4 {\r\n    return [\r\n        point[0] * matrix[0] + point[1] * matrix[4] + point[2] * matrix[8] + point[3] * matrix[12], // x\r\n        point[0] * matrix[1] + point[1] * matrix[5] + point[2] * matrix[9] + point[3] * matrix[13], // y\r\n        point[0] * matrix[2] + point[1] * matrix[6] + point[2] * matrix[10] + point[3] * matrix[14], // z\r\n        point[0] * matrix[3] + point[1] * matrix[7] + point[2] * matrix[11] + point[3] * matrix[15], // w\r\n    ];\r\n}\r\n\r\n//matrixB  matrixA\r\nfunction multiplyMatrices(matrixA: TMatrix4x4, matrixB: TMatrix4x4): TMatrix4x4 {\r\n    // Slice the second matrix up into rows\r\n    const row0: TVec4 = [matrixB[0], matrixB[1], matrixB[2], matrixB[3]];\r\n    const row1: TVec4 = [matrixB[4], matrixB[5], matrixB[6], matrixB[7]];\r\n    const row2: TVec4 = [matrixB[8], matrixB[9], matrixB[10], matrixB[11]];\r\n    const row3: TVec4 = [matrixB[12], matrixB[13], matrixB[14], matrixB[15]];\r\n\r\n    // Multiply each row by matrixA\r\n    const result0 = multiplyMatrixAndPoint(matrixA, row0);\r\n    const result1 = multiplyMatrixAndPoint(matrixA, row1);\r\n    const result2 = multiplyMatrixAndPoint(matrixA, row2);\r\n    const result3 = multiplyMatrixAndPoint(matrixA, row3);\r\n\r\n    // Turn the result rows back into a single matrix\r\n    return [\r\n        result0[0],\r\n        result0[1],\r\n        result0[2],\r\n        result0[3],\r\n        result1[0],\r\n        result1[1],\r\n        result1[2],\r\n        result1[3],\r\n        result2[0],\r\n        result2[1],\r\n        result2[2],\r\n        result2[3],\r\n        result3[0],\r\n        result3[1],\r\n        result3[2],\r\n        result3[3],\r\n    ];\r\n}\r\n\r\nfunction createTranslationMatrix(x: number, y: number): TMatrix4x4 {\r\n    return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, 0, 1];\r\n}\r\n\r\nfunction createRotationMatrix(angleRad: number): TMatrix4x4 {\r\n    //let angleRad = angleDeg / 360 * 2 * Math.PI;\r\n    return [\r\n        Math.cos(-angleRad),\r\n        -Math.sin(-angleRad),\r\n        0,\r\n        0,\r\n        Math.sin(-angleRad),\r\n        Math.cos(-angleRad),\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        1,\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        1,\r\n    ];\r\n}\r\n\r\nfunction createScaleMatrix(f: number): TMatrix4x4 {\r\n    return [f, 0, 0, 0, 0, f, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n}\r\n\r\nexport const Matrix = Object.freeze({\r\n    getIdentity,\r\n    multiplyMatrixAndPoint,\r\n    multiplyMatrices,\r\n    createTranslationMatrix,\r\n    createRotationMatrix,\r\n    createScaleMatrix,\r\n});\r\n","import { TVector2D } from '../bb-types';\n\nexport const Vec2 = {\n    add: function (p1: TVector2D, p2: TVector2D): TVector2D {\n        return { x: p1.x + p2.x, y: p1.y + p2.y };\n    },\n    sub: function (p1: TVector2D, p2: TVector2D): TVector2D {\n        return { x: p1.x - p2.x, y: p1.y - p2.y };\n    },\n    nor: function (p: TVector2D): TVector2D {\n        const len = Math.sqrt(Math.pow(p.x, 2) + Math.pow(p.y, 2));\n        return { x: p.x / len, y: p.y / len };\n    },\n    len: function (p: TVector2D): number {\n        return Math.sqrt(Math.pow(p.x, 2) + Math.pow(p.y, 2));\n    },\n    dist: function (p1: TVector2D, p2: TVector2D): number {\n        return Vec2.len(Vec2.sub(p1, p2));\n    },\n    mul: function (p: TVector2D, s: number): TVector2D {\n        return { x: p.x * s, y: p.y * s };\n    },\n    angle: function (p1: TVector2D, p2: TVector2D): number {\n        return Math.atan2(p2.y - p1.y, p2.x - p1.x);\n    },\n    dot: function (a: TVector2D, b: TVector2D): number {\n        const aArr = [a.x, a.y];\n        const bArr = [b.x, b.y];\n        return aArr.map((x, i) => aArr[i] * bArr[i]).reduce((m, n) => m + n);\n    },\n};\n","import { Vec2 } from './vec2';\nimport { clamp, dist, mix, pointsToAngleDeg } from './math';\nimport { TVector2D } from '../bb-types';\nimport { copyObj } from '../base/base';\n\n/**\n * project p onto line\n * @param lineStart\n * @param lineEnd\n * @param p\n */\nexport const projectPointOnLine = function (\n    lineStart: TVector2D,\n    lineEnd: TVector2D,\n    p: TVector2D,\n): TVector2D {\n    let x, y;\n    if (lineStart.x === lineEnd.x) {\n        x = lineStart.x;\n        y = p.y;\n\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    const m = (lineEnd.y - lineStart.y) / (lineEnd.x - lineStart.x);\n    const b = lineStart.y - m * lineStart.x;\n\n    x = (m * p.y + p.x - m * b) / (m * m + 1);\n    y = (m * m * p.y + m * p.x + b) / (m * m + 1);\n\n    return {\n        x: x,\n        y: y,\n    };\n};\n\n/**\n * Operations on a line made up of points\n */\nexport class PointLine {\n    private readonly segmentArr: {\n        x: number;\n        y: number;\n        length: number; // last is 0\n    }[];\n\n    // ----------------------------------- public -----------------------------------\n    constructor(p: { points: TVector2D[] }) {\n        this.segmentArr = [];\n\n        for (let i = 0; i < p.points.length; i++) {\n            ((i) => {\n                let length = 0;\n                if (i < p.points.length - 1) {\n                    length = dist(\n                        p.points[i].x,\n                        p.points[i].y,\n                        p.points[i + 1].x,\n                        p.points[i + 1].y,\n                    );\n                }\n                this.segmentArr[i] = {\n                    x: p.points[i].x,\n                    y: p.points[i].y,\n                    length: length,\n                };\n            })(i);\n        }\n    }\n\n    // ---- interface ----\n\n    /**\n     * returns point when traveling *dist* along the line, > 0\n     * @param dist\n     */\n    getAtDist(dist: number): TVector2D {\n        let remainder = Math.min(this.getLength(), dist);\n        let i = 0;\n\n        for (; remainder > this.segmentArr[i].length && i < this.segmentArr.length - 2; i++) {\n            remainder -= this.segmentArr[i].length;\n        }\n\n        const fac = Math.min(1, Math.max(0, remainder / this.segmentArr[i].length));\n\n        return {\n            x: this.segmentArr[i].x * (1 - fac) + this.segmentArr[i + 1].x * fac,\n            y: this.segmentArr[i].y * (1 - fac) + this.segmentArr[i + 1].y * fac,\n        };\n    }\n\n    /**\n     * total length of line\n     */\n    getLength(): number {\n        let result = 0;\n        for (let i = 0; i < this.segmentArr.length - 1; i++) {\n            result += this.segmentArr[i].length;\n        }\n        return result;\n    }\n}\n\nexport type TBezierLineCallback = (v: {\n    x: number;\n    y: number;\n    t: number; // [0, 1] - how far along\n    angle?: number;\n    dAngle: number;\n}) => void;\ntype TBezierLineControlsCallback = (v: {\n    p1: TVector2D;\n    p2: TVector2D;\n    p3: TVector2D;\n    p4: TVector2D;\n}) => void;\n\ntype TBezierLinePoint = {\n    x: number;\n    y: number;\n    spacing: number;\n    dir: TVector2D;\n};\n\n/**\n * Each instance is one line made up of bezier interpolated segments.\n * You feed it points. It calculates control points on its own, and the resulting curve.\n */\nexport class BezierLine {\n    private readonly pointArr: TBezierLinePoint[];\n    private lastDot: number = 0;\n    private lastPoint: TVector2D | undefined;\n    private lastCallbackPoint: TVector2D | undefined;\n    private lastAngle: number | undefined;\n    private lastSpacing: number | undefined;\n\n    /**\n     * creates bezier curve from control points\n     * @param p1 - control point 1 {x: float, y: float}\n     * @param p2 - control point 2 {x: float, y: float}\n     * @param p3 - control point 3 {x: float, y: float}\n     * @param p4 - control point 4 {x: float, y: float}\n     * @param resolution - int\n     * @returns bezier curve made up of points {x: float, y: float}\n     */\n    private getBezierPoints(\n        p1: TVector2D,\n        p2: TVector2D,\n        p3: TVector2D,\n        p4: TVector2D,\n        resolution: number,\n    ): TVector2D[] {\n        const curvePoints = [];\n        let t;\n        for (let i = 0; i <= resolution; i++) {\n            t = i / resolution;\n            curvePoints[curvePoints.length] = {\n                x:\n                    Math.pow(1 - t, 3) * p1.x +\n                    3 * Math.pow(1 - t, 2) * t * p2.x +\n                    3 * (1 - t) * Math.pow(t, 2) * p3.x +\n                    Math.pow(t, 3) * p4.x,\n                y:\n                    Math.pow(1 - t, 3) * p1.y +\n                    3 * Math.pow(1 - t, 2) * t * p2.y +\n                    3 * (1 - t) * Math.pow(t, 2) * p3.y +\n                    Math.pow(t, 3) * p4.y,\n            };\n        }\n        return curvePoints;\n    }\n\n    // ----------------------------------- public -----------------------------------\n    constructor() {\n        this.pointArr = [];\n    }\n\n    // ---- interface ----\n\n    /**\n     * Add new point to line. \"Drawn\" line will go until the previous point.\n     *\n     * @param x - coord of new point\n     * @param y\n     * @param spacing - space between each step\n     * @param callback - calls for each step\n     * @param controlsCallback - calls that callback with the bezier control points\n     */\n    add(\n        x: number,\n        y: number,\n        spacing: number,\n        callback?: TBezierLineCallback,\n        controlsCallback?: TBezierLineControlsCallback,\n    ): void {\n        if (this.lastPoint && x === this.lastPoint.x && y === this.lastPoint.y) {\n            return;\n        }\n        this.lastPoint = { x, y };\n        this.pointArr[this.pointArr.length] = {\n            x,\n            y,\n            spacing,\n        } as TBezierLinePoint;\n\n        //calculate directions\n        if (this.pointArr.length === 1) {\n            this.lastSpacing = spacing;\n            return;\n        } else if (this.pointArr.length === 2) {\n            this.pointArr[0].dir = Vec2.nor(Vec2.sub(this.pointArr[1], this.pointArr[0]));\n            this.lastDot = spacing;\n            this.lastSpacing = spacing;\n            return;\n        } else {\n            const pointM1 = this.pointArr[this.pointArr.length - 1];\n            const pointM2 = this.pointArr[this.pointArr.length - 2];\n            const pointM3 = this.pointArr[this.pointArr.length - 3];\n            pointM2.dir = Vec2.nor(Vec2.sub(pointM1, pointM3));\n            if (isNaN(pointM2.dir.x) || isNaN(pointM2.dir.y)) {\n                //when xy -3 == -1\n                pointM2.dir = copyObj(pointM3.dir);\n            }\n        }\n\n        //get bezier curve\n        const a = this.pointArr[this.pointArr.length - 3];\n        const b = this.pointArr[this.pointArr.length - 2];\n        const p1 = a;\n        const p2 = Vec2.add(a, Vec2.mul(a.dir, Vec2.dist(a, b) / 4));\n        const p3 = Vec2.sub(b, Vec2.mul(b.dir, Vec2.dist(a, b) / 4));\n        const p4 = b;\n\n        let pointLine: PointLine;\n        if (callback) {\n            const curvePoints = this.getBezierPoints(p1, p2, p3, p4, 20);\n            pointLine = new PointLine({ points: curvePoints });\n        } else {\n            pointLine = new PointLine({ points: [p1, p4] });\n        }\n\n        //iterate over curve with spacing and callback\n        const len = pointLine.getLength();\n        let tempSpacing = mix(this.lastSpacing!, spacing, clamp(this.lastDot / len, 0, 1));\n        let d = this.lastDot;\n        for (; d <= len; d += tempSpacing) {\n            tempSpacing = mix(this.lastSpacing!, spacing, clamp(d / len, 0, 1));\n            const point = pointLine.getAtDist(d);\n            const angle = this.lastCallbackPoint\n                ? pointsToAngleDeg(this.lastCallbackPoint, point)\n                : undefined;\n            if (callback) {\n                callback({\n                    x: point.x,\n                    y: point.y,\n                    t: d / len,\n                    angle: angle,\n                    dAngle: this.lastCallbackPoint ? angle! - this.lastAngle! : 0,\n                });\n            }\n            this.lastCallbackPoint = point;\n            this.lastAngle = angle;\n        }\n\n        if (callback) {\n            this.lastDot = d - len;\n        } else {\n            this.lastDot = 0;\n            controlsCallback?.({ p1: p1, p2: p2, p3: p3, p4: p4 });\n        }\n\n        this.lastSpacing = spacing;\n    }\n\n    addFinal(\n        spacing: number,\n        callback?: TBezierLineCallback,\n        controlsCallback?: TBezierLineControlsCallback,\n    ): void {\n        if (this.pointArr.length < 2) {\n            return;\n        }\n\n        const p1 = this.pointArr[this.pointArr.length - 2];\n        const p2 = this.pointArr[this.pointArr.length - 1];\n\n        const newP = Vec2.add(p2, Vec2.sub(p2, p1));\n\n        this.add(newP.x, newP.y, spacing, callback, controlsCallback);\n    }\n}\n\nexport type TSplineInputPoints = [number, number][]; // [x, y]\n\n/**\n * from SplineInterpolator.cs in the Paint.NET source code\n */\nexport class SplineInterpolator {\n    private readonly xa: number[];\n    private readonly ya: number[];\n    private readonly u: number[];\n    private readonly y2: number[];\n    private readonly first: number;\n    private readonly last: number;\n\n    // ----------------------------------- public -----------------------------------\n    constructor(points: TSplineInputPoints) {\n        const n = points.length;\n        this.xa = [];\n        this.ya = [];\n        this.u = [];\n        this.y2 = [];\n        let i;\n\n        this.first = points[0][0];\n        this.last = points[points.length - 1][0];\n\n        points.sort(function (a, b) {\n            return a[0] - b[0];\n        });\n        for (i = 0; i < n; i++) {\n            this.xa.push(points[i][0]);\n            this.ya.push(points[i][1]);\n        }\n\n        this.u[0] = 0;\n        this.y2[0] = 0;\n\n        for (i = 1; i < n - 1; ++i) {\n            // This is the decomposition loop of the tridiagonal algorithm.\n            // y2 and u are used for temporary storage of the decomposed factors.\n            const wx = this.xa[i + 1] - this.xa[i - 1];\n            const sig = (this.xa[i] - this.xa[i - 1]) / wx;\n            const p = sig * this.y2[i - 1] + 2.0;\n\n            this.y2[i] = (sig - 1.0) / p;\n\n            const ddydx =\n                (this.ya[i + 1] - this.ya[i]) / (this.xa[i + 1] - this.xa[i]) -\n                (this.ya[i] - this.ya[i - 1]) / (this.xa[i] - this.xa[i - 1]);\n\n            this.u[i] = ((6.0 * ddydx) / wx - sig * this.u[i - 1]) / p;\n        }\n\n        this.y2[n - 1] = 0;\n\n        // This is the backsubstitution loop of the tridiagonal algorithm\n        for (i = n - 2; i >= 0; --i) {\n            this.y2[i] = this.y2[i] * this.y2[i + 1] + this.u[i];\n        }\n    }\n\n    // ---- interface ----\n\n    getFirstX(): number {\n        return this.first;\n    }\n\n    getLastX(): number {\n        return this.last;\n    }\n\n    interpolate(x: number): number {\n        const n = this.ya.length;\n        let klo = 0;\n        let khi = n - 1;\n\n        // We will find the right place in the table by means of\n        // bisection. This is optimal if sequential calls to this\n        // routine are at random values of x. If sequential calls\n        // are in order, and closely spaced, one would do better\n        // to store previous values of klo and khi.\n        while (khi - klo > 1) {\n            const k = (khi + klo) >> 1;\n\n            if (this.xa[k] > x) {\n                khi = k;\n            } else {\n                klo = k;\n            }\n        }\n\n        const h = this.xa[khi] - this.xa[klo];\n        const a = (this.xa[khi] - x) / h;\n        const b = (x - this.xa[klo]) / h;\n\n        // Cubic spline polynomial is now evaluated.\n        return (\n            a * this.ya[klo] +\n            b * this.ya[khi] +\n            (((a * a * a - a) * this.y2[klo] + (b * b * b - b) * this.y2[khi]) * (h * h)) / 6.0\n        );\n    }\n\n    /**\n     * find x to y. simply by stepping through. suboptimal, so don't call often.\n     * searches in x 0-1 range\n     */\n    findX(y: number, resolution: number): number | undefined {\n        let x;\n        let dist: number;\n        for (let i = 0; i <= resolution; i++) {\n            const tempX = i / resolution;\n            const tempY = this.interpolate(tempX);\n            if (x === undefined) {\n                x = tempX;\n                dist = Math.abs(tempY - y);\n                continue;\n            }\n\n            const tempDist = Math.abs(tempY - y);\n\n            if (tempDist < dist!) {\n                x = tempX;\n                dist = tempDist;\n            } else {\n                //distance increasing\n                break;\n            }\n        }\n        return x;\n    }\n}\n\n/**\n * input for a spline, following curve of a power function x^n [0 - 1]\n * returns [[0, startVal], ..., [1, endVal]]\n */\nexport function powerSplineInput(\n    startVal: number,\n    endVal: number,\n    stepSize: number,\n    exponent: number = 2,\n): TSplineInputPoints {\n    function round(v: number, dec: number): number {\n        return Math.round(v * Math.pow(10, dec)) / Math.pow(10, dec);\n    }\n\n    const resultArr: TSplineInputPoints = [];\n    for (let i = 0; i <= 1; i += stepSize) {\n        resultArr.push([\n            round(i, 4),\n            round(startVal + Math.pow(i, exponent) * (endVal - startVal), 4),\n        ]);\n    }\n    return resultArr;\n}\n","import { TBounds, TRect, TVector2D } from '../bb-types';\n\nexport function mix(a: number, b: number, f: number): number {\n    return a * (1 - f) + b * f;\n}\n\nexport function dist(ax: number, ay: number, bx: number, by: number): number {\n    return Math.sqrt(Math.pow(ax - bx, 2) + Math.pow(ay - by, 2));\n}\n\nexport function distSquared(ax: number, ay: number, bx: number, by: number): number {\n    // faster because no square-root\n    return Math.pow(ax - bx, 2) + Math.pow(ay - by, 2);\n}\n\nexport function lenSquared(x: number, y: number): number {\n    // faster because no square-root\n    return x * x + y * y;\n}\n\nexport function pointsToAngleRad(p1: TVector2D, p2: TVector2D): number {\n    return Math.atan2(p2.y - p1.y, p2.x - p1.x);\n}\n\nexport function pointsToAngleDeg(p1: TVector2D, p2: TVector2D): number {\n    return (pointsToAngleRad(p1, p2) * 180) / Math.PI;\n}\n\nexport function isInsideRect(p: TVector2D, rect: TRect): boolean {\n    return (\n        rect.x <= p.x && p.x <= rect.x + rect.width && rect.y <= p.y && p.y <= rect.y + rect.height\n    );\n}\n\nexport function clamp(num: number, min: number, max: number): number {\n    return num < min ? min : num > max ? max : num;\n}\n\nexport function rotate(x: number, y: number, deg: number): TVector2D {\n    const theta = deg * (Math.PI / 180);\n    const cs = Math.cos(theta);\n    const sn = Math.sin(theta);\n\n    return {\n        x: x * cs - y * sn,\n        y: x * sn + y * cs,\n    };\n}\n\nexport function rotateAround(center: TVector2D, point: TVector2D, deg: number): TVector2D {\n    const rot = rotate(point.x - center.x, point.y - center.y, deg);\n    rot.x += center.x;\n    rot.y += center.y;\n    return rot;\n}\n\nexport function snapAngleDeg(\n    angleDeg: number,\n    snapDegIncrement: number,\n    maxDistDeg: number,\n): number {\n    const modDeg = Math.abs(angleDeg % snapDegIncrement);\n    const dist = Math.min(modDeg, snapDegIncrement - modDeg);\n\n    if (dist <= maxDistDeg) {\n        angleDeg = Math.round(angleDeg / snapDegIncrement) * snapDegIncrement;\n    }\n\n    return angleDeg;\n}\n\n/**\n * angle always in range [-180, 180]\n */\nexport function minimizeAngleDeg(angleDeg: number): number {\n    angleDeg = angleDeg % 360;\n    if (angleDeg > 180) {\n        angleDeg -= 360;\n    } else if (angleDeg < -180) {\n        angleDeg += 360;\n    }\n    return angleDeg;\n}\n\nexport function intDxy(remainder: TVector2D, fDx: number, fDy: number): { dX: number; dY: number } {\n    remainder.x += fDx;\n    remainder.y += fDy;\n    const dX = Math.round(remainder.x);\n    const dY = Math.round(remainder.y);\n    remainder.x -= dX;\n    remainder.y -= dY;\n    return {\n        dX,\n        dY,\n    };\n}\n\n/**\n * return closest even number\n * @param f\n */\nexport function roundEven(f: number): number {\n    if (f % 1 === 0) {\n        if (f % 2 === 0) {\n            return f;\n        }\n        return f + 1;\n    }\n    const above = Math.ceil(f);\n    const below = Math.floor(f);\n    if (above % 2 === 0) {\n        return above;\n    } else {\n        return below;\n    }\n}\n\n/**\n * return closest uneven number\n * @param f\n */\nexport function roundUneven(f: number): number {\n    if (f % 1 === 0) {\n        if (f % 2 === 0) {\n            return f + 1;\n        }\n        return f;\n    }\n    const above = Math.ceil(f);\n    const below = Math.floor(f);\n    if (above % 2 === 1) {\n        return above;\n    } else {\n        return below;\n    }\n}\n\n/**\n * round number to certain precision.\n * round(1.2345, 2) = 1.23\n * round(1.2345, 0) = 0\n * round(123, -1) = 120\n *\n * @param f\n * @param digits\n */\nexport function round(f: number, digits: number): number {\n    const digitMult = Math.pow(10, digits);\n    return Math.round(f /* + Number.EPSILON*/ * digitMult) / digitMult;\n}\n\n/**\n * update target so it includes bounds\n * @param target\n * @param bounds\n */\nexport function updateBounds(target: TBounds | undefined, bounds: TBounds | undefined): TBounds {\n    if (!bounds && !target) {\n        throw new Error('at least one param needs to be defined');\n    }\n    if (!bounds) {\n        return target!;\n    }\n    if (!target) {\n        target = { x1: bounds.x1, y1: bounds.y1, x2: bounds.x2, y2: bounds.y2 };\n    } else {\n        target.x1 = Math.min(target.x1, bounds.x1);\n        target.y1 = Math.min(target.y1, bounds.y1);\n        target.x2 = Math.max(target.x2, bounds.x2);\n        target.y2 = Math.max(target.y2, bounds.y2);\n    }\n    return target;\n}\n\nexport function boundsOverlap(\n    bounds: TBounds | undefined,\n    limit: TBounds | undefined,\n): TBounds | undefined {\n    if (!bounds) {\n        return undefined;\n    }\n    if (!limit) {\n        return bounds;\n    }\n    const x1 = Math.max(limit.x1, bounds.x1);\n    const y1 = Math.max(limit.y1, bounds.y1);\n    const x2 = Math.min(limit.x2, bounds.x2);\n    const y2 = Math.min(limit.y2, bounds.y2);\n\n    if (x1 > x2 || y1 > y2) {\n        return undefined;\n    }\n    return { x1, y1, x2, y2 };\n}\n\n/**\n * determine overlap of bounds with width&height\n */\nexport function boundsInArea(\n    bounds: TBounds | undefined,\n    width: number,\n    height: number,\n): TBounds | undefined {\n    if (!bounds) {\n        return undefined;\n    }\n    return boundsOverlap(bounds, { x1: 0, y1: 0, x2: width - 1, y2: height - 1 });\n}\n\nexport function intBoundsWithinArea(\n    bounds: TBounds,\n    width: number,\n    height: number,\n    areIndices?: boolean,\n): TBounds | undefined {\n    const x1 = Math.max(0, Math.floor(bounds.x1));\n    const y1 = Math.max(0, Math.floor(bounds.y1));\n    const x2 = Math.min(width - (areIndices ? 1 : 0), Math.ceil(bounds.x2));\n    const y2 = Math.min(height - (areIndices ? 1 : 0), Math.ceil(bounds.y2));\n    if (x1 > x2 || y1 > y2) {\n        return undefined;\n    }\n    return { x1, y1, x2, y2 };\n}\n\nexport function boundsToRect(bounds: TBounds, areIndices?: boolean): TRect {\n    return {\n        x: bounds.x1,\n        y: bounds.y1,\n        width: bounds.x2 - bounds.x1 + (areIndices ? 1 : 0),\n        height: bounds.y2 - bounds.y1 + (areIndices ? 1 : 0),\n    };\n}\n\nexport function integerBounds(bounds: TBounds): TBounds {\n    return {\n        x1: Math.floor(bounds.x1),\n        y1: Math.floor(bounds.y1),\n        x2: Math.ceil(bounds.x2),\n        y2: Math.ceil(bounds.y2),\n    };\n}\n","// based on js color conversion http://www.webtoolkit.info/\r\n\r\nexport class HSV {\r\n    h: number;\r\n    s: number;\r\n    v: number;\r\n    constructor(h: number, s: number, v: number) {\r\n        this.h = Math.max(0, Math.min(360, h));\r\n        this.s = Math.max(0.001, Math.min(100, s)); //bug when 0\r\n        this.v = Math.max(0, Math.min(100, v));\r\n    }\r\n}\r\n\r\nexport class RGB {\r\n    r: number;\r\n    g: number;\r\n    b: number;\r\n    constructor(r: number, g: number, b: number) {\r\n        this.r = Math.max(0, Math.min(255, r));\r\n        this.g = Math.max(0, Math.min(255, g));\r\n        this.b = Math.max(0, Math.min(255, b));\r\n    }\r\n}\r\n\r\nexport class CMYK {\r\n    c: number;\r\n    m: number;\r\n    y: number;\r\n    k: number;\r\n    constructor(c: number, m: number, y: number, k: number) {\r\n        this.c = Math.max(0, Math.min(100, c));\r\n        this.m = Math.max(0, Math.min(100, m));\r\n        this.y = Math.max(0, Math.min(100, y));\r\n        this.k = Math.max(0, Math.min(100, k));\r\n    }\r\n}\r\n\r\nexport const ColorConverter = {\r\n    _RGBtoHSV: function (RGB: RGB): HSV {\r\n        const result = new HSV(0, 0, 0);\r\n\r\n        const r = RGB.r / 255;\r\n        const g = RGB.g / 255;\r\n        const b = RGB.b / 255;\r\n\r\n        const minVal = Math.min(r, g, b);\r\n        const maxVal = Math.max(r, g, b);\r\n        const delta = maxVal - minVal;\r\n\r\n        result.v = maxVal;\r\n\r\n        if (delta == 0) {\r\n            result.h = 0;\r\n            result.s = 0;\r\n        } else {\r\n            result.s = delta / maxVal;\r\n            const del_R = ((maxVal - r) / 6 + delta / 2) / delta;\r\n            const del_G = ((maxVal - g) / 6 + delta / 2) / delta;\r\n            const del_B = ((maxVal - b) / 6 + delta / 2) / delta;\r\n\r\n            if (r == maxVal) {\r\n                result.h = del_B - del_G;\r\n            } else if (g == maxVal) {\r\n                result.h = 1 / 3 + del_R - del_B;\r\n            } else if (b == maxVal) {\r\n                result.h = 2 / 3 + del_G - del_R;\r\n            }\r\n\r\n            if (result.h < 0) {\r\n                result.h += 1;\r\n            }\r\n            if (result.h > 1) {\r\n                result.h -= 1;\r\n            }\r\n        }\r\n\r\n        result.h = Math.round(result.h * 360);\r\n        result.s = Math.round(result.s * 100);\r\n        result.v = Math.round(result.v * 100);\r\n\r\n        return result;\r\n    },\r\n\r\n    _HSVtoRGB: function (HSV: HSV): RGB {\r\n        const result = new RGB(0, 0, 0);\r\n\r\n        let var_h, var_i, var_1, var_2, var_3, var_r, var_g, var_b;\r\n\r\n        const h = (HSV.h / 360) % 1;\r\n        const s = HSV.s / 100;\r\n        const v = HSV.v / 100;\r\n\r\n        if (s == 0) {\r\n            result.r = v * 255;\r\n            result.g = v * 255;\r\n            result.b = v * 255;\r\n        } else {\r\n            var_h = h * 6;\r\n            var_i = Math.floor(var_h);\r\n            var_1 = v * (1 - s);\r\n            var_2 = v * (1 - s * (var_h - var_i));\r\n            var_3 = v * (1 - s * (1 - (var_h - var_i)));\r\n\r\n            if (var_i == 0) {\r\n                var_r = v;\r\n                var_g = var_3;\r\n                var_b = var_1;\r\n            } else if (var_i == 1) {\r\n                var_r = var_2;\r\n                var_g = v;\r\n                var_b = var_1;\r\n            } else if (var_i == 2) {\r\n                var_r = var_1;\r\n                var_g = v;\r\n                var_b = var_3;\r\n            } else if (var_i == 3) {\r\n                var_r = var_1;\r\n                var_g = var_2;\r\n                var_b = v;\r\n            } else if (var_i == 4) {\r\n                var_r = var_3;\r\n                var_g = var_1;\r\n                var_b = v;\r\n            } else {\r\n                var_r = v;\r\n                var_g = var_1;\r\n                var_b = var_2;\r\n            }\r\n\r\n            result.r = var_r * 255;\r\n            result.g = var_g * 255;\r\n            result.b = var_b * 255;\r\n\r\n            result.r = Math.round(result.r);\r\n            result.g = Math.round(result.g);\r\n            result.b = Math.round(result.b);\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    _CMYKtoRGB: function (CMYK: CMYK): RGB {\r\n        const result = new RGB(0, 0, 0);\r\n\r\n        const c = CMYK.c / 100;\r\n        const m = CMYK.m / 100;\r\n        const y = CMYK.y / 100;\r\n        const k = CMYK.k / 100;\r\n\r\n        result.r = 1 - Math.min(1, c * (1 - k) + k);\r\n        result.g = 1 - Math.min(1, m * (1 - k) + k);\r\n        result.b = 1 - Math.min(1, y * (1 - k) + k);\r\n\r\n        result.r = Math.round(result.r * 255);\r\n        result.g = Math.round(result.g * 255);\r\n        result.b = Math.round(result.b * 255);\r\n\r\n        return result;\r\n    },\r\n\r\n    _RGBtoCMYK: function (RGB: RGB): CMYK {\r\n        const result = new CMYK(0, 0, 0, 0);\r\n\r\n        const r = RGB.r / 255;\r\n        const g = RGB.g / 255;\r\n        const b = RGB.b / 255;\r\n\r\n        result.k = Math.min(1 - r, 1 - g, 1 - b);\r\n        result.c = (1 - r - result.k) / (1 - result.k);\r\n        result.m = (1 - g - result.k) / (1 - result.k);\r\n        result.y = (1 - b - result.k) / (1 - result.k);\r\n\r\n        result.c = Math.round(result.c * 100);\r\n        result.m = Math.round(result.m * 100);\r\n        result.y = Math.round(result.y * 100);\r\n        result.k = Math.round(result.k * 100);\r\n\r\n        return result;\r\n    },\r\n\r\n    toRGB: function (o: RGB | HSV | CMYK): RGB {\r\n        if (o instanceof RGB) {\r\n            return o;\r\n        }\r\n        if (o instanceof HSV) {\r\n            return this._HSVtoRGB(o);\r\n        }\r\n        if (o instanceof CMYK) {\r\n            return this._CMYKtoRGB(o);\r\n        }\r\n        throw new Error('unknown type');\r\n    },\r\n\r\n    toHSV: function (o: RGB | HSV | CMYK): HSV {\r\n        if (o instanceof HSV) {\r\n            return o;\r\n        }\r\n        if (o instanceof RGB) {\r\n            return this._RGBtoHSV(o);\r\n        }\r\n        if (o instanceof CMYK) {\r\n            return this._RGBtoHSV(this._CMYKtoRGB(o));\r\n        }\r\n        throw new Error('unknown type');\r\n    },\r\n\r\n    toCMYK: function (o: RGB | HSV | CMYK): CMYK {\r\n        if (o instanceof CMYK) {\r\n            return o;\r\n        }\r\n        if (o instanceof RGB) {\r\n            return this._RGBtoCMYK(o);\r\n        }\r\n        if (o instanceof HSV) {\r\n            return this._RGBtoCMYK(this._HSVtoRGB(o));\r\n        }\r\n        throw new Error('unknown type');\r\n    },\r\n    toHexString: function (o: RGB): string {\r\n        if (o instanceof RGB || ('r' in o && 'g' in o && 'b' in o)) {\r\n            let ha = parseInt('' + o.r).toString(16);\r\n            let hb = parseInt('' + o.g).toString(16);\r\n            let hc = parseInt('' + o.b).toString(16);\r\n            if (ha.length == 1) {\r\n                ha = '0' + ha;\r\n            }\r\n            if (hb.length == 1) {\r\n                hb = '0' + hb;\r\n            }\r\n            if (hc.length == 1) {\r\n                hc = '0' + hc;\r\n            }\r\n            return ha + hb + hc;\r\n        }\r\n        return '#000';\r\n    },\r\n    toRgbStr: function (rgbObj: { r: number; g: number; b: number }): string {\r\n        return (\r\n            'rgb(' +\r\n            Math.round(rgbObj.r) +\r\n            ', ' +\r\n            Math.round(rgbObj.g) +\r\n            ', ' +\r\n            Math.round(rgbObj.b) +\r\n            ')'\r\n        );\r\n    },\r\n    toRgbaStr: function (rgbaObj: { r: number; g: number; b: number; a: number }): string {\r\n        return (\r\n            'rgba(' +\r\n            Math.round(rgbaObj.r) +\r\n            ', ' +\r\n            Math.round(rgbaObj.g) +\r\n            ', ' +\r\n            Math.round(rgbaObj.b) +\r\n            ', ' +\r\n            rgbaObj.a +\r\n            ')'\r\n        );\r\n    },\r\n    hexToRGB: function (hexStr: string): RGB | undefined {\r\n        hexStr = hexStr.trim();\r\n        // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n        const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n        hexStr = hexStr.replace(shorthandRegex, function (m, r, g, b) {\r\n            return r + r + g + g + b + b;\r\n        });\r\n\r\n        const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hexStr);\r\n        return result\r\n            ? new RGB(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16))\r\n            : undefined;\r\n    },\r\n};\r\n\r\nexport function testIsWhiteBestContrast(rgbObj: { r: number; g: number; b: number }): boolean {\r\n    return rgbObj.r * 0.299 + rgbObj.g * 0.587 + rgbObj.b * 0.114 < 125;\r\n}\r\n","type TLogListener = (msg: any) => void;\n\nexport class BbLog {\n    private static listeners: TLogListener[] = [];\n\n    // ----------------------------------- public -----------------------------------\n    constructor() {}\n\n    static subscribe(listener: TLogListener): void {\n        if (BbLog.listeners.includes(listener)) {\n            return;\n        }\n        BbLog.listeners.push(listener);\n    }\n\n    static unsubscribe(listener: TLogListener): void {\n        for (let i = 0; i < BbLog.listeners.length; i++) {\n            if (listener === BbLog.listeners[i]) {\n                BbLog.listeners.splice(i, 1);\n                return;\n            }\n        }\n    }\n\n    static emit(msg: any): void {\n        BbLog.listeners.forEach((item) => {\n            item(msg);\n        });\n    }\n}\n","import { TPointerEvent } from '../event.types';\nimport { copyObj } from '../../base/base';\n\nexport type TCoalescedPointerEvent = TPointerEvent & {\n    isCoalesced: boolean;\n};\n\n/**\n * A ChainElement. Splits up coalesced events into their own pointermove events. Otherwise regular pass through.\n *\n * in: IPointerEvent\n * out: IPointerEvent with property isCoalesced: boolean\n *\n * todo: eventPreventDefault and eventStopPropagation are broken events w coalesced events. (because of json parse json stringify)\n * but how could that even work?\n */\nexport class CoalescedExploder {\n    private chainOut: ((e: TCoalescedPointerEvent) => void) | undefined;\n\n    // ----------------------------------- public -----------------------------------\n\n    setChainOut(func: (e: TCoalescedPointerEvent) => void) {\n        this.chainOut = func;\n    }\n\n    chainIn(event: TPointerEvent): TPointerEvent | null {\n        if (event.type === 'pointermove') {\n            if (event.coalescedArr && event.coalescedArr.length > 0) {\n                for (let i = 0; i < event.coalescedArr.length; i++) {\n                    const eventCopy: TCoalescedPointerEvent = copyObj(\n                        event,\n                    ) as TCoalescedPointerEvent;\n                    if (i === 0) {\n                        eventCopy.coalescedArr = [];\n                    }\n                    const coalescedItem = event.coalescedArr[i];\n\n                    eventCopy.pageX = coalescedItem.pageX;\n                    eventCopy.pageY = coalescedItem.pageY;\n                    eventCopy.relX = coalescedItem.relX;\n                    eventCopy.relY = coalescedItem.relY;\n                    eventCopy.dX = coalescedItem.dX;\n                    eventCopy.dY = coalescedItem.dY;\n                    eventCopy.time = coalescedItem.time;\n                    eventCopy.isCoalesced = i < event.coalescedArr.length - 1;\n\n                    this.chainOut && this.chainOut(eventCopy);\n                }\n            } else {\n                return event;\n            }\n        } else {\n            return event;\n        }\n\n        return null;\n    }\n}\n","import { dist } from '../../math/math';\nimport { TPointerEvent } from '../event.types';\n\n/**\n * A ChainElement. Detects a single tap with N 'touch' pointers\n *\n * in IPointerEvent\n * out IPointerEvent\n */\nexport class NFingerTapper {\n    private readonly minSilenceBeforeDurationMs = 50;\n    private readonly maxTapMs = 500;\n    private readonly maxFirstLastFingerDownMs = 250;\n    private readonly maxPressedDistancePx = 12; //5 + fingers * 5;\n\n    private chainOut: ((e: TPointerEvent) => void) | undefined;\n    private fingerArr: {\n        pointerId: number;\n        downTimeMs: number;\n        downPageX: number;\n        downPageY: number;\n        isUp?: boolean;\n    }[] = [];\n    private eventQueueArr: TPointerEvent[] = [];\n    private firstDownTime: number = 0;\n    private lastEventTime: number = 0;\n    private nowTime: number = performance.now();\n    private readonly pointersDownIdArr: number[] = [];\n    private readonly fingers: number;\n    private readonly onTap: () => void;\n    private readonly timeoutObj: {\n        firstLastDownTimeout: ReturnType<typeof setTimeout> | null;\n        tapTimeout: ReturnType<typeof setTimeout> | null;\n    } = {\n        firstLastDownTimeout: null,\n        tapTimeout: null,\n    };\n\n    private failGesture(): void {\n        if (this.eventQueueArr.length === 0) {\n            return;\n        }\n        this.timeoutObj.firstLastDownTimeout && clearTimeout(this.timeoutObj.firstLastDownTimeout);\n        this.timeoutObj.tapTimeout && clearTimeout(this.timeoutObj.tapTimeout);\n        for (let i = 0; i < this.eventQueueArr.length; i++) {\n            this.chainOut && this.chainOut(this.eventQueueArr[i]);\n        }\n        this.eventQueueArr = [];\n        this.fingerArr = [];\n    }\n\n    private success(): void {\n        this.timeoutObj.firstLastDownTimeout && clearTimeout(this.timeoutObj.firstLastDownTimeout);\n        this.timeoutObj.tapTimeout && clearTimeout(this.timeoutObj.tapTimeout);\n        this.eventQueueArr = []; // events get swallowed\n        this.fingerArr = [];\n        this.onTap();\n    }\n\n    private setupTimeout(\n        timeoutStr: 'firstLastDownTimeout' | 'tapTimeout',\n        timeMS: number,\n    ): boolean {\n        const diff = timeMS - this.nowTime;\n        //console.log(fingers + ': ' + timeoutStr + ' diff', diff);\n        if (diff <= 0) {\n            // time already up\n            return false;\n        }\n        this.timeoutObj[timeoutStr] = setTimeout(() => this.failGesture(), diff);\n        return true;\n    }\n\n    private processEvent(event: TPointerEvent): true | void {\n        const tempLastEventTime = this.lastEventTime;\n        this.lastEventTime = event.time;\n\n        if (event.type === 'pointerdown') {\n            this.pointersDownIdArr.push(event.pointerId);\n        } else if (event.type === 'pointerup') {\n            for (let i = 0; i < this.pointersDownIdArr.length; i++) {\n                if (this.pointersDownIdArr[i] === event.pointerId) {\n                    this.pointersDownIdArr.splice(i, 1);\n                    break;\n                }\n            }\n        }\n\n        if (event.pointerType !== 'touch') {\n            if (this.fingerArr.length > 0) {\n                // already in gesture -> fail\n                this.failGesture();\n            }\n            return;\n        }\n\n        this.nowTime = performance.now();\n\n        if (event.type === 'pointerdown') {\n            //console.log('down');\n            if (this.fingerArr.length + 1 !== this.pointersDownIdArr.length) {\n                // failed before, and some fingers are still down -> fail\n                this.failGesture();\n                return;\n            }\n            if (this.fingerArr.length === this.fingers) {\n                // too many fingers down -> fail\n                //console.log(fingers + ': too many fingers down -> fail');\n                this.failGesture();\n                return;\n            }\n            if (\n                this.fingerArr.length > 0 &&\n                event.time - this.maxFirstLastFingerDownMs > this.fingerArr[0].downTimeMs\n            ) {\n                // took too long to touch with all fingers -> fail\n                //console.log(fingers + ': took too long to touch with all fingers -> fail');\n                this.failGesture();\n                return;\n            }\n            if (\n                this.fingerArr.length === 0 &&\n                event.time - this.minSilenceBeforeDurationMs < tempLastEventTime\n            ) {\n                // not enough silence before -> fail\n                //console.log(fingers + ': not enough silence before -> fail');\n                this.failGesture();\n                return;\n            }\n\n            if (this.fingerArr.length === 0) {\n                this.firstDownTime = event.time;\n\n                if (\n                    !this.setupTimeout(\n                        'firstLastDownTimeout',\n                        event.time + this.maxFirstLastFingerDownMs,\n                    ) ||\n                    !this.setupTimeout('tapTimeout', event.time + this.maxTapMs)\n                ) {\n                    // timeouts already up -> fail\n                    this.failGesture();\n                    return;\n                }\n            }\n            this.fingerArr.push({\n                pointerId: event.pointerId,\n                downTimeMs: event.time,\n                downPageX: event.pageX,\n                downPageY: event.pageY,\n            });\n            return;\n        }\n\n        if (event.type === 'pointermove') {\n            if (this.fingerArr.length === 0) {\n                //not in a gesture -> ignore\n                return;\n            }\n\n            let fingerObj = null;\n            for (let i = 0; i < this.fingerArr.length; i++) {\n                if (this.fingerArr[i].pointerId === event.pointerId) {\n                    fingerObj = this.fingerArr[i];\n                    break;\n                }\n            }\n            if (fingerObj === null) {\n                // finger not part of the tap is on screen -> fail\n                this.failGesture();\n                return;\n            }\n\n            if (event.time - this.maxTapMs > this.firstDownTime) {\n                // tap took too long -> fail\n                //console.log(fingers + ': tap took too long -> fail');\n                this.failGesture();\n                return;\n            }\n\n            const distance = dist(\n                event.pageX,\n                event.pageY,\n                fingerObj.downPageX,\n                fingerObj.downPageY,\n            );\n            if (distance > this.maxPressedDistancePx) {\n                // finger moved too much -> fail\n                //console.log(fingers + ': a finger moved too much -> fail', distance);\n                this.failGesture();\n                return;\n            }\n        }\n\n        if (event.type === 'pointerup') {\n            if (this.fingerArr.length === 0) {\n                //not in a gesture -> ignore\n                return;\n            }\n\n            //console.log('up', event.pageX, event.pageY);\n            if (this.fingerArr.length !== this.fingers) {\n                // not enough fingers -> fail\n                //console.log(fingers + ': not enough fingers -> fail');\n                this.failGesture();\n                return;\n            }\n\n            let fingerObj = null;\n            let i = 0;\n            for (; i < this.fingerArr.length; i++) {\n                if (this.fingerArr[i].pointerId === event.pointerId) {\n                    fingerObj = this.fingerArr[i];\n                    break;\n                }\n            }\n            if (fingerObj === null) {\n                //do nothing\n                return;\n            }\n\n            if (event.time - this.maxTapMs > this.firstDownTime) {\n                // tap took too long -> fail\n                //console.log(fingers + ': tap took too long -> fail');\n                this.failGesture();\n                return;\n            }\n\n            const distance = dist(\n                event.pageX,\n                event.pageY,\n                fingerObj.downPageX,\n                fingerObj.downPageY,\n            );\n            if (distance > this.maxPressedDistancePx) {\n                // finger moved too much -> fail\n                //console.log(fingers + ': b finger moved too much -> fail', distance, event.pageX, event.pageY);\n                //console.log(fingerArr);\n                this.failGesture();\n                return;\n            }\n\n            fingerObj.isUp = true;\n\n            let allAreUp = true;\n            for (let i = 0; i < this.fingerArr.length; i++) {\n                if (!this.fingerArr[i].isUp) {\n                    allAreUp = false;\n                    break;\n                }\n            }\n            //console.log('fingerArr', fingerArr);\n\n            if (allAreUp) {\n                // success\n                this.success();\n                return true;\n            }\n        }\n    }\n\n    // ----------------------------------- public -----------------------------------\n    constructor(p: { fingers: number; onTap: () => void }) {\n        this.fingers = p.fingers;\n        this.onTap = p.onTap;\n    }\n\n    chainIn(event: TPointerEvent): TPointerEvent | null {\n        const result = this.processEvent(event);\n\n        //console.log(fingerArr.length);\n\n        if (result === true) {\n            //tap success -> event gets swallowed\n            return null;\n        }\n        if (this.fingerArr.length === 0) {\n            return event;\n        } else {\n            this.eventQueueArr.push(event);\n        }\n\n        return null;\n    }\n\n    setChainOut(func: (e: TPointerEvent) => void): void {\n        this.chainOut = func;\n    }\n}\n","import { dist, pointsToAngleRad } from '../../math/math';\nimport { TPointerEvent } from '../event.types';\n\nexport type TPinchZoomerEvent =\n    | { type: 'end' }\n    | {\n          type: 'move';\n\n          downRelX: number;\n          downRelY: number;\n          relX: number;\n          relY: number;\n\n          angleRad: number;\n          scale: number;\n      };\n\ntype TTouchPointer = {\n    pointerId: number;\n    relX: number;\n    relY: number;\n    downRelX?: number; // only for first\n    downRelY?: number;\n};\n\ntype TPinchGesture = {\n    touchPointerArr: TTouchPointer[];\n    otherPointerIdArr: number[];\n    isInProgress: boolean;\n};\n\n/**\n * A ChainElement. Detects a pinch zooming (2 touch pointers). If one finger lifts, then will use the remaining.\n * Further pointers are ignored, but their events get swallowed during the pinching.\n * pinching ends when ALL pointers are lifted.\n * Events passed through if no pinching.\n *\n * in IPointerEvent\n * out IPointerEvent\n */\nexport class PinchZoomer {\n    private readonly firstFingerMaxDistancePx = 10;\n    private readonly untilSecondFingerDurationMs = 250;\n\n    private chainOut: ((e: TPointerEvent) => void) | undefined;\n    private readonly pointersDownIdArr: number[] = [];\n    private gestureObj: null | TPinchGesture = null;\n    private eventQueueArr: TPointerEvent[] = [];\n    private nowTime: number = performance.now();\n    private readonly timeoutObj: {\n        secondFingerTimeout: ReturnType<typeof setTimeout> | null;\n    } = {\n        secondFingerTimeout: null,\n    };\n    private pincherArr: {\n        pointerId: number;\n        relX: number;\n        relY: number;\n        downRelX: number;\n        downRelY: number;\n    }[] = [];\n    private readonly onPinch: (e: TPinchZoomerEvent) => void;\n\n    private end(): void {\n        this.gestureObj = null;\n        this.eventQueueArr = [];\n    }\n\n    private fail(doSwallow?: boolean): void {\n        if (!this.gestureObj) {\n            // no gesture happening -> ignore\n            return;\n        }\n\n        this.timeoutObj.secondFingerTimeout && clearTimeout(this.timeoutObj.secondFingerTimeout);\n        if (!doSwallow) {\n            for (let i = 0; i < this.eventQueueArr.length; i++) {\n                this.chainOut && this.chainOut(this.eventQueueArr[i]);\n            }\n        }\n        this.end();\n    }\n\n    private setupFailTimeout(timeMS: number): boolean {\n        const diff = timeMS - this.nowTime;\n        if (diff <= 0) {\n            // time already up\n            return false;\n        }\n        this.timeoutObj.secondFingerTimeout = setTimeout(() => this.fail(), diff);\n        return true;\n    }\n\n    private processEvent(event: TPointerEvent): void {\n        if (event.type === 'pointerdown') {\n            this.pointersDownIdArr.push(event.pointerId);\n        } else if (event.type === 'pointerup') {\n            for (let i = 0; i < this.pointersDownIdArr.length; i++) {\n                if (this.pointersDownIdArr[i] === event.pointerId) {\n                    this.pointersDownIdArr.splice(i, 1);\n                    break;\n                }\n            }\n        }\n\n        //pass through scenarios\n        if (\n            !this.gestureObj &&\n            (event.pointerType !== 'touch' || // wrong pointer type\n                (event.type === 'pointermove' && this.pointersDownIdArr.length > 0) || // failed before\n                this.pointersDownIdArr.length > 1 || // failed before\n                event.type === 'pointerup') // failed before\n        ) {\n            return;\n        }\n\n        this.nowTime = performance.now();\n\n        //pointer down\n        if (event.type === 'pointerdown') {\n            if (this.gestureObj) {\n                if (event.pointerType === 'touch') {\n                    // touch finger down - as nth pointer\n\n                    this.gestureObj.touchPointerArr.push({\n                        pointerId: event.pointerId,\n                        relX: event.relX,\n                        relY: event.relY,\n                    });\n\n                    if (this.gestureObj.isInProgress) {\n                        this.continuePinch(this.gestureObj, {\n                            type: 'down',\n                            index: this.gestureObj.touchPointerArr.length - 1,\n                        });\n                    } else {\n                        this.timeoutObj.secondFingerTimeout &&\n                            clearTimeout(this.timeoutObj.secondFingerTimeout);\n                        this.gestureObj.isInProgress = true;\n                        this.beginPinch(this.gestureObj);\n                    }\n                    return;\n                } else {\n                    // non-touch finger down - as nth pointer\n\n                    if (this.gestureObj.isInProgress) {\n                        this.gestureObj.otherPointerIdArr.push(event.pointerId);\n                    } else {\n                        // second pointer wrong type -> fail\n                        this.fail();\n                    }\n                    return;\n                }\n            } else {\n                // first finger down - can only be touch if no gestureObj\n                this.gestureObj = {\n                    touchPointerArr: [\n                        {\n                            pointerId: event.pointerId,\n                            relX: event.relX,\n                            relY: event.relY,\n                            downRelX: event.relX,\n                            downRelY: event.relY,\n                        },\n                    ],\n                    otherPointerIdArr: [],\n                    isInProgress: false,\n                };\n                if (!this.setupFailTimeout(event.time + this.untilSecondFingerDurationMs)) {\n                    // time ran out -> fail\n                    this.fail();\n                    return;\n                }\n                return;\n            }\n        }\n\n        // should not happen. something went wrong\n        if (!this.gestureObj) {\n            // throw? would make it less robust\n            this.fail();\n            return;\n        }\n\n        //pointer move\n        if (event.type === 'pointermove' && event.pointerType === 'touch') {\n            //gesture object should always exist here\n\n            let touchPointerObj: TTouchPointer | null = null;\n            let i = 0;\n            for (; i < this.gestureObj.touchPointerArr.length; i++) {\n                if (event.pointerId === this.gestureObj.touchPointerArr[i].pointerId) {\n                    touchPointerObj = this.gestureObj.touchPointerArr[i];\n                    break;\n                }\n            }\n\n            //null should not be possible. something went wrong\n            if (!touchPointerObj) {\n                // throw? would make it less robust\n                this.fail();\n                return;\n            }\n\n            touchPointerObj.relX = event.relX;\n            touchPointerObj.relY = event.relY;\n\n            if (!this.gestureObj.isInProgress) {\n                // only one finger down & pinching hasn't started\n\n                // should not happen. something went wrong\n                if (\n                    !('downRelX' in touchPointerObj && touchPointerObj.downRelX !== undefined) ||\n                    !('downRelY' in touchPointerObj && touchPointerObj.downRelY !== undefined)\n                ) {\n                    this.fail();\n                    return;\n                }\n\n                const distance = dist(\n                    touchPointerObj.downRelX,\n                    touchPointerObj.downRelY,\n                    touchPointerObj.relX,\n                    touchPointerObj.relY,\n                );\n                if (distance > this.firstFingerMaxDistancePx) {\n                    // moved too much -> fail\n                    this.fail();\n                    return;\n                }\n            } else {\n                if (i < 2) {\n                    // only first two touches can affect pinching\n                    this.continuePinch(this.gestureObj, {\n                        type: 'move',\n                        index: i,\n                    });\n                }\n            }\n\n            return;\n        }\n\n        //pointer up\n        if (event.type === 'pointerup') {\n            //gesture object should always exist here\n\n            if (event.pointerType === 'touch') {\n                let i = 0;\n                for (; i < this.gestureObj.touchPointerArr.length; i++) {\n                    if (this.gestureObj.touchPointerArr[i].pointerId === event.pointerId) {\n                        this.gestureObj.touchPointerArr.splice(i, 1);\n                        break;\n                    }\n                }\n                if (this.gestureObj.touchPointerArr.length > 0) {\n                    this.continuePinch(this.gestureObj, {\n                        type: 'up',\n                        index: i,\n                    });\n                }\n            } else {\n                // non-touch\n                for (let i = 0; i < this.gestureObj.otherPointerIdArr.length; i++) {\n                    if (this.gestureObj.otherPointerIdArr[i] === event.pointerId) {\n                        this.gestureObj.otherPointerIdArr.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n\n            //all fingers lifted?\n            if (\n                this.gestureObj.touchPointerArr.length === 0 &&\n                this.gestureObj.otherPointerIdArr.length === 0\n            ) {\n                if (this.gestureObj.isInProgress) {\n                    // lifted last finger -> end of pinching\n                    this.end();\n                    this.endPinch();\n                } else {\n                    // lifted finger again before pinching started -> fail\n                    this.fail();\n                }\n                return;\n            }\n        }\n    }\n\n    private beginPinch(gestureObj: TPinchGesture): void {\n        for (let i = 0; i < gestureObj.touchPointerArr.length; i++) {\n            const pointerObj = gestureObj.touchPointerArr[i];\n            this.pincherArr.push({\n                pointerId: pointerObj.pointerId,\n                relX: pointerObj.relX,\n                relY: pointerObj.relY,\n                downRelX: pointerObj.relX,\n                downRelY: pointerObj.relY,\n            });\n        }\n\n        const event: TPinchZoomerEvent = {\n            type: 'move',\n\n            // temp\n            downRelX: 0,\n            downRelY: 0,\n            relX: 0,\n            relY: 0,\n\n            angleRad: 0,\n            scale: 1,\n        };\n\n        if (this.pincherArr.length === 1) {\n            event.relX = this.pincherArr[0].downRelX;\n            event.relY = this.pincherArr[0].downRelY;\n        } else {\n            event.relX = 0.5 * (this.pincherArr[0].downRelX + this.pincherArr[1].downRelX);\n            event.relY = 0.5 * (this.pincherArr[0].downRelY + this.pincherArr[1].downRelY);\n        }\n        event.downRelX = event.relX;\n        event.downRelY = event.relY;\n\n        this.onPinch(event);\n    }\n\n    //actionObj = {type: 'down'|'move'|'up', index: number}\n    private continuePinch(\n        gestureObj: TPinchGesture,\n        actionObj: {\n            type: 'down' | 'move' | 'up';\n            index: number;\n        },\n    ): void {\n        if (actionObj.index > 1) {\n            // only first two pointers matter\n            return;\n        }\n\n        if (actionObj.type === 'move') {\n            let event: TPinchZoomerEvent;\n            this.pincherArr[actionObj.index].relX =\n                gestureObj.touchPointerArr[actionObj.index].relX;\n            this.pincherArr[actionObj.index].relY =\n                gestureObj.touchPointerArr[actionObj.index].relY;\n\n            if (this.pincherArr.length === 1) {\n                event = {\n                    type: 'move',\n                    downRelX: this.pincherArr[0].downRelX,\n                    downRelY: this.pincherArr[0].downRelY,\n                    relX: this.pincherArr[0].relX,\n                    relY: this.pincherArr[0].relY,\n                    angleRad: 0,\n                    scale: 1,\n                };\n            } else {\n                const startDist = dist(\n                    this.pincherArr[0].downRelX,\n                    this.pincherArr[0].downRelY,\n                    this.pincherArr[1].downRelX,\n                    this.pincherArr[1].downRelY,\n                );\n                const distance = dist(\n                    this.pincherArr[0].relX,\n                    this.pincherArr[0].relY,\n                    this.pincherArr[1].relX,\n                    this.pincherArr[1].relY,\n                );\n\n                const startAngle = pointsToAngleRad(\n                    {\n                        x: this.pincherArr[0].downRelX,\n                        y: this.pincherArr[0].downRelY,\n                    },\n                    {\n                        x: this.pincherArr[1].downRelX,\n                        y: this.pincherArr[1].downRelY,\n                    },\n                );\n                const angle = pointsToAngleRad(\n                    {\n                        x: this.pincherArr[0].relX,\n                        y: this.pincherArr[0].relY,\n                    },\n                    { x: this.pincherArr[1].relX, y: this.pincherArr[1].relY },\n                );\n\n                event = {\n                    type: 'move',\n                    downRelX: 0.5 * (this.pincherArr[0].downRelX + this.pincherArr[1].downRelX),\n                    downRelY: 0.5 * (this.pincherArr[0].downRelY + this.pincherArr[1].downRelY),\n                    relX: 0.5 * (this.pincherArr[0].relX + this.pincherArr[1].relX),\n                    relY: 0.5 * (this.pincherArr[0].relY + this.pincherArr[1].relY),\n                    angleRad: angle - startAngle,\n                    scale: distance / startDist,\n                };\n            }\n\n            this.onPinch(event);\n        } else if (actionObj.type === 'down' || actionObj.type === 'up') {\n            this.endPinch();\n            this.beginPinch(gestureObj);\n        }\n    }\n\n    private endPinch(): void {\n        this.pincherArr = [];\n        this.onPinch({\n            type: 'end',\n        });\n    }\n\n    // ----------------------------------- public -----------------------------------\n    constructor(p: { onPinch: (e: TPinchZoomerEvent) => void }) {\n        this.onPinch = p.onPinch;\n    }\n\n    chainIn(event: TPointerEvent): TPointerEvent | null {\n        this.processEvent(event);\n        if (this.gestureObj) {\n            if (!this.gestureObj.isInProgress) {\n                // might still fail -> into queue\n                this.eventQueueArr.push(event);\n            }\n        } else {\n            return event;\n        }\n        return null;\n    }\n\n    setChainOut(func: (e: TPointerEvent) => void): void {\n        this.chainOut = func;\n    }\n}\n","import { TChainOutFunc } from './event-chain.types';\nimport { dist } from '../../math/math';\nimport { TPointerButton, TPointerEvent, TPointerType } from '../event.types';\n\nexport type TDoubleTapperEvent = {\n    pageX: number;\n    pageY: number;\n    relX: number;\n    relY: number;\n};\n\ntype TDoubleTapperTimeoutType = 'fail' | 'maxUntilSecondDown' | 'success';\n\n/**\n * A ChainElement. Detects double taps.\n *\n * in IPointerEvent\n * out IPointerEvent\n */\nexport class DoubleTapper {\n    private readonly onDoubleTap: (e: TDoubleTapperEvent) => void;\n    private chainOut: TChainOutFunc | undefined;\n    private allowedPointerTypeArr: TPointerType[] = ['touch', 'mouse', 'pen'];\n    private allowedButtonArr: TPointerButton[] = ['left'];\n    private readonly minSilenceBeforeDurationMs: number = 400;\n    private maxPressedDurationMs: number = 300;\n    private maxPressedDistancePx: number = 10;\n    private maxInbetweenDistancePx: number = 19;\n    private maxUpToUpDurationMs: number = 500;\n    private maxUntilSecondDownDurationMs: number = 300;\n    private readonly minSilenceAfterMs: number = 250;\n    private sequenceArr: (\n        | {\n              isDown: boolean;\n              time: number;\n              position: [number, number];\n              pointerId: number;\n          }\n        | {\n              isUp: boolean;\n              time: number;\n              position: [number, number];\n          }\n        | {\n              pageX: number;\n              pageY: number;\n              relX: number;\n              relY: number;\n          }\n    )[] = [];\n    private pointersDownIdArr: number[] = [];\n    private lastUpTime: number = 0;\n    private nowTime: number = 0;\n    private eventQueueArr: TPointerEvent[] = [];\n    private timeoutObj: {\n        [K in TDoubleTapperTimeoutType]: ReturnType<typeof setTimeout> | null;\n    } = {\n        fail: null,\n        maxUntilSecondDown: null,\n        success: null,\n    };\n    private readonly gestureFailed: () => void;\n\n    // double tap achieved\n    private success(): void {\n        this.timeoutObj.fail = null;\n        this.timeoutObj.success = null;\n        this.eventQueueArr = []; // events get swallowed\n        const lastSequenceItem = this.sequenceArr[this.sequenceArr.length - 1];\n        this.sequenceArr = [];\n        if ('pageX' in lastSequenceItem) {\n            this.onDoubleTap({\n                pageX: lastSequenceItem.pageX,\n                pageY: lastSequenceItem.pageY,\n                relX: lastSequenceItem.relX,\n                relY: lastSequenceItem.relY,\n            });\n        }\n    }\n\n    // returns false if time already up. otherwise sets up timeout\n    private setupTimeout(\n        timeoutStr: TDoubleTapperTimeoutType,\n        targetFunc: () => void,\n        timeMS: number,\n        noComparison?: boolean,\n    ): boolean {\n        const diff = timeMS - this.nowTime;\n        // console.log(fingers + ': ' + timeoutStr + ' diff', diff);\n        if (diff <= 0 && !noComparison) {\n            // time already up\n            return false;\n        }\n        this.timeoutObj[timeoutStr] = setTimeout(targetFunc, Math.max(0, diff));\n        return true;\n    }\n\n    /**\n     * @param event object - a pointer event from BB.PointerListener\n     */\n    private processEvent(event: TPointerEvent): void {\n        if (event.type === 'pointerdown') {\n            this.pointersDownIdArr.push(event.pointerId);\n        } else if (event.type === 'pointerup') {\n            for (let i = 0; i < this.pointersDownIdArr.length; i++) {\n                if (this.pointersDownIdArr[i] === event.pointerId) {\n                    this.pointersDownIdArr.splice(i, 1);\n                    break;\n                }\n            }\n        }\n\n        if (!this.allowedPointerTypeArr.includes(event.pointerType)) {\n            //wrong input type -> fail\n            //console.log('wrong input type -> fail');\n            this.gestureFailed();\n            return;\n        }\n\n        this.nowTime = performance.now();\n        const lastSequenceItem =\n            this.sequenceArr.length > 0 ? this.sequenceArr[this.sequenceArr.length - 1] : null;\n        if (event.type === 'pointerup') {\n            this.lastUpTime = event.time;\n        }\n\n        if (event.type === 'pointerdown') {\n            if (this.pointersDownIdArr.length > 1) {\n                // more than one pointer down -> fail\n                //console.log('more than one pointer down -> fail');\n                this.gestureFailed();\n                return;\n            }\n            if (this.timeoutObj.success !== null) {\n                // silence-after not achieved -> fail\n                //console.log('silence-after not achieved -> fail');\n                this.gestureFailed();\n                return;\n            }\n            if (\n                this.sequenceArr.length === 0 &&\n                this.nowTime - this.lastUpTime < this.minSilenceBeforeDurationMs\n            ) {\n                // silence before not achieved -> fail\n                //console.log('silence before not achieved -> fail');\n                this.gestureFailed();\n                return;\n            }\n            if (event.button && !this.allowedButtonArr.includes(event.button)) {\n                // wrong button -> fail\n                //console.log('wrong button -> fail', event.button, allowedButtonArr);\n                this.gestureFailed();\n                return;\n            }\n            if (\n                (lastSequenceItem && 'isDown' in lastSequenceItem && lastSequenceItem.isDown) ||\n                this.sequenceArr.length > 2\n            ) {\n                // jumbled -> fail\n                //console.log('jumbled -> fail');\n                this.gestureFailed();\n                return;\n            }\n            if (lastSequenceItem && 'position' in lastSequenceItem) {\n                const distance = dist(\n                    lastSequenceItem.position[0],\n                    lastSequenceItem.position[1],\n                    event.pageX,\n                    event.pageY,\n                );\n                if (distance > this.maxInbetweenDistancePx) {\n                    //moved too much -> reset\n                    //console.log('maxInbetweenDistancePx -> reset');\n                    this.gestureFailed();\n\n                    if (\n                        'time' in lastSequenceItem &&\n                        this.nowTime - lastSequenceItem.time < this.minSilenceBeforeDurationMs\n                    ) {\n                        //silence before not achieved -> fail\n                        return;\n                    }\n                }\n            }\n            this.sequenceArr.push({\n                isDown: true,\n                time: this.nowTime,\n                position: [event.pageX, event.pageY],\n                pointerId: event.pointerId,\n            });\n            //maxUntilSecondDown\n\n            if (this.sequenceArr.length > 1) {\n                this.timeoutObj.maxUntilSecondDown &&\n                    clearTimeout(this.timeoutObj.maxUntilSecondDown);\n            } else if (\n                !this.setupTimeout(\n                    'maxUntilSecondDown',\n                    () => this.gestureFailed(),\n                    event.time + this.maxUntilSecondDownDurationMs,\n                )\n            ) {\n                //console.log('event.time + maxPressedDurationMs -> fail');\n                this.gestureFailed();\n                return;\n            }\n\n            this.timeoutObj.fail && clearTimeout(this.timeoutObj.fail);\n            if (\n                !this.setupTimeout(\n                    'fail',\n                    () => this.gestureFailed(),\n                    event.time + this.maxPressedDurationMs,\n                )\n            ) {\n                //console.log('event.time + maxPressedDurationMs -> fail');\n                this.gestureFailed();\n                return;\n            }\n        }\n        if (\n            lastSequenceItem &&\n            event.type === 'pointermove' &&\n            'pointerId' in lastSequenceItem &&\n            lastSequenceItem.pointerId === event.pointerId\n        ) {\n            /*if (lastSequenceItem.pointerId !== event.pointerId) { //another pointer mixing in -> fail\n                console.log('another pointer mixing in -> fail');\n                this.fail();\n                return;\n            }*/\n            const distance = dist(\n                lastSequenceItem.position[0],\n                lastSequenceItem.position[1],\n                event.pageX,\n                event.pageY,\n            );\n            if (distance > this.maxPressedDistancePx) {\n                //moved too much -> fail\n                //console.log('maxPressedDistancePx -> fail');\n                this.gestureFailed();\n                return;\n            }\n        }\n        if (lastSequenceItem && event.type === 'pointerup') {\n            if ('pointerId' in lastSequenceItem && lastSequenceItem.pointerId !== event.pointerId) {\n                //another pointer mixing in -> fail\n                this.gestureFailed();\n                return;\n            }\n            if (\n                'time' in lastSequenceItem &&\n                this.nowTime >= lastSequenceItem.time + this.maxPressedDurationMs\n            ) {\n                //pressed too long -> fail\n                this.gestureFailed();\n                return;\n            }\n            this.timeoutObj.fail && clearTimeout(this.timeoutObj.fail);\n\n            if (this.sequenceArr.length < 3) {\n                if (\n                    !this.setupTimeout(\n                        'fail',\n                        () => this.gestureFailed(),\n                        event.time + this.maxUpToUpDurationMs,\n                    )\n                ) {\n                    this.gestureFailed();\n                    return;\n                }\n\n                this.sequenceArr = [\n                    lastSequenceItem,\n                    {\n                        isUp: true,\n                        time: this.nowTime,\n                        position: [event.pageX, event.pageY],\n                    },\n                ];\n                return;\n            }\n\n            if (\n                'time' in this.sequenceArr[1] &&\n                this.nowTime < this.sequenceArr[1].time + this.maxUpToUpDurationMs\n            ) {\n                // double tap almost success\n                // only needs silence\n                this.sequenceArr.push({\n                    pageX: event.pageX,\n                    pageY: event.pageY,\n                    relX: event.relX,\n                    relY: event.relY,\n                });\n                if (\n                    !this.setupTimeout(\n                        'success',\n                        () => this.success(),\n                        event.time + this.minSilenceAfterMs,\n                        true,\n                    )\n                ) {\n                    this.gestureFailed();\n                }\n            } else {\n                // time up -> fail\n                this.gestureFailed();\n            }\n        }\n    }\n\n    // ----------------------------------- public -----------------------------------\n    constructor(p: {\n        onDoubleTap: (e: TDoubleTapperEvent) => void; // fires when double tap occurs\n        isInstant?: boolean;\n    }) {\n        this.onDoubleTap = p.onDoubleTap;\n        if (p.isInstant) {\n            this.minSilenceBeforeDurationMs = 0;\n            this.minSilenceAfterMs = 0;\n        }\n        this.gestureFailed = () => {\n            if (this.sequenceArr.length === 0) {\n                // no gesture started -> can be ignored\n                return;\n            }\n            this.timeoutObj.fail && clearTimeout(this.timeoutObj.fail);\n            this.timeoutObj.maxUntilSecondDown && clearTimeout(this.timeoutObj.maxUntilSecondDown);\n            this.timeoutObj.success && clearTimeout(this.timeoutObj.success);\n            this.timeoutObj.fail = null;\n            this.timeoutObj.maxUntilSecondDown = null;\n            this.timeoutObj.success = null;\n\n            if (this.chainOut) {\n                for (let i = 0; i < this.eventQueueArr.length; i++) {\n                    this.chainOut(this.eventQueueArr[i]);\n                }\n            }\n\n            this.eventQueueArr = [];\n            this.sequenceArr = [];\n        };\n    }\n\n    chainIn(event: TPointerEvent): TPointerEvent | null {\n        this.processEvent(event);\n\n        if (this.sequenceArr.length === 0) {\n            //existing events can not become a double tap\n            this.gestureFailed();\n            return event;\n        }\n        // events might become a double tap -> queue\n        this.eventQueueArr.push(event);\n        return null;\n    }\n\n    setChainOut(func: TChainOutFunc): void {\n        this.chainOut = func;\n    }\n\n    setAllowedPointerTypeArr(arr: TPointerType[]): void {\n        this.allowedPointerTypeArr = [...arr];\n    }\n\n    setAllowedButtonArr(arr: TPointerButton[]): void {\n        this.allowedButtonArr = [...arr];\n    }\n}\n","import { TChainOutFunc } from './event-chain.types';\nimport { TPointerEvent } from '../event.types';\n\n/**\n * only lets through events from one pointer at a time.\n *\n * in IPointerEvent\n * out IPointerEvent\n */\nexport class OnePointerLimiter {\n    private chainOut: TChainOutFunc | undefined;\n    private downPointerId: number | null = null;\n    private readonly ignorePointerIdArr: number[] = [];\n\n    // ----------------------------------- public -----------------------------------\n    chainIn(event: TPointerEvent): TPointerEvent | null {\n        if (this.ignorePointerIdArr.includes(event.pointerId)) {\n            if (event.type === 'pointerup') {\n                for (let i = 0; i < this.ignorePointerIdArr.length; i++) {\n                    if (this.ignorePointerIdArr[i] === event.pointerId) {\n                        this.ignorePointerIdArr.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n            return null;\n        }\n\n        if (this.downPointerId === null) {\n            if (event.type === 'pointerdown') {\n                this.downPointerId = event.pointerId;\n            }\n            return event;\n        } else {\n            if (event.pointerId !== this.downPointerId) {\n                if (event.type === 'pointerdown') {\n                    this.ignorePointerIdArr.push(event.pointerId);\n                }\n                return null;\n            }\n            if (event.type === 'pointerup') {\n                this.downPointerId = null;\n            }\n            return event;\n        }\n    }\n\n    setChainOut(func: TChainOutFunc): void {\n        this.chainOut = func;\n    }\n}\n","import { TChainElement, TChainOutFunc } from './event-chain.types';\nimport { TPointerEvent } from '../event.types';\n\n/**\n * for chaining event processing. useful for gestures (double tap, pinch zoom, max pointer filter).\n * each element in the chain might hold back the events, swallow them, transform them, or create new ones\n */\nexport class EventChain {\n    private readonly chainArr: TChainElement[];\n    private chainOut: TChainOutFunc | undefined;\n\n    private continueChain(i: number, event: TPointerEvent): null {\n        for (; i < this.chainArr.length; i++) {\n            event = this.chainArr[i].chainIn(event);\n            if (event === null) {\n                return null;\n            }\n        }\n        this.chainOut && this.chainOut(event);\n        return null;\n    }\n\n    // ----------------------------------- public -----------------------------------\n    constructor(p: { chainArr: TChainElement[] }) {\n        this.chainArr = p.chainArr;\n\n        for (let i = 0; i < this.chainArr.length; i++) {\n            ((i) => {\n                this.chainArr[i].setChainOut((event: TPointerEvent) => {\n                    this.continueChain(i + 1, event);\n                });\n            })(i);\n        }\n    }\n\n    /**\n     * feed an event into the chain\n     */\n    chainIn(event: TPointerEvent): null {\n        return this.continueChain(0, event);\n    }\n\n    /**\n     * func will be called when event has passed through the chain\n     */\n    setChainOut(func: TChainOutFunc): void {\n        this.chainOut = func;\n    }\n}\n","module.exports = Promise.all([require(\"./helpers/browser/css-loader\")(parcelRequire.resolve(\"bIDbX\")), require(\"./helpers/browser/js-loader\")(parcelRequire.resolve(\"dafOa\"))]).then(() => parcelRequire('6NgYC'));","\"use strict\";\n\nvar cacheLoader = require('../cacheLoader');\nmodule.exports = cacheLoader(function (bundle) {\n  return new Promise(function (resolve, reject) {\n    if (typeof document === 'undefined') {\n      return resolve();\n    }\n    var link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = bundle;\n\n    // Don't insert the same link element twice (e.g. if it was already in the HTML)\n    var existingLinks = document.getElementsByTagName('link');\n    if (Array.from(existingLinks).some(function (existing) {\n      return existing.href === link.href && existing.rel.indexOf('stylesheet') > -1;\n    })) {\n      resolve();\n      return;\n    }\n    link.onerror = function (e) {\n      link.onerror = link.onload = null;\n      link.remove();\n      reject(e);\n    };\n    link.onload = function () {\n      link.onerror = link.onload = null;\n      resolve();\n    };\n    document.getElementsByTagName('head')[0].appendChild(link);\n  });\n});","module.exports = (require(\"./helpers/browser/css-loader\")(parcelRequire.resolve(\"4GTbM\")));","parcelRequire.extendImportMap({\"eHdqz\":\"klecks-logo.ae8bd45e.png\",\"5RGAp\":\"de.9af5c274.js\",\"3uTpJ\":\"es.ba06aaff.js\",\"4XbAZ\":\"fi.7629ab8b.js\",\"2bKIP\":\"fr.8783c9d5.js\",\"i0BNf\":\"hu.89de6ca3.js\",\"98Cvg\":\"id.64a92dfc.js\",\"y5edP\":\"ja.afd13f45.js\",\"9fDFY\":\"jv.0dce4c5c.js\",\"cW2nR\":\"ko.d8e6b1c3.js\",\"8ucza\":\"lv.ee5d3af5.js\",\"f3RKT\":\"nl.1402c478.js\",\"fVlhe\":\"pt-BR.988d347f.js\",\"kcBSP\":\"ru.4e97c337.js\",\"4RByM\":\"su.add81733.js\",\"ap9yw\":\"sv.2e7effd2.js\",\"dsJ3g\":\"zh-CN.dac2191e.js\",\"lF1Tu\":\"zh-TW.71abe7bc.js\",\"kNYzr\":\"dist.e4d721e1.js\",\"dafOa\":\"main-embed.0f8e715c.js\",\"kbyFQ\":\"cancel.340fb0bb.svg\",\"l7FYj\":\"check.e6114d75.svg\",\"kino6\":\"remove-layer.da17ce5a.svg\",\"5H9IS\":\"brush-pressure.8782e24b.svg\",\"la7yv\":\"copy.22819386.svg\",\"cTtMO\":\"tool-picker.896489f2.svg\",\"iQ1f0\":\"angle.319ede69.svg\",\"04ZZm\":\"tool-zoom-in.a322442c.svg\",\"j9xio\":\"tool-zoom-out.a0c9b082.svg\",\"fER1z\":\"viewport-reset.f69c6fbc.svg\",\"2gZH2\":\"tool-hand.b64de96e.svg\",\"ghFv7\":\"edit-pencil.070f95f1.svg\",\"cazOx\":\"edit-crop.5a25544f.svg\",\"1mb1v\":\"add-layer.ec19e714.svg\",\"11KJK\":\"duplicate-layer.fd421984.svg\",\"floUo\":\"merge-layers.ec5eab67.svg\",\"hhQeq\":\"rename-layer.a037b591.svg\",\"dz3mY\":\"caret-down.5e676c46.svg\",\"045N6\":\"cursor-rotate.0c8e34b1.png\",\"3x5dR\":\"new-image.1891be3f.svg\",\"hbDTd\":\"import.eacba42d.svg\",\"16iGk\":\"export.15a4d72c.svg\",\"2ME3z\":\"share.ab903904.svg\",\"hZnSk\":\"help.648f7d00.svg\",\"6mHrC\":\"tool-paint.1b2f44ed.svg\",\"hS5Hj\":\"tool-fill.bbd4ae51.svg\",\"4KGfM\":\"tool-gradient.dedc893d.svg\",\"doX4v\":\"tool-text.0da9f984.svg\",\"7NqHO\":\"tool-shape.522cd4b5.svg\",\"kOuYd\":\"tool-select.5ec1da7d.svg\",\"AnO0a\":\"tool-undo.9138898d.svg\",\"6toXQ\":\"edit-rotate.8fb5b1ef.svg\",\"b1UMP\":\"ui-collapse.da4b78fc.svg\",\"lvwQ5\":\"align-left.dd4a3407.svg\",\"imAvm\":\"align-center.13c1a9ae.svg\",\"dC0sF\":\"align-right.20a4fe41.svg\",\"h3hPo\":\"typo-italic.010c7282.svg\",\"1pAeY\":\"typo-bold.e186ac23.svg\",\"hapKl\":\"Caveat-Regular.2fe80bbd.woff2\",\"dqzux\":\"ClimateCrisis-Regular-VariableFont_YEAR.3ad02523.woff2\",\"l7VGL\":\"CorrectionBrush.a69973aa.woff2\",\"dm0T7\":\"DancingScript-Regular.ef2fe647.woff2\",\"2U3dq\":\"Diabolik-Regular-VF.f4eeb79e.woff2\",\"axzlU\":\"FreckleFace-Regular.05946539.woff2\",\"avgh6\":\"Gloock-Regular.60f8f765.woff2\",\"H9bSu\":\"Pacha.08c8457a.woff2\",\"emBfm\":\"GochiHand-Regular.c45792b0.woff2\",\"kjRvm\":\"PassionOne-Bold.9e08b0dc.woff2\",\"c79R0\":\"PixeloidSans.bc292131.woff2\",\"fndWQ\":\"PlaypenSans-Thin.314b29a4.woff2\",\"iAFmc\":\"Quicksand-Light.1f0c44a2.woff2\",\"2Bq6W\":\"Silkscreen-Regular.cef2b4cb.woff2\",\"hmfbp\":\"Tehroc-Regular.4540047b.woff2\",\"iItsG\":\"YUNGA-Display.30c04a15.woff2\",\"5tPq3\":\"edit-brightness-contrast.78620665.svg\",\"245NA\":\"edit-curves.56e09e16.svg\",\"1hkCG\":\"edit-flip.8010ad0f.svg\",\"k2eFf\":\"edit-hue-saturation.373aa41d.svg\",\"krKGd\":\"edit-invert.91bfa402.png\",\"ehfxY\":\"edit-perspective.474c436b.svg\",\"beOjS\":\"edit-resize.673fffa7.svg\",\"Gk9bV\":\"edit-tilt-shift.7ad164eb.png\",\"csed7\":\"edit-to-alpha.10878d74.svg\",\"equSE\":\"edit-transform.56e34528.svg\",\"h1dN3\":\"edit-triangle-blur.17417e43.png\",\"LfAXI\":\"edit-unsharp-mask.38afa514.png\",\"cB6q6\":\"edit-grid.c20f8e5f.svg\",\"S9ano\":\"edit-noise.20c18f19.svg\",\"4eqRj\":\"edit-pattern.f6d27c58.svg\",\"8mvSV\":\"edit-vanish-point.a8c2dde8.svg\",\"kbc0v\":\"edit-distort.33c9d58d.svg\",\"iiCd6\":\"brush-pen.c04fbc65.svg\",\"6fRlX\":\"brush-blend.d8ce5270.svg\",\"hC7PC\":\"brush-sketchy.6c75169d.png\",\"eZgVv\":\"brush-pixel.bfd351cf.svg\",\"fPZin\":\"brush-eraser.388bfa8c.svg\",\"fp7H1\":\"brush-smudge.9c9edfb1.svg\",\"eX098\":\"brush-chemy.a5a188f6.svg\",\"2oHM2\":\"upload.fb4a8f36.svg\",\"iGeXe\":\"loading.7ff8a2ac.gif\",\"kSWIa\":\"bitbof-logo.738252a6.svg\",\"4FMUg\":\"ui-swap-lr.695f74b3.svg\",\"62mlz\":\"licenses.fc8627f9.js\",\"76QQo\":\"font-licenses.0e2c26a4.js\",\"2BZYe\":\"constrain.46a31747.svg\",\"k9Nks\":\"tab-settings.980aa34c.svg\",\"bBxqy\":\"tab-layers.e4748a75.svg\",\"3UXKl\":\"tab-edit.0d1e8b85.svg\",\"1dLwT\":\"cursor-picker.71be1460.png\",\"hQSEH\":\"cursor-fill.ab749dde.png\",\"916ZI\":\"cursor-text.b4ebf6cd.png\",\"9wZxU\":\"cursor-zoom-ew.d3ab2d60.png\",\"kiEfz\":\"select-mode-select.46ceb4fe.svg\",\"4uXfZ\":\"select-mode-move.321505b0.svg\",\"bjhUB\":\"select-default.a4d71ff2.svg\",\"9MYhm\":\"select-union.add41cd9.svg\",\"fsl8L\":\"select-subtract.a2c61ba8.svg\",\"3QHUd\":\"select-shape-rect.ecb1b83c.svg\",\"5GkZe\":\"select-shape-ellipse.42a3a2f0.svg\",\"2zM6R\":\"select-shape-lasso.3dedd955.svg\",\"5rTlv\":\"select-shape-poly.25fd4f29.svg\",\"bIDbX\":\"main-embed.647002b3.css\",\"4GTbM\":\"embed.3ca9f2f9.css\",\"eW5wL\":\"caret-down.5e676c46.svg\",\"9clYo\":\"error.0d506571.svg\",\"bLSjr\":\"ok.db60f162.svg\",\"8eSFI\":\"warning.245b9b7a.svg\",\"d56Qw\":\"upload-large.19c94192.svg\"});","import { EmbedWrapper } from './app/script/embed/bootstrap/embed-wrapper';\r\n/**\r\n * by bitbof (bitbof.com)\r\n */\r\n// Important to keep the initial bundle small so there can be a loading screen\r\n\r\nimport('./app/style/embed.scss'); // loading like this gives it a hash\r\nObject.defineProperty(window, 'Klecks', {\r\n    value: EmbedWrapper,\r\n});\r\n","import { Embed, TEmbedParams, TReadPSD } from '../../main-embed';\nimport { TKlProject, TKlProjectWithOptionalId } from '../../klecks/kl-types';\nimport logoImg from 'url:/src/app/img/klecks-logo.png';\nimport { getEmbedUrl } from './get-embed-url';\nimport { initLANG, LANG } from '../../language/language';\nimport { THEME } from '../../theme/theme';\nimport { loadAgPsd } from '../../klecks/storage/load-ag-psd';\nimport { randomUuid } from '../../bb/base/base';\nimport { createImage } from '../../bb/base/ui';\n\n// only one instance can exist\nlet wrapperCreated = false;\n\n// add missing props. modifies project object\nfunction processProject(project: TKlProject | undefined): void {\n    if (!project) {\n        return;\n    }\n    project.layers.forEach((layer) => {\n        layer.isVisible = layer.isVisible === undefined ? true : layer.isVisible;\n    });\n}\n\n/**\n * Starting point for the Embed. Quickly available due to lazy loading.\n * (Which is why it had to be separated from main-embed.ts > Embed)\n *\n * Lazy loads rest of library, shows a loading screen, exposes Embed interface\n */\nexport class EmbedWrapper {\n    private project: TKlProject | undefined;\n    private errorStr: string | undefined;\n    private psds: TReadPSD[] = []; // if instance not loaded yet, these are psds to be read\n\n    private instance: Embed | undefined; // instance of loaded Embed\n\n    // ----------------------------------- public -----------------------------------\n    constructor(p: TEmbedParams) {\n        if (wrapperCreated) {\n            throw new Error('Already created an embed');\n        }\n        wrapperCreated = true;\n\n        processProject(p.project);\n        p = {\n            ...p,\n            embedUrl: p.embedUrl ? p.embedUrl : getEmbedUrl(),\n        };\n\n        (async () => {\n            await initLANG();\n\n            // loading screen\n            const loadingScreen = document.createElement('div');\n            const loadingStyleArr = [\n                ['position', 'fixed'],\n                ['left', '0'],\n                ['top', '0'],\n                ['width', '100vw'],\n                ['height', '100vh'],\n\n                ['display', 'flex'],\n                ['alignItems', 'center'],\n                ['justifyContent', 'center'],\n                ['flexDirection', 'column'],\n\n                ['background', THEME.isDark() ? 'rgb(33, 33, 33)' : 'rgb(158,158,158)'],\n\n                ['fontFamily', 'system-ui, sans-serif'],\n                ['fontSize', '30px'],\n                ['color', '#e3e3e3'],\n            ];\n            for (let i = 0; i < loadingStyleArr.length; i++) {\n                loadingScreen.style[loadingStyleArr[i][0] as any] = loadingStyleArr[i][1];\n            }\n            loadingScreen.id = 'loading-screen';\n            loadingScreen.append(\n                createImage({\n                    width: 150,\n                    height: 54,\n                    alt: 'Logo',\n                    src: p.logoImg ? p.logoImg : logoImg,\n                    css: {\n                        filter: THEME.isDark() && !p.logoImg ? 'invert(1)' : undefined,\n                    },\n                }),\n            );\n            loadingScreen.innerHTML +=\n                '<div style=\"margin: 15px 0 0 0; display: flex; align-items: center\">\\n' +\n                '<div class=\"spinner\"></div>\\n' +\n                '<span id=\"loading-screen-text\">' +\n                LANG('embed-init-loading') +\n                '</span>' +\n                '</div>';\n            document.body.appendChild(loadingScreen);\n\n            const mainEmbed = await import('../../main-embed');\n            this.instance = new mainEmbed.Embed(p);\n\n            this.getPNG = () => this.instance!.getPNG();\n            this.getPSD = () => this.instance!.getPSD();\n\n            if (this.project) {\n                this.instance.openProject(this.project);\n            }\n            if (this.errorStr) {\n                this.instance.initError(this.errorStr);\n            }\n            if (this.psds.length) {\n                this.instance.readPSDs(this.psds);\n            }\n        })();\n\n        // needed for uploading. load here to prevent possible timeouts due to server cold-start\n        loadAgPsd();\n    }\n\n    openProject(project: TKlProjectWithOptionalId) {\n        const projectWithId = {\n            ...project,\n            projectId: project.projectId ?? randomUuid(),\n        };\n        processProject(projectWithId);\n        if (this.instance) {\n            this.instance.openProject(projectWithId);\n        } else {\n            if (this.project) {\n                throw new Error('Already called openProject');\n            }\n            this.project = projectWithId;\n        }\n    }\n\n    initError(error: string) {\n        if (this.instance) {\n            this.instance.initError(error);\n        } else {\n            this.errorStr = error;\n        }\n    }\n\n    async readPSD(blob: Blob) {\n        return new Promise((resolve, reject) => {\n            const item: TReadPSD = {\n                blob,\n                callback: (loadedProject: TKlProject | null) => {\n                    this.psds.splice(this.psds.indexOf(item), 1);\n                    if (loadedProject) {\n                        resolve(loadedProject);\n                    } else {\n                        reject();\n                    }\n                },\n            };\n            if (this.instance) {\n                this.instance.readPSDs([item]);\n            } else {\n                this.psds.push(item);\n            }\n        });\n    }\n\n    getPNG: (() => Promise<Blob>) | undefined = undefined;\n    getPSD: (() => Promise<Blob>) | undefined = undefined;\n}\n","let embedUrl: string;\n\nfunction getBaseUrl(url: string): string {\n    return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexport function getEmbedUrl(): string {\n    if (embedUrl) {\n        return embedUrl;\n    }\n\n    let match: string[];\n    try {\n        throw new Error();\n    } catch (e) {\n        if (e instanceof Error) {\n            match = ('' + e.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g)!;\n        }\n    }\n    let index = 0;\n    match!.forEach((item, i) => {\n        if (item.indexOf('embed.js') !== -1) {\n            index = i;\n        }\n    });\n    embedUrl = getBaseUrl(match![index]);\n    return embedUrl;\n}\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$resolve","url","parcelRequire","i","$parcel$bundleURL","Error","err","matches","stack","match","$parcel$distDir","URL","toString","$parcel$interopDefault","a","__esModule","default","$331bd445235135e6$var$embedUrl","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","id","exports","init","module","call","code","register","parcelRegister","$148283215f43a235$var$asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","$148283215f43a235$export$71511d61b312f219","fn","args","arguments","apply","undefined","$91f8d84290b0e35b$export$71511d61b312f219","instance","Constructor","TypeError","$54bdf82ebe283f1b$var$_defineProperties","target","props","length","descriptor","writable","$54bdf82ebe283f1b$export$71511d61b312f219","protoProps","staticProps","prototype","$949f51bc0dc1c31c$export$71511d61b312f219","$exh8t","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_","$a951708b1caecba1$export$71511d61b312f219","obj","$3648804914912b71$export$71511d61b312f219","getOwnPropertyDescriptors","defineProperties","$3648804914912b71$var$ownKeys","object","enumerableOnly","symbols","push","$1a7940c44f23ed27$export$67ebef60e6f28a6","thisArg","body","f","y","t","label","sent","trys","ops","g","create","Iterator","next","verb","Symbol","iterator","op","pop","$1a7940c44f23ed27$export$19a8beecd37a4c45","o","m","SuppressedError","$8d7403abedf7cefa$export$991796128b2ca217","$8d7403abedf7cefa$export$e4ce066d17694649","$8d7403abedf7cefa$export$ce37e184d908d785","$8d7403abedf7cefa$export$7a2ea9f2e4d199d3","$1LaJZ","$cx0mh","$7h4XF","$cL71g","$2gUX3","$fgfvl","$6l0gQ","$8d7403abedf7cefa$var$LanguageStrings","LanguageStrings","listeners","data","english","langCode","_tmp","__generator","_state","loadLanguage","document","documentElement","setAttribute","item","_this","languages","find","autoCode","$8d7403abedf7cefa$export$64783e31db14f0ba","subscriber","includes","splice","useLocalStorage","result","langs","navLangs","navigator","language","split","LocalStorage","getItem","unshift","_ret","_loop","lang","found","toLowerCase","$8d7403abedf7cefa$var$activeLanguageCode","replace","keyArr","setLanguage","$90c6410f4b764e9c$export$33e6c23ebe2ee669","$90c6410f4b764e9c$export$d0d68bb9ed2c643d","$90c6410f4b764e9c$export$f02cbd868e2f57cf","name","JSON","parse","$5Y6Bl","bundle","getElementsByTagName","some","script","src","preloadLink","createElement","href","rel","as","head","appendChild","async","type","onerror","message","onload","remove","$4587ad3ed31b7baa$var$cachedBundles","$4587ad3ed31b7baa$var$cachedPreloads","$4587ad3ed31b7baa$var$cachedPrefetches","loader","cache","$4587ad3ed31b7baa$var$getCache","catch","$9e5fd8359d8b22f2$export$19fffca37ef3e106","localStorage","setItem","removeItem","$e3b2ff8d1f8c5253$export$5714e40777c1bcc2","$7jh4K","$e3b2ff8d1f8c5253$var$LS_THEME_KEY","Theme","mediaQueryTheme","theme","isDark","addIsDarkListener","updateTheme","storedTheme","readLocalStorage","addEventListener","oldTheme","classList","toggle","func","$2bd9b7b9bc92046d$export$c4f94c8b3850a5a9","$2bd9b7b9bc92046d$export$fe58198efe02b173","$2bd9b7b9bc92046d$export$2a09375022a33e78","$2bd9b7b9bc92046d$export$dbf350e5966cf602","$2bd9b7b9bc92046d$export$74da2cba014bdc09","$2bd9b7b9bc92046d$export$10d8903dec122b9d","$2bd9b7b9bc92046d$export$fa55905620c22535","$2bd9b7b9bc92046d$export$76d0c1a172b67a61","$2bd9b7b9bc92046d$export$aa350b96d91cd94","$2bd9b7b9bc92046d$export$f81847884871263e","$2bd9b7b9bc92046d$export$533b26079ad0b4b","$2bd9b7b9bc92046d$export$8215e6b900906daa","$2bd9b7b9bc92046d$export$5bcd6e94ed871c88","$2bd9b7b9bc92046d$export$5063ec57a23c4f2e","$2bd9b7b9bc92046d$export$1093707c159148e8","$2bd9b7b9bc92046d$export$af0d87255f3cfd7e","$2bd9b7b9bc92046d$export$331c30fd60da0115","$2bd9b7b9bc92046d$export$b981489921ee18cd","$2bd9b7b9bc92046d$export$c54fe3b9ecaa84cf","p","createElementNS","elementType","entries","param","_param","$8N5YG","keyStr","child","append","$2bd9b7b9bc92046d$export$b813e062795b89b5","$2bd9b7b9bc92046d$export$5c097f720de072a2","$2bd9b7b9bc92046d$export$d802c22d109d9806","$2bd9b7b9bc92046d$export$a79ad82046afa44e","$2bd9b7b9bc92046d$export$a9dfd81f95a8a526","$2bd9b7b9bc92046d$export$b3fb17ae4345ac8f","$2bd9b7b9bc92046d$export$7f1ebd623f131021","$2bd9b7b9bc92046d$export$4773ec3a7b05a3f2","$2bd9b7b9bc92046d$export$e772c8ff12451969","$2bd9b7b9bc92046d$export$f85d414d081200d8","referenceNode","newNode","parentNode","insertBefore","nextSibling","im","callback","counter","check","alert","complete","setTimeout","img","Image","el","styleObj","elStyle","style","property","webkitUserSelect","attrObj","els","fragment","createDocumentFragment","aw","ah","bw","bh","min","width","height","Math","max","x","date","Date","year","getFullYear","getMonth","padStart","getDate","getHours","getMinutes","b","numerator","denominator","decimalNumber","pow","maybeBlob","Blob","blobObj","createObjectURL","fauxBlob","encoding","dateA","dateB","setHours","getTime","stringify","mimetype","canvas","toBlob","blob","filesArray","File","fileName","share","title","files","clickEvent","tagName","parentElement","preventDefault","$2bd9b7b9bc92046d$var$matchMediaDark","matchMedia","base64Str","parts","binStr","atob","view","Uint8Array","ArrayBuffer","charCodeAt","fillValue","Array","fill","crypto","randomUUID","c","r","random","ms","promise","timeoutMs","race","$66678966aca60171$export$71511d61b312f219","$vDBh4","$lMMat","$keO5I","$kWe4k","arr","$05f19d23cbc6df58$export$71511d61b312f219","isArray","$fdc371d02da0e33d$export$71511d61b312f219","_s","_e","_i","_arr","_n","_d","$ebbbf88aeeb062a0$export$71511d61b312f219","$f3e42339f23981ad$export$71511d61b312f219","$gszWS","minLen","slice","from","test","$bfbb257f5464d7e6$export$71511d61b312f219","len","arr2","$a12fba8bc3214c1d$export$ab3d838b1d336b38","$a12fba8bc3214c1d$var$agPsdLazy","$cfe3aa45a75894cc$export$7868464f598ba79d","$cfe3aa45a75894cc$export$906dfdb7df31ccfc","$cfe3aa45a75894cc$export$e05240ca9e0b8bd9","$cfe3aa45a75894cc$export$a3d02541b0ebf605","$cfe3aa45a75894cc$export$6bd63bfceaafae0c","$cfe3aa45a75894cc$export$c3da0dad1b44eea9","$cfe3aa45a75894cc$export$b1da1db524e22115","$cfe3aa45a75894cc$export$ec664d7487540b","$eWjiX","text","div","innerHTML","_document_activeElement","getAll","activeElement","getAttribute","focusEl","BB","parent","css","opacity","select","focus","getSelection","sel","empty","removeAllRanges","preventFocus","event","didFocusRelated","relatedTarget","console","currentTarget","blur","$cfe3aa45a75894cc$var$els","params","content","textContent","className","onClick","noRef","onChange","custom","customKeyArr","removeEventListener","alt","$05ec456c8871d48f$export$921068d8846a1559","$6J2My","$idV3L","$04lDo","$eIcQa","$kVHNC","$4toIY","$af1iA","$dJ1E2","$72Jv0","$eg83P","$eelgW","$i0uIf","$jjWRi","$2pgVs","$joplQ","$c1lmK","$635F6","$gCzYB","eventUsesHighResTimeStamp","EVENT_USES_HIGH_RES_TIMESTAMP","hasPointerEvents","HAS_POINTER_EVENTS","isCssMinMaxSupported","IS_CSS_MIN_MAX_SUPPORTED","canShareFiles","unsetEventHandler","insertAfter","loadImage","setAttributes","fitInto","centerWithin","gcd","reduce","decToFraction","imageBlobToUrl","dateDayDifference","copyObj","shareCanvas","handleClick","createSvg","BbLog","throwIfNull","nullToUndefined","mix","dist","distSquared","lenSquared","pointsToAngleRad","pointsToAngleDeg","isInsideRect","clamp","rotate","rotateAround","Matrix","Vec2","intDxy","roundEven","roundUneven","round","updateBounds","boundsInArea","projectPointOnLine","PointLine","BezierLine","SplineInterpolator","powerSplineInput","createCanvas","ctx","copyCanvas","testShouldPixelate","drawTransformedImageWithBounds","drawTransformedImageOnCanvas","createCheckerCanvas","createCheckerDataUrl","resizeCanvas","convertToAlphaChannelCanvas","freeCanvas","canvasBounds","HSV","RGB","CMYK","ColorConverter","testIsWhiteBestContrast","appendTextDiv","clearSelection","destroyEl","isInputFocused","unfocusAnyInput","KeyListener","PointerListener","sameKeys","EventChain","DoubleTapper","NFingerTapper","PinchZoomer","CoalescedExploder","OnePointerLimiter","$878b1f179a521546$export$fa35291248be714f","$878b1f179a521546$export$69accc8c74894f83","$878b1f179a521546$export$7728c852ca75bb6d","$878b1f179a521546$export$1a1016cfea93f0d5","$878b1f179a521546$export$558f5e20caee48c2","$878b1f179a521546$export$4fb2cccfca937a8c","userAgent","indexOf","Event","timeStamp","PointerEvent","position","top","left","offsetLeft","_len","handlers","_key","handler","$74d1f29ad2137b2c$export$f17908c5de22d32e","$74d1f29ad2137b2c$export$e9f65b0175de4c03","metaClearTimeout","keyDown","keyUp","keyStrToKeyObj","keyStrArr","isDownObj","keyToKeyStrObj","comboArr","codeIsDownObj","listenerArr","setupMetaClear","emitDown","emitUp","emitBlur","$74d1f29ad2137b2c$var$globalKey","join","clearTimeout","oldComboStr","eventArr","stopPropagation","space","shift","ctrl","cmd","enter","esc","backspace","delete","sqbr_open","sqbr_close","l","u","z","plus","minus","right","up","down","home","end","acc","d","add","keyListenerRef","first","last","getIsDown","getCombo","onDown","onUp","onBlur","ref","comboAStr","comboBStr","sort","$893e90c2dcf687ac$export$9371bd96776f4e82","$4EWN2","$93oLo","$eIAon","$893e90c2dcf687ac$var$pointerArr","$893e90c2dcf687ac$var$getButtonStr","buttons","$893e90c2dcf687ac$var$pressureNormalizer","PressureNormalizer","$893e90c2dcf687ac$var$timeStampOffset","performance","timing","navigationStart","$893e90c2dcf687ac$var$pointerDownEvt","$893e90c2dcf687ac$var$pointerMoveEvt","$893e90c2dcf687ac$var$pointerUpEvt","$893e90c2dcf687ac$var$pointerCancelEvt","$893e90c2dcf687ac$var$pointerLeaveEvt","$893e90c2dcf687ac$var$pointerEnterEvt","$893e90c2dcf687ac$var$correctPointerEvent","corrected","pointerObj","correctedObj","pointerId","pointerType","pageX","pageY","clientX","clientY","movementX","movementY","pressure","normalize","button","coalescedArr","eventPreventDefault","eventStopPropagation","customPressure","IS_FIREFOX","coalescedEventArr","getCoalescedEvents","$893e90c2dcf687ac$var$getPointer","lastPageX","lastPageY","totalLastX","totalLastY","eventItem","$893e90c2dcf687ac$var$OPTIONS_PASSIVE","passive","_p_maxPointers","isDestroyed","isOverCounter","dragObjArr","dragPointerIdArr","lastPointerType","didSkip","targetElement","onPointerCallback","onPointer","onWheelCallback","onWheel","onEnterLeaveCallback","onEnterLeave","maxPointers","finalizeWheelEvent","bounds","getBoundingClientRect","whlEvent","WheelEvent","deltaY","relX","scrollLeft","relY","scrollTop","wheelCleaner","useDirtyWheel","WheelCleaner","onPointerMove","_this_onPointerCallback","correctedEvent","tempLastPointerType","outEvent","createPointerOutEvent","onPointerDown","onSkipGlobal","setupDocumentListeners","dragObj","downPageX","downPageY","lastTimeStamp","windowOnPointerMove","getDragObj","destroyDocumentListeners","removeDragObj","_this_onPointerCallback1","outEvent1","windowOnPointerUp","windowOnPointerLeave","touchToFakePointer","touch","touchEvent","isDown","identifier","handleTouch","changedTouches","fakePointer","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","process","isWheelPassive","onPointerEnter","_this_onEnterLeaveCallback","onPointerLeave","fixScribble","onTouchMoveScribbleFix","removedDragObj","typeStr","coalescedItem","dX","dY","time","$42238a223231ec71$export$c734b8535f2f8e38","knownUnitArr","sequenceLength","sequenceUnit","toEmitDelta","delta","emit","endSequenceTimeout","endSequence","deltaMode","absDelta","abs","$e14d50e39929aa54$export$61f95f4b79132931","detectionComplete","isApplePencil","initialPointerDownPressure","pointerDownPressureRepeatCount","pointerMoveHasDifferentPressure","eventType","$3f0e2f35371c9852$export$dd0873c0fb3ccff6","$3f0e2f35371c9852$export$39f92e86d1722f3a","$3f0e2f35371c9852$export$1555f643cc9a976","$3f0e2f35371c9852$export$ded2b43392504635","$3f0e2f35371c9852$export$425a419ef9fc761f","$3f0e2f35371c9852$export$754559b36e94ea2f","$3f0e2f35371c9852$export$42af33c76b681867","$3f0e2f35371c9852$export$59b33278b5b2fc8a","w","h","tmp1","tmp2","oldW","ew","eh","base2","oldWidthEx","log2","oldHeightEx","newWidthEx","ceil","newHeightEx","getContext","save","buffer1","buffer2","bufferCtx","imageSmoothingEnabled","imageSmoothingQuality","globalCompositeOperation","drawImage","currentWidth","currentHeight","newWidth","newHeight","tmp","canvasCtx","restore","tmp1Ctx","$3f0e2f35371c9852$export$5a7576952c826b4f","$3f0e2f35371c9852$export$2384aff49c9b73c2","$3f0e2f35371c9852$export$3db033c6ee0b8700","$3f0e2f35371c9852$export$403d539f215df596","$3f0e2f35371c9852$export$f7b95c0f504bef8b","$9b3eo","resultCanvas","options","transform","scaleX","scaleY","angleDeg","whSwapped","destCtx","transformImage","pixelated","translate","PI","scale","baseCanvas","transformObj","center","angleDegree","size","fillStyle","fillRect","modeStr","parseInt","toDataURL","imdat","getImageData","putImageData","context","integerBounds","searchBounds","x1","y1","x2","y2","searchWidth","searchHeight","tempBounds","floor","mimeType","HTMLCanvasElement","base64ToBlob","selection","selectionPath","getSelectionPath2d","clip","$44dda2e48e48a872$export$cd3d1f114b139967","$3a8abad308fc0b28$export$ba7ed3181f35c1cc","$3a8abad308fc0b28$export$8f2be1db13cf0f94","$bX4ja","path","Path2D","poly","ring","point","index","moveTo","lineTo","closePath","trim","$8b388beb029932dc$export$71511d61b312f219","$6KGpL","$5mm0I","$kD20o","$4ea7f09e3565689e$export$71511d61b312f219","$3e7014a700b6235f$export$71511d61b312f219","iter","$f049015e10c27370$export$71511d61b312f219","$e4df33b4b16105d5$var$multiplyMatrixAndPoint","matrix","$e4df33b4b16105d5$export$5b12bf1653c0dd85","freeze","getIdentity","multiplyMatrixAndPoint","multiplyMatrices","matrixA","matrixB","row0","row1","row2","row3","result0","result1","result2","result3","createTranslationMatrix","createRotationMatrix","angleRad","cos","sin","createScaleMatrix","$531c9f41f98b7ec0$export$ac4bca90992eed1","p1","p2","sub","nor","sqrt","mul","angle","atan2","dot","aArr","bArr","map","$77ae015f37ebe4f1$export$b4c5b177db876445","$77ae015f37ebe4f1$export$8b36a4a83269a640","$77ae015f37ebe4f1$export$5379d955c16d4d43","$77ae015f37ebe4f1$export$80967b1eb9fd6eb4","$77ae015f37ebe4f1$export$c07c3aaef9f2da42","lineStart","lineEnd","segmentArr","points","remainder","getLength","fac","lastDot","pointArr","p3","p4","resolution","curvePoints","spacing","controlsCallback","lastPoint","lastSpacing","dir","pointLine","pointM1","pointM2","pointM3","isNaN","getBezierPoints","tempSpacing","getAtDist","lastCallbackPoint","dAngle","lastAngle","newP","xa","ya","wx","sig","ddydx","klo","khi","k","tempX","tempY","interpolate","tempDist","startVal","endVal","stepSize","exponent","dec","resultArr","$9a5bdb07e7a7c42f$export$2c9e8a9632a706b2","$9a5bdb07e7a7c42f$export$6c4a311cc157c764","ax","ay","bx","by","$9a5bdb07e7a7c42f$export$499eb56409f6cbc2","$9a5bdb07e7a7c42f$export$a4f99f99d3e99cfa","$9a5bdb07e7a7c42f$export$627023b405ba5028","$9a5bdb07e7a7c42f$export$c03a8450eabc2532","$9a5bdb07e7a7c42f$export$151bd845d70e2099","rect","$9a5bdb07e7a7c42f$export$7d15b64cf5a3a4c4","num","$9a5bdb07e7a7c42f$export$bb628a54ab399bc9","deg","theta","cs","sn","$9a5bdb07e7a7c42f$export$95ec0760d3d00713","rot","$9a5bdb07e7a7c42f$export$c0156198713d0f0","snapDegIncrement","maxDistDeg","modDeg","$9a5bdb07e7a7c42f$export$ec85425cac357ca9","$9a5bdb07e7a7c42f$export$bbf9af158036c5e9","fDx","fDy","$9a5bdb07e7a7c42f$export$94cce7adf2ec2d08","above","below","$9a5bdb07e7a7c42f$export$f373b6a7b0c159a","$9a5bdb07e7a7c42f$export$2077e0241d6afd3c","digits","digitMult","$9a5bdb07e7a7c42f$export$f4467a4f41373bc7","$9a5bdb07e7a7c42f$export$1e5bc424ba85580e","limit","$9a5bdb07e7a7c42f$export$bbb91bbc54e7d9ac","$9a5bdb07e7a7c42f$export$34fe24b327e86efa","areIndices","$9a5bdb07e7a7c42f$export$4218cb0e42c2e7e","$9a5bdb07e7a7c42f$export$2253e119434941f4","$5e7aac2fa49b6b1f$export$d2edaecd208aed43","$5e7aac2fa49b6b1f$export$8f9ece5a47764b93","$5e7aac2fa49b6b1f$export$89d3f85304bf0767","$5e7aac2fa49b6b1f$export$fb7efcd2e153af6e","$5e7aac2fa49b6b1f$export$5cf396345d1238ae","_RGBtoHSV","minVal","maxVal","del_R","del_G","del_B","_HSVtoRGB","var_h","var_i","var_1","var_2","var_3","var_r","var_g","var_b","_CMYKtoRGB","_RGBtoCMYK","toRGB","toHSV","toCMYK","toHexString","ha","hb","hc","toRgbStr","rgbObj","toRgbaStr","rgbaObj","hexToRGB","hexStr","exec","$0d0e99c175410ac4$export$9860cd9e09e6f8ba","listener","msg","$d2c9f6aa6c7498f1$export$fe11e0afe623a677","chainOut","eventCopy","isCoalesced","$cc27951506e6ad28$export$510622b8aed00381","minSilenceBeforeDurationMs","maxTapMs","maxFirstLastFingerDownMs","maxPressedDistancePx","fingerArr","eventQueueArr","firstDownTime","lastEventTime","nowTime","now","pointersDownIdArr","timeoutObj","firstLastDownTimeout","tapTimeout","fingers","onTap","timeoutStr","timeMS","diff","failGesture","tempLastEventTime","downTimeMs","setupTimeout","fingerObj","i1","distance","fingerObj1","i2","distance1","isUp","allAreUp","i3","success","processEvent","$670d2777518c365a$export$d62358ac2d82abb3","firstFingerMaxDistancePx","untilSecondFingerDurationMs","gestureObj","secondFingerTimeout","pincherArr","onPinch","doSwallow","fail","touchPointerArr","downRelX","downRelY","otherPointerIdArr","isInProgress","setupFailTimeout","continuePinch","beginPinch","touchPointerObj","endPinch","actionObj","startDist","startAngle","$f607ef98ce9eccdc$export$db3963a21c01d803","allowedPointerTypeArr","allowedButtonArr","maxPressedDurationMs","maxInbetweenDistancePx","maxUpToUpDurationMs","maxUntilSecondDownDurationMs","minSilenceAfterMs","sequenceArr","lastUpTime","maxUntilSecondDown","onDoubleTap","isInstant","gestureFailed","lastSequenceItem","targetFunc","noComparison","$956c5ff01a38849f$export$71ff2f51bf1f4062","downPointerId","ignorePointerIdArr","$4fb7927cde0b2f75$export$649a211db9812745","chainArr","setChainOut","continueChain","chainIn","all","link","existing","assign","$ci8rB","$1mH1z","$1C8RU","$iVf04","$857b3526238e92d2$var$wrapperCreated","$857b3526238e92d2$var$processProject","project","layers","layer","isVisible","$857b3526238e92d2$export$3d00aece85073019","EmbedWrapper","psds","getPNG","getPSD","embedUrl","loadingScreen","loadingStyleArr","mainEmbed","initLANG","THEME","createImage","logoImg","LANG","Embed","openProject","errorStr","initError","readPSDs","loadAgPsd","_project_projectId","projectWithId","projectId","randomUuid","loadedProject"],"version":3,"file":"embed.js.map"}