!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){if(e=c.i?.[e]||e,!n)try{throw Error()}catch(r){var t=(""+r.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(!t)return a+e;n=t[0]}return new URL(a+e,n).toString()}function r(e){return e&&e.__esModule?e.default:e}var n,i,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="./",s={},l={},c=o.parcelRequire94c2;null==c&&((c=function(e){if(e in s)return s[e].exports;if(e in l){var t=l[e];delete l[e];var r={id:e,exports:{}};return s[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){l[e]=t},o.parcelRequire94c2=c);var u=c.register;u("1LaJZ",function(t,r){function n(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)})}}e(t.exports,"_",function(){return i})}),u("cx0mh",function(t,r){e(t.exports,"_",function(){return n});function n(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}}),u("7h4XF",function(t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}e(t.exports,"_",function(){return i})}),u("cL71g",function(t,r){e(t.exports,"_",function(){return i});var n=c("exh8t");function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){(0,n._)(e,t,r[t])})}return e}}),u("exh8t",function(t,r){e(t.exports,"_",function(){return n});function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}}),u("4EWN2",function(t,r){e(t.exports,"_",function(){return n});function n(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}}),u("2gUX3",function(t,r){function n(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){var c=[s,l];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function i(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}e(t.exports,"__generator",function(){return n}),e(t.exports,"__values",function(){return i}),"function"==typeof SuppressedError&&SuppressedError}),u("ci8rB",function(e,r){e.exports=t("eHdqz")}),u("1mH1z",function(t,r){e(t.exports,"LS_LANGUAGE_KEY",function(){return f}),e(t.exports,"LANGUAGE_STRINGS",function(){return g}),e(t.exports,"LANG",function(){return m}),e(t.exports,"initLANG",function(){return b});var n=c("1LaJZ"),i=c("cx0mh"),o=c("7h4XF"),a=c("cL71g"),s=c("2gUX3"),l=c("fgfvl"),u=c("6l0gQ"),f="klecks-language",d=function(){"use strict";function e(){(0,i._)(this,e),this.listeners=[],this.data=(0,a._)({},l.english),this.code="en"}return(0,o._)(e,[{key:"setLanguage",value:function(e){return(0,n._)(function(){var t,r;return(0,s.__generator)(this,function(n){switch(n.label){case 0:if("en"!==e)return[3,1];return this.data=(0,a._)({},l.english),[3,3];case 1:return t=this,r=[{},l.english],[4,(0,l.loadLanguage)(e)];case 2:t.data=a._.apply(void 0,r.concat([n.sent()])),n.label=3;case 3:return this.code=e,document.documentElement.setAttribute("lang",e),this.listeners.forEach(function(e){e()}),[2]}})}).call(this)}},{key:"get",value:function(e){if(!(e in this.data))throw Error("translation code doesn't exist: "+e);return this.data[e]}},{key:"getLanguage",value:function(){var e=this;return l.languages.find(function(t){return t.code===e.code})}},{key:"getAutoLanguage",value:function(){var e=p(!1);return l.languages.find(function(t){return t.code===e})}},{key:"getCode",value:function(){return this.code}},{key:"subscribe",value:function(e){this.listeners.includes(e)||this.listeners.push(e)}},{key:"unsubscribe",value:function(e){for(var t=0;t<this.listeners.length;t++)if(e===this.listeners[t])return void this.listeners.splice(t,1)}}]),e}();function p(e){var t="en",r=[];if((navigator.languages?navigator.languages:[navigator.language]).forEach(function(e){var t=e.split("-");r.push(e),2===t.length&&r.push(t[0])}),e)try{var n=u.LocalStorage.getItem(f);n&&r.unshift(n)}catch(e){}for(var i=0;i<r.length&&"break"!==function(e){var n=r[e],i=l.languages.find(function(e){return e.code.toLowerCase()===n.toLowerCase()});if(i)return t=i.code,"break"}(i);i++);return t}var h=p(!0),g=new d,m=function(e,t){if(!t)return g.get(e);var r=g.get(e);return Object.keys(t).forEach(function(e){r=r.replace(`{${e}}`,t[e])}),r},b=function(){return g.setLanguage(h)}}),u("fgfvl",function(t,n){e(t.exports,"english",function(){return a}),e(t.exports,"languages",function(){return s}),e(t.exports,"loadLanguage",function(){return l});var i=c("1LaJZ"),o=c("2gUX3"),a=r(c("iQKsR")),s=[{code:"en",name:"English"},{code:"de",name:"Deutsch"},{code:"es",name:"Español"},{code:"fi",name:"suomi"},{code:"fr",name:"Français"},{code:"hu",name:"Magyar"},{code:"id",name:"Bahasa Indonesia"},{code:"ja",name:"日本語"},{code:"jv",name:"Basa Jawa"},{code:"ko",name:"한국어"},{code:"lv",name:"Latviešu Valoda"},{code:"nl",name:"Nederlands"},{code:"pt-BR",name:"Português Brasil"},{code:"ru",name:"русский"},{code:"su",name:"Basa Sunda"},{code:"sv",name:"Svenska"},{code:"zh-CN",name:"简体中文"},{code:"zh-TW",name:"繁體中文"}],l=function(e){return(0,i._)(function(){return(0,o.__generator)(this,function(t){switch(t.label){case 0:if("en"!==e)return[3,1];return[2,a];case 1:if("de"!==e)return[3,3];return[4,c("8mlhh")];case 2:case 4:case 6:case 8:case 10:case 12:case 14:case 16:case 18:case 20:case 22:case 24:case 26:case 28:case 30:case 32:case 34:return[2,t.sent()];case 3:if("es"!==e)return[3,5];return[4,c("hLG03")];case 5:if("fi"!==e)return[3,7];return[4,c("kJrPi")];case 7:if("fr"!==e)return[3,9];return[4,c("bI71U")];case 9:if("hu"!==e)return[3,11];return[4,c("eICi1")];case 11:if("id"!==e)return[3,13];return[4,c("kqusB")];case 13:if("ja"!==e)return[3,15];return[4,c("57GX6")];case 15:if("jv"!==e)return[3,17];return[4,c("h75GH")];case 17:if("ko"!==e)return[3,19];return[4,c("55azR")];case 19:if("lv"!==e)return[3,21];return[4,c("fWO0c")];case 21:if("nl"!==e)return[3,23];return[4,c("4zES7")];case 23:if("pt-BR"!==e)return[3,25];return[4,c("7KXHm")];case 25:if("ru"!==e)return[3,27];return[4,c("aqoL6")];case 27:if("su"!==e)return[3,29];return[4,c("7TgKV")];case 29:if("sv"!==e)return[3,31];return[4,c("2HU4B")];case 31:if("zh-CN"!==e)return[3,33];return[4,c("lWIVr")];case 33:if("zh-TW"!==e)return[3,35];return[4,c("bGxAd")];case 35:throw Error("unknown language code")}})})()}}),u("iQKsR",function(e,t){e.exports=JSON.parse('{"switch-ui-left-right":"Switch left/right UI","toggle-show-tools":"Show/Hide Tools","scroll":"Scroll","donate":"Donate","home":"Home","modal-new-tab":"Open in new tab","tab-edit":"Edit","tab-file":"File","tool-brush":"Brush","tool-paint-bucket":"Paint Bucket","tool-gradient":"Gradient","tool-shape":"Shape","tool-text":"Text","tool-hand":"Hand Tool","tool-select":"Select Tool","tool-zoom":"Zoom","tool-more-tools":"More Tools","undo":"Undo","redo":"Redo","brush-pen":"Pen","brush-blend":"Blend","brush-sketchy":"Sketchy","brush-pixel":"Pixel","brush-chemy":"Chemy","brush-smudge":"Smudge","brush-size":"Size","brush-blending":"Blending","brush-toggle-pressure":"Toggle Pressure Sensitivity","brush-pen-circle":"Circle","brush-pen-chalk":"Chalk","brush-pen-calligraphy":"Calligraphy","brush-pen-square":"Square","brush-sketchy-scale":"Scale","brush-pixel-dither":"Dither","brush-chemy-fill":"Fill","brush-chemy-stroke":"Stroke","brush-chemy-mirror-x":"Horizontal Symmetry","brush-chemy-mirror-y":"Vertical Symmetry","brush-chemy-gradient":"Gradient","brush-eraser-transparent-bg":"Transparent Background","stabilizer":"Stabilizer","stabilizer-title":"Stroke Stabilizer","eyedropper":"Eyedropper","secondary-color":"Secondary Color","manual-color-input":"Manual Color Input","mci-hex":"Hex","mci-copy":"Copy","modal-ok":"Ok","modal-cancel":"Cancel","modal-close":"Close","layers-active-layer":"Active Layer","layers-layer":"Layer","layers-copy":"copy","layers-blending":"Blending","layers-new":"New Layer","layers-remove":"Remove Layer","layers-duplicate":"Duplicate Layer","layers-merge":"Merge with layer below","layers-clear":"Clear layer","layers-merge-all":"Merge all","layers-rename":"Rename","layers-active-layer-visible":"Active layer is visible","layers-active-layer-hidden":"Active layer is hidden","layers-visibility-toggle":"Layer Visibility","layers-blend-normal":"normal","layers-blend-darken":"darken","layers-blend-multiply":"multiply","layers-blend-color-burn":"color burn","layers-blend-lighten":"lighten","layers-blend-screen":"screen","layers-blend-color-dodge":"color dodge","layers-blend-overlay":"overlay","layers-blend-soft-light":"soft light","layers-blend-hard-light":"hard light","layers-blend-difference":"difference","layers-blend-exclusion":"exclusion","layers-blend-hue":"hue","layers-blend-saturation":"saturation","layers-blend-color":"color","layers-blend-luminosity":"luminosity","layers-rename-title":"Rename Layer","layers-rename-name":"Name","layers-rename-clear":"Clear Name","layers-rename-sketch":"Sketch","layers-rename-colors":"Colors","layers-rename-shading":"Shading","layers-rename-lines":"Lines","layers-rename-effects":"Effects","layers-rename-foreground":"Foreground","layers-merge-modal-title":"Merge/Mix Layers","layers-merge-description":"Merges the selected layer with the one underneath. Select the mix mode:","file-no-autosave":"No autosave, no cloud storage","file-new":"New","file-import":"Import","file-save":"Save","file-format":"File Format","file-show-save-dialog":"Show save dialog","file-copy":"Copy","file-copy-title":"Copy To Clipboard","file-paste":"Paste","file-share":"Share","file-storage":"Browser Storage","file-storage-about":"About Browser Storage","file-storage-cant-access":"Can\'t access storage.","file-storage-empty":"Empty","file-storage-store":"Store","file-storage-open":"Open","file-storage-open-confirmation":"This image is already open in another tab. Open it here too?","file-storage-open-failed":"Failed to load.","file-storage-clear":"Clear","file-storage-clear-prompt":"Clear Browser Storage? Clearing can not be undone.","file-storage-storing":"Storing","file-storage-overwrite":"Overwrite","file-storage-overwrite-confirm":"Overwrite Browser Storage? Overwritten data will be permanently deleted.","file-storage-min-ago":"{x}min ago","file-storage-hours-ago":"{x}h ago","file-storage-days-ago":"{x}d ago","file-storage-month-ago":"> 1month ago","file-storage-restored":"Restored from Browser Storage","file-storage-stored":"Stored to Browser Storage","file-storage-failed":"Failed to store to Browser Storage","file-storage-failed-1":"Failed to store. Possible causes:","file-storage-failed-2":"Out of disk space","file-storage-failed-3":"Storage disabled in incognito tab","file-storage-failed-4":"Browser doesn\'t support storage","file-storage-failed-clear":"Failed to clear.","file-upload":"Upload","tab-recovery-recover-tabs":"Recover closed tabs","tab-recovery-explanation":"Recovery data is only kept for a little while. Save to ensure your work is not lost.","tab-recovery-total-quota-label":"Total:","tab-recovery-empty":"Nothing to recover.","tab-recovery-recover":"Recover","tab-recovery-delete":"Delete","tab-recovery-delete-confirmation":"Delete this recovery? Deletion can not be undone.","tab-recovery-failed-to-recover":"Failed to recover tab.","tab-recovery-recovered":"Tab recovered.","cleared-layer":"Cleared layer","cleared-selected-area":"Cleared selected area","filled":"Filled","filled-selected-area":"Filled selection","new-title":"New Image","new-current":"Current","new-fit":"Fit","new-oversize":"Oversize","new-square":"Square","new-landscape":"Landscape","new-portrait":"Portrait","new-screen":"Screen","new-video":"Video","new-din-paper":"DIN Paper","new-px":"px","new-ratio":"Ratio","upload-title":"Upload to Imgur","upload-link-notice":"Anyone with the link to your uploaded image will be able to view it.","upload-name":"Title","upload-title-untitled":"Untitled","upload-caption":"Caption","upload-submit":"Upload","upload-uploading":"Uploading...","upload-success":"Upload Successful","upload-failed":"Upload failed.","upload-delete":"To delete your image from Imgur visit:","cropcopy-title-copy":"Copy To Clipboard","cropcopy-title-crop":"Crop","cropcopy-mask":"Mask unselected","cropcopy-click-hold":"Right-click or press hold to copy.","cropcopy-btn-copy":"To Clipboard","cropcopy-copied":"Copied.","cropcopy-btn-crop":"Apply Crop","crop-drag-to-crop":"Drag to crop","filter-crop-extend":"Crop/Extend","filter-flip":"Flip","filter-perspective":"Perspective","filter-resize":"Resize","filter-rotate":"Rotate","filter-transform":"Transform","filter-bright-contrast":"Bright/Contrast","filter-curves":"Curves","filter-hue-sat":"Hue/Saturation","filter-invert":"Invert","filter-tilt-shift":"Tilt Shift","filter-to-alpha":"To Alpha","filter-triangle-blur":"Triangle Blur","filter-unsharp-mask":"Unsharp Mask","filter-crop-title":"Crop / Extend","filter-crop-description":"Crop or extend the image.","filter-crop-left":"Left","filter-crop-right":"Right","filter-crop-top":"Top","filter-crop-bottom":"Bottom","filter-crop-rule-thirds":"Rule of Thirds","filter-crop-fill":"Fill","filter-flip-title":"Flip","filter-flip-description":"Flips layer or whole image.","filter-flip-horizontal":"Horizontal","filter-flip-vertical":"Vertical","filter-flip-image":"Flip Image","filter-flip-layer":"Flip Layer","filter-perspective-title":"Perspective","filter-perspective-description":"Transforms the selected layer.","filter-resize-title":"Resize","filter-resize-description":"Resizes the image.","filter-rotate-title":"Rotate","filter-rotate-description":"Rotates the image.","filter-transform-empty":"Layer is empty.","filter-transform-empty-selection":"Layer is empty in selected area.","filter-transform-title":"Transform","filter-transform-description":"Transforms selected layer. Hold Shift for additional behavior.","filter-transform-rotation":"Rotation","filter-transform-flip":"Flip","filter-transform-center":"Center","filter-transform-constrain":"Constrain","filter-transform-snap":"Snap","filter-transform-snap-title":"Snap Rotation And Position","filter-bright-contrast-title":"Brightness / Contrast","filter-bright-contrast-description":"Change brightness and contrast for the selected layer.","filter-bright-contrast-brightness":"Brightness","filter-bright-contrast-contrast":"Contrast","filter-curves-title":"Curves","filter-curves-description":"Apply curves on the selected layer.","filter-curves-all":"All","filter-hue-sat-title":"Hue / Saturation","filter-hue-sat-description":"Change hue and saturation for the selected layer.","filter-hue-sat-hue":"Hue","filter-hue-sat-saturation":"Saturation","filter-applied":"applied","filter-tilt-shift-title":"Tilt Shift","filter-tilt-shift-description":"Applies tilt shift on the selected layer.","filter-tilt-shift-blur":"Blur Radius","filter-tilt-shift-gradient":"Gradient Radius","filter-to-alpha-title":"To Alpha","filter-to-alpha-description":"Generates alpha channel for selected layer from:","filter-to-alpha-inverted-lum":"Inverted Luminance","filter-to-alpha-lum":"Luminance","filter-to-alpha-replace":"Replace RGB","filter-triangle-blur-title":"Triangle Blur","filter-triangle-blur-description":"Applies triangle blur on the selected layer.","filter-unsharp-mask-title":"Unsharp Mask","filter-unsharp-mask-description":"Sharpens the selected layer by scaling pixels away from the average of their neighbors.","filter-unsharp-mask-strength":"Strength","filter-grid":"Grid","filter-grid-description":"Draws grid on selected layer.","filter-noise":"Noise","filter-noise-description":"Adds noise to selected layer.","filter-noise-scale":"Scale","filter-noise-alpha":"Alpha","filter-pattern":"Pattern","filter-pattern-description":"Generates pattern on selected layer. Drag the preview for further controls.","filter-distort":"Distort","filter-distort-description":"Distorts the selected layer.","filter-distort-phase":"Phase","filter-distort-stepsize":"Step Size","filter-distort-sync-xy":"Sync XY","filter-vanish-point":"Vanish Point","filter-vanish-point-title":"Vanishing Point","filter-vanish-point-description":"Adds vanishing point to selected layer. Drag preview to move.","filter-vanish-point-lines":"Lines","dropper-drop":"Drop to import","dropper-as-image":"As New Image","dropper-as-layer":"As Layer","import-opening":"Opening file...","import-title":"Import Image","import-too-large":"Image too large, will be downscaled.","import-btn-as-layer":"As Layer","import-btn-as-image":"As Image","import-as-layer-title":"Import Image as New Layer","import-as-layer-description":"Adjust the position of the imported image.","import-as-layer-limit-reached":"Layer limit reached. Image will be placed on existing layer.","import-as-layer-fit":"Fit","import-flatten":"Flatten image","import-unsupported-file":"Unsupported file type. See Help for supported types.","import-broken-file":"Couldn\'t load image. File might be corrupted.","import-psd-unsupported":"Unsupported features. PSD had to be flattened.","import-psd-limited-support":"PSD support is limited. Flattened will more likely look correct.","import-psd-too-large":"Image exceeds maximum dimensions of {x} x {x} pixels. Unable to import.","import-psd-size":"Image size","clipboard-read-fail":"Failed to read from clipboard.","clipboard-no-image":"No image found in clipboard.","hand-reset":"Reset","hand-fit":"Fit","hand-inertia-scrolling":"Inertia Scrolling","bucket-tolerance":"Tolerance","bucket-sample":"Sample","bucket-sample-title":"Which layers to sample color from","bucket-sample-all":"All","bucket-sample-active":"Active","bucket-sample-above":"Above","bucket-grow":"Grow","bucket-grow-title":"Grow filled area (in pixels)","bucket-contiguous":"Contiguous","bucket-contiguous-title":"Only fill connected areas","gradient-linear":"Linear","gradient-linear-mirror":"Linear-Mirror","gradient-radial":"Radial","shape-stroke":"Stroke","shape-fill":"Fill","shape-rect":"Rectangle","shape-ellipse":"Ellipse","shape-line":"Line","shape-line-width":"Line Width","shape-outwards":"Outwards","shape-fixed":"Fixed 1:1","shape-auto-pan":"Auto-pan","shape-auto-pan-title":"Automatically moves as you draw","text-instruction":"Click canvas to place text","text-title":"Add Text","text-text":"Text","text-font":"Font","text-placeholder":"Your text","text-color":"Color","text-size":"Size","text-line-height":"Line Height","text-letter-spacing":"Letter Spacing","text-left":"Left","text-center":"Center","text-right":"Right","text-italic":"Italic","text-bold":"Bold","select-select":"Select","select-transform":"Transform","select-lasso":"Lasso","select-polygon":"Polygon","select-boolean-replace":"Replace","select-boolean-add":"Add","select-boolean-subtract":"Subtract","select-all":"All","select-invert":"Invert","select-reset":"Reset","select-fill":"Fill","select-erase":"Erase","select-transform-clone":"Clone","select-transform-clone-applied":"Cloned","select-transform-move-to-layer":"Move to layer:","select-transform-applied":"Transformation applied","select-transform-empty":"Selected area on active layer is empty.","save-reminder-title":"Unsaved Work","save-reminder-text":"Image was not saved in {a} minutes{b}. Save now to prevent eventual loss.","save-reminder-save-psd":"Save As PSD","save-reminder-psd-layers":"PSD will remember all layers.","backup-drawing":"You can backup your drawing.","submit":"Submit","submit-title":"Submit Drawing","submit-prompt":"Submit drawing?","submit-submitting":"Submitting","embed-init-loading":"Loading app","embed-init-waiting":"Waiting for image","help":"Help","tab-settings":"Settings","settings-language":"Language","settings-language-reload":"Will update after reloading.","settings-theme":"Theme","settings-save-reminder-label":"Save Reminder","settings-save-reminder-disabled":"disabled","settings-save-reminder-confirm-title":"Turn off Save Reminder?","settings-save-reminder-confirm-a":"There is no autosave and browser tabs don\'t last forever. If you don\'t periodically save you will likely lose work.","settings-save-reminder-confirm-b":"Disable at your own risk?","settings-save-reminder-confirm-disable":"Disable","theme-dark":"Dark","theme-light":"Light","terms-of-service":"Terms of Service","licenses":"Licenses","source-code":"Source Code","auto":"auto","zoom-in":"Zoom In","zoom-out":"Zoom Out","radius":"Radius","constrain-proportions":"Constrain Proportions","width":"Width","height":"Height","opacity":"Opacity","scatter":"Scatter","red":"Red","green":"Green","blue":"Blue","eraser":"Eraser","center":"Center","layers":"Layers","background":"Background","scaling-algorithm":"Scaling Algorithm","algorithm-smooth":"Smooth","algorithm-pixelated":"Pixelated","preview":"Preview","angle-snap":"Snap","angle-snap-title":"45° Angle Snapping","lock-alpha":"Lock Alpha","lock-alpha-title":"Locks layer\'s alpha channel","reverse":"Reverse","compare-before":"Before","compare-after":"After","loading":"Loading","more":"More","x-minutes":"{x}min","wip":"Work in progress","browser-zoom-help":"Double-tap or pinch-out to reset browser zoom.","dismiss":"Dismiss"}')}),u("8mlhh",function(e,r){e.exports=c("ih7W4")(t("5RGAp")).then(function(){return c("fz5vW")})}),u("ih7W4",function(e,t){"use strict";e.exports=c("5Y6Bl")(function(e){return new Promise(function(t,r){if([].concat(document.getElementsByTagName("script")).some(function(t){return t.src===e}))return void t();var n=document.createElement("link");n.href=e,n.rel="preload",n.as="script",document.head.appendChild(n);var i=document.createElement("script");i.async=!0,i.type="text/javascript",i.src=e,i.onerror=function(t){var n=TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));i.onerror=i.onload=null,i.remove(),r(n)},i.onload=function(){i.onerror=i.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(i)})})}),u("5Y6Bl",function(e,t){"use strict";var r={},n={},i={};e.exports=function(e,t){return function(o){var a=function(e){switch(e){case"preload":return n;case"prefetch":return i;default:return r}}(t);return a[o]?a[o]:a[o]=e.apply(null,arguments).catch(function(e){throw delete a[o],e})}}}),u("hLG03",function(e,r){e.exports=c("ih7W4")(t("3uTpJ")).then(function(){return c("5xWmk")})}),u("kJrPi",function(e,r){e.exports=c("ih7W4")(t("4XbAZ")).then(function(){return c("gFNXg")})}),u("bI71U",function(e,r){e.exports=c("ih7W4")(t("2bKIP")).then(function(){return c("iGIhP")})}),u("eICi1",function(e,r){e.exports=c("ih7W4")(t("i0BNf")).then(function(){return c("9105N")})}),u("kqusB",function(e,r){e.exports=c("ih7W4")(t("98Cvg")).then(function(){return c("dH6Cx")})}),u("57GX6",function(e,r){e.exports=c("ih7W4")(t("y5edP")).then(function(){return c("7ZPTi")})}),u("h75GH",function(e,r){e.exports=c("ih7W4")(t("9fDFY")).then(function(){return c("2Ylu6")})}),u("55azR",function(e,r){e.exports=c("ih7W4")(t("cW2nR")).then(function(){return c("aeHic")})}),u("fWO0c",function(e,r){e.exports=c("ih7W4")(t("8ucza")).then(function(){return c("52L7X")})}),u("4zES7",function(e,r){e.exports=c("ih7W4")(t("f3RKT")).then(function(){return c("hmSlK")})}),u("7KXHm",function(e,r){e.exports=c("ih7W4")(t("fVlhe")).then(function(){return c("cmxjs")})}),u("aqoL6",function(e,r){e.exports=c("ih7W4")(t("kcBSP")).then(function(){return c("6vhv2")})}),u("7TgKV",function(e,r){e.exports=c("ih7W4")(t("4RByM")).then(function(){return c("3bjy6")})}),u("2HU4B",function(e,r){e.exports=c("ih7W4")(t("ap9yw")).then(function(){return c("aWNha")})}),u("lWIVr",function(e,r){e.exports=c("ih7W4")(t("dsJ3g")).then(function(){return c("blNy6")})}),u("bGxAd",function(e,r){e.exports=c("ih7W4")(t("lF1Tu")).then(function(){return c("iRLcJ")})}),u("6l0gQ",function(t,r){e(t.exports,"LocalStorage",function(){return o});var n=c("cx0mh"),i=c("7h4XF"),o=function(){"use strict";function e(){(0,n._)(this,e)}return(0,i._)(e,null,[{key:"getItem",value:function(e){var t=null;try{t=localStorage.getItem(e)}catch(e){this.error=e}return t}},{key:"setItem",value:function(e,t){try{localStorage.setItem(e,t)}catch(e){this.error=e}}},{key:"removeItem",value:function(e){try{localStorage.removeItem(e)}catch(e){this.error=e}}},{key:"getError",value:function(){return this.error}}]),e}()}),u("1C8RU",function(t,r){e(t.exports,"THEME",function(){return l});var n=c("cx0mh"),i=c("7h4XF"),o=c("7jh4K"),a=c("6l0gQ"),s="klecks-theme",l=new(function(){"use strict";function e(){var t=this;(0,n._)(this,e),this.mediaQueryTheme="light",this.theme="light",this.listeners=[],this.mediaQueryTheme=(0,o.isDark)()?"dark":"light",(0,o.addIsDarkListener)(function(){t.mediaQueryTheme=(0,o.isDark)()?"dark":"light",t.updateTheme()}),this.storedTheme=this.readLocalStorage(),addEventListener("storage",function(e){e.key===s&&(t.storedTheme=t.readLocalStorage(),t.updateTheme())}),this.updateTheme()}return(0,i._)(e,[{key:"updateTheme",value:function(){var e=this.theme;this.theme=this.storedTheme||this.mediaQueryTheme,this.theme!==e&&(document.body.classList.toggle("kl-theme-dark","dark"===this.theme),this.listeners.forEach(function(e){return e()}))}},{key:"readLocalStorage",value:function(){var e=a.LocalStorage.getItem(s);return e&&("string"!=typeof e||["dark","light"].includes(e))||(e=void 0,a.LocalStorage.removeItem(s)),e}},{key:"isDark",value:function(){return"dark"===this.theme}},{key:"addIsDarkListener",value:function(e){this.listeners.includes(e)||this.listeners.push(e)}},{key:"removeIsDarkListener",value:function(e){for(var t=0;t<this.listeners.length;t++)if(this.listeners[t]===e)return void this.listeners.splice(t,1)}},{key:"getMediaQueryTheme",value:function(){return this.mediaQueryTheme}},{key:"getStoredTheme",value:function(){return this.storedTheme}},{key:"setStoredTheme",value:function(e){e?a.LocalStorage.setItem(s,e):a.LocalStorage.removeItem(s),this.storedTheme=e,this.updateTheme()}}]),e}())}),u("7jh4K",function(t,r){e(t.exports,"insertAfter",function(){return a}),e(t.exports,"loadImage",function(){return s}),e(t.exports,"asyncLoadImage",function(){return l}),e(t.exports,"css",function(){return u}),e(t.exports,"setAttributes",function(){return f}),e(t.exports,"append",function(){return d}),e(t.exports,"fitInto",function(){return p}),e(t.exports,"centerWithin",function(){return h}),e(t.exports,"getDate",function(){return g}),e(t.exports,"gcd",function(){return m}),e(t.exports,"reduce",function(){return b}),e(t.exports,"decToFraction",function(){return v}),e(t.exports,"isBlob",function(){return y}),e(t.exports,"imageBlobToUrl",function(){return _}),e(t.exports,"dateDayDifference",function(){return H}),e(t.exports,"copyObj",function(){return S}),e(t.exports,"shareCanvas",function(){return x}),e(t.exports,"handleClick",function(){return E}),e(t.exports,"createSvg",function(){return function e(t){var r=document.createElementNS("http://www.w3.org/2000/svg",t.elementType);return Object.entries(t).forEach(function(t){var n=(0,i._)(t,2),o=n[0],a=n[1];"childrenArr"===o?a.forEach(function(t){r.append(e(t))}):"elementType"!==o&&r.setAttribute(o,a)}),r}}),e(t.exports,"throwIfNull",function(){return A}),e(t.exports,"throwIfUndefined",function(){return R}),e(t.exports,"nullToUndefined",function(){return w}),e(t.exports,"isDark",function(){return k}),e(t.exports,"addIsDarkListener",function(){return T}),e(t.exports,"base64ToBlob",function(){return L}),e(t.exports,"createArray",function(){return j}),e(t.exports,"randomUuid",function(){return C}),e(t.exports,"sleep",function(){return P}),e(t.exports,"timeoutWrapper",function(){return I});var n=c("1LaJZ"),i=c("8N5YG"),o=c("2gUX3");function a(e,t){e.parentNode&&e.parentNode.insertBefore(t,e.nextSibling)}function s(e,t){var r=0;!function n(){if(1e3===r)return void alert("couldn't load");e.complete?(r++,t()):setTimeout(n,1)}()}function l(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src=e})}function u(e,t){var r=e.style;Object.keys(t).forEach(function(e){r[e]=t[e],"userSelect"===e&&(r.webkitUserSelect=t[e])})}function f(e,t){for(var r,n=Object.keys(t),i=0;i<n.length;i++)r=n[i],e.setAttribute(r,t[r])}function d(e,t){var r=document.createDocumentFragment();t.forEach(function(e){return e&&r.append(e)}),e.append(r)}function p(e,t,r,n,i){var o=e*r,a=t*r;return o>r&&(a=r/o*a,o=r),a>n&&(o=n/a*o,a=n),i&&(o=Math.max(i,o),a=Math.max(i,a)),{width:o,height:a}}function h(e,t,r,n){return{x:e/2-r/2,y:t/2-n/2}}function g(){var e=new Date;return e.getFullYear()+"_"+(e.getMonth()+1).toString().padStart(2,"0")+"_"+e.getDate().toString().padStart(2,"0")+"_"+(60*e.getHours()+e.getMinutes()).toString(36).padStart(3,"0")+"_"}function m(e,t){return t?m(t,e%t):e}function b(e,t){var r=m(e,t);return[e/r,t/r]}function v(e){var t=Math.pow(10,e.toString().length-2);return b(e*t,t)}function y(e){return e instanceof Blob||"[object Blob]"===Object.prototype.toString.call(e)}function _(e){if(!e)throw Error("blobObj is undefined or null");if(window.Blob&&e instanceof Blob)return URL.createObjectURL(e);if("Object"===e.constructor.name)return"data:"+e.type+";"+e.encoding+","+e.data;throw Error("unknown blob format")}function H(e,t){return e=new Date(e),t=new Date(t),e.setHours(0,0,0,0),t.setHours(0,0,0,0),(t.getTime()-e.getTime())/864e5}function S(e){return JSON.parse(JSON.stringify(e))}function x(e){var t="image/png",r=function(){return alert("sharing not supported")};e.canvas.toBlob(function(n){if(!n){r(),e.callback();return}try{var i=[new File([n],e.fileName,{type:t})];navigator.share({title:e.title,files:i}).then(function(){}).catch(function(){r()})}catch(e){r()}e.callback()},t)}function E(e){var t=e.target;if(!t)return!1;for(var r=t;r;){if(["A","LABEL","INPUT","SUMMARY"].includes(r.tagName))return!0;r=r.parentElement}return e.preventDefault(),!1}function A(e){if(null===e)throw Error("value is null");return e}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value is undefined";if(void 0===e)throw Error(t);return e}function w(e){return null===e?void 0:e}var F="matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)");function k(){return F&&F.matches}function T(e){F&&"addEventListener"in F&&F.addEventListener("change",e)}function L(e){for(var t=e.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/),r=atob(t[3]),n=new Uint8Array(new ArrayBuffer(r.length)),i=0;i<n.length;i++)n[i]=r.charCodeAt(i);return new Blob([n],{type:t[1]})}function j(e,t){return Array(e).fill(t)}function C(){return"randumUUID"in crypto?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function P(e){return new Promise(function(t){return setTimeout(t,e)})}function I(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return(0,n._)(function(){return(0,o.__generator)(this,function(n){return[2,Promise.race([e,new Promise(function(e,n){setTimeout(function(){return n(Error(`Promise "${t}" timed out.`))},r)})])]})})()}}),u("8N5YG",function(t,r){e(t.exports,"_",function(){return s});var n=c("vDBh4"),i=c("lMMat"),o=c("keO5I"),a=c("kWe4k");function s(e,t){return(0,n._)(e)||(0,i._)(e,t)||(0,a._)(e,t)||(0,o._)()}}),u("vDBh4",function(t,r){e(t.exports,"_",function(){return n});function n(e){if(Array.isArray(e))return e}}),u("lMMat",function(t,r){e(t.exports,"_",function(){return n});function n(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}}),u("keO5I",function(t,r){e(t.exports,"_",function(){return n});function n(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}}),u("kWe4k",function(t,r){e(t.exports,"_",function(){return i});var n=c("gszWS");function i(e,t){if(e){if("string"==typeof e)return(0,n._)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return(0,n._)(e,t)}}}),u("gszWS",function(t,r){e(t.exports,"_",function(){return n});function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}}),u("iVf04",function(t,r){e(t.exports,"loadAgPsd",function(){return a});var n,i=c("1LaJZ"),o=c("2gUX3");function a(){return(0,i._)(function(){return(0,o.__generator)(this,function(e){switch(e.label){case 0:if(n)return[3,2];return[4,c("6caCk")];case 1:n=e.sent(),e.label=2;case 2:return[2,n]}})})()}}),u("6caCk",function(e,r){e.exports=c("ih7W4")(t("kNYzr")).then(function(){return c("2m2jt")})}),u("ar0Oi",function(e,r){e.exports=Promise.all([c("i5Beu")(t("bIDbX")),c("ih7W4")(t("dafOa"))]).then(function(){return c("6NgYC")})}),u("i5Beu",function(e,t){"use strict";e.exports=c("5Y6Bl")(function(e){return new Promise(function(t,r){if("undefined"==typeof document)return t();var n=document.createElement("link");if(n.rel="stylesheet",n.href=e,Array.from(document.getElementsByTagName("link")).some(function(e){return e.href===n.href&&e.rel.indexOf("stylesheet")>-1}))return void t();n.onerror=function(e){n.onerror=n.onload=null,n.remove(),r(e)},n.onload=function(){n.onerror=n.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(n)})})}),u("gcVy2",function(e,r){e.exports=c("i5Beu")(t("4GTbM"))}),Object.assign(c.i??={},{eHdqz:"klecks-logo.ae8bd45e.png","5RGAp":"de.cd11a45f.js","3uTpJ":"es.ba06aaff.js","4XbAZ":"fi.7629ab8b.js","2bKIP":"fr.8783c9d5.js",i0BNf:"hu.89de6ca3.js","98Cvg":"id.54e3fe29.js",y5edP:"ja.0c03906d.js","9fDFY":"jv.92ba8478.js",cW2nR:"ko.d8e6b1c3.js","8ucza":"lv.ee5d3af5.js",f3RKT:"nl.1402c478.js",fVlhe:"pt-BR.988d347f.js",kcBSP:"ru.df09d0e3.js","4RByM":"su.e63fd71f.js",ap9yw:"sv.2e7effd2.js",dsJ3g:"zh-CN.dac2191e.js",lF1Tu:"zh-TW.71abe7bc.js",kNYzr:"dist.9a7dd667.js",dafOa:"main-embed.8c2fa61c.js",kbyFQ:"cancel.340fb0bb.svg",l7FYj:"check.e6114d75.svg",kino6:"remove-layer.da17ce5a.svg","5H9IS":"brush-pressure.8782e24b.svg",la7yv:"copy.22819386.svg",cTtMO:"tool-picker.896489f2.svg",iQ1f0:"angle.319ede69.svg","04ZZm":"tool-zoom-in.a322442c.svg",j9xio:"tool-zoom-out.a0c9b082.svg",fER1z:"viewport-reset.f69c6fbc.svg","2gZH2":"tool-hand.b64de96e.svg",ghFv7:"edit-pencil.070f95f1.svg",cazOx:"edit-crop.82cc9746.svg","1mb1v":"add-layer.ec19e714.svg","11KJK":"duplicate-layer.fd421984.svg",floUo:"merge-layers.ec5eab67.svg",hhQeq:"rename-layer.cbd29f71.svg",dz3mY:"caret-down.5e676c46.svg","045N6":"cursor-rotate.0c8e34b1.png","3x5dR":"new-image.551dbae3.svg",hbDTd:"import.eacba42d.svg","16iGk":"export.15a4d72c.svg","2ME3z":"share.ab903904.svg",hZnSk:"help.648f7d00.svg","6mHrC":"tool-paint.1b2f44ed.svg",hS5Hj:"tool-fill.bbd4ae51.svg","4KGfM":"tool-gradient.dedc893d.svg",doX4v:"tool-text.0da9f984.svg","7NqHO":"tool-shape.522cd4b5.svg",kOuYd:"tool-select.5ec1da7d.svg",AnO0a:"tool-undo.9138898d.svg","6toXQ":"edit-rotate.8fb5b1ef.svg",b1UMP:"ui-collapse.da4b78fc.svg",lvwQ5:"align-left.dd4a3407.svg",imAvm:"align-center.13c1a9ae.svg",dC0sF:"align-right.20a4fe41.svg",h3hPo:"typo-italic.b995dd94.svg","1pAeY":"typo-bold.b93464d7.svg",hapKl:"Caveat-Regular.2fe80bbd.woff2",dqzux:"ClimateCrisis-Regular-VariableFont_YEAR.3ad02523.woff2",l7VGL:"CorrectionBrush.a69973aa.woff2",dm0T7:"DancingScript-Regular.ef2fe647.woff2","2U3dq":"Diabolik-Regular-VF.f4eeb79e.woff2",axzlU:"FreckleFace-Regular.05946539.woff2",avgh6:"Gloock-Regular.60f8f765.woff2",H9bSu:"Pacha.08c8457a.woff2",emBfm:"GochiHand-Regular.c45792b0.woff2",kjRvm:"PassionOne-Bold.9e08b0dc.woff2",c79R0:"PixeloidSans.bc292131.woff2",fndWQ:"PlaypenSans-Thin.314b29a4.woff2",iAFmc:"Quicksand-Light.1f0c44a2.woff2","2Bq6W":"Silkscreen-Regular.cef2b4cb.woff2",hmfbp:"Tehroc-Regular.4540047b.woff2",iItsG:"YUNGA-Display.30c04a15.woff2","5tPq3":"edit-brightness-contrast.8b8bf2e3.svg","245NA":"edit-curves.3fe4f437.svg","1hkCG":"edit-flip.4aceca97.svg",k2eFf:"edit-hue-saturation.56414c15.svg",krKGd:"edit-invert.91bfa402.png",ehfxY:"edit-perspective.e81fb779.svg",beOjS:"edit-resize.ae1c6243.svg",Gk9bV:"edit-tilt-shift.7ad164eb.png",csed7:"edit-to-alpha.5aae945f.svg",equSE:"edit-transform.a9e0e3ad.svg",h1dN3:"edit-triangle-blur.17417e43.png",LfAXI:"edit-unsharp-mask.38afa514.png",cB6q6:"edit-grid.a59182f2.svg",S9ano:"edit-noise.20c18f19.svg","4eqRj":"edit-pattern.8d1dc35a.svg","8mvSV":"edit-vanish-point.db0dad3f.svg",kbc0v:"edit-distort.1f03fb5f.svg",iiCd6:"brush-pen.c04fbc65.svg","6fRlX":"brush-blend.206fbdc2.svg",hC7PC:"brush-sketchy.6c75169d.png",eZgVv:"brush-pixel.bfd351cf.svg",fPZin:"brush-eraser.388bfa8c.svg",fp7H1:"brush-smudge.9c9edfb1.svg",eX098:"brush-chemy.a5a188f6.svg","2oHM2":"upload.fb4a8f36.svg",iGeXe:"loading.7ff8a2ac.gif",kSWIa:"bitbof-logo.94108533.svg","4FMUg":"ui-swap-lr.695f74b3.svg","62mlz":"licenses.fc8627f9.js","76QQo":"font-licenses.0e2c26a4.js","2BZYe":"constrain.46a31747.svg",k9Nks:"tab-settings.980aa34c.svg",bBxqy:"tab-layers.e4748a75.svg","3UXKl":"tab-edit.0d1e8b85.svg","1dLwT":"cursor-picker.71be1460.png",hQSEH:"cursor-fill.ab749dde.png","916ZI":"cursor-text.b4ebf6cd.png","9wZxU":"cursor-zoom-ew.d3ab2d60.png",kiEfz:"select-mode-select.46ceb4fe.svg","4uXfZ":"select-mode-move.8de050a3.svg",bjhUB:"select-default.220582ab.svg","9MYhm":"select-union.6ce66e68.svg",fsl8L:"select-subtract.5803476d.svg","3QHUd":"select-shape-rect.fe6bbc6c.svg","5GkZe":"select-shape-ellipse.e17d8caa.svg","2zM6R":"select-shape-lasso.ac59dbb0.svg","5rTlv":"select-shape-poly.c34d8757.svg",bIDbX:"main-embed.c2c0ea01.css","4GTbM":"embed.a53f825f.css","9clYo":"error.211367dc.svg",bLSjr:"ok.7be5b2e7.svg","8eSFI":"warning.245b9b7a.svg",d56Qw:"upload-large.ac69d915.svg",eW5wL:"caret-down.5e676c46.svg"});var f=c("1LaJZ"),d=c("cx0mh"),p=c("7h4XF"),h=c("cL71g"),g=c("4EWN2"),m=c("2gUX3"),b=c("ci8rB"),v=c("1mH1z"),y=c("1C8RU"),_=c("iVf04"),H=c("7jh4K"),S=!1;function x(e){e&&e.layers.forEach(function(e){e.isVisible=void 0===e.isVisible||e.isVisible})}var E=function(){"use strict";function e(t){if((0,d._)(this,e),this.psds=[],this.getPNG=void 0,this.getPSD=void 0,S)throw Error("Already created an embed");S=!0,x(t.project),t=(0,g._)((0,h._)({},t),{embedUrl:t.embedUrl?t.embedUrl:function(){if(i)return i;try{throw Error()}catch(t){t instanceof Error&&(e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g))}var e,t=0;return e.forEach(function(e,r){-1!==e.indexOf("embed.js")&&(t=r)}),i=(""+e[t]).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}()}),(0,f._)(function(){var e,n,i,o,a;return(0,m.__generator)(this,function(s){switch(s.label){case 0:return e=this,[4,(0,v.initLANG)()];case 1:for(s.sent(),n=document.createElement("div"),i=[["position","fixed"],["left","0"],["top","0"],["width","100vw"],["height","100vh"],["display","flex"],["alignItems","center"],["justifyContent","center"],["flexDirection","column"],["background",y.THEME.isDark()?"rgb(33, 33, 33)":"rgb(158,158,158)"],["fontFamily","system-ui, sans-serif"],["fontSize","30px"],["color","#e3e3e3"]],o=0;o<i.length;o++)n.style[i[o][0]]=i[o][1];return n.id="loading-screen",n.innerHTML='<img width="150" height="54"'+(y.THEME.isDark()&&!t.logoImg?' style="filter: invert(1)"':"")+' src="'+(t.logoImg?t.logoImg:r(b))+'" alt="Logo"/>\n<div style="margin: 15px 0 0 0; display: flex; align-items: center">\n<div class="spinner"></div>\n<span id="loading-screen-text">'+(0,v.LANG)("embed-init-loading")+"</span></div>",document.body.appendChild(n),[4,c("ar0Oi")];case 2:return a=s.sent(),this.instance=new a.Embed(t),this.getPNG=function(){return e.instance.getPNG()},this.getPSD=function(){return e.instance.getPSD()},this.project&&this.instance.openProject(this.project),this.errorStr&&this.instance.initError(this.errorStr),this.psds.length&&this.instance.readPSDs(this.psds),[2]}})}).call(this),(0,_.loadAgPsd)()}return(0,p._)(e,[{key:"openProject",value:function(e){var t,r=(0,g._)((0,h._)({},e),{projectId:null!=(t=e.projectId)?t:(0,H.randomUuid)()});if(x(r),this.instance)this.instance.openProject(r);else{if(this.project)throw Error("Already called openProject");this.project=r}}},{key:"initError",value:function(e){this.instance?this.instance.initError(e):this.errorStr=e}},{key:"readPSD",value:function(e){return(0,f._)(function(){var t;return(0,m.__generator)(this,function(r){return t=this,[2,new Promise(function(r,n){var i={blob:e,callback:function(e){t.psds.splice(t.psds.indexOf(i),1),e?r(e):n()}};t.instance?t.instance.readPSDs([i]):t.psds.push(i)})]})}).call(this)}}]),e}();c("gcVy2"),Object.defineProperty(window,"Klecks",{value:E})}();
//# sourceMappingURL=embed.js.map
